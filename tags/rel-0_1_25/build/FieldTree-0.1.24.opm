<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>FieldTree</Name>
    <Version>0.1.24</Version>
    <Vendor>Atviro kodo sprendimai</Vendor>
    <URL>http://www.aksprendimai.lt/</URL>
    <License>GNU AFFERO GENERAL PUBLIC LICENSE Version 3, November 2007</License>
    <ChangeLog Version="0.1.24" Date="2014-05-07 22:28:00">Fix GenericAgent compatibility</ChangeLog>
    <ChangeLog Version="0.1.23" Date="2013-02-26 10:07:00">CSS korekcijos</ChangeLog>
    <ChangeLog Version="0.1.21" Date="2012-11-06 12:54:00">Ideta users grupe i AgentFieldTree modulio registracija</ChangeLog>
    <ChangeLog Version="0.1.20" Date="2012-10-10 16:32:00">EmptyBranch pataisymas (praleistas svn commitas)</ChangeLog>
    <ChangeLog Version="0.1.19" Date="2012-09-21 18:58:00">EmptyBranch pataisymas</ChangeLog>
    <ChangeLog Version="0.1.18" Date="2012-09-17 19:18:00">New line bugo pataisymas</ChangeLog>
    <ChangeLog Version="0.1.17" Date="2012-09-17 18:31:00">-</ChangeLog>
    <ChangeLog Version="0.1.16" Date="2012-09-17 17:43:00">Implement 3rd level for FieldTree.</ChangeLog>
    <ChangeLog Version="0.1.15" Date="2012-08-16 14:47:00">Change RenderReadableValue to generate HTML to workaround some stuff.</ChangeLog>
    <ChangeLog Version="0.1.14" Date="2012-08-16 11:48:00">Dynamic field backend imrovements and design fixes.</ChangeLog>
    <ChangeLog Version="0.1.13" Date="2012-08-10 14:31:00">Some improvements.</ChangeLog>
    <ChangeLog Version="0.1.12" Date="2012-08-09 22:33:00">Dynamic field backend fixes and improvements.</ChangeLog>
    <ChangeLog Version="0.1.11" Date="2012-08-06 14:01:00">Fieldtree client-side code fixes.</ChangeLog>
    <ChangeLog Version="0.1.10" Date="2012-07-26 22:32:00">Position field and sorting for field tree, validation, retrieval FieldTreeID by ValueSetID and user interface to display saved form.</ChangeLog>
    <ChangeLog Version="0.1.9" Date="2012-07-22 21:14:00">Interface fixes.</ChangeLog>
    <ChangeLog Version="0.1.8" Date="2012-07-20 14:29:00">Disallow ParentID and FieldTreeID editing in FieldTree administration.</ChangeLog>
    <ChangeLog Version="0.1.7" Date="2012-07-18 15:40:00">Add preliminary DynamicField backend implementation.</ChangeLog>
    <ChangeLog Version="0.1.6" Date="2012-07-09 15:40:00">Add Customer module implementation.</ChangeLog>
    <ChangeLog Version="0.1.5" Date="2012-06-29 12:20:00">Port admin interface to OTRS version 3.x and other bug-fixes.</ChangeLog>
    <ChangeLog Version="0.1.4" Date="2012-06-27 18:27:00">Remove AKS&lt;EMail|Problem&gt;Ticket dependence.</ChangeLog>
    <ChangeLog Version="0.1.3" Date="2012-06-15 17:00:00">Added GeneralCatalog dependance.</ChangeLog>
    <Description Lang="en">FieldTree component (multi-level dynamic fields).</Description>
    <Framework>3.1.x</Framework>
    <PackageRequired Version="0.0.0">GeneralCatalog</PackageRequired>
    <BuildDate>2014-05-07 22:29:32</BuildDate>
    <BuildHost>yourhost.example.com</BuildHost>
    <Filelist>
        <File Location="Kernel/Config/Files/FieldTree.xml" Permission="664" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiID8+CjxvdHJzX2NvbmZpZyB2ZXJzaW9uPSIxLjAiIGluaXQ9IkZyYW1ld29yayI+CiAgICA8Q1ZTPiRJZDogRmllbGRUcmVlLnhtbCx2IDEuMyAyMDA4LzAxLzIzIDA4OjU4OjI2IG1oIEV4cCAkPC9DVlM+CiAgICA8Q29uZmlnSXRlbSBOYW1lPSJGcm9udGVuZDo6TW9kdWxlIyMjQWRtaW5GaWVsZFRyZWUiIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIExhbmc9ImVuIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciB0aGUgQWRtaW5GaWVsZFRyZWUgY29uZmlndXJhdGlvbiBpbiB0aGUgYWRtaW4gYXJlYS48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxEZXNjcmlwdGlvbiBMYW5nPSJkZSI+RnJvbnRlbmRtb2R1bC1SZWdpc3RyYXRpb24gZGVyIEFkbWluRmllbGRUcmVlIEtvbmZpZ3VyYXRpb24gaW0gQWRtaW4tQmVyZWljaC48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxHcm91cD5GcmFtZXdvcms8L0dyb3VwPgogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWRtaW46Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvU3ViR3JvdXA+CiAgICAgICAgPFNldHRpbmc+CiAgICAgICAgICAgIDxGcm9udGVuZE1vZHVsZVJlZz4KICAgICAgICAgICAgICAgIDxHcm91cD5hZG1pbjwvR3JvdXA+CiAgICAgICAgICAgICAgICA8RGVzY3JpcHRpb24+QWRtaW48L0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgPFRpdGxlIFRyYW5zbGF0YWJsZT0iMSI+RmllbGQgVHJlZTwvVGl0bGU+CiAgICAgICAgICAgICAgICA8TmF2QmFyTmFtZT5BZG1pbjwvTmF2QmFyTmFtZT4KICAgICAgICAgICAgICAgIDxOYXZCYXJNb2R1bGU+CiAgICAgICAgICAgICAgICAgICAgPE1vZHVsZT5LZXJuZWw6Ok91dHB1dDo6SFRNTDo6TmF2QmFyTW9kdWxlQWRtaW48L01vZHVsZT4KICAgICAgICAgICAgICAgICAgICA8TmFtZSBUcmFuc2xhdGFibGU9IjEiPkZpZWxkIFRyZWU8L05hbWU+CiAgICAgICAgICAgICAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+TWFuYWdlIGZpZWxkIHRyZWUgc3RydWN0dXJlcy48L0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgIDxCbG9jaz5UaWNrZXQ8L0Jsb2NrPgogICAgICAgICAgICAgICAgICAgIDxQcmlvPjEwMTA8L1ByaW8+CiAgICAgICAgICAgICAgICA8L05hdkJhck1vZHVsZT4KICAgICAgICAgICAgPC9Gcm9udGVuZE1vZHVsZVJlZz4KICAgICAgICA8L1NldHRpbmc+CiAgICA8L0NvbmZpZ0l0ZW0+CiAgICA8Q29uZmlnSXRlbSBOYW1lPSJGcm9udGVuZDo6TW9kdWxlIyMjQWdlbnRGaWVsZFRyZWUiIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIExhbmc9ImVuIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciB0aGUgQWRtaW5GaWVsZFRyZWUgY29uZmlndXJhdGlvbiBpbiB0aGUgYWRtaW4gYXJlYS48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxEZXNjcmlwdGlvbiBMYW5nPSJkZSI+RnJvbnRlbmRtb2R1bC1SZWdpc3RyYXRpb24gZGVyIEFkbWluRmllbGRUcmVlIEtvbmZpZ3VyYXRpb24gaW0gQWRtaW4tQmVyZWljaC48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxHcm91cD5GcmFtZXdvcms8L0dyb3VwPgogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWRtaW46Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvU3ViR3JvdXA+CiAgICAgICAgPFNldHRpbmc+CiAgICAgICAgICAgIDxGcm9udGVuZE1vZHVsZVJlZz4KICAgICAgICAgICAgICAgIDxHcm91cD5hZG1pbjwvR3JvdXA+CiAgICAgICAgICAgICAgICA8R3JvdXA+c29sdmVyPC9Hcm91cD4KICAgICAgICAgICAgICAgIDxHcm91cD5hZ2VudDwvR3JvdXA+CiAgICAgICAgICAgICAgICA8R3JvdXA+dXNlcnM8L0dyb3VwPgogICAgICAgICAgICAgICAgPERlc2NyaXB0aW9uPkFkbWluPC9EZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgIDxUaXRsZT5GaWVsZFRyZWU8L1RpdGxlPgogICAgICAgICAgICA8L0Zyb250ZW5kTW9kdWxlUmVnPgogICAgICAgIDwvU2V0dGluZz4KICAgIDwvQ29uZmlnSXRlbT4KICAgIDxDb25maWdJdGVtIE5hbWU9IkN1c3RvbWVyRnJvbnRlbmQ6Ok1vZHVsZSMjI0N1c3RvbWVyRmllbGRUcmVlIiBSZXF1aXJlZD0iMCIgVmFsaWQ9IjEiPgogICAgICAgIDxEZXNjcmlwdGlvbiBMYW5nPSJlbiI+RnJvbnRlbmQgbW9kdWxlIHJlZ2lzdHJhdGlvbiBmb3IgdGhlIGN1c3RvbWVyIHVzYWdlLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPEdyb3VwPkZpZWxkVHJlZTwvR3JvdXA+CiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpDdXN0b21lcjo6TW9kdWxlUmVnaXN0cmF0aW9uPC9TdWJHcm91cD4KICAgIDwvQ29uZmlnSXRlbT4KICAgIDxDb25maWdJdGVtIE5hbWU9IkZpZWxkVHJlZTo6UHJvYmxlbVR5cGVSb290RmllbGRUcmVlSUQiIFJlcXVpcmVkPSIxIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIExhbmc9ImVuIj5EZWZhdWx0IHJvb3QgSUQgZm9yIHByb2JsZW0gdHJlZS48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxHcm91cD5BS1M8L0dyb3VwPgogICAgICAgIDxTdWJHcm91cD5GaWVsZFRyZWU8L1N1Ykdyb3VwPgogICAgICAgIDxTZXR0aW5nPgogICAgICAgICAgICA8U3RyaW5nIFJlZ2V4PSIiPjI8L1N0cmluZz4KICAgICAgICA8L1NldHRpbmc+CiAgICA8L0NvbmZpZ0l0ZW0+ICAgIAogIAk8Q29uZmlnSXRlbSBOYW1lPSJGaWVsZFRyZWU6OlByb2JsZW1UeXBlQ2xhc3MiIFJlcXVpcmVkPSIxIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIExhbmc9ImVuIj5EZWZhdWx0IHJvb3QgY2xhc3MgZm9yIHByb2JsZW0gdHlwZSB0cmVlLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPEdyb3VwPkFLUzwvR3JvdXA+CiAgICAgICAgPFN1Ykdyb3VwPkZpZWxkVHJlZTwvU3ViR3JvdXA+CiAgICAgICAgPFNldHRpbmc+CiAgICAgICAgICAgIDxTdHJpbmcgUmVnZXg9IiI+UHJvYmxlbVR5cGU8L1N0cmluZz4KICAgICAgICA8L1NldHRpbmc+CiAgICA8L0NvbmZpZ0l0ZW0+ICAgICAgICAKICAgIDxDb25maWdJdGVtIE5hbWU9IkZyb250ZW5kOjpNb2R1bGUjIyNBZG1pbkR5bmFtaWNGaWVsZEZpZWxkVHJlZSIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciB0aGUgYWdlbnQgaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPEdyb3VwPkR5bmFtaWNGaWVsZHM8L0dyb3VwPgogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWRtaW46Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvU3ViR3JvdXA+CiAgICAgICAgPFNldHRpbmc+CiAgICAgICAgICAgIDxGcm9udGVuZE1vZHVsZVJlZz4KICAgICAgICAgICAgICAgIDxHcm91cD5hZG1pbjwvR3JvdXA+CiAgICAgICAgICAgICAgICA8RGVzY3JpcHRpb24+QWRtaW48L0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgPFRpdGxlIFRyYW5zbGF0YWJsZT0iMSI+RHluYW1pYyBGaWVsZHMgRmllbGRUcmVlIEJhY2tlbmQgR1VJPC9UaXRsZT4KICAgICAgICAgICAgICAgIDxMb2FkZXI+CiAgICAgICAgICAgICAgICAgICAgPEphdmFTY3JpcHQ+Q29yZS5BZ2VudC5BZG1pbi5EeW5hbWljRmllbGQuanM8L0phdmFTY3JpcHQ+CiAgICAgICAgICAgICAgICA8L0xvYWRlcj4KICAgICAgICAgICAgPC9Gcm9udGVuZE1vZHVsZVJlZz4KICAgICAgICA8L1NldHRpbmc+CiAgICA8L0NvbmZpZ0l0ZW0+CiAgICA8Q29uZmlnSXRlbSBOYW1lPSJEeW5hbWljRmllbGRzOjpCYWNrZW5kIyMjRmllbGRUcmVlIiBSZXF1aXJlZD0iMCIgVmFsaWQ9IjEiPgogICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPkR5bmFtaWNGaWVsZCBiYWNrZW5kIHJlZ2lzdHJhdGlvbi48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxHcm91cD5EeW5hbWljRmllbGRzPC9Hcm91cD4KICAgICAgICA8U3ViR3JvdXA+RHluYW1pY0ZpZWxkczo6QmFja2VuZDo6UmVnaXN0cmF0aW9uPC9TdWJHcm91cD4KICAgICAgICA8U2V0dGluZz4KICAgICAgICAgICAgPEhhc2g+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkRpc3BsYXlOYW1lIiBUcmFuc2xhdGFibGU9IjEiPkZpZWxkVHJlZTwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTW9kdWxlIj5LZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOjpCYWNrZW5kOjpGaWVsZFRyZWU8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkNvbmZpZ0RpYWxvZyI+QWRtaW5EeW5hbWljRmllbGRGaWVsZFRyZWU8L0l0ZW0+CiAgICAgICAgICAgIDwvSGFzaD4KICAgICAgICA8L1NldHRpbmc+CiAgICA8L0NvbmZpZ0l0ZW0+ICAgIAo8L290cnNfY29uZmlnPg==</File>
        <File Location="Kernel/Config/Files/ZZZFieldTree.pm" Permission="664" Encode="Base64">IyBPVFJTIGNvbmZpZyBjaGFuZ2VzIChzZXR0aW5ncyBvZiBvdGhlciBwYWNrYWdlcyBvciBiYXNlIHNldHRpbmdzKSB3aGljaCBjYW5ub3QgYmUgb3ZlcnJpZGVuIGJ5IHVzZXIKIyBWRVJTSU9OOjEuMQpwYWNrYWdlIEtlcm5lbDo6Q29uZmlnOjpGaWxlczo6WlpaRmllbGRUcmVlOwp1c2UgdXRmODsKCnN1YiBMb2FkIHsKICAgIG15ICgkRmlsZSwgJFNlbGYpID0gQF87CiAgICAKICAgICMgQWRkIEZpZWxkVHJlZSBEeW5hbWljIEZpZWxkIHRvIHZpZXdzCiAgICAkU2VsZi0+eydUaWNrZXQ6OkZyb250ZW5kOjpDdXN0b21lclRpY2tldFpvb20nfS0+eydEeW5hbWljRmllbGQnfS0+eydQcm9ibGVtVHlwZUlEJ30gPSAnMSc7CiAgICAkU2VsZi0+eydUaWNrZXQ6OkZyb250ZW5kOjpBZ2VudFRpY2tldFpvb20nfS0+eydEeW5hbWljRmllbGQnfS0+eydQcm9ibGVtVHlwZUlEJ30gPSAnMSc7CiAgICAkU2VsZi0+eydUaWNrZXQ6OkZyb250ZW5kOjpDdXN0b21lclRpY2tldE1lc3NhZ2UnfS0+eydEeW5hbWljRmllbGQnfS0+eydQcm9ibGVtVHlwZUlEJ30gPSAnMic7CiAgICAkU2VsZi0+eydUaWNrZXQ6OkZyb250ZW5kOjpBZ2VudFRpY2tldFBob25lJ30tPnsnRHluYW1pY0ZpZWxkJ30tPnsnUHJvYmxlbVR5cGVJRCd9ID0gJzEnOwogICAgJFNlbGYtPnsnVGlja2V0OjpGcm9udGVuZDo6QWdlbnRUaWNrZXRFbWFpbCd9LT57J0R5bmFtaWNGaWVsZCd9LT57J1Byb2JsZW1UeXBlSUQnfSA9ICcxJzsKICAgIAogICAgIyBBZGQganMgYW5kIGNzcyBmaWxlcyB0byBjb21tb24gbGlzdHMKICAgIG15ICRBcnJheUNvbnRhaW5zID0gWwogICAgICAgIHsKICAgICAgICAgICAgJ0FycmF5JyA9PiAkU2VsZi0+eydMb2FkZXI6OkN1c3RvbWVyOjpDb21tb25KUyd9LT57JzAwMC1GcmFtZXdvcmsnfSwKICAgICAgICAgICAgJ0NvbnRhaW5zJyA9PiAnRmllbGRUcmVlLmpzJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgJ0FycmF5JyA9PiAkU2VsZi0+eydMb2FkZXI6OkFnZW50OjpDb21tb25KUyd9LT57JzAwMC1GcmFtZXdvcmsnfSwKICAgICAgICAgICAgJ0NvbnRhaW5zJyA9PiAnRmllbGRUcmVlLmpzJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgJ0FycmF5JyA9PiAkU2VsZi0+eydMb2FkZXI6OkFnZW50OjpDb21tb25DU1MnfS0+eycwMDAtRnJhbWV3b3JrJ30sCiAgICAgICAgICAgICdDb250YWlucycgPT4gJ0ZpZWxkVHJlZS5jc3MnLAogICAgICAgIH0KICAgIF07CiAgICBmb3IgbXkgJEFyckNvbnRJdGVtICggQCRBcnJheUNvbnRhaW5zICkgewogICAgICAgIG5leHQgaWYgZ3JlcCggL14kQXJyQ29udEl0ZW0tPntDb250YWluc30kLywgQHskQXJyQ29udEl0ZW0tPntBcnJheX19ICk7CiAgICAgICAgcHVzaCBAeyRBcnJDb250SXRlbS0+e0FycmF5fX0sICRBcnJDb250SXRlbS0+e0NvbnRhaW5zfTsKICAgIH0KfQoxOwo=</File>
        <File Location="Kernel/Modules/AdminDynamicFieldFieldTree.pm" Permission="664" Encode="Base64">IyAtLQojIEtlcm5lbC9Nb2R1bGVzL0FkbWluRHluYW1pY0ZpZWxkVGV4dC5wbSAtIHByb3ZpZGVzIGEgZHluYW1pYyBmaWVsZHMgdGV4dCBjb25maWcgdmlldyBmb3IgYWRtaW5zCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTIgT1RSUyBBRywgaHR0cDovL290cnMub3JnLwojIC0tCiMgJElkOiBBZG1pbkR5bmFtaWNGaWVsZFRleHQucG0sdiAxLjI0IDIwMTIvMDQvMTggMTk6Mzg6MDEgY3IgRXhwICQKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpBZG1pbkR5bmFtaWNGaWVsZEZpZWxkVHJlZTsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSBLZXJuZWw6OlN5c3RlbTo6VmFyaWFibGVDaGVjayBxdyg6YWxsKTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpWYWxpZDsKdXNlIEtlcm5lbDo6U3lzdGVtOjpDaGVja0l0ZW07CnVzZSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOwoKdXNlIHZhcnMgcXcoJFZFUlNJT04pOwokVkVSU0lPTiA9IHF3KCRSZXZpc2lvbjogMS4yNCAkKSBbMV07CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgbXkgJFNlbGYgPSB7JVBhcmFtfTsKICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsKCiAgICBmb3IgKHF3KFBhcmFtT2JqZWN0IExheW91dE9iamVjdCBMb2dPYmplY3QgQ29uZmlnT2JqZWN0KSkgewogICAgICAgIGlmICggISRTZWxmLT57JF99ICkgewogICAgICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkZhdGFsRXJyb3IoIE1lc3NhZ2UgPT4gIkdvdCBubyAkXyEiICk7CiAgICAgICAgfQogICAgfQoKICAgICMgY3JlYXRlIGFkZGl0aW9uYWwgb2JqZWN0cwogICAgJFNlbGYtPntWYWxpZE9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6VmFsaWQtPm5ldyggJXskU2VsZn0gKTsKCiAgICAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkLT5uZXcoICV7JFNlbGZ9ICk7CgogICAgIyBnZXQgY29uZmlndXJlZCBvYmplY3QgdHlwZXMKICAgICRTZWxmLT57T2JqZWN0VHlwZUNvbmZpZ30gPSAkU2VsZi0+e0NvbmZpZ09iamVjdH0tPkdldCgnRHluYW1pY0ZpZWxkczo6T2JqZWN0VHlwZScpOwoKICAgICMgZ2V0IHRoZSBmaWVsZHMgY29uZmlnCiAgICAkU2VsZi0+e0ZpZWxkVHlwZUNvbmZpZ30gPSAkU2VsZi0+e0NvbmZpZ09iamVjdH0tPkdldCgnRHluYW1pY0ZpZWxkczo6QmFja2VuZCcpIHx8IHt9OwoKICAgIHJldHVybiAkU2VsZjsKfQoKc3ViIFJ1biB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIGlmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdBZGQnICkgewogICAgICAgIHJldHVybiAkU2VsZi0+X0FkZCgKICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICk7CiAgICB9CiAgICBlbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnQWRkQWN0aW9uJyApIHsKCiAgICAgICAgIyBjaGFsbGVuZ2UgdG9rZW4gY2hlY2sgZm9yIHdyaXRlIGFjdGlvbgogICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+Q2hhbGxlbmdlVG9rZW5DaGVjaygpOwoKICAgICAgICByZXR1cm4gJFNlbGYtPl9BZGRBY3Rpb24oCiAgICAgICAgICAgICVQYXJhbSwKICAgICAgICApOwogICAgfQogICAgaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0NoYW5nZScgKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT5fQ2hhbmdlKAogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgKTsKICAgIH0KICAgIGVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdDaGFuZ2VBY3Rpb24nICkgewoKICAgICAgICAjIGNoYWxsZW5nZSB0b2tlbiBjaGVjayBmb3Igd3JpdGUgYWN0aW9uCiAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5DaGFsbGVuZ2VUb2tlbkNoZWNrKCk7CgogICAgICAgIHJldHVybiAkU2VsZi0+X0NoYW5nZUFjdGlvbigKICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICk7CiAgICB9CiAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigKICAgICAgICBNZXNzYWdlID0+ICJVbmRlZmluZWQgc3ViYWN0aW9uLiIsCiAgICApOwp9CgpzdWIgX0FkZCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICVHZXRQYXJhbTsKICAgIGZvciBteSAkTmVlZGVkIChxdyhPYmplY3RUeXBlIEZpZWxkVHlwZSBGaWVsZE9yZGVyKSkgewogICAgICAgICRHZXRQYXJhbXskTmVlZGVkfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJE5lZWRlZCApOwogICAgICAgIGlmICggISROZWVkZWQgKSB7CiAgICAgICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICAgICAgTWVzc2FnZSA9PiAiTmVlZCAkTmVlZGVkIiwKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgIyBnZXQgdGhlIG9iamVjdCB0eXBlIGFuZCBmaWVsZCB0eXBlIGRpc3BsYXkgbmFtZQogICAgbXkgJE9iamVjdFR5cGVOYW1lID0gJFNlbGYtPntPYmplY3RUeXBlQ29uZmlnfS0+eyAkR2V0UGFyYW17T2JqZWN0VHlwZX0gfS0+e0Rpc3BsYXlOYW1lfSB8fCAnJzsKICAgIG15ICRGaWVsZFR5cGVOYW1lICA9ICRTZWxmLT57RmllbGRUeXBlQ29uZmlnfS0+eyAkR2V0UGFyYW17RmllbGRUeXBlfSB9LT57RGlzcGxheU5hbWV9ICAgfHwgJyc7CgogICAgcmV0dXJuICRTZWxmLT5fU2hvd1NjcmVlbigKICAgICAgICAlUGFyYW0sCiAgICAgICAgJUdldFBhcmFtLAogICAgICAgIE1vZGUgICAgICAgICAgID0+ICdBZGQnLAogICAgICAgIE9iamVjdFR5cGVOYW1lID0+ICRPYmplY3RUeXBlTmFtZSwKICAgICAgICBGaWVsZFR5cGVOYW1lICA9PiAkRmllbGRUeXBlTmFtZSwKICAgICk7Cn0KCnN1YiBfQWRkQWN0aW9uIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJUVycm9yczsKICAgIG15ICVHZXRQYXJhbTsKCiAgICBmb3IgbXkgJE5lZWRlZCAocXcoTmFtZSBMYWJlbCBGaWVsZE9yZGVyKSkgewogICAgICAgICRHZXRQYXJhbXskTmVlZGVkfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJE5lZWRlZCApOwogICAgICAgIGlmICggISRHZXRQYXJhbXskTmVlZGVkfSApIHsKICAgICAgICAgICAgJEVycm9yc3sgJE5lZWRlZCAuICdTZXJ2ZXJFcnJvcicgfSAgICAgICAgPSAnU2VydmVyRXJyb3InOwogICAgICAgICAgICAkRXJyb3JzeyAkTmVlZGVkIC4gJ1NlcnZlckVycm9yTWVzc2FnZScgfSA9ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLic7CiAgICAgICAgfQogICAgfQoKICAgIGlmICggJEdldFBhcmFte05hbWV9ICkgewoKICAgICAgICAjIGNoZWNrIGlmIG5hbWUgaXMgYWxwaGFudW1lcmljCiAgICAgICAgaWYgKCAkR2V0UGFyYW17TmFtZX0gIX4gbXtcQSAoID86IFthLXpBLVpdIHwgXGQgKSsgXHp9eG1zICkgewoKICAgICAgICAgICAgIyBhZGQgc2VydmVyIGVycm9yIGVycm9yIGNsYXNzCiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yfSA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yTWVzc2FnZX0gPQogICAgICAgICAgICAgICAgJ1RoZSBmaWVsZCBkb2VzIG5vdCBjb250YWluIG9ubHkgQVNDSUkgbGV0dGVycyBhbmQgbnVtYmVycy4nOwogICAgICAgIH0KCiAgICAgICAgIyBjaGVjayBpZiBuYW1lIGlzIGR1cGxpY2F0ZWQKICAgICAgICBteSAlRHluYW1pY0ZpZWxkc0xpc3QgPSAlewogICAgICAgICAgICAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZExpc3QoCiAgICAgICAgICAgICAgICBWYWxpZCAgICAgID0+IDAsCiAgICAgICAgICAgICAgICBSZXN1bHRUeXBlID0+ICdIQVNIJywKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgfTsKCiAgICAgICAgJUR5bmFtaWNGaWVsZHNMaXN0ID0gcmV2ZXJzZSAlRHluYW1pY0ZpZWxkc0xpc3Q7CgogICAgICAgIGlmICggJER5bmFtaWNGaWVsZHNMaXN0eyAkR2V0UGFyYW17TmFtZX0gfSApIHsKCiAgICAgICAgICAgICMgYWRkIHNlcnZlciBlcnJvciBlcnJvciBjbGFzcwogICAgICAgICAgICAkRXJyb3Jze05hbWVTZXJ2ZXJFcnJvcn0gICAgICAgID0gJ1NlcnZlckVycm9yJzsKICAgICAgICAgICAgJEVycm9yc3tOYW1lU2VydmVyRXJyb3JNZXNzYWdlfSA9ICdUaGVyZSBpcyBhbm90aGVyIGZpZWxkIHdpdGggdGhlIHNhbWUgbmFtZS4nOwogICAgICAgIH0KICAgIH0KCiAgICBpZiAoICRHZXRQYXJhbXtGaWVsZE9yZGVyfSApIHsKCiAgICAgICAgIyBjaGVjayBpZiBmaWVsZCBvcmRlciBpcyBudW1lcmljIGFuZCBwb3NpdGl2ZQogICAgICAgIGlmICggJEdldFBhcmFte0ZpZWxkT3JkZXJ9ICF+IG17XEEgKCA/OiBcZCApKyBcen14bXMgKSB7CgogICAgICAgICAgICAjIGFkZCBzZXJ2ZXIgZXJyb3IgZXJyb3IgY2xhc3MKICAgICAgICAgICAgJEVycm9yc3tGaWVsZE9yZGVyU2VydmVyRXJyb3J9ICAgICAgICA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICRFcnJvcnN7RmllbGRPcmRlclNlcnZlckVycm9yTWVzc2FnZX0gPSAnVGhlIGZpZWxkIG11c3QgYmUgbnVtZXJpYy4nOwogICAgICAgIH0KICAgIH0KCiAgICBmb3IgbXkgJENvbmZpZ1BhcmFtICgKICAgICAgICBxdyhPYmplY3RUeXBlIE9iamVjdFR5cGVOYW1lIEZpZWxkVHlwZSBGaWVsZFR5cGVOYW1lIERlZmF1bHRWYWx1ZSBWYWxpZElEIFJvd3MgQ29scyBMaW5rKQogICAgICAgICkKICAgIHsKICAgICAgICAkR2V0UGFyYW17JENvbmZpZ1BhcmFtfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJENvbmZpZ1BhcmFtICk7CiAgICB9CgogICAgIyB1bmNvcnJlY3RhYmxlIGVycm9ycwogICAgaWYgKCAhJEdldFBhcmFte1ZhbGlkSUR9ICkgewogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICJOZWVkIFZhbGlkSUQiLAogICAgICAgICk7CiAgICB9CgogICAgIyByZXR1cm4gdG8gYWRkIHNjcmVlbiBpZiBlcnJvcnMKICAgIGlmICglRXJyb3JzKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT5fU2hvd1NjcmVlbigKICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICAlRXJyb3JzLAogICAgICAgICAgICAlR2V0UGFyYW0sCiAgICAgICAgICAgIE1vZGUgPT4gJ0FkZCcsCiAgICAgICAgKTsKICAgIH0KCiAgICAjIHNldCBzcGVjaWZpYyBjb25maWcKICAgIG15ICRGaWVsZENvbmZpZyA9IHsKICAgICAgICBEZWZhdWx0VmFsdWUgPT4gJEdldFBhcmFte0RlZmF1bHRWYWx1ZX0sCiAgICB9OwoKICAgIGlmICggJEdldFBhcmFte0ZpZWxkVHlwZX0gZXEgJ1RleHQnICkgewogICAgICAgICRGaWVsZENvbmZpZy0+e0xpbmt9ID0gJEdldFBhcmFte0xpbmt9LAogICAgfQoKICAgIGlmICggJEdldFBhcmFte0ZpZWxkVHlwZX0gZXEgJ1RleHRBcmVhJyApIHsKICAgICAgICAkRmllbGRDb25maWctPntSb3dzfSA9ICRHZXRQYXJhbXtSb3dzfTsKICAgICAgICAkRmllbGRDb25maWctPntDb2xzfSA9ICRHZXRQYXJhbXtDb2xzfTsKICAgIH0KCiAgICAjIGNyZWF0ZSBhIG5ldyBmaWVsZAogICAgbXkgJEZpZWxkSUQgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZEFkZCgKICAgICAgICBOYW1lICAgICAgID0+ICRHZXRQYXJhbXtOYW1lfSwKICAgICAgICBMYWJlbCAgICAgID0+ICRHZXRQYXJhbXtMYWJlbH0sCiAgICAgICAgRmllbGRPcmRlciA9PiAkR2V0UGFyYW17RmllbGRPcmRlcn0sCiAgICAgICAgRmllbGRUeXBlICA9PiAkR2V0UGFyYW17RmllbGRUeXBlfSwKICAgICAgICBPYmplY3RUeXBlID0+ICRHZXRQYXJhbXtPYmplY3RUeXBlfSwKICAgICAgICBDb25maWcgICAgID0+ICRGaWVsZENvbmZpZywKICAgICAgICBWYWxpZElEICAgID0+ICRHZXRQYXJhbXtWYWxpZElEfSwKICAgICAgICBVc2VySUQgICAgID0+ICRTZWxmLT57VXNlcklEfSwKICAgICk7CgogICAgaWYgKCAhJEZpZWxkSUQgKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gIkNvdWxkIG5vdCBjcmVhdGUgdGhlIG5ldyBmaWVsZCIsCiAgICAgICAgKTsKICAgIH0KCiAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5SZWRpcmVjdCgKICAgICAgICBPUCA9PiAiQWN0aW9uPUFkbWluRHluYW1pY0ZpZWxkIiwKICAgICk7Cn0KCnN1YiBfQ2hhbmdlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJUdldFBhcmFtOwogICAgZm9yIG15ICROZWVkZWQgKHF3KE9iamVjdFR5cGUgRmllbGRUeXBlKSkgewogICAgICAgICRHZXRQYXJhbXskTmVlZGVkfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJE5lZWRlZCApOwogICAgICAgIGlmICggISROZWVkZWQgKSB7CiAgICAgICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICAgICAgTWVzc2FnZSA9PiAiTmVlZCAkTmVlZGVkIiwKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgIyBnZXQgdGhlIG9iamVjdCB0eXBlIGFuZCBmaWVsZCB0eXBlIGRpc3BsYXkgbmFtZQogICAgbXkgJE9iamVjdFR5cGVOYW1lID0gJFNlbGYtPntPYmplY3RUeXBlQ29uZmlnfS0+eyAkR2V0UGFyYW17T2JqZWN0VHlwZX0gfS0+e0Rpc3BsYXlOYW1lfSB8fCAnJzsKICAgIG15ICRGaWVsZFR5cGVOYW1lICA9ICRTZWxmLT57RmllbGRUeXBlQ29uZmlnfS0+eyAkR2V0UGFyYW17RmllbGRUeXBlfSB9LT57RGlzcGxheU5hbWV9ICAgfHwgJyc7CgogICAgbXkgJEZpZWxkSUQgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdJRCcgKTsKCiAgICBpZiAoICEkRmllbGRJRCApIHsKICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgTWVzc2FnZSA9PiAiTmVlZCBJRCIsCiAgICAgICAgKTsKICAgIH0KCiAgICAjIGdldCBkeW5hbWljIGZpZWxkIGRhdGEKICAgIG15ICREeW5hbWljRmllbGREYXRhID0gJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRHZXQoCiAgICAgICAgSUQgPT4gJEZpZWxkSUQsCiAgICApOwoKICAgICMgY2hlY2sgZm9yIHZhbGlkIGR5bmFtaWMgZmllbGQgY29uZmlndXJhdGlvbgogICAgaWYgKCAhSXNIYXNoUmVmV2l0aERhdGEoJER5bmFtaWNGaWVsZERhdGEpICkgewogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICJDb3VsZCBub3QgZ2V0IGRhdGEgZm9yIGR5bmFtaWMgZmllbGQgJEZpZWxkSUQiLAogICAgICAgICk7CiAgICB9CgogICAgbXkgJUNvbmZpZyA9ICgpOwoKICAgICMgZXh0cmFjdCBjb25maWd1cmF0aW9uCiAgICBpZiAoIElzSGFzaFJlZldpdGhEYXRhKCAkRHluYW1pY0ZpZWxkRGF0YS0+e0NvbmZpZ30gKSApIHsKICAgICAgICAlQ29uZmlnID0gJXsgJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9IH07CiAgICB9CgogICAgcmV0dXJuICRTZWxmLT5fU2hvd1NjcmVlbigKICAgICAgICAlUGFyYW0sCiAgICAgICAgJUdldFBhcmFtLAogICAgICAgICUke0R5bmFtaWNGaWVsZERhdGF9LAogICAgICAgICVDb25maWcsCiAgICAgICAgSUQgICAgICAgICAgICAgPT4gJEZpZWxkSUQsCiAgICAgICAgTW9kZSAgICAgICAgICAgPT4gJ0NoYW5nZScsCiAgICAgICAgT2JqZWN0VHlwZU5hbWUgPT4gJE9iamVjdFR5cGVOYW1lLAogICAgICAgIEZpZWxkVHlwZU5hbWUgID0+ICRGaWVsZFR5cGVOYW1lLAogICAgKTsKfQoKc3ViIF9DaGFuZ2VBY3Rpb24gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAlRXJyb3JzOwogICAgbXkgJUdldFBhcmFtOwoKICAgIGZvciBteSAkTmVlZGVkIChxdyhOYW1lIExhYmVsIEZpZWxkT3JkZXIpKSB7CiAgICAgICAgJEdldFBhcmFteyROZWVkZWR9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkTmVlZGVkICk7CiAgICAgICAgaWYgKCAhJEdldFBhcmFteyROZWVkZWR9ICkgewogICAgICAgICAgICAkRXJyb3JzeyAkTmVlZGVkIC4gJ1NlcnZlckVycm9yJyB9ICAgICAgICA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICRFcnJvcnN7ICROZWVkZWQgLiAnU2VydmVyRXJyb3JNZXNzYWdlJyB9ID0gJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJzsKICAgICAgICB9CiAgICB9CgogICAgbXkgJEZpZWxkSUQgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdJRCcgKTsKICAgIGlmICggISRGaWVsZElEICkgewogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICJOZWVkIElEIiwKICAgICAgICApOwogICAgfQoKICAgIGlmICggJEdldFBhcmFte05hbWV9ICkgewoKICAgICAgICAjIGNoZWNrIGlmIG5hbWUgaXMgbG93ZXJjYXNlCiAgICAgICAgaWYgKCAkR2V0UGFyYW17TmFtZX0gIX4gbXtcQSAoID86IFthLXpBLVpdIHwgXGQgKSsgXHp9eG1zICkgewoKICAgICAgICAgICAgIyBhZGQgc2VydmVyIGVycm9yIGVycm9yIGNsYXNzCiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yfSA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yTWVzc2FnZX0gPQogICAgICAgICAgICAgICAgJ1RoZSBmaWVsZCBkb2VzIG5vdCBjb250YWluIG9ubHkgQVNDSUkgbGV0dGVycyBhbmQgbnVtYmVycy4nOwogICAgICAgIH0KCiAgICAgICAgIyBjaGVjayBpZiBuYW1lIGlzIGR1cGxpY2F0ZWQKICAgICAgICBteSAlRHluYW1pY0ZpZWxkc0xpc3QgPSAlewogICAgICAgICAgICAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZExpc3QoCiAgICAgICAgICAgICAgICBWYWxpZCAgICAgID0+IDAsCiAgICAgICAgICAgICAgICBSZXN1bHRUeXBlID0+ICdIQVNIJywKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgfTsKCiAgICAgICAgJUR5bmFtaWNGaWVsZHNMaXN0ID0gcmV2ZXJzZSAlRHluYW1pY0ZpZWxkc0xpc3Q7CgogICAgICAgIGlmICgKICAgICAgICAgICAgJER5bmFtaWNGaWVsZHNMaXN0eyAkR2V0UGFyYW17TmFtZX0gfSAmJgogICAgICAgICAgICAkRHluYW1pY0ZpZWxkc0xpc3R7ICRHZXRQYXJhbXtOYW1lfSB9IG5lICRGaWVsZElECiAgICAgICAgICAgICkKICAgICAgICB7CgogICAgICAgICAgICAjIGFkZCBzZXJ2ZXIgZXJyb3IgY2xhc3MKICAgICAgICAgICAgJEVycm9yc3tOYW1lU2VydmVyRXJyb3J9ICAgICAgICA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yTWVzc2FnZX0gPSAnVGhlcmUgaXMgYW5vdGhlciBmaWVsZCB3aXRoIHRoZSBzYW1lIG5hbWUuJzsKICAgICAgICB9CiAgICB9CgogICAgaWYgKCAkR2V0UGFyYW17RmllbGRPcmRlcn0gKSB7CgogICAgICAgICMgY2hlY2sgaWYgZmllbGQgb3JkZXIgaXMgbnVtZXJpYyBhbmQgcG9zaXRpdmUKICAgICAgICBpZiAoICRHZXRQYXJhbXtGaWVsZE9yZGVyfSAhfiBte1xBICggPzogXGQgKSsgXHp9eG1zICkgewoKICAgICAgICAgICAgIyBhZGQgc2VydmVyIGVycm9yIGVycm9yIGNsYXNzCiAgICAgICAgICAgICRFcnJvcnN7RmllbGRPcmRlclNlcnZlckVycm9yfSAgICAgICAgPSAnU2VydmVyRXJyb3InOwogICAgICAgICAgICAkRXJyb3Jze0ZpZWxkT3JkZXJTZXJ2ZXJFcnJvck1lc3NhZ2V9ID0gJ1RoZSBmaWVsZCBtdXN0IGJlIG51bWVyaWMuJzsKICAgICAgICB9CiAgICB9CgogICAgZm9yIG15ICRDb25maWdQYXJhbSAoCiAgICAgICAgcXcoT2JqZWN0VHlwZSBPYmplY3RUeXBlTmFtZSBGaWVsZFR5cGUgRmllbGRUeXBlTmFtZSBEZWZhdWx0VmFsdWUgVmFsaWRJRCBSb3dzIENvbHMgTGluaykKICAgICAgICApCiAgICB7CiAgICAgICAgJEdldFBhcmFteyRDb25maWdQYXJhbX0gPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICRDb25maWdQYXJhbSApOwogICAgfQoKICAgICMgdW5jb3JyZWN0YWJsZSBlcnJvcnMKICAgIGlmICggISRHZXRQYXJhbXtWYWxpZElEfSApIHsKICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgTWVzc2FnZSA9PiAiTmVlZCBWYWxpZElEIiwKICAgICAgICApOwogICAgfQoKICAgICMgZ2V0IGR5bmFtaWMgZmllbGQgZGF0YQogICAgbXkgJER5bmFtaWNGaWVsZERhdGEgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZEdldCgKICAgICAgICBJRCA9PiAkRmllbGRJRCwKICAgICk7CgogICAgIyBjaGVjayBmb3IgdmFsaWQgZHluYW1pYyBmaWVsZCBjb25maWd1cmF0aW9uCiAgICBpZiAoICFJc0hhc2hSZWZXaXRoRGF0YSgkRHluYW1pY0ZpZWxkRGF0YSkgKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gIkNvdWxkIG5vdCBnZXQgZGF0YSBmb3IgZHluYW1pYyBmaWVsZCAkRmllbGRJRCIsCiAgICAgICAgKTsKICAgIH0KCiAgICAjIG9ubHkgZm9yIHRleHRhcmVhCiAgICBpZiAoICRHZXRQYXJhbXtGaWVsZFR5cGV9IGVxICdUZXh0QXJlYScgKSB7CiAgICAgICAgaWYgKCAkR2V0UGFyYW17Um93c30gKSB7CgogICAgICAgICAgICAjIGNoZWNrIGlmIGZpZWxkIG9yZGVyIGlzIG51bWVyaWMgYW5kIHBvc2l0aXZlCiAgICAgICAgICAgIGlmICggJEdldFBhcmFte1Jvd3N9ICF+IG17XEEgKCA/OiBcZCApKyBcen14bXMgKSB7CgogICAgICAgICAgICAgICAgIyBhZGQgc2VydmVyIGVycm9yIGVycm9yIGNsYXNzCiAgICAgICAgICAgICAgICAkRXJyb3Jze1Jvd3NTZXJ2ZXJFcnJvcn0gICAgICAgID0gJ1NlcnZlckVycm9yJzsKICAgICAgICAgICAgICAgICRFcnJvcnN7Um93c1NlcnZlckVycm9yTWVzc2FnZX0gPSAnVGhlIGZpZWxkIG11c3QgYmUgbnVtZXJpYy4nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICggJEdldFBhcmFte0NvbHN9ICkgewoKICAgICAgICAgICAgIyBjaGVjayBpZiBmaWVsZCBvcmRlciBpcyBudW1lcmljIGFuZCBwb3NpdGl2ZQogICAgICAgICAgICBpZiAoICRHZXRQYXJhbXtDb2xzfSAhfiBte1xBICggPzogXGQgKSsgXHp9eG1zICkgewoKICAgICAgICAgICAgICAgICMgYWRkIHNlcnZlciBlcnJvciBlcnJvciBjbGFzcwogICAgICAgICAgICAgICAgJEVycm9yc3tDb2xzU2VydmVyRXJyb3J9ICAgICAgICA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICAgICAkRXJyb3Jze0NvbHNTZXJ2ZXJFcnJvck1lc3NhZ2V9ID0gJ1RoZSBmaWVsZCBtdXN0IGJlIG51bWVyaWMuJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAjIHJldHVybiB0byBjaGFuZ2Ugc2NyZWVuIGlmIGVycm9ycwogICAgaWYgKCVFcnJvcnMpIHsKICAgICAgICByZXR1cm4gJFNlbGYtPl9TaG93U2NyZWVuKAogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICVFcnJvcnMsCiAgICAgICAgICAgICVHZXRQYXJhbSwKICAgICAgICAgICAgSUQgICA9PiAkRmllbGRJRCwKICAgICAgICAgICAgTW9kZSA9PiAnQ2hhbmdlJywKICAgICAgICApOwogICAgfQoKICAgICMgc2V0IHNwZWNpZmljIGNvbmZpZwogICAgbXkgJEZpZWxkQ29uZmlnID0gewogICAgICAgIERlZmF1bHRWYWx1ZSA9PiAkR2V0UGFyYW17RGVmYXVsdFZhbHVlfSwKICAgIH07CgogICAgaWYgKCAkR2V0UGFyYW17RmllbGRUeXBlfSBlcSAnVGV4dCcgKSB7CiAgICAgICAgJEZpZWxkQ29uZmlnLT57TGlua30gPSAkR2V0UGFyYW17TGlua307CiAgICB9CgogICAgaWYgKCAkR2V0UGFyYW17RmllbGRUeXBlfSBlcSAnVGV4dEFyZWEnICkgewogICAgICAgICRGaWVsZENvbmZpZy0+e1Jvd3N9ID0gJEdldFBhcmFte1Jvd3N9OwogICAgICAgICRGaWVsZENvbmZpZy0+e0NvbHN9ID0gJEdldFBhcmFte0NvbHN9OwogICAgfQoKICAgICMgdXBkYXRlIGR5bmFtaWMgZmllbGQgKEZpZWxkVHlwZSBhbmQgT2JqZWN0VHlwZSBjYW5ub3QgYmUgY2hhbmdlZDsgdXNlIG9sZCB2YWx1ZXMpCiAgICBteSAkVXBkYXRlU3VjY2VzcyA9ICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fS0+RHluYW1pY0ZpZWxkVXBkYXRlKAogICAgICAgIElEICAgICAgICAgPT4gJEZpZWxkSUQsCiAgICAgICAgTmFtZSAgICAgICA9PiAkR2V0UGFyYW17TmFtZX0sCiAgICAgICAgTGFiZWwgICAgICA9PiAkR2V0UGFyYW17TGFiZWx9LAogICAgICAgIEZpZWxkT3JkZXIgPT4gJEdldFBhcmFte0ZpZWxkT3JkZXJ9LAogICAgICAgIEZpZWxkVHlwZSAgPT4gJER5bmFtaWNGaWVsZERhdGEtPntGaWVsZFR5cGV9LAogICAgICAgIE9iamVjdFR5cGUgPT4gJER5bmFtaWNGaWVsZERhdGEtPntPYmplY3RUeXBlfSwKICAgICAgICBDb25maWcgICAgID0+ICRGaWVsZENvbmZpZywKICAgICAgICBWYWxpZElEICAgID0+ICRHZXRQYXJhbXtWYWxpZElEfSwKICAgICAgICBVc2VySUQgICAgID0+ICRTZWxmLT57VXNlcklEfSwKICAgICk7CgogICAgaWYgKCAhJFVwZGF0ZVN1Y2Nlc3MgKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gIkNvdWxkIG5vdCB1cGRhdGUgdGhlIGZpZWxkICRHZXRQYXJhbXtOYW1lfSIsCiAgICAgICAgKTsKICAgIH0KCiAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5SZWRpcmVjdCgKICAgICAgICBPUCA9PiAiQWN0aW9uPUFkbWluRHluYW1pY0ZpZWxkIiwKICAgICk7Cn0KCnN1YiBfU2hvd1NjcmVlbiB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICRQYXJhbXtEaXNwbGF5RmllbGROYW1lfSA9ICdOZXcnOwoKICAgIGlmICggJFBhcmFte01vZGV9IGVxICdDaGFuZ2UnICkgewogICAgICAgICRQYXJhbXtTaG93V2FybmluZ30gICAgICA9ICdTaG93V2FybmluZyc7CiAgICAgICAgJFBhcmFte0Rpc3BsYXlGaWVsZE5hbWV9ID0gJFBhcmFte05hbWV9OwogICAgfQoKICAgICMgaGVhZGVyCiAgICBteSAkT3V0cHV0ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5IZWFkZXIoKTsKICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5OYXZpZ2F0aW9uQmFyKCk7CgogICAgIyBnZXQgYWxsIGZpZWxkcwogICAgbXkgJER5bmFtaWNGaWVsZExpc3QgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZExpc3RHZXQoCiAgICAgICAgVmFsaWQgPT4gMCwKICAgICk7CgogICAgIyBnZXQgdGhlIGxpc3Qgb2Ygb3JkZXIgbnVtYmVycyAoaXMgYWxyZWFkeSBzb3J0ZWQpLgogICAgbXkgQER5bmFtaWNmaWVsZE9yZGVyTGlzdDsKICAgIGZvciBteSAkRHluYW1pY2ZpZWxkICggQHskRHluYW1pY0ZpZWxkTGlzdH0gKSB7CiAgICAgICAgcHVzaCBARHluYW1pY2ZpZWxkT3JkZXJMaXN0LCAkRHluYW1pY2ZpZWxkLT57RmllbGRPcmRlcn07CiAgICB9CgogICAgIyB3aGVuIGFkZGluZyB3ZSBuZWVkIHRvIGNyZWF0ZSBhbiBleHRyYSBvcmRlciBudW1iZXIgZm9yIHRoZSBuZXcgZmllbGQKICAgIGlmICggJFBhcmFte01vZGV9IGVxICdBZGQnICkgewoKICAgICAgICAjIGdldCB0aGUgbGFzdCBlbGVtZW50IGZvcm0gdGhlIG9yZGVyIGxpc3QgYW5kIGFkZCAxCiAgICAgICAgbXkgJExhc3RPcmRlck51bWJlciA9ICREeW5hbWljZmllbGRPcmRlckxpc3RbLTFdOwogICAgICAgICRMYXN0T3JkZXJOdW1iZXIrKzsKCiAgICAgICAgIyBhZGQgdGhpcyBuZXcgb3JkZXIgbnVtYmVyIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QKICAgICAgICBwdXNoIEBEeW5hbWljZmllbGRPcmRlckxpc3QsICRMYXN0T3JkZXJOdW1iZXI7CiAgICB9CgogICAgbXkgJER5bmFtaWNGaWVsZE9yZGVyU3J0ZyA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QnVpbGRTZWxlY3Rpb24oCiAgICAgICAgRGF0YSAgICAgICAgICA9PiBcQER5bmFtaWNmaWVsZE9yZGVyTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgID0+ICdGaWVsZE9yZGVyJywKICAgICAgICBTZWxlY3RlZFZhbHVlID0+ICRQYXJhbXtGaWVsZE9yZGVyfSB8fCAxLAogICAgICAgIFBvc3NpYmxlTm9uZSAgPT4gMCwKICAgICAgICBDbGFzcyAgICAgICAgID0+ICdXNTBwYyBWYWxpZGF0ZV9OdW1iZXInLAogICAgKTsKCiAgICBteSAlVmFsaWRMaXN0ID0gJFNlbGYtPntWYWxpZE9iamVjdH0tPlZhbGlkTGlzdCgpOwoKICAgICMgY3JlYXRlIHRoZSBWYWxpZGl0eSBzZWxlY3QKICAgIG15ICRWYWxpZGl0eVN0cmcgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJVZhbGlkTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgPT4gJ1ZhbGlkSUQnLAogICAgICAgIFNlbGVjdGVkSUQgICA9PiAkUGFyYW17VmFsaWRJRH0gfHwgMSwKICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMCwKICAgICAgICBUcmFuc2xhdGlvbiAgPT4gMSwKICAgICAgICBDbGFzcyAgICAgICAgPT4gJ1c1MHBjJywKICAgICk7CgogICAgIyBkZWZpbmUgY29uZmlnIGZpZWxkIHNwZWNpZmljIHNldHRpbmdzCiAgICBteSAkRGVmYXVsdFZhbHVlID0gKCBkZWZpbmVkICRQYXJhbXtEZWZhdWx0VmFsdWV9ID8gJFBhcmFte0RlZmF1bHRWYWx1ZX0gOiAnJyApOwoKICAgICMgY3JlYXRlIHRoZSBkZWZhdWx0IHZhbHVlIGVsZW1lbnQKICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soCiAgICAgICAgTmFtZSA9PiAnRGVmYXVsdFZhbHVlJyAuICRQYXJhbXtGaWVsZFR5cGV9LAogICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgIERlZmF1bHRWYWx1ZSA9PiAkRGVmYXVsdFZhbHVlLAogICAgICAgIH0sCiAgICApOwoKICAgICMgZGVmaW5lIGNvbmZpZyBmaWVsZCBzcGVjaWZpYyBzZXR0aW5ncwogICAgbXkgJExpbmsgPSAkUGFyYW17TGlua30gfHwgJyc7CgogICAgaWYgKCAkUGFyYW17RmllbGRUeXBlfSBlcSAnVGV4dCcgKSB7CgogICAgICAgICMgY3JlYXRlIHRoZSBkZWZhdWx0IGxpbmsgZWxlbWVudAogICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soCiAgICAgICAgICAgIE5hbWUgPT4gJ0xpbmsnLAogICAgICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgICAgIExpbmsgPT4gJExpbmssCiAgICAgICAgICAgIH0sCiAgICAgICAgKTsKICAgIH0KCiAgICBpZiAoICRQYXJhbXtGaWVsZFR5cGV9IGVxICdUZXh0QXJlYScgKSB7CgogICAgICAgICMgY3JlYXRlIHRoZSBkZWZhdWx0IHZhbHVlIGVsZW1lbnQKICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgICAgICBOYW1lID0+ICdDb2xzUm93c1ZhbHVlcycsCiAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICAgICAgUm93cyA9PiAkUGFyYW17Um93c30sCiAgICAgICAgICAgICAgICBDb2xzID0+ICRQYXJhbXtDb2xzfSwKICAgICAgICAgICAgfSwKICAgICAgICApOwogICAgfQoKICAgICMgZ2VuZXJhdGUgb3V0cHV0CiAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+T3V0cHV0KAogICAgICAgIFRlbXBsYXRlRmlsZSA9PiAnQWRtaW5EeW5hbWljRmllbGRUZXh0JywKICAgICAgICBEYXRhICAgICAgICAgPT4gewogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgIFZhbGlkaXR5U3RyZyAgICAgICAgICA9PiAkVmFsaWRpdHlTdHJnLAogICAgICAgICAgICBEeW5hbWljRmllbGRPcmRlclNydGcgPT4gJER5bmFtaWNGaWVsZE9yZGVyU3J0ZywKICAgICAgICAgICAgRGVmYXVsdFZhbHVlICAgICAgICAgID0+ICREZWZhdWx0VmFsdWUsCiAgICAgICAgICAgIExpbmsgICAgICAgICAgICAgICAgICA9PiAkTGluaywKICAgICAgICAgICAgfQogICAgKTsKCiAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+Rm9vdGVyKCk7CgogICAgcmV0dXJuICRPdXRwdXQ7Cn0KMTsK</File>
        <File Location="Kernel/Modules/AdminFieldTree.pm" Permission="664" Encode="Base64">IyAtLQojIEtlcm5lbC9Nb2R1bGVzL0FkbWluRmllbGRUcmVlLnBtIC0gYWRtaW4gZnJvbnRlbmQgb2YgZ2VuZXJhbCBjYXRhbG9nIG1hbmFnZW1lbnQKIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAwOSBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvCiMgLS0KCiMgJElkOiBBZG1pbkZpZWxkVHJlZS5wbSx2IDEuMjIgMjAwOS8wNS8xOCAwOTo0MDo0NiBtaCBFeHAgJAojIC0tCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpBZG1pbkZpZWxkVHJlZTsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSBLZXJuZWw6OlN5c3RlbTo6RmllbGRUcmVlOwp1c2UgS2VybmVsOjpTeXN0ZW06OlZhbGlkOwp1c2UgS2VybmVsOjpTeXN0ZW06OlF1ZXVlOwp1c2UgRGF0YTo6RHVtcGVyOwoKCnVzZSB2YXJzIHF3KCRWRVJTSU9OKTsKJFZFUlNJT04gPSBxdygkUmV2aXNpb246IDEuMjIgJCkgWzFdOwoKc3ViIG5ldyB7CiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdAogICAgbXkgJFNlbGYgPSB7JVBhcmFtfTsKICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsKCiAgICAjIGNoZWNrIG5lZWRlZCBvYmplY3RzCiAgICBmb3IgbXkgJE9iamVjdCAocXcoQ29uZmlnT2JqZWN0IFBhcmFtT2JqZWN0IExvZ09iamVjdCBMYXlvdXRPYmplY3QpKSB7CiAgICAgICAgaWYgKCAhJFNlbGYtPnskT2JqZWN0fSApIHsKICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5GYXRhbEVycm9yKCBNZXNzYWdlID0+ICJHb3Qgbm8gJE9iamVjdCEiICk7CiAgICAgICAgfQogICAgfQogICAgJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9CT0gS2VybmVsOjpTeXN0ZW06OkZpZWxkVHJlZS0+bmV3KCVQYXJhbSk7CiAgICAkU2VsZi0+e0dlbmVyYWxDYXRhbG9nT2JqZWN0fQk9IEtlcm5lbDo6U3lzdGVtOjpHZW5lcmFsQ2F0YWxvZy0+bmV3KCVQYXJhbSk7CiAgICAkU2VsZi0+e1ZhbGlkT2JqZWN0fSAJCT0gS2VybmVsOjpTeXN0ZW06OlZhbGlkLT5uZXcoJVBhcmFtKTsKICAgICRTZWxmLT57UXVldWVPYmplY3R9IAkJPSBLZXJuZWw6OlN5c3RlbTo6UXVldWUtPm5ldyglUGFyYW0pOwoKICAgIHJldHVybiAkU2VsZjsKfQoKc3ViIFJ1biB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwogICAgCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjCiAgICAjIGNhdGFsb2cgaXRlbSBsaXN0CiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjCiAgICBpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnSXRlbUxpc3QnICkgewogICAgICAgIG15ICRDbGFzcyA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIkNsYXNzIiApIHx8ICcnOwoKICAgICAgICAjIGNoZWNrIG5lZWRlZCBjbGFzcwogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPlJlZGlyZWN0KCBPUCA9PiAiQWN0aW9uPSRTZWxmLT57QWN0aW9ufSIgKSBpZiAhJENsYXNzOwoKICAgICAgICAjIGdldCBjYXRhbG9nIGNsYXNzIGxpc3QKICAgICAgICBteSAkQ2xhc3NMaXN0ICAgICAgID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5DbGFzc0xpc3QoKTsKICAgICAgICBteSAkQ2xhc3NPcHRpb25TdHJnID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICAgICAgTmFtZSAgICAgICAgID0+ICdDbGFzcycsCiAgICAgICAgICAgIERhdGEgICAgICAgICA9PiAkQ2xhc3NMaXN0LAogICAgICAgICAgICBTZWxlY3RlZElEICAgPT4gJENsYXNzLAogICAgICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwKICAgICAgICAgICAgVHJhbnNsYXRpb24gID0+IDAsCiAgICAgICAgKTsKCiAgICAgICAgIyBvdXRwdXQgb3ZlcnZpZXcKICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgICAgICBOYW1lID0+ICdPdmVydmlldycsCiAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICAgICAgQ2xhc3NPcHRpb25TdHJnID0+ICRDbGFzc09wdGlvblN0cmcsCiAgICAgICAgICAgIH0sCiAgICAgICAgKTsKICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgICAgICBOYW1lID0+ICdPdmVydmlld0l0ZW0nLAogICAgICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgICAgIENsYXNzID0+ICRDbGFzcywKICAgICAgICAgICAgfSwKICAgICAgICApOwoKICAgICAgICAjIGdldCBhdmFpbGFiaWxpdHkgbGlzdAogICAgICAgIG15ICVWYWxpZExpc3QgPSAkU2VsZi0+e1ZhbGlkT2JqZWN0fS0+VmFsaWRMaXN0KCk7CgogICAgICAgICMgZ2V0IGNhdGFsb2cgaXRlbSBsaXN0CiAgICAgICAgbXkgJEl0ZW1JRExpc3QgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1MaXN0U29ydGVkKAogICAgICAgICAgICBDbGFzcyA9PiAkQ2xhc3MsCiAgICAgICAgICAgIFZhbGlkID0+IDAsCiAgICAgICAgICAgIFBhcmVudElEID0+IC0xLAogICAgICAgICk7CgogICAgICAgICMgY2hlY2sgaXRlbSBsaXN0CiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oKQogICAgICAgICAgICBpZiAhJEl0ZW1JRExpc3QgfHwgIUB7JEl0ZW1JRExpc3R9OwoKICAgICAgICBteSAkQ3NzQ2xhc3MgPSAnJzsKICAgICAgICBmb3IgbXkgJEl0ZW1JRCAoIEB7JEl0ZW1JRExpc3R9ICkgewogICAgICAgICAgICAjIHNldCBvdXRwdXQgY2xhc3MKICAgICAgICAgICAgJENzc0NsYXNzID0gJENzc0NsYXNzIGVxICdzZWFyY2hhY3RpdmUnID8gJ3NlYXJjaHBhc3NpdmUnIDogJ3NlYXJjaGFjdGl2ZSc7CgogICAgICAgICAgICAjIGdldCBpdGVtIGRhdGEKICAgICAgICAgICAgbXkgJEl0ZW1EYXRhID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5JdGVtR2V0KAogICAgICAgICAgICAgICAgSXRlbUlEID0+ICRJdGVtSUQsCiAgICAgICAgICAgICk7CgogICAgICAgICAgICAjIG91dHB1dCBvdmVydmlldyBpdGVtIGxpc3QKICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKICAgICAgICAgICAgICAgIE5hbWUgPT4gJ092ZXJ2aWV3SXRlbUxpc3QnLAogICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgJXskSXRlbURhdGF9LAogICAgICAgICAgICAgICAgICAgIENzc0NsYXNzICAgICAgPT4gJENzc0NsYXNzLAogICAgICAgICAgICAgICAgICAgIFBhcmVudElEID0+IAkkSXRlbURhdGEtPntQYXJlbnRJRH0sCiAgICAgICAgICAgICAgICAgICAgVmFsaWQgICAgICAgICA9PiAkVmFsaWRMaXN0eyAkSXRlbURhdGEtPntWYWxpZElEfSB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgICMgb3V0cHV0IGhlYWRlciBhbmQgbmF2YmFyCiAgICAgICAgbXkgJE91dHB1dCA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+SGVhZGVyKCk7CiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk5hdmlnYXRpb25CYXIoKTsKCiAgICAgICAgIyBjcmVhdGUgb3V0cHV0IHN0cmluZwogICAgICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5PdXRwdXQoCiAgICAgICAgICAgIFRlbXBsYXRlRmlsZSA9PiAnQWRtaW5GaWVsZFRyZWUnLAogICAgICAgICAgICBEYXRhICAgICAgICAgPT4gXCVQYXJhbSwKICAgICAgICApOwoKICAgICAgICAjIGFkZCBmb290ZXIKICAgICAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+Rm9vdGVyKCk7CgogICAgICAgIHJldHVybiAkT3V0cHV0OwogICAgfQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMKICAgICMgY2F0YWxvZyBpdGVtIGVkaXQKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMKICAgIGVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdJdGVtRWRpdCcgKSB7CiAgICAgICAgbXkgJUl0ZW1EYXRhOwogICAgICAgIG15ICRsb2c7CgogICAgICAgICMgZ2V0IHBhcmFtcwogICAgICAgICRJdGVtRGF0YXtJdGVtSUR9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiSXRlbUlEIiApOwogICAgICAgIGlmICggJEl0ZW1EYXRhe0l0ZW1JRH0gZXEgJ05FVycgKSB7CgogICAgICAgICAgICAjIGdldCBjbGFzcwogICAgICAgICAgICAkSXRlbURhdGF7Q2xhc3N9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiQ2xhc3MiICk7CgogICAgICAgICAgICAjIHJlZGlyZWN0IHRvIG92ZXJ2aWV3CiAgICAgICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPlJlZGlyZWN0KCBPUCA9PiAiQWN0aW9uPSRTZWxmLT57QWN0aW9ufSIgKQogICAgICAgICAgICAgICAgaWYgISRJdGVtRGF0YXtDbGFzc307CiAgICAgICAgfQogICAgICAgIGVsc2UgewoKICAgICAgICAgICAgIyBnZXQgaXRlbSBkYXRhCiAgICAgICAgICAgIG15ICRJdGVtRGF0YVJlZiA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+SXRlbUdldCgKICAgICAgICAgICAgICAgIEl0ZW1JRCA9PiAkSXRlbURhdGF7SXRlbUlEfSwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICMgY2hlY2sgaXRlbSBkYXRhCiAgICAgICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKCkKICAgICAgICAgICAgICAgIGlmICEkSXRlbURhdGFSZWY7CgogICAgICAgICAgICAlSXRlbURhdGEgPSAleyRJdGVtRGF0YVJlZn07CiAgICAgICAgfQoKICAgICAgICAjIGdlbmVyYXRlIENsYXNzT3B0aW9uU3RyZwogICAgICAgIG15ICRDbGFzc0xpc3QgICAgICAgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkNsYXNzTGlzdCgpOwogICAgICAgIG15ICRDbGFzc09wdGlvblN0cmcgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgICAgICBOYW1lICAgICAgICAgPT4gJ0NsYXNzJywKICAgICAgICAgICAgRGF0YSAgICAgICAgID0+ICRDbGFzc0xpc3QsCiAgICAgICAgICAgIFNlbGVjdGVkSUQgICA9PiAkSXRlbURhdGF7Q2xhc3N9LAogICAgICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwKICAgICAgICAgICAgVHJhbnNsYXRpb24gID0+IDAsCiAgICAgICAgKTsKCiAgICAgICAgIyBvdXRwdXQgb3ZlcnZpZXcKICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgICAgICBOYW1lID0+ICdPdmVydmlldycsCiAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICAgICAgQ2xhc3NPcHRpb25TdHJnID0+ICRDbGFzc09wdGlvblN0cmcsCiAgICAgICAgICAgIH0sCiAgICAgICAgKTsKCgogICAgICAgICMgZ2VuZXJhdGUgVmFsaWRPcHRpb25TdHJnCiAgICAgICAgbXkgJVZhbGlkTGlzdCAgICAgICAgPSAkU2VsZi0+e1ZhbGlkT2JqZWN0fS0+VmFsaWRMaXN0KCk7CiAgICAgICAgbXkgJVZhbGlkTGlzdFJldmVyc2UgPSByZXZlcnNlICVWYWxpZExpc3Q7CiAgICAgICAgbXkgJFZhbGlkT3B0aW9uU3RyZyAgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgICAgICBOYW1lICAgICAgID0+ICdWYWxpZElEJywKICAgICAgICAgICAgRGF0YSAgICAgICA9PiBcJVZhbGlkTGlzdCwKICAgICAgICAgICAgU2VsZWN0ZWRJRCA9PiAkSXRlbURhdGF7VmFsaWRJRH0gfHwgJFZhbGlkTGlzdFJldmVyc2V7dmFsaWR9LAogICAgICAgICk7CgogICAgICAgIGlmICgkSXRlbURhdGF7SXRlbUlEfSBlcSAnTkVXJykgewogICAgICAgIAlteSAkVGVtcFBhcmVudElkID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiUGFyZW50SUQiICk7CiAgICAgICAgCWlmICgkVGVtcFBhcmVudElkKSB7CgkgICAgICAgIAkkSXRlbURhdGF7UGFyZW50SUR9ID0gJFRlbXBQYXJlbnRJZDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsgI1Byb3ZpZGUgdGhlIHJvb3QgSUQKCSAgICAgICAgCSRJdGVtRGF0YXtQYXJlbnRJRH0gPSAtMTsKCSAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgIyBvdXRwdXQgSXRlbUVkaXQKICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgICAgICBOYW1lID0+ICdJdGVtRWRpdCcsCiAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgJUl0ZW1EYXRhLAogICAgICAgICAgICAgICAgVmFsaWRPcHRpb25TdHJnICAgICAgICAgPT4gJFZhbGlkT3B0aW9uU3RyZywKICAgICAgICAgICAgfSwKICAgICAgICApOwoKICAgICAgICBpZiAoICRJdGVtRGF0YXtDbGFzc30gZXEgJ05FVycgKSB7CgogICAgICAgICAgICAjIG91dHB1dCBJdGVtRWRpdENsYXNzQWRkCiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soCiAgICAgICAgICAgICAgICBOYW1lID0+ICdJdGVtRWRpdENsYXNzQWRkJywKICAgICAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIENsYXNzID0+ICRJdGVtRGF0YXtDbGFzc30sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKCiAgICAgICAgICAgICMgb3V0cHV0IEl0ZW1FZGl0Q2xhc3NFeGlzdAogICAgICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgICAgICAgICAgTmFtZSA9PiAnSXRlbUVkaXRDbGFzc0V4aXN0JywKICAgICAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIENsYXNzID0+ICRJdGVtRGF0YXtDbGFzc30sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZiAoJEl0ZW1EYXRhe0l0ZW1JRH0gZXEgJ05FVycpIHsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CgkgICAgICAgIAoJICAgICAgIyBQb3B1bGF0ZSBjaGlsZCBpdGVtcyBsaXN0CgkgICAgICAgIG15ICRJdGVtSURMaXN0ID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5JdGVtTGlzdFNvcnRlZCgKCSAgICAgICAgICAgIFZhbGlkID0+IDAsCgkJCQlDbGFzcyA9PiAkSXRlbURhdGF7Q2xhc3N9LCAgICAgIAoJCQkJUGFyZW50SUQ9PiAkSXRlbURhdGF7SXRlbUlEfQoJCQkpOwoJCgoJICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAoJICAgICAgICAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXdDaGlsZEl0ZW1zJywKCSAgICAgICAgICAgICAgICBEYXRhID0+IHsKCSAgICAgICAgICAgICAgICAgICAgSXRlbUlEPT4kSXRlbURhdGF7SXRlbUlEfSwKCSAgICAgICAgICAgICAgICAgICAgQ2xhc3MgPT4kSXRlbURhdGF7Q2xhc3N9CgkgICAgICAgICAgICAgICAgfSwKCSAgICAgICAgICAgICk7CgkJCQoJICAgICAgICBteSAkQ3NzQ2xhc3MgPSAnJzsKCSAgICAgICAgZm9yIG15ICRDaGlsZEl0ZW1JRCAoIEB7JEl0ZW1JRExpc3R9ICkgewoJCgkgICAgICAgICAgICAjIHNldCBvdXRwdXQgY2xhc3MKCSAgICAgICAgICAgICRDc3NDbGFzcyA9ICRDc3NDbGFzcyBlcSAnc2VhcmNoYWN0aXZlJyA/ICdzZWFyY2hwYXNzaXZlJyA6ICdzZWFyY2hhY3RpdmUnOwoJCgkgICAgICAgICAgICAjIGdldCBpdGVtIGRhdGEKCSAgICAgICAgICAgIG15ICRDaGlsZEl0ZW1EYXRhID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5JdGVtR2V0KAoJICAgICAgICAgICAgICAgIEl0ZW1JRCA9PiAkQ2hpbGRJdGVtSUQsCgkgICAgICAgICAgICApOwoJCgkgICAgICAgICAgICAjIG91dHB1dCBvdmVydmlldyBpdGVtIGxpc3QKCSAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soCgkgICAgICAgICAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXdDaGlsZEl0ZW1MaXN0JywKCSAgICAgICAgICAgICAgICBEYXRhID0+IHsKCSAgICAgICAgICAgICAgICAgICAgJXskQ2hpbGRJdGVtRGF0YX0sCgkgICAgICAgICAgICAgICAgICAgIENzc0NsYXNzICAgICAgPT4gJENzc0NsYXNzLAoJICAgICAgICAgICAgICAgICAgICBWYWxpZCAgICAgICAgID0+ICRWYWxpZExpc3R7ICRDaGlsZEl0ZW1EYXRhLT57VmFsaWRJRH0gfSwKCSAgICAgICAgICAgICAgICB9LAoJICAgICAgICAgICAgKTsKCSAgICAgICAgfSAgICAgICAgCgkJCQoJCQkKCQkJbXkgJFN1YkZpZWxkYWN0aW9uID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiU3ViRmllbGRhY3Rpb24iICk7CgkJCQoJCQlpZiAgKGRlZmluZWQoJFN1YkZpZWxkYWN0aW9uKSAmJiAkU3ViRmllbGRhY3Rpb24gZXEgJ0ZpZWxkRWRpdCcpIHsKCgkJCQlteSAlRmllbGREYXRhOwoJCQkJJEZpZWxkRGF0YXtGaWVsZElEfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIkZpZWxkSUQiICk7CgkJICAgICAgICBpZiAoICRGaWVsZERhdGF7RmllbGRJRH0gZXEgJ05FVycgKSB7CgkJICAgICAgICAgICAgIyBnZXQgbGVhZiBpZAoJCSAgICAgICAgICAgICRGaWVsZERhdGF7RmllbGRUcmVlSUR9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiSXRlbUlEIiApOwoJCQoJCSAgICAgICAgICAgICMgcmVkaXJlY3QgdG8gb3ZlcnZpZXcKCQkgICAgICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5SZWRpcmVjdCggT1AgPT4gIkFjdGlvbj0kU2VsZi0+e0FjdGlvbn0iICkKCQkgICAgICAgICAgICAgICAgaWYgISRGaWVsZERhdGF7RmllbGRUcmVlSUR9OwoJCSAgICAgICAgfQoJCSAgICAgICAgZWxzZSB7CgkJCgkJICAgICAgICAgICAgIyBnZXQgaXRlbSBkYXRhCgkJICAgICAgICAgICAgbXkgJEZpZWxkRGF0YVJlZiA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRHZXQoCgkJICAgICAgICAgICAgICAgIEZpZWxkSUQgPT4gJEZpZWxkRGF0YXtGaWVsZElEfSwKCQkgICAgICAgICAgICApOwoJCQoJCSAgICAgICAgICAgICMgY2hlY2sgaXRlbSBkYXRhCgkJICAgICAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oKQoJCSAgICAgICAgICAgICAgICBpZiAhJEZpZWxkRGF0YVJlZjsKCQkKCQkgICAgICAgICAgICAlRmllbGREYXRhID0gJXskRmllbGREYXRhUmVmfTsKCQkgICAgICAgIH0KCQkgICAgICAgIAoJCSAgICAgICAgbXkgJGNoZWNrZWQgPSAnJzsKCQkgICAgICAgIGlmICgkRmllbGREYXRhe1JlcXVpcmVkfSkgewoJCSAgICAgICAgCSRjaGVja2VkID0gJyBjaGVja2VkJzsKCQkgICAgICAgIH0KCQkJCW15ICRGaWVsZFR5cGVzID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5GaWVsZFR5cGVzKCk7CgoJCSAgICAgICAgbXkgJEZpZWxkVHlwZXNTdHIgID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKCQkgICAgICAgICAgICBOYW1lICAgICAgID0+ICdGaWVsZFR5cGUnLAoJCSAgICAgICAgICAgIERhdGEgICAgICAgPT4gJEZpZWxkVHlwZXMsCgkJICAgICAgICAgICAgU2VsZWN0ZWRJRCA9PiAkRmllbGREYXRhe0ZpZWxkVHlwZX0sCgkJICAgICAgICApOwoJCSAgICAgICAgCgkJICAgICAgICAKCQkgICAgICAgIAoJCSAgICAgICAgbXkgJENsYXNzTGlzdCAgICAgICA9ICRTZWxmLT57R2VuZXJhbENhdGFsb2dPYmplY3R9LT5DbGFzc0xpc3QoKTsKCQkgICAgICAgIG15ICRDbGFzc09wdGlvblN0cmcgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAoJCSAgICAgICAgICAgIE5hbWUgICAgICAgICA9PiAnVGVtcGxhdGUnLAoJCSAgICAgICAgICAgIERhdGEgICAgICAgICA9PiAkQ2xhc3NMaXN0LAoJCSAgICAgICAgICAgIFNlbGVjdGVkSUQgICA9PiAkRmllbGREYXRhe1RlbXBsYXRlfSwKCQkgICAgICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwKCQkgICAgICAgICAgICBUcmFuc2xhdGlvbiAgPT4gMCwKCQkgICAgICAgICk7CgkJICAgICAgICAKCQkgICAgICAgIG15ICVRdWV1ZUxpc3QgICAgICAgPSAkU2VsZi0+e1F1ZXVlT2JqZWN0fS0+UXVldWVMaXN0KCk7CgkJICAgICAgICBteSAkUXVldWVTdHIgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAoJCSAgICAgICAgICAgIE5hbWUgICAgICAgICA9PiAnVGVtcGxhdGUnLAoJCSAgICAgICAgICAgIERhdGEgICAgICAgICA9PiBcJVF1ZXVlTGlzdCwKCQkgICAgICAgICAgICBTZWxlY3RlZElEICAgPT4gJEZpZWxkRGF0YXtUZW1wbGF0ZX0sCgkJICAgICAgICAgICAgUG9zc2libGVOb25lID0+IDEsCgkJICAgICAgICAgICAgVHJhbnNsYXRpb24gID0+IDAsCgkJICAgICAgICApOwoJCSAgICAgICAgCgkJICAgICAgICBteSAkUGFyZW50ID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5JdGVtR2V0KEl0ZW1JRD0+JEZpZWxkRGF0YXtGaWVsZFRyZWVJRH0pOwoJCSAgICAgICAgbXkgJEZpZWxkRGV0YWlsc0Jsb2NrID0gIkZpZWxkRGV0YWlsc0dlbmVyYWwiOwoJCSAgICAgICAgaWYgKCRQYXJlbnQtPntDbGFzc30gZXEgIlRlbXBsYXRlcyIpIHsKCQkgICAgICAgICAgICAkRmllbGREZXRhaWxzQmxvY2sgPSAiRmllbGREZXRhaWxzVGVtcGxhdGVzIjsKCQkgICAgICAgIH0KCQkgICAgICAgIAogICAgICAgICAgICAgICAgZm9yICgoIkZpZWxkRWRpdCIsICRGaWVsZERldGFpbHNCbG9jaykpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKCQkgICAgICAgCgkJICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJF8sCiAgICAgICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICVGaWVsZERhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgIFZhbGlkT3B0aW9uU3RyZyA9PiAkVmFsaWRPcHRpb25TdHJnLAogICAgICAgICAgICAgICAgICAgICAgICBDaGVja2VkID0+ICRjaGVja2VkLAogICAgICAgICAgICAgICAgICAgICAgICBGaWVsZFR5cGVzU3RyID0+ICRGaWVsZFR5cGVzU3RyLAogICAgICAgICAgICAgICAgICAgICAgICBDbGFzc09wdGlvblN0cmcgPT4gJENsYXNzT3B0aW9uU3RyZywKICAgICAgICAgICAgICAgICAgICAgICAgUXVldWVTdHIgPT4gJFF1ZXVlU3RyLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfQoJCQl9CgkJCQoJCQkKCQkJewoJCgkJCQkjIFBvcHVsYXRlIGZpZWxkcyBsaXN0CgkJICAgICAgICBteSAkSXRlbUlETGlzdCA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRMaXN0KAoJCSAgICAgICAgICAgIFZhbGlkID0+IDAsCgkJCQkJRmllbGRUcmVlSUQgPT4gJEl0ZW1EYXRhe0l0ZW1JRH0sICAgICAgCgkJCQkpOwoJCQkJCgkJCgkKCQkgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soCgkJICAgICAgICAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXdGaWVsZHMnLAoJCSAgICAgICAgICAgICAgIERhdGEgPT4gewoJCSAgICAgICAgICAgICAgICAgICAgSXRlbUlEPT4kSXRlbURhdGF7SXRlbUlEfSwKCQkgICAgICAgICAgICAgICB9LAoJCSAgICAgICAgICAgICk7CgkJICAgICAgICBteSAkQ3NzQ2xhc3MgPSAnJzsKCQkgICAgICAgIAoJCW15IEBGaWVsZExpc3Q7CgoJCWZvciBteSAkRmllbGRJRCAoIGtleXMgJXskSXRlbUlETGlzdH0gKSB7CgkJCW15ICRGaWVsZCA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRHZXQoCgkgICAgICAgICAgICAgICAgICAgIEZpZWxkSUQgPT4gJEZpZWxkSUQsCgkJCSk7CgkJCXB1c2ggQEZpZWxkTGlzdCwgJEZpZWxkOwoJCX0KCQkKCQlmb3IgbXkgJENoaWxkSXRlbURhdGEgKCBzb3J0IHsgJGEtPntQb3NpdGlvbn0gPD0+ICRiLT57UG9zaXRpb259IH0gQEZpZWxkTGlzdCApIHsKCQkKCQkJCgkJCW15ICRDaGlsZEl0ZW1JRCA9ICRDaGlsZEl0ZW1EYXRhLT57RmllbGRJRH07CgkJICAgICAgICAKCQkgICAgICAgICAgICAjIHNldCBvdXRwdXQgY2xhc3MKCQkgICAgICAgICAgICAkQ3NzQ2xhc3MgPSAkQ3NzQ2xhc3MgZXEgJ3NlYXJjaGFjdGl2ZScgPyAnc2VhcmNocGFzc2l2ZScgOiAnc2VhcmNoYWN0aXZlJzsKCQkKCQkgICAgICAgICAgICAjIGdldCBpdGVtIGRhdGEKCQkgICAgICAgICAgICBteSAkQ2hpbGRJdGVtRGF0YSA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRHZXQoCgkJICAgICAgICAgICAgICAgIEZpZWxkSUQgPT4gJENoaWxkSXRlbUlELAoJCSAgICAgICAgICAgICk7CgkJCgkJICAgICAgICAgICAgIyBvdXRwdXQgb3ZlcnZpZXcgaXRlbSBsaXN0CgkJICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKCQkgICAgICAgICAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXdGaWVsZExpc3QnLAoJCSAgICAgICAgICAgICAgICBEYXRhID0+IHsKCQkgICAgICAgICAgICAgICAgICAgICV7JENoaWxkSXRlbURhdGF9LAoJCSAgICAgICAgICAgICAgICAgICAgQ3NzQ2xhc3MgICAgICA9PiAkQ3NzQ2xhc3MsCgkJICAgICAgICAgICAgICAgICAgICBWYWxpZCAgICAgICAgID0+ICRWYWxpZExpc3R7ICRDaGlsZEl0ZW1EYXRhLT57VmFsaWRJRH0gfSwKCQkgICAgICAgICAgICAgICAgfSwKCQkgICAgICAgICAgICApOwoJCSAgICAgICAgfQoKCiAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKCSAgICAgICAgIE5hbWUgPT4gJ092ZXJ2aWV3WE1MJywKICAgICAgICAgICAgIERhdGEgPT4gewoJICAgICAgICAJIEl0ZW1JRD0+JEl0ZW1EYXRhe0l0ZW1JRH0sCgkgICAgIAl9CgkgICAgICk7CgkJCQkKCQlmb3IgbXkgJENoaWxkSXRlbURhdGEgKCBzb3J0IHsgJGEtPntQb3NpdGlvbn0gPD0+ICRiLT57UG9zaXRpb259IH0gQEZpZWxkTGlzdCApIHsKCQkKCQkJCgkJCW15ICRDaGlsZEl0ZW1JRCA9ICRDaGlsZEl0ZW1EYXRhLT57RmllbGRJRH07CgkJICAgICAgICAKCQkgICAgICAgICAgICAjIHNldCBvdXRwdXQgY2xhc3MKCQkgICAgICAgICAgICAkQ3NzQ2xhc3MgPSAkQ3NzQ2xhc3MgZXEgJ3NlYXJjaGFjdGl2ZScgPyAnc2VhcmNocGFzc2l2ZScgOiAnc2VhcmNoYWN0aXZlJzsKCQkKCQkgICAgICAgICAgICAjIGdldCBpdGVtIGRhdGEKCQkgICAgICAgICAgICBteSAkQ2hpbGRJdGVtRGF0YSA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRHZXQoCgkJICAgICAgICAgICAgICAgIEZpZWxkSUQgPT4gJENoaWxkSXRlbUlELAoJCSAgICAgICAgICAgICk7CgkJCgkJICAgICAgICAgICAgIyBvdXRwdXQgb3ZlcnZpZXcgaXRlbSBsaXN0CgkJICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKCQkgICAgICAgICAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXdYTUxGaWVsZExpc3QnLAoJCSAgICAgICAgICAgICAgICBEYXRhID0+IHsKCQkgICAgICAgICAgICAgICAgICAgICV7JENoaWxkSXRlbURhdGF9LAoJCSAgICAgICAgICAgICAgICAgICAgQ3NzQ2xhc3MgICAgICA9PiAkQ3NzQ2xhc3MsCgkJICAgICAgICAgICAgICAgICAgICBWYWxpZCAgICAgICAgID0+ICRWYWxpZExpc3R7ICRDaGlsZEl0ZW1EYXRhLT57VmFsaWRJRH0gfSwKCQkgICAgICAgICAgICAgICAgfSwKCQkgICAgICAgICAgICApOwoJCSAgICAgICAgfQoJCSAgICB9CgkgICAgfQoKCiAgICAgICAgIyBvdXRwdXQgaGVhZGVyCiAgICAgICAgbXkgJE91dHB1dCA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+SGVhZGVyKCk7CiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk5hdmlnYXRpb25CYXIoKTsKICAgICAgICAjIGNyZWF0ZSBvdXRwdXQgc3RyaW5nCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dCgKICAgICAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdBZG1pbkZpZWxkVHJlZScsCiAgICAgICAgICAgIERhdGEgICAgICAgICA9PiBcJVBhcmFtLAogICAgICAgICk7CgogICAgICAgICMgYWRkIGZvb3RlcgogICAgICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5Gb290ZXIoKTsKCiAgICAgICAgcmV0dXJuICRPdXRwdXQ7CiAgICB9CgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIwogICAgIyBmaWVsZCBzYXZlCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjCiAgICBlbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnRmllbGRTYXZlJyApIHsKICAgICAgICBteSAlRmllbGREYXRhOwoKICAgICAgICAjIGdldCBwYXJhbXMKICAgICAgICBmb3IgbXkgJFBhcmFtIChxdyhGaWVsZFR5cGUgRmllbGRJRCBOYW1lIEZyaWVuZGx5TmFtZSBUZW1wbGF0ZSBUYXJnZXQgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uIFJlcXVpcmVkIEhpZGRlbiBWYWxpZElEIENvbW1lbnQpKSB7CiAgICAgICAgICAgICRGaWVsZERhdGF7JFBhcmFtfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJFBhcmFtICkgfHwgJyc7CiAgICAgICAgfQogICAgICAgIGlmICggJEZpZWxkRGF0YXtGaWVsZFR5cGV9IGVxICJVc2VySW5mb0ZldGNoZXIiICkgewogICAgICAgICAgICBteSAlRklEczsKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvciBteSAkUGFyYW0gKHF3KFRlbXBsYXRlX1VJRl9DZWxsdWxhckFjY291bnRObyBUZW1wbGF0ZV9VSUZfU3RyZWV0TmFtZSBUZW1wbGF0ZV9VSUZfUGxhY2VOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZW1wbGF0ZV9VSUZfQXJlYU5hbWUgVGVtcGxhdGVfVUlGX0NvdW50cnlOYW1lKSkgewogICAgICAgICAgICAgICAgJEZJRHN7JFBhcmFtfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJFBhcmFtICkgfHwgJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJEZpZWxkRGF0YXtUZW1wbGF0ZX0gPSAiJEZJRHN7VGVtcGxhdGVfVUlGX0NlbGx1bGFyQWNjb3VudE5vfTskRklEc3tUZW1wbGF0ZV9VSUZfU3RyZWV0TmFtZX07JEZJRHN7VGVtcGxhdGVfVUlGX1BsYWNlTmFtZX07JEZJRHN7VGVtcGxhdGVfVUlGX0FyZWFOYW1lfTskRklEc3tUZW1wbGF0ZV9VSUZfQ291bnRyeU5hbWV9IjsKICAgICAgICB9CiAgICAgICAgJEZpZWxkRGF0YXtGaWVsZFRyZWVJRH0gPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdJdGVtSUQnICk7CiAgICAgICAgbXkgJEl0ZW1JRCA9ICRGaWVsZERhdGF7RmllbGRUcmVlSUR9OwoKICAgICAgICAjIGNoZWNrIGNsYXNzCiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+UmVkaXJlY3QoIE9QID0+ICJBY3Rpb249JFNlbGYtPntBY3Rpb259IiApCiAgICAgICAgICAgIGlmICEkRmllbGREYXRhe0ZpZWxkVHJlZUlEfTsKCiAgICAgICAgIyBzYXZlIHRvIGRhdGFiYXNlCiAgICAgICAgbXkgJFN1Y2Nlc3M7CiAgICAgICAgbXkgJEZpZWxkSUQ7CiAgICAgICAgaWYgKCAkRmllbGREYXRhe0ZpZWxkSUR9IGVxICdORVcnICkgewogICAgICAgICAgICAkU3VjY2VzcyA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRBZGQoCiAgICAgICAgICAgICAgICAlRmllbGREYXRhLAogICAgICAgICAgICAgICAgVXNlcklEID0+ICRTZWxmLT57VXNlcklEfSwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgJEZpZWxkSUQgPSAkU3VjY2VzczsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRTdWNjZXNzID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5GaWVsZFVwZGF0ZSgKICAgICAgICAgICAgICAgICVGaWVsZERhdGEsCiAgICAgICAgICAgICAgICBVc2VySUQgPT4gJFNlbGYtPntVc2VySUR9LAogICAgICAgICAgICApOwogICAgICAgICAgICAkRmllbGRJRCA9ICRGaWVsZERhdGF7RmllbGRJRH07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigpIGlmICEkU3VjY2VzczsKCiAgICAgICAgIyByZWRpcmVjdCB0byBvdmVydmlldyBjbGFzcyBsaXN0CiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+UmVkaXJlY3QoCiAgICAgICAgICAgIE9QID0+ICJBY3Rpb249JFNlbGYtPntBY3Rpb259JlN1YmFjdGlvbj1JdGVtRWRpdCZJdGVtSUQ9JEl0ZW1JRCIKICAgICAgICApOwogICAgfQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMKICAgICMgY2F0YWxvZyBpdGVtIHNhdmUKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMKICAgIGVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdJdGVtU2F2ZScgKSB7CiAgICAgICAgbXkgJUl0ZW1EYXRhOwoKICAgICAgICAjIGdldCBwYXJhbXMKICAgICAgICBmb3IgbXkgJFBhcmFtIChxdyhDbGFzcyBJdGVtSUQgTmFtZSBGcmllbmRseU5hbWUgUGFyZW50SUQgVmFsaWRJRCBDc3NDbGFzcyBDb21tZW50IFBvc2l0aW9uKSkgewogICAgICAgICAgICAkSXRlbURhdGF7JFBhcmFtfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJFBhcmFtICkgfHwgJyc7CiAgICAgICAgfQoKICAgICAgICAjIGNoZWNrIGNsYXNzCiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+UmVkaXJlY3QoIE9QID0+ICJBY3Rpb249JFNlbGYtPntBY3Rpb259IiApCiAgICAgICAgICAgIGlmICEkSXRlbURhdGF7Q2xhc3N9IHx8ICRJdGVtRGF0YXtDbGFzc30gZXEgJ05FVyc7CgogICAgICAgICMgc2F2ZSB0byBkYXRhYmFzZQogICAgICAgIG15ICRTdWNjZXNzOwogICAgICAgIG15ICRJdGVtSUQ7CiAgICAgICAgaWYgKCAkSXRlbURhdGF7SXRlbUlEfSBlcSAnTkVXJyApIHsKICAgICAgICAgICAgJFN1Y2Nlc3MgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1BZGQoCiAgICAgICAgICAgICAgICAlSXRlbURhdGEsCiAgICAgICAgICAgICAgICBVc2VySUQgPT4gJFNlbGYtPntVc2VySUR9LAogICAgICAgICAgICApOwogICAgICAgICAgICAkSXRlbUlEID0gJFN1Y2Nlc3M7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkU3VjY2VzcyA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+SXRlbVVwZGF0ZSgKICAgICAgICAgICAgICAgICVJdGVtRGF0YSwKICAgICAgICAgICAgICAgIFVzZXJJRCA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICRJdGVtSUQgPSAkSXRlbURhdGF7SXRlbUlEfTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKCkgaWYgISRTdWNjZXNzOwoKICAgICAgICAjIHJlZGlyZWN0IHRvIG92ZXJ2aWV3IGNsYXNzIGxpc3QKICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5SZWRpcmVjdCgKICAgICAgICAgICAgT1AgPT4gIkFjdGlvbj0kU2VsZi0+e0FjdGlvbn0mU3ViYWN0aW9uPUl0ZW1FZGl0Jkl0ZW1JRD0kSXRlbURhdGF7UGFyZW50SUR9IgogICAgICAgICk7CiAgICB9CgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIwogICAgIyBvdmVydmlldwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIwogICAgZWxzZSB7CgogICAgICAgICMgZ2V0IGNhdGFsb2cgY2xhc3MgbGlzdAogICAgICAgIG15ICRDbGFzc0xpc3QgICAgICAgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkNsYXNzTGlzdCgpOwogICAgICAgIG15ICRDbGFzc09wdGlvblN0cmcgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgICAgICBOYW1lICAgICAgICAgPT4gJ0NsYXNzJywKICAgICAgICAgICAgRGF0YSAgICAgICAgID0+ICRDbGFzc0xpc3QsCiAgICAgICAgICAgIFBvc3NpYmxlTm9uZSA9PiAxLAogICAgICAgICAgICBUcmFuc2xhdGlvbiAgPT4gMCwKICAgICAgICApOwoKICAgICAgICAjIG91dHB1dCBvdmVydmlldwogICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soCiAgICAgICAgICAgIE5hbWUgPT4gJ092ZXJ2aWV3JywKICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICAgICBDbGFzc09wdGlvblN0cmcgPT4gJENsYXNzT3B0aW9uU3RyZywKICAgICAgICAgICAgfSwKICAgICAgICApOwogICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soCiAgICAgICAgICAgIE5hbWUgPT4gJ092ZXJ2aWV3Q2xhc3MnLAogICAgICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgfSwKICAgICAgICApOwoKICAgICAgICBteSAkQ3NzQ2xhc3MgPSAnJzsKICAgICAgICBmb3IgbXkgJENsYXNzICggQHskQ2xhc3NMaXN0fSApIHsKCiAgICAgICAgICAgICMgc2V0IG91dHB1dCBjbGFzcwogICAgICAgICAgICAkQ3NzQ2xhc3MgPSAkQ3NzQ2xhc3MgZXEgJ3NlYXJjaGFjdGl2ZScgPyAnc2VhcmNocGFzc2l2ZScgOiAnc2VhcmNoYWN0aXZlJzsKCiAgICAgICAgICAgICMgb3V0cHV0IG92ZXJ2aWV3IGNsYXNzIGxpc3QKICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKICAgICAgICAgICAgICAgIE5hbWUgPT4gJ092ZXJ2aWV3Q2xhc3NMaXN0JywKICAgICAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIENsYXNzICAgID0+ICRDbGFzcywKICAgICAgICAgICAgICAgICAgICBDc3NDbGFzcyA9PiAkQ3NzQ2xhc3MsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgIyBvdXRwdXQgaGVhZGVyIGFuZCBuYXZiYXIKICAgICAgICBteSAkT3V0cHV0ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5IZWFkZXIoKTsKICAgICAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+TmF2aWdhdGlvbkJhcigpOwoKICAgICAgICAjIGNyZWF0ZSBvdXRwdXQgc3RyaW5nCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dCgKICAgICAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdBZG1pbkZpZWxkVHJlZScsCiAgICAgICAgICAgIERhdGEgICAgICAgICA9PiBcJVBhcmFtLAogICAgICAgICk7CgogICAgICAgICMgYWRkIGZvb3RlcgogICAgICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5Gb290ZXIoKTsKCiAgICAgICAgcmV0dXJuICRPdXRwdXQ7CiAgICB9Cn0KCjE7Cg==</File>
        <File Location="Kernel/Modules/AgentFieldTree.pm" Permission="664" Encode="Base64">IyAtLQ0KIyBLZXJuZWwvTW9kdWxlcy9BZG1pbkZpZWxkVHJlZS5wbSAtIGFkbWluIGZyb250ZW5kIG9mIGdlbmVyYWwgY2F0YWxvZyBtYW5hZ2VtZW50DQojIENvcHlyaWdodCAoQykgMjAwMS0yMDA5IE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8NCiMgLS0NCiMgJElkOiBBZG1pbkZpZWxkVHJlZS5wbSx2IDEuMjIgMjAwOS8wNS8xOCAwOTo0MDo0NiBtaCBFeHAgJA0KIyAtLQ0KIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91DQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuDQojIC0tDQoNCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpBZ2VudEZpZWxkVHJlZTsNCg0KdXNlIHN0cmljdDsNCnVzZSB3YXJuaW5nczsNCg0KdXNlIEtlcm5lbDo6U3lzdGVtOjpGaWVsZFRyZWU7DQp1c2UgS2VybmVsOjpTeXN0ZW06OkdlbmVyYWxDYXRhbG9nOw0KdXNlIEtlcm5lbDo6U3lzdGVtOjpWYWxpZDsNCnVzZSBEYXRhOjpEdW1wZXI7DQoNCg0KdXNlIHZhcnMgcXcoJFZFUlNJT04pOw0KJFZFUlNJT04gPSBxdygkUmV2aXNpb246IDEuMjIgJCkgWzFdOw0KDQpzdWIgbmV3IHsNCiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOw0KDQogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0DQogICAgbXkgJFNlbGYgPSB7JVBhcmFtfTsNCiAgICBibGVzcyggJFNlbGYsICRUeXBlICk7DQoNCiAgICAjIGNoZWNrIG5lZWRlZCBvYmplY3RzDQogICAgZm9yIG15ICRPYmplY3QgKHF3KENvbmZpZ09iamVjdCBQYXJhbU9iamVjdCBMb2dPYmplY3QgTGF5b3V0T2JqZWN0IENvbmZpZ09iamVjdCBRdWV1ZU9iamVjdCkpIHsNCiAgICAgICAgaWYgKCAhJFNlbGYtPnskT2JqZWN0fSApIHsNCiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RmF0YWxFcnJvciggTWVzc2FnZSA9PiAiR290IG5vICRPYmplY3QhIiApOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmICgkUGFyYW17Q2FjaGVPYmplY3R9KSB7DQogICAgCSRTZWxmLT57Q2FjaGVPYmplY3R9ID0gJFBhcmFte0NhY2hlT2JqZWN0fTsgDQogICAgfQ0KICAgIGVsc2Ugew0KCSAgICAkU2VsZi0+e0NhY2hlT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpDYWNoZS0+bmV3KCAlUGFyYW0gKTsNCiAgICB9DQogICAgJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9CT0gS2VybmVsOjpTeXN0ZW06OkZpZWxkVHJlZS0+bmV3KCVQYXJhbSk7DQogICAgJFNlbGYtPntHZW5lcmFsQ2F0YWxvZ09iamVjdH0JPSBLZXJuZWw6OlN5c3RlbTo6R2VuZXJhbENhdGFsb2ctPm5ldyglUGFyYW0pOw0KICAgICRTZWxmLT57VmFsaWRPYmplY3R9IAkJPSBLZXJuZWw6OlN5c3RlbTo6VmFsaWQtPm5ldyglUGFyYW0pOw0KDQogICAgcmV0dXJuICRTZWxmOw0KfQ0KDQpzdWIgUnVuIHsNCiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOw0KDQogICAgaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0NoaWxkc0pTT04nICkgew0KCQ0KCQlteSBASXRlbXNPbiA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+VHJlZUpTT04oDQoJCQlJdGVtSUQgPT4gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiYnJhbmNoX2lkIiApLA0KCQkJQ2xhc3MgPT4gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiQ2xhc3MiICksDQoJCQlWYWx1ZVNldElEID0+ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIlZhbHVlU2V0SUQiICksDQoJCSk7DQoJCQ0KICAgICAgIG15ICRKU09OID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5KU09OKA0KICAgICAgICAgICAgICAgICAgICBEYXRhICAgICAgICAgPT4gXEBJdGVtc09uLA0KCSAgICAgICAgKTsNCgkgICAgICAgIA0KICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5BdHRhY2htZW50KA0KICAgICAgICAgICAgQ29udGVudFR5cGUgPT4gJ3RleHQvcGxhaW47IGNoYXJzZXQ9JyAuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+e0NoYXJzZXR9LA0KICAgICAgICAgICAgQ29udGVudCAgICAgPT4gJEpTT04sDQogICAgICAgICAgICBUeXBlICAgICAgICA9PiAnaW5saW5lJywNCiAgICAgICAgICAgIE5vQ2FjaGUgICAgID0+IDEsDQogICAgICAgICk7ICAgIA0KICAgIH0NCiAgICANCiAJZWxzaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0FqYXhGaWVsZHMnICkgew0KCQ0KCSAgICBteSAkRGlzYWJsZWQgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICJEaXNhYmxlZCIgKTsJICAgIA0KCSAgICBteSAkSXRlbUlEID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiSXRlbUlEIiApOw0KCSAgICBteSAkVmFsdWVTZXRJRCA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIlZhbHVlU2V0SUQiICk7DQoJICAgICNteSAkUmVhZE9ubHkgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICJSZWFkT25seSIgKSB8fCAwOw0KCQlteSAkUHJlZml4ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiUHJlZml4IiApIHx8ICJGaWVsZF8iOw0KICAgICAgICBteSAkRG9Ob3RTaG93V2FybmluZ3MgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICJEb05vdFNob3dXYXJuaW5ncyIgKSB8fCAwOw0KCQlteSAkRHluYW1pY0ZpZWxkUHJlZml4ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiRHluYW1pY0ZpZWxkTmFtZSIgKTsNCgkJDQoJCW15ICRGaWVsZElETGlzdCA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRMaXN0KA0KICAgICAgICAgICAgICAgIEZpZWxkVHJlZUlEID0+ICRJdGVtSUQsDQogICAgICAgICAgICAgICAgVmFsaWQgPT4gMSwNCiAgICAgICAgICAgICk7DQogICAgICAgIA0KCQlteSAkVmFsdWVTZXQgPSB7fTsNCgkJDQoJCWlmICgkVmFsdWVTZXRJRCkgew0KCQkJJFZhbHVlU2V0ID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5WYWx1ZVNldEdldCgNCiAgICAgICAgICAgICAgICBWYWx1ZVNldElEID0+ICRWYWx1ZVNldElELA0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgICAgICBteSAkbG9nOw0KICAgICAgICAgICAgCQkNCgkJbXkgJFBhcjsNCgkJbXkgJVRpbWVDb25maWc7DQoJCW15ICRDeWNsZVByZWZpeDsNCgkJbXkgQEZpZWxkTGlzdDsNCgkJZm9yIG15ICRGaWVsZElEICgga2V5cyAleyRGaWVsZElETGlzdH0gKSB7DQoJCQlteSAkRmllbGQgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkZpZWxkR2V0KA0KCSAgICAgICAgICAgICAgICAgICAgRmllbGRJRCA9PiAkRmllbGRJRCwNCgkJCSk7DQoJCQlwdXNoIEBGaWVsZExpc3QsICRGaWVsZDsNCgkJfQ0KCQkNCgkJIyBJZiBicmFuY2ggaGFzIG5vIGZpZWxkcywgc2hvd3MgZXJyb3IgbWVzc2FnZSBhbmQgZ2VuZXJhdGVzIGhpZGRlbiBpbnB1dA0KCQlpZiAoIEBGaWVsZExpc3QgPT0gMCApIHsNCgkJICAgICMgRG9lcyBub3Qgc2hvdyBlcnJvciB1bmxlc3MgJERvTm90U2hvd1dhcm5pbmdzIGlzIGZhbHNlDQoJCSAgICBpZiAoICEkRG9Ob3RTaG93V2FybmluZ3MgKQ0KCSAgICAgICAgew0KICAgICAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ0VtcHR5TGlzdCcsDQogICAgICAgICAgICAgICAgKTsNCgkgICAgICAgIH0NCiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgICAgICAgICAgTmFtZSA9PiAnTm9GaWVsZHNMb2FkZWQnLA0KICAgICAgICAgICAgKTsNCgkJfQ0KCQkNCgkJZm9yIG15ICRGaWVsZCAoIHNvcnQgeyAkYS0+e1Bvc2l0aW9ufSA8PT4gJGItPntQb3NpdGlvbn0gfSBARmllbGRMaXN0ICkgew0KCQkJDQoJCQkkUGFyID0ge307DQoJCQklVGltZUNvbmZpZyA9ICgpOw0KCQkJbXkgJFNlbGVjdGVkU3RyOw0KCQkJDQoJCQlteSAkRmllbGRJRCA9ICRGaWVsZC0+e0ZpZWxkSUR9Ow0KCQkJJEN5Y2xlUHJlZml4ID0gJFByZWZpeC4kRmllbGRJRDsNCgkJCWlmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJEYXRlVGltZSIpIHsNCgkJCQkjIHRpbWUgc2V0dGluZyBpZiBhdmlhbGFibGUNCgkJCQlpZiAoIWRlZmluZWQoJFZhbHVlU2V0LT57ICRGaWVsZElEIH0pKSB7DQoJCQkJCSRWYWx1ZVNldC0+eyAkRmllbGRJRCB9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkUHJlZml4LiRGaWVsZElEICk7DQoJCQkJfQ0KCQkJCQ0KCQkgICAgICAgIGlmICgNCgkJICAgICAgICAgICAgJFZhbHVlU2V0LT57ICRGaWVsZElEIH0NCgkJICAgICAgICAgICAgJiYgJFZhbHVlU2V0LT57ICRGaWVsZElEIH0gPX4gbXteKFxkXGRcZFxkKS0oXGRcZCktKFxkXGQpXHMoXGRcZCk6KFxkXGQpOihcZFxkKSR9eGkNCgkJICAgICAgICAgICAgKQ0KCQkgICAgICAgIHsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdZZWFyJyB9ICAgPSAkMTsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdNb250aCcgfSAgPSAkMjsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdEYXknIH0gICAgPSAkMzsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdIb3VyJyB9ICAgPSAkNDsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdNaW51dGUnIH0gPSAkNTsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdTZWNvbmQnIH0gPSAkNjsNCgkJICAgICAgICB9DQoJCSAgICAgICAgDQoJCSAgICAgICAgaWYgKCREaXNhYmxlZCkgew0KCQkJICAgICAgICAkUGFyLT57RGF0YVZhbHVlfSA9ICRWYWx1ZVNldC0+eyAkRmllbGRJRCB9Ow0KCQkgICAgICAgIH0NCgkJICAgICAgICBlbHNlIHsNCgkJCSAgICAJJFBhci0+e0RhdGFWYWx1ZX0gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkRGF0ZVNlbGVjdGlvbigNCgkJCQkgICAgICAgICVQYXJhbSwNCgkJCQkgICAgICAgICVUaW1lQ29uZmlnLA0KCQkJCSAgICAgICAgUHJlZml4ID0+ICRDeWNsZVByZWZpeCwNCgkJCQkgICAgICAgIEZvcm1hdCA9PiAnRGF0ZUlucHV0Rm9ybWF0TG9uZycsDQoJCQkJICAgICk7DQoJCSAgICAgICAgfQ0KCQkJfQ0KCQkJZWxzaWYgKCRGaWVsZC0+e0ZpZWxkVHlwZX0gZXEgIlNlbGVjdCIpIHsNCgkJCSAgICBpZiAoIWRlZmluZWQoJFZhbHVlU2V0LT57ICRGaWVsZElEIH0pKSB7DQoJCQkJCSRWYWx1ZVNldC0+eyAkRmllbGRJRCB9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkUHJlZml4LiRGaWVsZElEICk7DQoJCQkJfQkJCQkgIAkJCQkgDQogICAgCQkJbXkgJENsYXNzTGlzdCA9ICRTZWxmLT57R2VuZXJhbENhdGFsb2dPYmplY3R9LT5JdGVtTGlzdCggQ2xhc3MgPT4gJEZpZWxkLT57VGVtcGxhdGV9LCBWYWxpZCA9PiAxKTsNCiAgICAJCQlpZiAoISREaXNhYmxlZCkgew0KICAgIAkJICAgICAgICAkU2VsZWN0ZWRTdHIgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKA0KICAgIAkJICAgICAgICAgICAgTmFtZSAgICAgICAgID0+ICREeW5hbWljRmllbGRQcmVmaXguJ19GaWVsZF8nLiRGaWVsZC0+e0ZpZWxkSUR9LA0KICAgIAkJICAgICAgICAgICAgU2VsZWN0ZWRJRCAgID0+ICRWYWx1ZVNldC0+eyRGaWVsZElEfSwNCiAgICAJCSAgICAgICAgICAgIERhdGEgICAgICAgICA9PiAkQ2xhc3NMaXN0LA0KICAgIAkJICAgICAgICAgICAgUG9zc2libGVOb25lID0+IDEsDQogICAgCQkgICAgICAgICAgICBUcmFuc2xhdGlvbiAgPT4gMCwNCiAgICAJCSAgICAgICAgICAgIERpc2FibGVkID0+ICREaXNhYmxlZCwNCiAgICAJCSAgICAgICAgICAgIENsYXNzID0+ICRGaWVsZC0+e1JlcXVpcmVkfSA/ICdyZXF1aXJlZCB2YWxpZGF0ZS1zZWxlY3QnIDogJycsDQogICAgCQkgICAgICAgICk7ICAgIAkJICAgICAgICANCgkJCQl9IGVsc2UgewkJCQkgICAgDQoJCQkJICAgICRTZWxlY3RlZFN0ciA9ICRDbGFzc0xpc3QtPnskVmFsdWVTZXQtPnsgJEZpZWxkSUQgfX07DQoJCQkJfTsNCgkJCQkNCgkJCX0NCgkJCWVsc2lmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJJbmZvcm1hdGlvbiIpIHsNCgkJCQkkRmllbGQtPntGaWVsZENsYXNzfSA9ICdmdWxsJzsNCgkJCX0NCgkJCWVsc2lmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJSdWxlRXNjYWxhdGVUbyIpIHsNCgkJCQkkRmllbGQtPntRdWV1ZU5hbWV9ID0gJFNlbGYtPntRdWV1ZU9iamVjdH0tPlF1ZXVlTG9va3VwKCANCiAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXVlSUQgPT4gJEZpZWxkLT57VGVtcGxhdGV9LA0KICAgICAgICAgICAgICAgICAgICApOw0KCQkJfQ0KCQkJDQoJCQlteSAkRGlzcGxheSA9IDE7CQkNCgkJCWZvciAocXdbUnVsZUNvbW1lbnQgUnVsZVByb2JsZW1Tb3VyY2UgUnVsZVByb2JsZW1SZWFzb24gUnVsZVNMQSBSdWxlQ29tcGVuc2F0aW9uIF0pIHsNCgkJCQlpZiAoJEZpZWxkLT57RmllbGRUeXBlfSBlcSAkXykgew0KCQkJCQkkRGlzcGxheSA9IDA7DQoJCQkJfQ0KCQkJfQ0KCQkNCgkJCWlmICgkRGlzcGxheSAmJiAkRmllbGQpIA0KCQkJew0KCQkJCW15ICREYXRhID0gew0KCSAgICAgICAgICAgIAkleyRQYXJ9LA0KCSAgICAgICAgICAgICAgICAleyRGaWVsZH0sDQoJICAgICAgICAgICAgICAgIFZhbHVlID0+ICRWYWx1ZVNldC0+eyRGaWVsZElEfXx8JFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICJEeW5hbWljRmllbGROYW1lIiApIC4gJ19GaWVsZF8nIC4gJEZpZWxkSUQgKSwNCgkgICAgICAgICAgICAgICAgUmVxdWlyZWRDc3NDbGFzcyA9PiBkZWZpbmVkKCRGaWVsZC0+e1JlcXVpcmVkfSkgJiYgJEZpZWxkLT57UmVxdWlyZWR9ICA/ICdyZXF1aXJlZCcgOiAnJywNCgkgICAgICAgICAgICAgICAgQ2hlY2tlZFN0ciA9PiAoIChkZWZpbmVkKCRWYWx1ZVNldC0+eyRGaWVsZElEfSkgJiYgKCRWYWx1ZVNldC0+eyRGaWVsZElEfSBlcSAxKSkgfHwkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICRQcmVmaXguJEZpZWxkSUQgKSkgPyAnIGNoZWNrZWQgJyA6ICcnLA0KCSAgICAgICAgICAgICAgICBTZWxlY3RlZFN0ciA9PiAkU2VsZWN0ZWRTdHIsDQoJCSAgICAgICAgICAgICNEaXNhYmxlZCA9PiAkRGlzYWJsZWQsDQoJCSAgICAgICAgICAgIERpc2FibGVkID0+ICgkRGlzYWJsZWQgPyAnRGlzYWJsZWQnIDogJycpLA0KCQkgICAgICAgICAgICBGaWVsZFByZWZpeCA9PiAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICJEeW5hbWljRmllbGROYW1lIiApDQoJICAgICAgICAgICAgfTsNCgkgICAgICAgICAgICANCgkJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkgICAgICAgICAgICBOYW1lID0+ICdGaWVsZCcsDQoJCSAgICAgICAgICAgIERhdGEgPT4gJERhdGEsDQoJCSAgICAgICAgKTsNCgkJCSAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkgICAgICAgICAgICBOYW1lID0+ICRGaWVsZC0+e0ZpZWxkVHlwZX0sDQoJCSAgICAgICAgICAgIERhdGEgPT4gJERhdGEsDQoJCSAgICAgICAgKTsNCgkJCSAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkgICAgICAgICAgICBOYW1lID0+ICRGaWVsZC0+e0ZpZWxkVHlwZX0uICgkRGlzYWJsZWQgPyAnRGlzYWJsZWQnIDogJ0VuYWJsZWQnKSwNCgkJICAgICAgICAgICAgRGF0YSA9PiAkRGF0YSwNCgkJICAgICAgICApOw0KCQkJfQ0KCQl9CgkjIGRpc3BsYXkgbG9hZCB2YWxpZGF0b3IgYmxvY2sgb25lIHRpbWUgdG8gbWFrZSBzdXJlIHRoYXQgZmllbGRzIGFyZSBsb2FkZWRkIGNvcnJlY3RseQoJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKICAgICAgICAgICAgTmFtZSA9PiAnTG9hZFZhbGlkYXRvcicsCiAgICAgICAgKTsKCQkJICAgICAgICANCiAgICAgICAgbXkgJE91dHB1dCA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+T3V0cHV0KA0KICAgICAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdGaWVsZFRyZWVGaWVsZHMnLA0KICAgICAgICAgICAgRGF0YSAgICAgICAgID0+IHsNCiAgICAgICAgICAgIAkJCQkJJVBhcmFtLA0KICAgICAgICAgICAgCQkJCQlWYWx1ZVNldElEID0+ICdORVcnDQogICAgICAgICAgICAJCQkJfQ0KICAgICAgICApOw0KICAgICAgICANCiAgICAgICAgcmV0dXJuICRPdXRwdXQ7DQoNCiAgICB9DQogCWVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdBamF4RmllbGRzU2VhcmNoJyApIHsNCgkNCgkgICAgbXkgJEl0ZW1JRCA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIkl0ZW1JRCIgKTsNCgkJbXkgJFByZWZpeCA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIlByZWZpeCIgKSB8fCAiRmllbGRfIjsNCgkNCgkJDQoJCW15ICRGaWVsZElETGlzdCA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRMaXN0KA0KICAgICAgICAgICAgICAgIEZpZWxkVHJlZUlEID0+ICRJdGVtSUQsDQogICAgICAgICAgICAgICAgVmFsaWQgPT4gMSwNCiAgICAgICAgICAgICk7DQogICAgICAgIA0KCQlteSAkUGFyOw0KCQlteSBARmllbGRMaXN0Ow0KDQoJCWZvciBteSAkRmllbGRJRCAoIGtleXMgJXskRmllbGRJRExpc3R9ICkgew0KCQkJbXkgJEZpZWxkID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5GaWVsZEdldCgNCgkgICAgICAgICAgICAgICAgICAgIEZpZWxkSUQgPT4gJEZpZWxkSUQsDQoJCQkpOw0KCQkJcHVzaCBARmllbGRMaXN0LCAkRmllbGQ7DQoJCX0NCgkJDQoJCWZvciBteSAkRmllbGQgKCBzb3J0IHsgJGEtPntQb3NpdGlvbn0gPD0+ICRiLT57UG9zaXRpb259IH0gQEZpZWxkTGlzdCApIHsNCgkJDQoJCQkkUGFyID0ge307DQoJCQlteSAkU2VsZWN0ZWRTdHI7DQoJCQlteSAkRmllbGRJRCA9ICRGaWVsZC0+e0ZpZWxkSUR9Ow0KDQoNCgkJCWlmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJEYXRlVGltZSIpIHsNCgkJCQkkUGFyYW17JFByZWZpeC4kRmllbGRJRC4nRnJvbVllYXInfT0kU2VsZi0+e0NvbmZpZ09iamVjdH0tPkdldCgiRmllbGRUcmVlOjpTZWFyY2g6OkZyb21ZZWFyIik7DQoJCQkJICAgICRQYXItPntEYXRhVmFsdWV9ID0gJzxsYWJlbD5Gcm9tOiA8L2xhYmVsPicuJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZERhdGVTZWxlY3Rpb24oDQoJCQkJICAgICAgICAlUGFyYW0sDQoJCQkJICAgICAgICBQcmVmaXggPT4gJFByZWZpeC4kRmllbGRJRC4nRnJvbScsDQoJCQkJICAgICAgICBGb3JtYXQgPT4gJ0RhdGVJbnB1dEZvcm1hdExvbmcnLA0KCQkJCSAgICApLic8YnI+Jy4nPGxhYmVsPlRvOiA8L2xhYmVsPicuJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZERhdGVTZWxlY3Rpb24oDQoJCQkJICAgICAgICAlUGFyYW0sDQoJCQkJICAgICAgICBQcmVmaXggPT4gJFByZWZpeC4kRmllbGRJRC4nVG8nLA0KCQkJCSAgICAgICAgRm9ybWF0ID0+ICdEYXRlSW5wdXRGb3JtYXRMb25nJywNCgkJCQkgICAgKTsNCgkJCX0NCgkJCWVsc2lmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJTZWxlY3QiKSB7DQoJCQkJbXkgJENsYXNzTGlzdCA9ICRTZWxmLT57R2VuZXJhbENhdGFsb2dPYmplY3R9LT5JdGVtTGlzdCggQ2xhc3MgPT4gJEZpZWxkLT57VGVtcGxhdGV9LCBWYWxpZCA9PiAxKTsNCgkJICAgICAgICAkU2VsZWN0ZWRTdHIgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKA0KCQkgICAgICAgICAgICBOYW1lICAgICAgICAgPT4gJFByZWZpeC4kRmllbGRJRCwNCiMJCSAgICAgICAgICAgIFNlbGVjdGVkSUQgICA9PiAkVmFsdWVTZXQtPnskRmllbGRJRH0sDQoJCSAgICAgICAgICAgIERhdGEgICAgICAgICA9PiAkQ2xhc3NMaXN0LA0KCQkgICAgICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwNCgkJICAgICAgICAgICAgVHJhbnNsYXRpb24gID0+IDAsDQoJCSAgICAgICAgICAgIA0KCQkgICAgICAgICk7DQoJCQkJDQoJCQl9DQoJCQkNCgkJCW15ICREaXNwbGF5ID0gMTsJCQ0KCQkJZm9yIChxd1tSdWxlRXNjYWxhdGVUbyBSdWxlQ29tbWVudCBSdWxlUHJvYmxlbVNvdXJjZSBSdWxlUHJvYmxlbVJlYXNvbiBSdWxlU0xBIFJ1bGVDb21wZW5zYXRpb24gXSkgew0KCQkJCWlmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICRfKSB7DQoJCQkJCSREaXNwbGF5ID0gMDsNCgkJCQl9DQoJCQl9DQoJCQ0KCQkJaWYgKCREaXNwbGF5KSB7DQoNCgkJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkJICAgICAgICAgICAgTmFtZSA9PiAnRmllbGQnLA0KCQkJICAgICAgICAgICAgRGF0YSA9PiB7DQoJCQkgICAgICAgICAgICAJJXskUGFyfSwNCgkJCSAgICAgICAgICAgICAgICAleyRGaWVsZH0sDQoJCQkgICAgICAgICAgICAgICAgVmFsdWUgPT4gJycsDQoJCQkgICAgICAgICAgICAgICAgUmVxdWlyZWRDc3NDbGFzcyA9PiAkRmllbGQtPntSZXF1aXJlZH0gPyAncmVxdWlyZWQnIDogJycsDQoJCQkgICAgICAgICAgICAgICAgU2VsZWN0ZWRTdHIgPT4gJFNlbGVjdGVkU3RyLA0KCQkJICAgICAgICAgICAgfSwNCgkJCSAgICAgICAgKTsNCgkJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkJICAgICAgICAgICAgTmFtZSA9PiAkRmllbGQtPntGaWVsZFR5cGV9LA0KCQkJICAgICAgICAgICAgRGF0YSA9PiB7DQoJCQkgICAgICAgICAgICAJJXskUGFyfSwNCgkJCSAgICAgICAgICAgICAgICAleyRGaWVsZH0sDQoJCQkgICAgICAgICAgICAgICAgVmFsdWUgPT4gJycsDQoJCQkgICAgICAgICAgICAgICAgUmVxdWlyZWRDc3NDbGFzcyA9PiAkRmllbGQtPntSZXF1aXJlZH0gPyAncmVxdWlyZWQnIDogJycsDQoJCQkgICAgICAgICAgICAgICAgU2VsZWN0ZWRTdHIgPT4gJFNlbGVjdGVkU3RyLA0KCQkJICAgICAgICAgICAgfSwNCgkJCSAgICAgICAgKTsNCgkJCX0NCg0KCQl9DQoJCSAgICAgICAgDQogICAgICAgIG15ICRPdXRwdXQgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dCgNCiAgICAgICAgICAgIFRlbXBsYXRlRmlsZSA9PiAnRmllbGRUcmVlRmllbGRzU2VhcmNoJywNCiAgICAgICAgICAgIERhdGEgICAgICAgICA9PiB7DQogICAgICAgICAgICAJCQkJCSVQYXJhbSwNCiAgICAgICAgICAgIAkJCQkJVmFsdWVTZXRJRCA9PiAnTkVXJw0KICAgICAgICAgICAgfQ0KICAgICAgICApOw0KICAgICAgICANCiAgICAgICAgcmV0dXJuICRPdXRwdXQ7DQogICAgfQ0KIAllbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnQWpheEZpZWxkc1NhdmUnICkgew0KCQ0KCQlteSAkU3VjY2VzcyA9ICAkU2VsZi0+e0xheW91dE9iamVjdH0tPlZhbHVlU2V0RnJvbVBPU1QoICVQYXJhbSApOw0KIyAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oKSBpZiAhJFN1Y2Nlc3M7DQoJCXJldHVybiAiT0siOw0KICAgICAgICAjIHJlZGlyZWN0IHRvIG92ZXJ2aWV3IGNsYXNzIGxpc3QNCiMgICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPlJlZGlyZWN0KA0KIyAgICAgICAgICAgIE9QID0+ICJBY3Rpb249JFNlbGYtPntBY3Rpb259JlN1YmFjdGlvbj1JdGVtRWRpdCZJdGVtSUQ9JEl0ZW1JRCINCiMgICAgICAgICk7DQogICAgfQ0KICAgIGVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdBamF4Q2xpZW50SW5mb0V4dGVuZGVkJyApIHsNCiAgICAgICAgbXkgJEFjY291bnROdW1iZXIgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICJBY2NvdW50TnVtYmVyIiApOw0KICAgICAgICBteSAkaW5mbzsNCiAgICAgICAgaWYgKGRlZmluZWQgJEFjY291bnROdW1iZXIpIHsNCiAgICAgICAgICAgICRpbmZvID0gJFNlbGYtPntBS1NFTWFpbFRpY2tldE9iamVjdH0tPkNsaWVudEluZm9FeHRlbmRlZFJldHJpZXZlKA0KICAgICAgICAgICAgICAgIEFjY291bnROdW1iZXIgPT4gJEFjY291bnROdW1iZXIsDQogICAgICAgICAgICAgICAgVXNlcklEID0+ICRTZWxmLT57VXNlcklEfQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgbXkgJXJldCA9ICgNCiAgICAgICAgICAgIENlbGx1bGFyQWNjb3VudE51bWJlciA9PiBkZWZpbmVkICRpbmZvLT57Q2VsbHVsYXJBY2NvdW50TnVtYmVyfSA/ICRpbmZvLT57Q2VsbHVsYXJBY2NvdW50TnVtYmVyfSA6ICIiLA0KICAgICAgICAgICAgU3RyZWV0TmFtZSA9PiBkZWZpbmVkICRpbmZvLT57U3RyZWV0TmFtZX0gPyAkaW5mby0+e1N0cmVldE5hbWV9IDogIiIsDQogICAgICAgICAgICBQbGFjZU5hbWUgPT4gZGVmaW5lZCAkaW5mby0+e1BsYWNlTmFtZX0gPyAkaW5mby0+e1BsYWNlTmFtZX0gOiAiIiwNCiAgICAgICAgICAgIEFyZWFOYW1lID0+IGRlZmluZWQgJGluZm8tPntBcmVhTmFtZX0gPyAkaW5mby0+e0FyZWFOYW1lfSA6ICIiLA0KICAgICAgICAgICAgQ291bnRyeU5hbWUgPT4gZGVmaW5lZCAkaW5mby0+e0NvdW50cnlOYW1lfSA/ICRpbmZvLT57Q291bnRyeU5hbWV9IDogIiIsDQogICAgICAgICk7DQogICAgICAgIG15ICRKU09OID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5KU09OKA0KICAgICAgICAgICAgRGF0YSAgPT4gXCVyZXQgKTsNCiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QXR0YWNobWVudCgNCiAgICAgICAgICAgIENvbnRlbnRUeXBlID0+ICd0ZXh0L3BsYWluOyBjaGFyc2V0PScgLiAkU2VsZi0+e0xheW91dE9iamVjdH0tPntDaGFyc2V0fSwNCiAgICAgICAgICAgIENvbnRlbnQgICAgID0+ICRKU09OLA0KICAgICAgICAgICAgVHlwZSAgICAgICAgPT4gJ2lubGluZScsDQogICAgICAgICAgICBOb0NhY2hlICAgICA9PiAxLA0KICAgICAgICApOyAgIA0KICAgIH0NCiAgICBlbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnQWpheENvbW1lbnRzVGVtcGxhdGVzJyApIHsNCgkgICAgbXkgJFJlc3VsdCA9ICIiOw0KCQlteSAkSlNPTjsNCgkJbXkgJEpTT05SZXN1bHQ7DQoJICAgIGlmICgkU2VsZi0+e0NhY2hlT2JqZWN0fSkgew0KCSAgICAJJFJlc3VsdCA9ICRTZWxmLT57Q2FjaGVPYmplY3R9LT5HZXQoDQoJCSAgICAJCVR5cGUJPT4gJ0ZpZWxkVHJlZScsDQoJCQkJCUtleSA9PiAnQWpheENvbW1lbnRzVGVtcGxhdGVzJywNCgkgICAgCSk7DQoJICAgIH0NCgkgICAgaWYgKCRSZXN1bHQpIHsNCgkgICAgCSRKU09OUmVzdWx0ID0gJFJlc3VsdDsNCgkJfQ0KCQllbHNlIHsNCgkgICAgDQoJICAgICAgICANCgkgICAgICAgIG15ICVDb21tZW50c1RlbXBsYXRlczsNCgkgICAgICAgIA0KCSAgICAgICAgDQoJICAgICAgICAjIEdldCBTTVMgdGVtcGxhdGVzDQoJICAgICAgICANCgkgICAgICAgIG15ICRTTVMgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1HZXQoDQoJICAgICAgICAgICAgQ2xhc3MgPT4gJ1RlbXBsYXRlcycsDQoJICAgICAgICAgICAgTmFtZSAgPT4gJ1NNUycsDQoJICAgIAkpOw0KCSAgICAJDQoJICAgIAlpZiAoJFNNUykgeyANCgkgICAgCQkgICAgCQ0KCQkgICAgCW15ICRTTVNUZW1wbGF0ZXNHcm91cHMgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1MaXN0KA0KCQkJICAgICAgICBDbGFzcyAgICA9PiAnVGVtcGxhdGVzJywNCgkJCSAgICAgICAgUGFyZW50SUQgPT4gJFNNUy0+e0l0ZW1JRH0sCSAgICAgICAgDQoJCQkgICAgKTsNCgkJCSAgICAJICAgIA0KCQkJICAgIG15ICVUZW1wbGF0ZXNHcm91cHM7CSAgICANCgkJCSAgICB3aGlsZSAoKG15ICRTVEdJdGVtSUQsIG15ICRTVEdOYW1lKSA9IGVhY2goJSRTTVNUZW1wbGF0ZXNHcm91cHMpKXsNCgkJCSAgICAgICAgDQoJCQkgICAgICAgIA0KCQkJICAgICAgICBteSAkU3ViR3JvdXBzID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5JdGVtTGlzdCgNCgkJCSAgICAgICAgICAgICAgQ2xhc3MgICAgPT4gJ1RlbXBsYXRlcycsDQoJCQkgICAgICAgICAgICAgIFBhcmVudElEID0+ICRTVEdJdGVtSUQsCQkgICAgICAgIA0KCQkJICAgICAgICApOw0KCQkJICAgICAgICBteSAlVGVtcGxhdGVzU3ViR3JvdXBzOw0KCQkJICAgICAgICB3aGlsZSAoKG15ICRTVFNHSXRlbUlELCBteSAkU1RTR05hbWUpID0gZWFjaCglJFN1Ykdyb3VwcykpIHsNCgkJCSAgICAgICAgCQ0KCQkJICAgICAgICAJbXkgJFNNU1RlbXBsYXRlcyA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRMaXN0KA0KCSAgICAgICAgICAgICAgICAgICAgICAgIEZpZWxkVHJlZUlEID0+ICRTVFNHSXRlbUlELA0KCSAgICAgICAgICAgICAgICAgICAgKTsNCgkgICAgICAgICAgICAgICAgICAgIG15ICVUZW1wbGF0ZXM7DQoJICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG15ICRTVEZpZWxkSUQsIG15ICRTVEZpZWxkTmFtZSkgPSBlYWNoKCUkU01TVGVtcGxhdGVzKSkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgIG15ICRTTVNUZW1wbGF0ZSA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRHZXQoDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpZWxkSUQgID0+ICRTVEZpZWxkSUQsDQoJICAgICAgICAgICAgICAgICAgICAgICAgKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAkVGVtcGxhdGVzeyRTTVNUZW1wbGF0ZS0+e05hbWV9fSA9ICRTTVNUZW1wbGF0ZS0+e1RlbXBsYXRlfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQoJICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICANCgkgICAgICAgICAgICAgICANCgkgICAgICAgICAgICAgICAgICAgJFRlbXBsYXRlc1N1Ykdyb3Vwc3skU1RTR05hbWV9ID0gXCVUZW1wbGF0ZXM7DQoJCQkgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgDQoJCQkJICAgICRUZW1wbGF0ZXNHcm91cHN7JFNUR05hbWV9ID0gXCVUZW1wbGF0ZXNTdWJHcm91cHM7DQoJCQkJfQ0KCQkJCSRDb21tZW50c1RlbXBsYXRlc3tTTVN9ID0gXCVUZW1wbGF0ZXNHcm91cHM7CQ0KCQkJDQoJICAgIAl9DQoJCQkNCgkJCSMgR2V0IFdlYmNhcmUgdGVtcGxhdGVzDQoJCQkNCgkJCW15ICRXZWJjYXJlID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5JdGVtR2V0KA0KCSAgICAgICAgICAgIENsYXNzID0+ICdUZW1wbGF0ZXMnLA0KCSAgICAgICAgICAgIE5hbWUgID0+ICdXZWJjYXJlJywNCgkgICAgCSk7DQoJICAgIAkNCgkgICAgCWlmICgkV2ViY2FyZSkgew0KCSAgICAJDQoJCSAgICAJbXkgJFdlYmNhcmVUZW1wbGF0ZXNHcm91cHMgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1MaXN0KA0KCQkJICAgICAgICBDbGFzcyAgICAgICAgID0+ICdUZW1wbGF0ZXMnLA0KCQkJICAgICAgICBQYXJlbnRJRCA9PiAkV2ViY2FyZS0+e0l0ZW1JRH0sCSAgICAgICAgDQoJCQkgICAgKTsNCgkJCSAgICAJICAgIA0KCQkJICAgIG15ICVUZW1wbGF0ZXNHcm91cHM7CSAgICANCgkJCSAgICB3aGlsZSAoKG15ICRTVEdJdGVtSUQsIG15ICRTVEdOYW1lKSA9IGVhY2goJSRXZWJjYXJlVGVtcGxhdGVzR3JvdXBzKSl7DQoJCQkgICAgICAgIA0KCQkJICAgICAgICANCgkJCSAgICAgICAgCSAgICAgICAgDQoJCQkgICAgICAgIG15ICRXZWJjYXJlVGVtcGxhdGVzID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5GaWVsZExpc3QoDQoJCQkJICAgICAgICBGaWVsZFRyZWVJRCA9PiAkU1RHSXRlbUlELA0KCQkJCSAgICApOw0KCQkJCSAgICBteSAlVGVtcGxhdGVzOw0KCQkJCSAgICB3aGlsZSAoKG15ICRTVEZpZWxkSUQsIG15ICRTVEZpZWxkTmFtZSkgPSBlYWNoKCUkV2ViY2FyZVRlbXBsYXRlcykpIHsNCgkJCQkgICAgICAgIG15ICRXZWJjYXJlVGVtcGxhdGUgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkZpZWxkR2V0KA0KCQkJCQkgICAgICAgIEZpZWxkSUQgID0+ICRTVEZpZWxkSUQsDQoJCQkJCSAgICApOw0KCQkJCQkgICAgJFRlbXBsYXRlc3skV2ViY2FyZVRlbXBsYXRlLT57TmFtZX19ID0gJFdlYmNhcmVUZW1wbGF0ZS0+e1RlbXBsYXRlfTsJCQkgICAgDQoJCQkJCSAgICANCgkJCQkgICAgfQkJICAgICAgICANCgkJCSAgICAgICAgDQoJCQkgICAgICAgICRUZW1wbGF0ZXNHcm91cHN7JFNUR05hbWV9ID0gXCVUZW1wbGF0ZXM7CSAgICAgICAgICAgICAgICANCgkJCQkgICAgDQoJCQkJfQ0KCQkJCSRDb21tZW50c1RlbXBsYXRlc3tXZWJjYXJlfSA9IFwlVGVtcGxhdGVzR3JvdXBzOw0KCQkJDQoJICAgIAl9DQoJCQkJCQ0KCQkgIAkNCgkgICAgICAgICRKU09OID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5KU09OKA0KCSAgICAgICAgICAgIERhdGEgID0+IFwlQ29tbWVudHNUZW1wbGF0ZXMgKTsNCg0KCSAgICAgICAgJEpTT05SZXN1bHQgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkF0dGFjaG1lbnQoDQoJICAgICAgICAgICAgQ29udGVudFR5cGUgPT4gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9JyAuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+e0NoYXJzZXR9LA0KCSAgICAgICAgICAgIENvbnRlbnQgICAgID0+ICRKU09OLA0KCSAgICAgICAgICAgIFR5cGUgICAgICAgID0+ICdpbmxpbmUnLA0KCSAgICAgICAgKTsNCg0KCSAgICAgICAgDQoJCQlpZiAoJFNlbGYtPntDYWNoZU9iamVjdH0pIHsNCgkJCSAgIAkkUmVzdWx0ID0gJFNlbGYtPntDYWNoZU9iamVjdH0tPlNldCgNCgkJCSAgICAJCVR5cGUJPT4gJ0ZpZWxkVHJlZScsDQoJCQkJCQlLZXkgPT4gJ0FqYXhDb21tZW50c1RlbXBsYXRlcycsDQoJCQkJCQlWYWx1ZSA9PiAkSlNPTlJlc3VsdCwgICAgCQkNCgkJCSAgICAJKTsNCgkJICAgICB9DQoJICAgIH0NCg0KICAgICAgICByZXR1cm4gJEpTT05SZXN1bHQ7DQogICAgfSAgIA0KfQ0KDQoxOw0KICAgIA==</File>
        <File Location="Kernel/Modules/CustomerFieldTree.pm" Permission="664" Encode="Base64">IyAtLQ0KIyBLZXJuZWwvTW9kdWxlcy9BZG1pbkZpZWxkVHJlZS5wbSAtIGFkbWluIGZyb250ZW5kIG9mIGdlbmVyYWwgY2F0YWxvZyBtYW5hZ2VtZW50DQojIENvcHlyaWdodCAoQykgMjAwMS0yMDA5IE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8NCiMgLS0NCiMgJElkOiBBZG1pbkZpZWxkVHJlZS5wbSx2IDEuMjIgMjAwOS8wNS8xOCAwOTo0MDo0NiBtaCBFeHAgJA0KIyAtLQ0KIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91DQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuDQojIC0tDQoNCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpDdXN0b21lckZpZWxkVHJlZTsNCg0KdXNlIHN0cmljdDsNCnVzZSB3YXJuaW5nczsNCg0KdXNlIEtlcm5lbDo6U3lzdGVtOjpGaWVsZFRyZWU7DQp1c2UgS2VybmVsOjpTeXN0ZW06OkdlbmVyYWxDYXRhbG9nOw0KdXNlIEtlcm5lbDo6U3lzdGVtOjpWYWxpZDsNCnVzZSBEYXRhOjpEdW1wZXI7DQoNCg0KdXNlIHZhcnMgcXcoJFZFUlNJT04pOw0KJFZFUlNJT04gPSBxdygkUmV2aXNpb246IDEuMjIgJCkgWzFdOw0KDQpzdWIgbmV3IHsNCiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOw0KDQogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0DQogICAgbXkgJFNlbGYgPSB7JVBhcmFtfTsNCiAgICBibGVzcyggJFNlbGYsICRUeXBlICk7DQoNCiAgICAjIGNoZWNrIG5lZWRlZCBvYmplY3RzDQogICAgZm9yIG15ICRPYmplY3QgKHF3KENvbmZpZ09iamVjdCBQYXJhbU9iamVjdCBMb2dPYmplY3QgTGF5b3V0T2JqZWN0IENvbmZpZ09iamVjdCBRdWV1ZU9iamVjdCkpIHsNCiAgICAgICAgaWYgKCAhJFNlbGYtPnskT2JqZWN0fSApIHsNCiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RmF0YWxFcnJvciggTWVzc2FnZSA9PiAiR290IG5vICRPYmplY3QhIiApOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmICgkUGFyYW17Q2FjaGVPYmplY3R9KSB7DQogICAgCSRTZWxmLT57Q2FjaGVPYmplY3R9ID0gJFBhcmFte0NhY2hlT2JqZWN0fTsgDQogICAgfQ0KICAgIGVsc2Ugew0KCSAgICAkU2VsZi0+e0NhY2hlT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpDYWNoZS0+bmV3KCAlUGFyYW0gKTsNCiAgICB9DQogICAgJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9CT0gS2VybmVsOjpTeXN0ZW06OkZpZWxkVHJlZS0+bmV3KCVQYXJhbSk7DQogICAgJFNlbGYtPntHZW5lcmFsQ2F0YWxvZ09iamVjdH0JPSBLZXJuZWw6OlN5c3RlbTo6R2VuZXJhbENhdGFsb2ctPm5ldyglUGFyYW0pOw0KICAgICRTZWxmLT57VmFsaWRPYmplY3R9IAkJPSBLZXJuZWw6OlN5c3RlbTo6VmFsaWQtPm5ldyglUGFyYW0pOw0KDQogICAgcmV0dXJuICRTZWxmOw0KfQ0KDQpzdWIgUnVuIHsNCiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOw0KDQogICAgaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0NoaWxkc0pTT04nICkgew0KCQ0KCQlteSBASXRlbXNPbiA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+VHJlZUpTT04oDQoJCQlJdGVtSUQgPT4gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiYnJhbmNoX2lkIiApLA0KCQkJQ2xhc3MgPT4gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiQ2xhc3MiICksDQoJCQlWYWx1ZVNldElEID0+ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIlZhbHVlU2V0SUQiICksDQoJCSk7DQoJCQ0KICAgICAgIG15ICRKU09OID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5KU09OKA0KICAgICAgICAgICAgICAgICAgICBEYXRhICAgICAgICAgPT4gXEBJdGVtc09uLA0KCSAgICAgICAgKTsNCgkgICAgICAgIA0KICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5BdHRhY2htZW50KA0KICAgICAgICAgICAgQ29udGVudFR5cGUgPT4gJ3RleHQvcGxhaW47IGNoYXJzZXQ9JyAuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+e0NoYXJzZXR9LA0KICAgICAgICAgICAgQ29udGVudCAgICAgPT4gJEpTT04sDQogICAgICAgICAgICBUeXBlICAgICAgICA9PiAnaW5saW5lJywNCiAgICAgICAgICAgIE5vQ2FjaGUgICAgID0+IDEsDQogICAgICAgICk7ICAgIA0KICAgIH0NCiAgICANCiAJZWxzaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0FqYXhGaWVsZHMnICkgew0KCQ0KCSAgICBteSAkRGlzYWJsZWQgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICJEaXNhYmxlZCIgKTsJICAgIA0KCSAgICBteSAkSXRlbUlEID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAiSXRlbUlEIiApOw0KCSAgICBteSAkVmFsdWVTZXRJRCA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIlZhbHVlU2V0SUQiICk7DQoJCW15ICRQcmVmaXggPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICJQcmVmaXgiICkgfHwgIkZpZWxkXyI7DQoJCW15ICREb05vdFNob3dXYXJuaW5ncyA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIkRvTm90U2hvd1dhcm5pbmdzIiApIHx8IDA7DQoJCQ0KCQlteSAkRmllbGRJRExpc3QgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkZpZWxkTGlzdCgNCiAgICAgICAgICAgICAgICBGaWVsZFRyZWVJRCA9PiAkSXRlbUlELA0KICAgICAgICAgICAgICAgIFZhbGlkID0+IDEsDQogICAgICAgICAgICApOw0KICAgICAgICANCgkJbXkgJFZhbHVlU2V0ID0ge307DQoJCQ0KCQlpZiAoICRWYWx1ZVNldElEICF+IC9uZXcvaSApIHsNCgkJCSRWYWx1ZVNldCA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+VmFsdWVTZXRHZXQoDQogICAgICAgICAgICAgICAgVmFsdWVTZXRJRCA9PiAkVmFsdWVTZXRJRCwNCiAgICAgICAgICAgICk7DQogICAgICAgIH0NCiAgICAgICAgbXkgJGxvZzsNCiAgICAgICAgICAgIAkJDQoJCW15ICRQYXI7DQoJCW15ICVUaW1lQ29uZmlnOw0KCQlteSAkQ3ljbGVQcmVmaXg7DQoJCW15IEBGaWVsZExpc3Q7DQoJCWZvciBteSAkRmllbGRJRCAoIGtleXMgJXskRmllbGRJRExpc3R9ICkgew0KCQkJbXkgJEZpZWxkID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5GaWVsZEdldCgNCiAgICAgICAgICAgICAgICBGaWVsZElEID0+ICRGaWVsZElELA0KCQkJKTsNCgkJCXB1c2ggQEZpZWxkTGlzdCwgJEZpZWxkOw0KCQl9DQoJCQ0KICAgICAgICANCiAgICAgICAgIyBJZiBicmFuY2ggaGFzIG5vIGZpZWxkcywgc2hvd3MgZXJyb3IgbWVzc2FnZSBhbmQgZ2VuZXJhdGVzIGhpZGRlbiBpbnB1dA0KICAgICAgICBpZiAoIEBGaWVsZExpc3QgPT0gMCApIHsNCiAgICAgICAgICAgICMgRG9lcyBub3Qgc2hvdyBlcnJvciB1bmxlc3MgJERvTm90U2hvd1dhcm5pbmdzIGlzIGZhbHNlDQogICAgICAgICAgICBpZiAoICEkRG9Ob3RTaG93V2FybmluZ3MgKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ0VtcHR5TGlzdCcsDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgICAgICAgICAgTmFtZSA9PiAnTm9GaWVsZHNMb2FkZWQnLA0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgbXkgJFVuY2hlY2tlZEZpZWxkVmFsdWVzID0ge307DQogICAgICAgIG15ICRDb3VudGVyID0gMDsNCgkJDQoJCW15ICREeW5hbWljRmllbGRQcmVmaXggPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICJEeW5hbWljRmllbGROYW1lIiApOw0KCQkNCgkJZm9yIG15ICRGaWVsZCAoIHNvcnQgeyAkYS0+e1Bvc2l0aW9ufSA8PT4gJGItPntQb3NpdGlvbn0gfSBARmllbGRMaXN0ICkgew0KCQkJDQoJCQkkUGFyID0ge307DQoJCQklVGltZUNvbmZpZyA9ICgpOw0KCQkJbXkgJFNlbGVjdGVkU3RyOw0KCQkJbXkgJEZpZWxkSUQgPSAkRmllbGQtPntGaWVsZElEfTsNCgkJCQ0KCQkJJEN5Y2xlUHJlZml4ID0gJFByZWZpeC4kRmllbGRJRDsNCgkJCWlmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJEYXRlVGltZSIpIHsNCgkJCQkjIHRpbWUgc2V0dGluZyBpZiBhdmlhbGFibGUNCgkJCQlpZiAoIWRlZmluZWQoJFZhbHVlU2V0LT57ICRGaWVsZElEIH0pKSB7DQoJCQkJCSRWYWx1ZVNldC0+eyAkRmllbGRJRCB9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkUHJlZml4LiRGaWVsZElEICk7DQoJCQkJfQ0KCQkJCQ0KCQkgICAgICAgIGlmICgNCgkJICAgICAgICAgICAgJFZhbHVlU2V0LT57ICRGaWVsZElEIH0NCgkJICAgICAgICAgICAgJiYgJFZhbHVlU2V0LT57ICRGaWVsZElEIH0gPX4gbXteKFxkXGRcZFxkKS0oXGRcZCktKFxkXGQpXHMoXGRcZCk6KFxkXGQpOihcZFxkKSR9eGkNCgkJICAgICAgICAgICAgKQ0KCQkgICAgICAgIHsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdZZWFyJyB9ICAgPSAkMTsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdNb250aCcgfSAgPSAkMjsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdEYXknIH0gICAgPSAkMzsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdIb3VyJyB9ICAgPSAkNDsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdNaW51dGUnIH0gPSAkNTsNCgkJICAgICAgICAgICAgJFRpbWVDb25maWd7ICRDeWNsZVByZWZpeCAuICdTZWNvbmQnIH0gPSAkNjsNCgkJICAgICAgICB9DQoJCSAgICAgICAgDQoJCSAgICAgICAgaWYgKCREaXNhYmxlZCkgew0KCQkJICAgICAgICAkUGFyLT57RGF0YVZhbHVlfSA9ICRWYWx1ZVNldC0+eyAkRmllbGRJRCB9Ow0KCQkgICAgICAgIH0NCgkJICAgICAgICBlbHNlIHsNCgkJCSAgICAJJFBhci0+e0RhdGFWYWx1ZX0gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkRGF0ZVNlbGVjdGlvbigNCgkJCQkgICAgICAgICVQYXJhbSwNCgkJCQkgICAgICAgICVUaW1lQ29uZmlnLA0KCQkJCSAgICAgICAgUHJlZml4ID0+ICRDeWNsZVByZWZpeCwNCgkJCQkgICAgICAgIEZvcm1hdCA9PiAnRGF0ZUlucHV0Rm9ybWF0TG9uZycsDQoJCQkJICAgICk7DQoJCSAgICAgICAgfQ0KCQkJfQ0KCQkJZWxzaWYgKCRGaWVsZC0+e0ZpZWxkVHlwZX0gZXEgIlNlbGVjdCIpIHsNCgkJCSAgICBpZiAoIWRlZmluZWQoJFZhbHVlU2V0LT57ICRGaWVsZElEIH0pKSB7DQoJCQkJCSRWYWx1ZVNldC0+eyAkRmllbGRJRCB9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkUHJlZml4LiRGaWVsZElEICk7DQoJCQkJfQkJCQkgIAkJCQkgDQogICAgCQkJbXkgJENsYXNzTGlzdCA9ICRTZWxmLT57R2VuZXJhbENhdGFsb2dPYmplY3R9LT5JdGVtTGlzdCggQ2xhc3MgPT4gJEZpZWxkLT57VGVtcGxhdGV9LCBWYWxpZCA9PiAxKTsNCiAgICAJCQlpZiAoISREaXNhYmxlZCkgew0KICAgIAkJICAgICAgICAkU2VsZWN0ZWRTdHIgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKA0KICAgIAkJICAgICAgICAgICAgTmFtZSAgICAgICAgID0+ICREeW5hbWljRmllbGRQcmVmaXguJ19GaWVsZF8nLiRGaWVsZC0+e0ZpZWxkSUR9LA0KICAgIAkJICAgICAgICAgICAgU2VsZWN0ZWRJRCAgID0+ICRWYWx1ZVNldC0+eyRGaWVsZElEfSwNCiAgICAJCSAgICAgICAgICAgIERhdGEgICAgICAgICA9PiAkQ2xhc3NMaXN0LA0KICAgIAkJICAgICAgICAgICAgUG9zc2libGVOb25lID0+IDEsDQogICAgCQkgICAgICAgICAgICBUcmFuc2xhdGlvbiAgPT4gMCwNCiAgICAJCSAgICAgICAgICAgIERpc2FibGVkID0+ICREaXNhYmxlZCwNCiAgICAJCSAgICAgICAgICAgIENsYXNzID0+ICRGaWVsZC0+e1JlcXVpcmVkfSA/ICdyZXF1aXJlZCB2YWxpZGF0ZS1zZWxlY3QnIDogJycsDQogICAgCQkgICAgICAgICk7ICAgIAkJICAgICAgICANCgkJCQl9IGVsc2UgewkJCQkgICAgDQoJCQkJICAgICRTZWxlY3RlZFN0ciA9ICRDbGFzc0xpc3QtPnskVmFsdWVTZXQtPnsgJEZpZWxkSUQgfX07DQoJCQkJfTsNCgkJCQkNCgkJCX0NCgkJCWVsc2lmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJJbmZvcm1hdGlvbiIpIHsNCgkJCQkkRmllbGQtPntGaWVsZENsYXNzfSA9ICdmdWxsJzsNCgkJCX0NCgkJCWVsc2lmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJSdWxlRXNjYWxhdGVUbyIpIHsNCgkJCQkkRmllbGQtPntRdWV1ZU5hbWV9ID0gJFNlbGYtPntRdWV1ZU9iamVjdH0tPlF1ZXVlTG9va3VwKCANCiAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXVlSUQgPT4gJEZpZWxkLT57VGVtcGxhdGV9LA0KICAgICAgICAgICAgICAgICAgICApOw0KCQkJfQ0KCQkJDQoJCQlteSAkRGlzcGxheSA9IDE7CQkNCgkJCWZvciAocXdbUnVsZUNvbW1lbnQgUnVsZVByb2JsZW1Tb3VyY2UgUnVsZVByb2JsZW1SZWFzb24gUnVsZVNMQSBSdWxlQ29tcGVuc2F0aW9uIF0pIHsNCgkJCQlpZiAoJEZpZWxkLT57RmllbGRUeXBlfSBlcSAkXykgew0KCQkJCQkkRGlzcGxheSA9IDA7DQoJCQkJfQ0KCQkJfQ0KCQkNCgkJCWlmICgkRGlzcGxheSAmJiAkRmllbGQpIA0KCQkJew0KCQkJCW15ICREYXRhID0gew0KCSAgICAgICAgICAgIAkleyRQYXJ9LA0KCSAgICAgICAgICAgICAgICAleyRGaWVsZH0sDQoJICAgICAgICAgICAgICAgIFZhbHVlID0+ICRWYWx1ZVNldC0+eyRGaWVsZElEfXx8JFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkRHluYW1pY0ZpZWxkUHJlZml4LiJfRmllbGRfIi4kRmllbGRJRCApLA0KCSAgICAgICAgICAgICAgICBSZXF1aXJlZENzc0NsYXNzID0+IGRlZmluZWQoJEZpZWxkLT57UmVxdWlyZWR9KSAmJiAkRmllbGQtPntSZXF1aXJlZH0gID8gJ3JlcXVpcmVkJyA6ICcnLA0KCSAgICAgICAgICAgICAgICBDaGVja2VkU3RyID0+ICggKGRlZmluZWQoJFZhbHVlU2V0LT57JEZpZWxkSUR9KSAmJiAoJFZhbHVlU2V0LT57JEZpZWxkSUR9IGVxIDEpKSB8fCRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJFByZWZpeC4kRmllbGRJRCApKSA/ICcgY2hlY2tlZCAnIDogJycsDQoJICAgICAgICAgICAgICAgIFNlbGVjdGVkU3RyID0+ICRTZWxlY3RlZFN0ciwNCgkJICAgICAgICAgICAgI0Rpc2FibGVkID0+ICREaXNhYmxlZCwNCgkJICAgICAgICAgICAgRGlzYWJsZWQgPT4gKCREaXNhYmxlZCA/ICdEaXNhYmxlZCcgOiAnJyksDQoJCSAgICAgICAgICAgIEZpZWxkUHJlZml4ID0+ICREeW5hbWljRmllbGRQcmVmaXgsDQoJICAgICAgICAgICAgfTsNCgkgICAgICAgICAgICANCgkgICAgICAgICAgICANCgkJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkgICAgICAgICAgICBOYW1lID0+ICdGaWVsZCcsDQoJCSAgICAgICAgICAgIERhdGEgPT4gJERhdGEsDQoJCSAgICAgICAgKTsNCgkJCSAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkgICAgICAgICAgICBOYW1lID0+ICRGaWVsZC0+e0ZpZWxkVHlwZX0sDQoJCSAgICAgICAgICAgIERhdGEgPT4gJERhdGEsDQoJCSAgICAgICAgKTsNCgkJCSAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkgICAgICAgICAgICBOYW1lID0+ICRGaWVsZC0+e0ZpZWxkVHlwZX0uICgkRGlzYWJsZWQgPyAnRGlzYWJsZWQnIDogJ0VuYWJsZWQnKSwNCgkJICAgICAgICAgICAgRGF0YSA9PiAkRGF0YSwNCgkJICAgICAgICApOw0KCQkJfQ0KCQl9CgkjIGRpc3BsYXkgbG9hZCB2YWxpZGF0b3IgYmxvY2sgb25lIHRpbWUgdG8gbWFrZSBzdXJlIHRoYXQgZmllbGRzIGFyZSBsb2FkZWRkIGNvcnJlY3RseQoJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKICAgICAgICAgICAgTmFtZSA9PiAnTG9hZFZhbGlkYXRvcicsCiAgICAgICAgKTsKCQkJICAgICAgICANCiAgICAgICAgbXkgJE91dHB1dCA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+T3V0cHV0KA0KICAgICAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdGaWVsZFRyZWVGaWVsZHMnLA0KICAgICAgICAgICAgRGF0YSAgICAgICAgID0+IHsNCiAgICAgICAgICAgIAkJCQkJJVBhcmFtLA0KICAgICAgICAgICAgCQkJCQlWYWx1ZVNldElEID0+ICdORVcnDQogICAgICAgICAgICAJCQkJfQ0KICAgICAgICApOw0KICAgICAgICANCiAgICAgICAgcmV0dXJuICRPdXRwdXQ7DQoNCiAgICB9DQogCWVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdBamF4RmllbGRzU2VhcmNoJyApIHsNCgkNCgkgICAgbXkgJEl0ZW1JRCA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIkl0ZW1JRCIgKTsNCgkJbXkgJFByZWZpeCA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gIlByZWZpeCIgKSB8fCAiRmllbGRfIjsNCgkNCgkJDQoJCW15ICRGaWVsZElETGlzdCA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRMaXN0KA0KICAgICAgICAgICAgICAgIEZpZWxkVHJlZUlEID0+ICRJdGVtSUQsDQogICAgICAgICAgICAgICAgVmFsaWQgPT4gMSwNCiAgICAgICAgICAgICk7DQogICAgICAgIA0KCQlteSAkUGFyOw0KCQlteSBARmllbGRMaXN0Ow0KDQoJCWZvciBteSAkRmllbGRJRCAoIGtleXMgJXskRmllbGRJRExpc3R9ICkgew0KCQkJbXkgJEZpZWxkID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5GaWVsZEdldCgNCgkgICAgICAgICAgICAgICAgICAgIEZpZWxkSUQgPT4gJEZpZWxkSUQsDQoJCQkpOw0KCQkJcHVzaCBARmllbGRMaXN0LCAkRmllbGQ7DQoJCX0NCgkJDQoJCWZvciBteSAkRmllbGQgKCBzb3J0IHsgJGEtPntQb3NpdGlvbn0gPD0+ICRiLT57UG9zaXRpb259IH0gQEZpZWxkTGlzdCApIHsNCgkJDQoJCQkkUGFyID0ge307DQoJCQlteSAkU2VsZWN0ZWRTdHI7DQoJCQlteSAkRmllbGRJRCA9ICRGaWVsZC0+e0ZpZWxkSUR9Ow0KDQoNCgkJCWlmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJEYXRlVGltZSIpIHsNCgkJCQkkUGFyYW17JFByZWZpeC4kRmllbGRJRC4nRnJvbVllYXInfT0kU2VsZi0+e0NvbmZpZ09iamVjdH0tPkdldCgiRmllbGRUcmVlOjpTZWFyY2g6OkZyb21ZZWFyIik7DQoJCQkJICAgICRQYXItPntEYXRhVmFsdWV9ID0gJzxsYWJlbD5Gcm9tOiA8L2xhYmVsPicuJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZERhdGVTZWxlY3Rpb24oDQoJCQkJICAgICAgICAlUGFyYW0sDQoJCQkJICAgICAgICBQcmVmaXggPT4gJFByZWZpeC4kRmllbGRJRC4nRnJvbScsDQoJCQkJICAgICAgICBGb3JtYXQgPT4gJ0RhdGVJbnB1dEZvcm1hdExvbmcnLA0KCQkJCSAgICApLic8YnI+Jy4nPGxhYmVsPlRvOiA8L2xhYmVsPicuJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZERhdGVTZWxlY3Rpb24oDQoJCQkJICAgICAgICAlUGFyYW0sDQoJCQkJICAgICAgICBQcmVmaXggPT4gJFByZWZpeC4kRmllbGRJRC4nVG8nLA0KCQkJCSAgICAgICAgRm9ybWF0ID0+ICdEYXRlSW5wdXRGb3JtYXRMb25nJywNCgkJCQkgICAgKTsNCgkJCX0NCgkJCWVsc2lmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJTZWxlY3QiKSB7DQoJCQkJbXkgJENsYXNzTGlzdCA9ICRTZWxmLT57R2VuZXJhbENhdGFsb2dPYmplY3R9LT5JdGVtTGlzdCggQ2xhc3MgPT4gJEZpZWxkLT57VGVtcGxhdGV9LCBWYWxpZCA9PiAxKTsNCgkJICAgICAgICAkU2VsZWN0ZWRTdHIgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKA0KCQkgICAgICAgICAgICBOYW1lICAgICAgICAgPT4gJFByZWZpeC4kRmllbGRJRCwNCiMJCSAgICAgICAgICAgIFNlbGVjdGVkSUQgICA9PiAkVmFsdWVTZXQtPnskRmllbGRJRH0sDQoJCSAgICAgICAgICAgIERhdGEgICAgICAgICA9PiAkQ2xhc3NMaXN0LA0KCQkgICAgICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwNCgkJICAgICAgICAgICAgVHJhbnNsYXRpb24gID0+IDAsDQoJCSAgICAgICAgICAgIA0KCQkgICAgICAgICk7DQoJCQkJDQoJCQl9DQoJCQkNCgkJCW15ICREaXNwbGF5ID0gMTsJCQ0KCQkJZm9yIChxd1tSdWxlRXNjYWxhdGVUbyBSdWxlQ29tbWVudCBSdWxlUHJvYmxlbVNvdXJjZSBSdWxlUHJvYmxlbVJlYXNvbiBSdWxlU0xBIFJ1bGVDb21wZW5zYXRpb24gXSkgew0KCQkJCWlmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICRfKSB7DQoJCQkJCSREaXNwbGF5ID0gMDsNCgkJCQl9DQoJCQl9DQoJCQ0KCQkJaWYgKCREaXNwbGF5KSB7DQoNCgkJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkJICAgICAgICAgICAgTmFtZSA9PiAnRmllbGQnLA0KCQkJICAgICAgICAgICAgRGF0YSA9PiB7DQoJCQkgICAgICAgICAgICAJJXskUGFyfSwNCgkJCSAgICAgICAgICAgICAgICAleyRGaWVsZH0sDQoJCQkgICAgICAgICAgICAgICAgVmFsdWUgPT4gJycsDQoJCQkgICAgICAgICAgICAgICAgUmVxdWlyZWRDc3NDbGFzcyA9PiAkRmllbGQtPntSZXF1aXJlZH0gPyAncmVxdWlyZWQnIDogJycsDQoJCQkgICAgICAgICAgICAgICAgU2VsZWN0ZWRTdHIgPT4gJFNlbGVjdGVkU3RyLA0KCQkJICAgICAgICAgICAgfSwNCgkJCSAgICAgICAgKTsNCgkJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkJICAgICAgICAgICAgTmFtZSA9PiAkRmllbGQtPntGaWVsZFR5cGV9LA0KCQkJICAgICAgICAgICAgRGF0YSA9PiB7DQoJCQkgICAgICAgICAgICAJJXskUGFyfSwNCgkJCSAgICAgICAgICAgICAgICAleyRGaWVsZH0sDQoJCQkgICAgICAgICAgICAgICAgVmFsdWUgPT4gJycsDQoJCQkgICAgICAgICAgICAgICAgUmVxdWlyZWRDc3NDbGFzcyA9PiAkRmllbGQtPntSZXF1aXJlZH0gPyAncmVxdWlyZWQnIDogJycsDQoJCQkgICAgICAgICAgICAgICAgU2VsZWN0ZWRTdHIgPT4gJFNlbGVjdGVkU3RyLA0KCQkJICAgICAgICAgICAgfSwNCgkJCSAgICAgICAgKTsNCgkJCX0NCg0KCQl9DQoJCSAgICAgICAgDQogICAgICAgIG15ICRPdXRwdXQgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dCgNCiAgICAgICAgICAgIFRlbXBsYXRlRmlsZSA9PiAnRmllbGRUcmVlRmllbGRzU2VhcmNoJywNCiAgICAgICAgICAgIERhdGEgICAgICAgICA9PiB7DQogICAgICAgICAgICAJCQkJCSVQYXJhbSwNCiAgICAgICAgICAgIAkJCQkJVmFsdWVTZXRJRCA9PiAnTkVXJw0KICAgICAgICAgICAgfQ0KICAgICAgICApOw0KICAgICAgICANCiAgICAgICAgcmV0dXJuICRPdXRwdXQ7DQogICAgfQ0KIAllbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnQWpheEZpZWxkc1NhdmUnICkgew0KCQ0KCQlteSAkU3VjY2VzcyA9ICAkU2VsZi0+e0xheW91dE9iamVjdH0tPlZhbHVlU2V0RnJvbVBPU1QoICVQYXJhbSApOw0KIyAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oKSBpZiAhJFN1Y2Nlc3M7DQoJCXJldHVybiAiT0siOw0KICAgICAgICAjIHJlZGlyZWN0IHRvIG92ZXJ2aWV3IGNsYXNzIGxpc3QNCiMgICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPlJlZGlyZWN0KA0KIyAgICAgICAgICAgIE9QID0+ICJBY3Rpb249JFNlbGYtPntBY3Rpb259JlN1YmFjdGlvbj1JdGVtRWRpdCZJdGVtSUQ9JEl0ZW1JRCINCiMgICAgICAgICk7DQogICAgfQ0KICAgIGVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdBamF4Q2xpZW50SW5mb0V4dGVuZGVkJyApIHsNCiAgICAgICAgbXkgJEFjY291bnROdW1iZXIgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICJBY2NvdW50TnVtYmVyIiApOw0KICAgICAgICBteSAkaW5mbzsNCiAgICAgICAgaWYgKGRlZmluZWQgJEFjY291bnROdW1iZXIpIHsNCiAgICAgICAgICAgICRpbmZvID0gJFNlbGYtPntBS1NFTWFpbFRpY2tldE9iamVjdH0tPkNsaWVudEluZm9FeHRlbmRlZFJldHJpZXZlKA0KICAgICAgICAgICAgICAgIEFjY291bnROdW1iZXIgPT4gJEFjY291bnROdW1iZXIsDQogICAgICAgICAgICAgICAgVXNlcklEID0+ICRTZWxmLT57VXNlcklEfQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgbXkgJXJldCA9ICgNCiAgICAgICAgICAgIENlbGx1bGFyQWNjb3VudE51bWJlciA9PiBkZWZpbmVkICRpbmZvLT57Q2VsbHVsYXJBY2NvdW50TnVtYmVyfSA/ICRpbmZvLT57Q2VsbHVsYXJBY2NvdW50TnVtYmVyfSA6ICIiLA0KICAgICAgICAgICAgU3RyZWV0TmFtZSA9PiBkZWZpbmVkICRpbmZvLT57U3RyZWV0TmFtZX0gPyAkaW5mby0+e1N0cmVldE5hbWV9IDogIiIsDQogICAgICAgICAgICBQbGFjZU5hbWUgPT4gZGVmaW5lZCAkaW5mby0+e1BsYWNlTmFtZX0gPyAkaW5mby0+e1BsYWNlTmFtZX0gOiAiIiwNCiAgICAgICAgICAgIEFyZWFOYW1lID0+IGRlZmluZWQgJGluZm8tPntBcmVhTmFtZX0gPyAkaW5mby0+e0FyZWFOYW1lfSA6ICIiLA0KICAgICAgICAgICAgQ291bnRyeU5hbWUgPT4gZGVmaW5lZCAkaW5mby0+e0NvdW50cnlOYW1lfSA/ICRpbmZvLT57Q291bnRyeU5hbWV9IDogIiIsDQogICAgICAgICk7DQogICAgICAgIG15ICRKU09OID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5KU09OKA0KICAgICAgICAgICAgRGF0YSAgPT4gXCVyZXQgKTsNCiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QXR0YWNobWVudCgNCiAgICAgICAgICAgIENvbnRlbnRUeXBlID0+ICd0ZXh0L3BsYWluOyBjaGFyc2V0PScgLiAkU2VsZi0+e0xheW91dE9iamVjdH0tPntDaGFyc2V0fSwNCiAgICAgICAgICAgIENvbnRlbnQgICAgID0+ICRKU09OLA0KICAgICAgICAgICAgVHlwZSAgICAgICAgPT4gJ2lubGluZScsDQogICAgICAgICAgICBOb0NhY2hlICAgICA9PiAxLA0KICAgICAgICApOyAgIA0KICAgIH0NCiAgICBlbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnQWpheENvbW1lbnRzVGVtcGxhdGVzJyApIHsNCgkgICAgbXkgJFJlc3VsdCA9ICIiOw0KCQlteSAkSlNPTjsNCgkJbXkgJEpTT05SZXN1bHQ7DQoJICAgIGlmICgkU2VsZi0+e0NhY2hlT2JqZWN0fSkgew0KCSAgICAJJFJlc3VsdCA9ICRTZWxmLT57Q2FjaGVPYmplY3R9LT5HZXQoDQoJCSAgICAJCVR5cGUJPT4gJ0ZpZWxkVHJlZScsDQoJCQkJCUtleSA9PiAnQWpheENvbW1lbnRzVGVtcGxhdGVzJywNCgkgICAgCSk7DQoJICAgIH0NCgkgICAgaWYgKCRSZXN1bHQpIHsNCgkgICAgCSRKU09OUmVzdWx0ID0gJFJlc3VsdDsNCgkJfQ0KCQllbHNlIHsNCgkgICAgDQoJICAgICAgICANCgkgICAgICAgIG15ICVDb21tZW50c1RlbXBsYXRlczsNCgkgICAgICAgIA0KCSAgICAgICAgDQoJICAgICAgICAjIEdldCBTTVMgdGVtcGxhdGVzDQoJICAgICAgICANCgkgICAgICAgIG15ICRTTVMgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1HZXQoDQoJICAgICAgICAgICAgQ2xhc3MgPT4gJ1RlbXBsYXRlcycsDQoJICAgICAgICAgICAgTmFtZSAgPT4gJ1NNUycsDQoJICAgIAkpOw0KCSAgICAJDQoJICAgIAlpZiAoJFNNUykgeyANCgkgICAgCQkgICAgCQ0KCQkgICAgCW15ICRTTVNUZW1wbGF0ZXNHcm91cHMgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1MaXN0KA0KCQkJICAgICAgICBDbGFzcyAgICA9PiAnVGVtcGxhdGVzJywNCgkJCSAgICAgICAgUGFyZW50SUQgPT4gJFNNUy0+e0l0ZW1JRH0sCSAgICAgICAgDQoJCQkgICAgKTsNCgkJCSAgICAJICAgIA0KCQkJICAgIG15ICVUZW1wbGF0ZXNHcm91cHM7CSAgICANCgkJCSAgICB3aGlsZSAoKG15ICRTVEdJdGVtSUQsIG15ICRTVEdOYW1lKSA9IGVhY2goJSRTTVNUZW1wbGF0ZXNHcm91cHMpKXsNCgkJCSAgICAgICAgDQoJCQkgICAgICAgIA0KCQkJICAgICAgICBteSAkU3ViR3JvdXBzID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5JdGVtTGlzdCgNCgkJCSAgICAgICAgICAgICAgQ2xhc3MgICAgPT4gJ1RlbXBsYXRlcycsDQoJCQkgICAgICAgICAgICAgIFBhcmVudElEID0+ICRTVEdJdGVtSUQsCQkgICAgICAgIA0KCQkJICAgICAgICApOw0KCQkJICAgICAgICBteSAlVGVtcGxhdGVzU3ViR3JvdXBzOw0KCQkJICAgICAgICB3aGlsZSAoKG15ICRTVFNHSXRlbUlELCBteSAkU1RTR05hbWUpID0gZWFjaCglJFN1Ykdyb3VwcykpIHsNCgkJCSAgICAgICAgCQ0KCQkJICAgICAgICAJbXkgJFNNU1RlbXBsYXRlcyA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRMaXN0KA0KCSAgICAgICAgICAgICAgICAgICAgICAgIEZpZWxkVHJlZUlEID0+ICRTVFNHSXRlbUlELA0KCSAgICAgICAgICAgICAgICAgICAgKTsNCgkgICAgICAgICAgICAgICAgICAgIG15ICVUZW1wbGF0ZXM7DQoJICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG15ICRTVEZpZWxkSUQsIG15ICRTVEZpZWxkTmFtZSkgPSBlYWNoKCUkU01TVGVtcGxhdGVzKSkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgIG15ICRTTVNUZW1wbGF0ZSA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRHZXQoDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpZWxkSUQgID0+ICRTVEZpZWxkSUQsDQoJICAgICAgICAgICAgICAgICAgICAgICAgKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAkVGVtcGxhdGVzeyRTTVNUZW1wbGF0ZS0+e05hbWV9fSA9ICRTTVNUZW1wbGF0ZS0+e1RlbXBsYXRlfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQoJICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICANCgkgICAgICAgICAgICAgICANCgkgICAgICAgICAgICAgICAgICAgJFRlbXBsYXRlc1N1Ykdyb3Vwc3skU1RTR05hbWV9ID0gXCVUZW1wbGF0ZXM7DQoJCQkgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgDQoJCQkJICAgICRUZW1wbGF0ZXNHcm91cHN7JFNUR05hbWV9ID0gXCVUZW1wbGF0ZXNTdWJHcm91cHM7DQoJCQkJfQ0KCQkJCSRDb21tZW50c1RlbXBsYXRlc3tTTVN9ID0gXCVUZW1wbGF0ZXNHcm91cHM7CQ0KCQkJDQoJICAgIAl9DQoJCQkNCgkJCSMgR2V0IFdlYmNhcmUgdGVtcGxhdGVzDQoJCQkNCgkJCW15ICRXZWJjYXJlID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5JdGVtR2V0KA0KCSAgICAgICAgICAgIENsYXNzID0+ICdUZW1wbGF0ZXMnLA0KCSAgICAgICAgICAgIE5hbWUgID0+ICdXZWJjYXJlJywNCgkgICAgCSk7DQoJICAgIAkNCgkgICAgCWlmICgkV2ViY2FyZSkgew0KCSAgICAJDQoJCSAgICAJbXkgJFdlYmNhcmVUZW1wbGF0ZXNHcm91cHMgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1MaXN0KA0KCQkJICAgICAgICBDbGFzcyAgICAgICAgID0+ICdUZW1wbGF0ZXMnLA0KCQkJICAgICAgICBQYXJlbnRJRCA9PiAkV2ViY2FyZS0+e0l0ZW1JRH0sCSAgICAgICAgDQoJCQkgICAgKTsNCgkJCSAgICAJICAgIA0KCQkJICAgIG15ICVUZW1wbGF0ZXNHcm91cHM7CSAgICANCgkJCSAgICB3aGlsZSAoKG15ICRTVEdJdGVtSUQsIG15ICRTVEdOYW1lKSA9IGVhY2goJSRXZWJjYXJlVGVtcGxhdGVzR3JvdXBzKSl7DQoJCQkgICAgICAgIA0KCQkJICAgICAgICANCgkJCSAgICAgICAgCSAgICAgICAgDQoJCQkgICAgICAgIG15ICRXZWJjYXJlVGVtcGxhdGVzID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5GaWVsZExpc3QoDQoJCQkJICAgICAgICBGaWVsZFRyZWVJRCA9PiAkU1RHSXRlbUlELA0KCQkJCSAgICApOw0KCQkJCSAgICBteSAlVGVtcGxhdGVzOw0KCQkJCSAgICB3aGlsZSAoKG15ICRTVEZpZWxkSUQsIG15ICRTVEZpZWxkTmFtZSkgPSBlYWNoKCUkV2ViY2FyZVRlbXBsYXRlcykpIHsNCgkJCQkgICAgICAgIG15ICRXZWJjYXJlVGVtcGxhdGUgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkZpZWxkR2V0KA0KCQkJCQkgICAgICAgIEZpZWxkSUQgID0+ICRTVEZpZWxkSUQsDQoJCQkJCSAgICApOw0KCQkJCQkgICAgJFRlbXBsYXRlc3skV2ViY2FyZVRlbXBsYXRlLT57TmFtZX19ID0gJFdlYmNhcmVUZW1wbGF0ZS0+e1RlbXBsYXRlfTsJCQkgICAgDQoJCQkJCSAgICANCgkJCQkgICAgfQkJICAgICAgICANCgkJCSAgICAgICAgDQoJCQkgICAgICAgICRUZW1wbGF0ZXNHcm91cHN7JFNUR05hbWV9ID0gXCVUZW1wbGF0ZXM7CSAgICAgICAgICAgICAgICANCgkJCQkgICAgDQoJCQkJfQ0KCQkJCSRDb21tZW50c1RlbXBsYXRlc3tXZWJjYXJlfSA9IFwlVGVtcGxhdGVzR3JvdXBzOw0KCQkJDQoJICAgIAl9DQoJCQkJCQ0KCQkgIAkNCgkgICAgICAgICRKU09OID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5KU09OKA0KCSAgICAgICAgICAgIERhdGEgID0+IFwlQ29tbWVudHNUZW1wbGF0ZXMgKTsNCg0KCSAgICAgICAgJEpTT05SZXN1bHQgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkF0dGFjaG1lbnQoDQoJICAgICAgICAgICAgQ29udGVudFR5cGUgPT4gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9JyAuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+e0NoYXJzZXR9LA0KCSAgICAgICAgICAgIENvbnRlbnQgICAgID0+ICRKU09OLA0KCSAgICAgICAgICAgIFR5cGUgICAgICAgID0+ICdpbmxpbmUnLA0KCSAgICAgICAgKTsNCg0KCSAgICAgICAgDQoJCQlpZiAoJFNlbGYtPntDYWNoZU9iamVjdH0pIHsNCgkJCSAgIAkkUmVzdWx0ID0gJFNlbGYtPntDYWNoZU9iamVjdH0tPlNldCgNCgkJCSAgICAJCVR5cGUJPT4gJ0ZpZWxkVHJlZScsDQoJCQkJCQlLZXkgPT4gJ0FqYXhDb21tZW50c1RlbXBsYXRlcycsDQoJCQkJCQlWYWx1ZSA9PiAkSlNPTlJlc3VsdCwgICAgCQkNCgkJCSAgICAJKTsNCgkJICAgICB9DQoJICAgIH0NCg0KICAgICAgICByZXR1cm4gJEpTT05SZXN1bHQ7DQogICAgfSAgIA0KfQ0KDQoxOw0KICAgIA==</File>
        <File Location="Kernel/Output/HTML/Standard/AdminFieldTree.dtl" Permission="664" Encode="Base64">IyAtLQojIEFkbWluRmllbGRUcmVlLmR0bCAtIHByb3ZpZGVzIEhUTUwgZm9ybSBmb3IgRmllbGRUcmVlIGFkbWluaXN0cmF0aW9uCiMgQ29weXJpZ2h0IChDKSAyMDEwLTIwMTIgQXR2aXJvIGtvZG8gc3ByZW5kaW1haSwgaHR0cDovL2Frc3ByZW5kaW1haS5sdC8KIyAtLQojICRJZDogQWRtaW5GaWVsZFRyZWUuZHRsLHYgMS43IDIwMDkvMDUvMTggMDk6NDA6NDcgbWggRXhwICQKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3IC0tPgo8ZGl2IGNsYXNzPSJNYWluQm94IEFSSUFSb2xlTWFpbiBMYXlvdXRGaXhlZFNpZGViYXIgU2lkZWJhckZpcnN0Ij4KICAgIDxoMT4kVGV4dHsiRmllbGQgVHJlZSBNYW5hZ2VtZW50In08L2gxPgogICAgCiAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CiAgICAKICAgIDxkaXYgY2xhc3M9IlNpZGViYXJDb2x1bW4iPgoJPGRpdiBjbGFzcz0iV2lkZ2V0U2ltcGxlIj4KCSAgICA8ZGl2IGNsYXNzPSJIZWFkZXIiPgoJCTxoMj4kVGV4dHsiQWN0aW9ucyJ9PC9oMj4KCSAgICA8L2Rpdj4KCSAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KCQk8dWwgY2xhc3M9IkFjdGlvbkxpc3QiPgoJCSAgICA8bGk+CgkJCSAgICA8Zm9ybSBhY3Rpb249IiRFbnZ7IkNHSUhhbmRsZSJ9IiBtZXRob2Q9ImdldCI+CgkJICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iQWN0aW9uIiB2YWx1ZT0iJEVudnsiQWN0aW9uIn0iPgoJCSAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlN1YmFjdGlvbiIgdmFsdWU9Ikl0ZW1FZGl0Ij4KCQkgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJJdGVtSUQiIHZhbHVlPSJORVciPgoJCSAgICAgICAgICAgIAoJCSAgICAgICAgICAgIDxkaXY+JERhdGF7IkNsYXNzT3B0aW9uU3RyZyJ9PC9kaXY+CgkJICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iQ2FsbEZvckFjdGlvbiBQbHVzIiB0eXBlPSJzdWJtaXQiIHZhbHVlPSIkVGV4dHsiQWRkIn0iPgoJCSAgICAgICAgCTxzcGFuPiRUZXh0eyJBZGQgRmllbGQgVHJlZSBJdGVtIn08L3NwYW4+CgkJICAgIAkgICAgPC9idXR0b24+CgkJICAgIAk8L2Zvcm0+CgkJICAgIDwvbGk+CgkJICAgIDxsaT4KCQkJICAgIDxmb3JtIGFjdGlvbj0iJEVudnsiQ0dJSGFuZGxlIn0iIG1ldGhvZD0iZ2V0Ij4KCQkgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJBY3Rpb24iIHZhbHVlPSIkRW52eyJBY3Rpb24ifSI+CgkJICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iU3ViYWN0aW9uIiB2YWx1ZT0iSXRlbUVkaXQiPgoJCSAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9Ikl0ZW1JRCIgdmFsdWU9Ik5FVyI+CgkJICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iQ2xhc3MiIHZhbHVlPSJORVciPgoJCSAgICAgICAgICAgIAoJCSAgICAgICAgICAgIDxidXR0b24gY2xhc3M9IkNhbGxGb3JBY3Rpb24gUGx1cyIgdHlwZT0ic3VibWl0IiB2YWx1ZT0iJFRleHR7IkFkZCJ9Ij4KCQkgICAgICAgIAk8c3Bhbj4kVGV4dHsiQWRkIGEgbmV3IEZpZWxkVHJlZSBDbGFzcy4ifTwvc3Bhbj4KCQkgICAgICAgICAgICA8L2J1dHRvbj4KCQkgICAgICAgIDwvZm9ybT4KCQkgICAgPC9saT4KCQk8L3VsPgoJICAgIDwvZGl2PgoJPC9kaXY+CiAgICA8L2Rpdj4KICAgIAogICAgPGRpdiBjbGFzcz0iQ29udGVudENvbHVtbiI+Cgk8ZGl2IGNsYXNzPSJXaWRnZXRTaW1wbGUiPgo8IS0tIGR0bDpibG9jazpPdmVydmlld0NsYXNzIC0tPgoJICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+CgkJPGgyPiRUZXh0eyJMaXN0In08L2gyPgoJICAgIDwvZGl2PgoJICAgIDxkaXYgY2xhc3M9IkNvbnRlbnQiPgoJCTx0YWJsZSBjbGFzcz0iRGF0YVRhYmxlIj4KCQkgICAgPHRoZWFkPgoJCQk8dHI+CgkJCSAgICA8dGg+JFRleHR7IkZpZWxkIFRyZWUgQ2xhc3MifTwvdGg+CgkJCTwvdHI+CgkJICAgIDwvdGhlYWQ+CgkJICAgIDx0Ym9keT4KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdDbGFzc0xpc3QgLS0+CgkJCTx0cj4KCQkJICAgIDx0ZD4KCQkJCTxhIGNsYXNzPSJBc0Jsb2NrIiBocmVmPSIkRW52eyJCYXNlbGluayJ9QWN0aW9uPSRFbnZ7IkFjdGlvbiJ9JlN1YmFjdGlvbj1JdGVtTGlzdCZDbGFzcz0kTFFEYXRheyJDbGFzcyJ9Ij4KCQkJCSRRRGF0YXsiQ2xhc3MifQoJCQkJPC9hPgoJCQkgICAgPC90ZD4KCQkJPC90cj4KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdDbGFzc0xpc3QgLS0+CgkJICAgIDwvdGJvZHk+CgkJPC90YWJsZT4KCSAgICA8L2Rpdj4KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdDbGFzcyAtLT4KCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3SXRlbSAtLT4KCSAgICA8ZGl2IGNsYXNzPSJIZWFkZXIiPgoJCTxoMj4kVGV4dHsiTGlzdCJ9PC9oMj4KCSAgICA8L2Rpdj4KCSAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KCQk8dGFibGUgY2xhc3M9IkRhdGFUYWJsZSI+CgkJICAgIDx0aGVhZD4KCQkJPHRyPgoJCQkgICAgPHRoIGNsYXNzPSJDZW50ZXIiPiRUZXh0eyJJRCJ9PC90aD4KCQkJICAgIDx0aCBjbGFzcz0iVzQwcGMiPiRUZXh0eyJOYW1lIn08L3RoPgoJCQkgICAgPHRoIGNsYXNzPSJDZW50ZXIiPiRUZXh0eyJQYXJlbnRJRCJ9PC90aD4KCQkJICAgIDx0aCBjbGFzcz0iQ2VudGVyIj4kVGV4dHsiVmFsaWQifTwvdGg+CgkJCTwvdHI+CgkJICAgIDwvdGhlYWQ+CgkJICAgIDx0Ym9keT4KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdJdGVtTGlzdCAtLT4KCQkJPHRyPgoJCQkgICAgPHRkIGNsYXNzPSJDZW50ZXIiPiRRRGF0YXsiSXRlbUlEIn08L3RkPgoJCQkgICAgPHRkPgoJCQkJPGEgaHJlZj0iJEVudnsiQmFzZWxpbmsifUFjdGlvbj0kRW52eyJBY3Rpb24ifSZTdWJhY3Rpb249SXRlbUVkaXQmSXRlbUlEPSRRRGF0YXsiSXRlbUlEIn0iPgoJCSAgICAgICAgICAgICAgICAgICRRRGF0YXsiTmFtZSJ9CgkJICAgICAgICAgICAgICAgIDwvYT4KCQkgICAgICAgICAgICA8L3RkPgoJCSAgICAgICAgICAgIDx0ZCBjbGFzcz0iQ2VudGVyIj4kUURhdGF7IlBhcmVudElEIn08L3RkPgoJCSAgICAgICAgICAgIDx0ZCBjbGFzcz0iQ2VudGVyIj4kVGV4dHsiJFFEYXRheyJWYWxpZCJ9In08L3RkPgoJCSAgICAgICAgPC90cj4KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdJdGVtTGlzdCAtLT4KCQkgICAgPC90Ym9keT4KCQk8L3RhYmxlPgoJICAgIDwvZGl2Pgo8IS0tIGR0bDpibG9jazpPdmVydmlld0l0ZW0gLS0+Cgo8IS0tIGR0bDpibG9jazpJdGVtRWRpdCAtLT4KCSAgICA8ZGl2IGNsYXNzPSJIZWFkZXIiPgoJCTxoMj4kVGV4dHsiSXRlbSJ9ICRUZXh0eyJFZGl0In06PC9oMj4KCSAgICA8L2Rpdj4KCSAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KCQk8Zm9ybSBhY3Rpb249IiRFbnZ7IkNHSUhhbmRsZSJ9IiBtZXRob2Q9ImdldCIgY2xhc3M9IlZhbGlkYXRlIj4KCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iQWN0aW9uIiB2YWx1ZT0iJEVudnsiQWN0aW9uIn0iPgoJCSAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJTdWJhY3Rpb24iIHZhbHVlPSJJdGVtU2F2ZSI+CgkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9Ikl0ZW1JRCIgdmFsdWU9IiRRRGF0YXsiSXRlbUlEIn0iPgoJCSAgICA8ZmllbGRzZXQgY2xhc3M9IlRhYmxlTGlrZSI+CjwhLS0gZHRsOmJsb2NrOkl0ZW1FZGl0Q2xhc3NBZGQgLS0+CgkJCTxsYWJlbCBjbGFzcz0iTWFuZGF0b3J5IiBmb3I9IkNsYXNzRHNjIj48c3BhbiBjbGFzcz0iTWFya2VyIj4qPC9zcGFuPiRUZXh0eyJGaWVsZCBUcmVlIENsYXNzIn08L2xhYmVsPgoJCQk8ZGl2IGNsYXNzPSJGaWVsZCI+CgkJCSAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iQ2xhc3MiIGlkPSJDbGFzc0RzYyIgdmFsdWU9IiRRRGF0YXsiTmFtZSJ9IiBzaXplPSJXNTBwYyBWYWxpZGF0ZV9SZXF1aXJlZCIgbWF4bGVuZ3RoPSIxMDAiIC8+CgkJCSAgICA8ZGl2IGlkPSJDbGFzc0RzY0Vycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIn08L3A+PC9kaXY+CgkJCSAgICA8ZGl2IGlkPSJDbGFzc0RzY1NlcnZlckVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIn08L3A+PC9kaXY+CgkJCTwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CjwhLS0gZHRsOmJsb2NrOkl0ZW1FZGl0Q2xhc3NBZGQgLS0+CjwhLS0gZHRsOmJsb2NrOkl0ZW1FZGl0Q2xhc3NFeGlzdCAtLT4KCQkJPGxhYmVsPiRUZXh0eyJGaWVsZCBUcmVlIENsYXNzIn06IDwvbGFiZWw+CgkJCTxkaXYgY2xhc3M9IkZpZWxkIj4KCQkJICAgICRRRGF0YXsiQ2xhc3MifQoJCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iQ2xhc3MiIHZhbHVlPSIkUURhdGF7IkNsYXNzIn0iPgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2Pgo8IS0tIGR0bDpibG9jazpJdGVtRWRpdENsYXNzRXhpc3QgLS0+CgkJCTxsYWJlbCBjbGFzcz0iTWFuZGF0b3J5IiBmb3I9Ik5hbWUiPjxzcGFuIGNsYXNzPSJNYXJrZXIiPio8L3NwYW4+JFRleHR7Ik5hbWUifTogPC9sYWJlbD4KCQkJPGRpdiBjbGFzcz0iRmllbGQiPgoJCQkgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Ik5hbWUiIGlkPSJOYW1lIiB2YWx1ZT0iJFFEYXRheyJOYW1lIn0iIGNsYXNzPSJXNTBwYyBWYWxpZGF0ZV9SZXF1aXJlZCIgbWF4bGVuZ3RoPSIyNTUiLz4KCQkJICAgIDxkaXYgaWQ9Ik5hbWVFcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPjxwPiRUZXh0eyJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLiJ9PC9wPjwvZGl2PgoJCQkgICAgPGRpdiBpZD0iTmFtZVNlcnZlckVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIn08L3A+PC9kaXY+CgkJCTwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CgkJCQoJCQk8bGFiZWwgZm9yPSJGcmllbmRseU5hbWUiPiRUZXh0eyJGcmllbmRseSBOYW1lIn06IDwvbGFiZWw+CgkJCTxkaXYgY2xhc3M9IkZpZWxkIj4KCQkJICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJGcmllbmRseU5hbWUiIGlkPSJGcmllbmRseU5hbWUiIHZhbHVlPSIkUURhdGF7IkZyaWVuZGx5TmFtZSJ9IiBjbGFzcz0iVzUwcGMiIG1heGxlbmd0aD0iMTAwMCIvPgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQkKCQkJPGxhYmVsIGZvcj0iQ3NzQ2xhc3MiPiRUZXh0eyJDc3MgQ2xhc3MifTogPC9sYWJlbD4KCQkJPGRpdiBjbGFzcz0iRmllbGQiPgoJCQkgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9IkNzc0NsYXNzIiBpZD0iQ3NzQ2xhc3MiIHZhbHVlPSIkUURhdGF7IkNzc0NsYXNzIn0iIGNsYXNzPSJXNTBwYyIgbWF4bGVuZ3RoPSIzMCIvPgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQkKCQkJPGxhYmVsIGZvcj0iUGFyZW50SUQiPiRUZXh0eyJQYXJlbnRJRCJ9OiA8L2xhYmVsPgoJCQk8ZGl2IGNsYXNzPSJGaWVsZCI+CgkJCSAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iUGFyZW50SUQiIGlkPSJQYXJlbnRJRCIgdmFsdWU9IiRRRGF0YXsiUGFyZW50SUQifSIgY2xhc3M9Ilc1MHBjIFZhbGlkYXRlX1Bvc2l0aXZlTmVnYXRpdmVOdW1iZXJzIiBtYXhsZW5ndGg9IjQ1IiByZWFkb25seS8+CgkJCSAgICA8ZGl2IGlkPSJQYXJlbnRJREVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IlRoaXMgZmllbGQgbXVzdCBiZSBudW1lcmljLiJ9PC9wPjwvZGl2PgoJCQkgICAgPGRpdiBpZD0iUGFyZW50SURTZXJ2ZXJFcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPjxwPiRUZXh0eyJUaGlzIG11c3QgYmUgYSB2YWxpZCBGaWVsZCBUcmVlIGJyYW5jaCBJRCBvciAtMS4ifTwvcD48L2Rpdj4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCQkJCgkJCTxsYWJlbCBmb3I9IkZQb3NpdGlvbiI+JFRleHR7IlBvc2l0aW9uIn06IDwvbGFiZWw+CgkJCTxkaXYgY2xhc3M9IkZpZWxkIj4KCQkJICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJQb3NpdGlvbiIgaWQ9IkZQb3NpdGlvbiIgdmFsdWU9IiRRRGF0YXsiUG9zaXRpb24ifSIgY2xhc3M9Ilc1MHBjIFZhbGlkYXRlX051bWJlciIgbWF4bGVuZ3RoPSIxMDAiLz4KCQkJICAgIDxkaXYgaWQ9IkZQb3NpdGlvbkVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IlRoaXMgZmllbGQgbXVzdCBiZSBudW1lcmljLiJ9PC9wPjwvZGl2PgoJCQkgICAgPGRpdiBpZD0iRlBvc2l0aW9uU2VydmVyRXJyb3IiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj48cD4kVGV4dHsiVGhpcyBmaWVsZCBtdXN0IGJlIG51bWVyaWMuIn08L3A+PC9kaXY+CgkJCTwvZGl2PgoJCQkJCQkKCQkJCQkJCgkJCQkJCQoJCQkJCQkKCQkJPGxhYmVsIGZvcj0iVmFsaWRJRCI+JFRleHR7IlZhbGlkIn06IDwvbGFiZWw+CgkJCTxkaXYgY2xhc3M9IkZpZWxkIj4KCQkJICAgICREYXRheyJWYWxpZE9wdGlvblN0cmcifQoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQkKCQkJPGxhYmVsIGZvcj0iQ29tbWVudCI+JFRleHR7IkNvbW1lbnQifTogPC9sYWJlbD4KCQkJPGRpdiBjbGFzcz0iRmllbGQiPgoJCQkgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9IkNvbW1lbnQiIGlkPSJDb21tZW50IiB2YWx1ZT0iJFFEYXRheyJDb21tZW50In0iIGNsYXNzPSJXNTBwYyIgbWF4bGVuZ3RoPSIyMDAwIi8+CgkJCTwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CgkJCQoJCQk8ZGl2IGNsYXNzPSJGaWVsZCBTcGFjaW5nVG9wIj4KCQkJICAgIDxidXR0b24gY2xhc3M9IlByaW1hcnkiIHR5cGU9InN1Ym1pdCIgaWQ9IlN1Ym1pdCIgdmFsdWU9IiRUZXh0eyJTdWJtaXQifSI+JFRleHR7IlN1Ym1pdCJ9PC9idXR0b24+CgkJCSAgICAkVGV4dHsib3IifQoJCQkgICAgPGEgaHJlZj0iJEVudnsiQmFzZWxpbmsifUFjdGlvbj0kRW52eyJBY3Rpb24ifSI+JFRleHR7IkNhbmNlbCJ9PC9hPgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQkKCQkgICAgPC9maWVsZHNldD4KCQk8L2Zvcm0+CgkgICAgPC9kaXY+Cgo8IS0tIGR0bDpibG9jazpPdmVydmlld0NoaWxkSXRlbXMgLS0+CgkgICAgPGRpdiBjbGFzcz0iSGVhZGVyIj4KCQk8aDI+JFRleHR7IkNoaWxkIG5vZGVzIn06PC9oMj4KCSAgICA8L2Rpdj4KCSAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KCSAgICAKCQk8dGFibGUgY2xhc3M9IkRhdGFUYWJsZSI+CgkJICAgIDx0aGVhZD4KCQkJPHRyPgoJCQkgICAgPHRoIGNsYXNzPSJDZW50ZXIiPiRUZXh0eyJJRCJ9PC90aD4KCQkJICAgIDx0aCBjbGFzcz0iVzYwcGMiPiRUZXh0eyJOYW1lIn08L3RoPgoJCQkgICAgPHRoIGNsYXNzPSJDZW50ZXIiPiRUZXh0eyJWYWxpZCJ9PC90aD4KCQkJPC90cj4KCQkgICAgPC90aGVhZD4KCQkgICAgPHRib2R5Pgo8IS0tIGR0bDpibG9jazpPdmVydmlld0NoaWxkSXRlbUxpc3QgLS0+CgkJCTx0cj4KCQkJICAgIDx0ZCBjbGFzcz0iQ2VudGVyIj4kUURhdGF7Ikl0ZW1JRCJ9PC90ZD4KCQkJICAgIDx0ZD4KCQkJCTxhIGhyZWY9IiRFbnZ7IkJhc2VsaW5rIn1BY3Rpb249JEVudnsiQWN0aW9uIn0mU3ViYWN0aW9uPUl0ZW1FZGl0Jkl0ZW1JRD0kUURhdGF7Ikl0ZW1JRCJ9Ij4KCQkJCSAgICAkUURhdGF7Ik5hbWUifQoJCQkJPC9hPgoJCQkgICAgPC90ZD4KCQkJICAgIDx0ZCBjbGFzcz0iQ2VudGVyIj4kVGV4dHsiJFFEYXRheyJWYWxpZCJ9In08L3RkPgoJCQk8L3RyPgo8IS0tIGR0bDpibG9jazpPdmVydmlld0NoaWxkSXRlbUxpc3QgLS0+CgkJICAgIDwvdGJvZHk+CgkJPC90YWJsZT4KCQk8ZGl2IGNsYXNzPSJGaWVsZCBTcGFjaW5nVG9wIj4KCQkgICAgPGZvcm0gYWN0aW9uPSIkRW52eyJDR0lIYW5kbGUifSIgbWV0aG9kPSJnZXQiPgoJCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iQWN0aW9uIiB2YWx1ZT0iJEVudnsiQWN0aW9uIn0iPgoJCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iU3ViYWN0aW9uIiB2YWx1ZT0iSXRlbUVkaXQiPgoJCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iSXRlbUlEIiB2YWx1ZT0iTkVXIj4KCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkNsYXNzIiB2YWx1ZT0iJFFEYXRheyJDbGFzcyJ9Ij4KCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlBhcmVudElEIiB2YWx1ZT0iJFFEYXRheyJJdGVtSUQifSI+CgkJCSAgICA8YnV0dG9uIGNsYXNzPSJQcmltYXJ5IiB0eXBlPSJzdWJtaXQiIGlkPSJBZGROZXdDaGlsZE5vZGUiIHZhbHVlPSIkVGV4dHsiQWRkIG5ldyBjaGlsZCBub2RlIn0iPiRUZXh0eyJBZGQgbmV3IGNoaWxkIG5vZGUifTwvYnV0dG9uPgoJCSAgICA8L2Zvcm0+CgkJPC9kaXY+CgkgICAgPC9kaXY+CjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3Q2hpbGRJdGVtcyAtLT4KCjwhLS0gZHRsOmJsb2NrOkZpZWxkRWRpdCAtLT4KCSAgICA8ZGl2IGNsYXNzPSJIZWFkZXIiPgoJCTxoMj4kVGV4dHsiRmllbGQifSAkVGV4dHsiRWRpdCJ9PC9oMj4KCSAgICA8L2Rpdj4KCSAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KCQk8ZGl2IGNsYXNzPSJoaWRkZW4tdGVtcGxhdGVzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgoJCSAgICA8c3BhbiBpZD0iVGVtcGxhdGVDYXB0aW9uX0RlZmF1bHQiPiRUZXh0eyJUZW1wbGF0ZSJ9Ojwvc3Bhbj48ZGl2IGlkPSJUZW1wbGF0ZV9EZWZhdWx0Ij48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iVGVtcGxhdGUiIHZhbHVlPSIkUURhdGF7IlRlbXBsYXRlIn0iIHNpemU9IjQ1IiBtYXhsZW5ndGg9IjEwMCI+PC9kaXY+CgkJICAgIDxzcGFuIGlkPSJUZW1wbGF0ZUNhcHRpb25fU2VsZWN0Ij4kVGV4dHsiR2VuZXJhbCBDYXRhbG9nIGNsYXNzIn06PC9zcGFuPjxkaXYgaWQ9IlRlbXBsYXRlX1NlbGVjdCI+JERhdGF7IkNsYXNzT3B0aW9uU3RyZyJ9PC9kaXY+CgkJICAgIDxzcGFuIGlkPSJUZW1wbGF0ZUNhcHRpb25fUnVsZUVzY2FsYXRlVG8iPiRUZXh0eyJRdWV1ZSJ9Ojwvc3Bhbj48ZGl2IGlkPSJUZW1wbGF0ZV9SdWxlRXNjYWxhdGVUbyI+JERhdGF7IlF1ZXVlU3RyIn08L2Rpdj4KICAgICAgICAgICAgPHNwYW4gaWQ9IlRlbXBsYXRlQ2FwdGlvbl9SdWxlUmVkbWluZVByb2plY3RJRCI+JFRleHR7IlJlZG1pbmUgcHJvamVjdCBpZCJ9Ojwvc3Bhbj48ZGl2IGlkPSJUZW1wbGF0ZV9SdWxlUmVkbWluZVByb2plY3RJRCI+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9IlRlbXBsYXRlIiBjbGFzcz0iVmFsaWRhdGVfTnVtYmVyIiB2YWx1ZT0iJFFEYXRheyJUZW1wbGF0ZSJ9IiBzaXplPSI0NSIgbWF4bGVuZ3RoPSIxMDAiPjwvZGl2PgogICAgICAgICAgICA8c3BhbiBpZD0iVGVtcGxhdGVDYXB0aW9uX1J1bGVDb21tZW50Ij4kVGV4dHsiQ29tbWVudCB0ZW1wbGF0ZSJ9Ojwvc3Bhbj48ZGl2IGlkPSJUZW1wbGF0ZV9SdWxlQ29tbWVudCI+PHRleHRhcmVhIG5hbWU9IlRlbXBsYXRlIiBzdHlsZT0id2lkdGg6IDUwMHB4OyBoZWlnaHQ6IDIwMHB4OyI+JERhdGF7IlRlbXBsYXRlIn08L3RleHRhcmVhPgoJCQk8aDM+UG9zc2libGUgdGFnczo8L2gzPgoJCQk8ZGw+CgkJCSAgICA8ZHQ+T1RSU19UUkVFXyZsdDtGaWVsZElEJmd0OzwvZHQ+CgkJCSAgICA8ZGQ+RmllbGQgZnJvbSBmaWVsZCB0cmVlIHZhbHVlPC9kZD4KCQkJICAgIDxkdD5PVFJTX1RJQ0tFVF9JRDwvZHQ+CgkJCSAgICA8ZGQ+VGlja2V0IElEPC9kZD4KCQkJICAgIDxkdD5PVFJTX1RJQ0tFVF9OVU1CRVI8L2R0PgoJCQkgICAgPGRkPlRpY2tldCBudW1iZXI8L2RkPgoJCQkgICAgPGR0Pk9UUlNfUVVFVUU8L2R0PgoJCQkgICAgPGRkPlRpY2tldCBRdWV1ZTwvZGQ+CgkJCSAgICA8ZHQ+T1RSU19GSVJTVF9OQU1FPC9kdD4KCQkJICAgIDxkZD5GaXJzdCBuYW1lIG9mIHBlcnNvbiwgY3JlYXRpbmcgYSB0aWNrZXQ8L2RkPgoJCQkgICAgPGR0Pk9UUlNfTEFTVF9OQU1FPC9kdD4KCQkJICAgIDxkZD5MYXN0IG5hbWUgb2YgcGVyc29uLCBjcmVhdGluZyBhIHRpY2tldDwvZGQ+CgkJCSAgICA8ZHQ+T1RSU19USUNLRVRfKjwvZHQ+CgkJCSAgICA8ZGQ+QWxsIHRpY2tldCBwcm9wZXJ0aWVzIChUaG9zZSBwcm9wZXJ0aWVzIGFyZTogTiYjNDc7QSk8L2RkPgoJCQkgICAgPGR0Pk9UUlNfQ1VSUkVOVF8qPC9kdD4KCQkJICAgIDxkZD5BbGwgY3VycmVudCB1c2VyIHByb3BlcnRpZXMgKFRob3NlIGFyZTogVXNlckZpcnN0bmFtZSBVc2VyTGFzdG5hbWUgVXNlckxvZ2luIFVzZXJFbWFpbCBWYWxpZElEKTwvZGQ+CgkJCSAgICA8ZHQ+T1RSU19DT05GSUdfKjwvZHQ+CgkJCSAgICA8ZGQ+QWxsIGNvbmZpZyBzZXR0aW5ncyAoRm9yIGFkdmFuY2VkIHVzZXJzKTwvZGQ+CgkJCTwvZGw+CgkJICAgIDwvZGl2PgoJCSAgICA8c3BhbiBpZD0iVGVtcGxhdGVDYXB0aW9uX1VzZXJJbmZvRmV0Y2hlciI+JFRleHR7IlRhcmdldCBmaWVsZHMifTo8L3NwYW4+PGRpdiBpZD0iVGVtcGxhdGVfVXNlckluZm9GZXRjaGVyIj4KCQkJIDx0YWJsZT4KCQkJICAgIDx0cj48dGQgc3R5bGU9IndpZHRoOiAxODBweCI+PGxhYmVsIGZvcj0iVGVtcGxhdGVfVUlGXzEiPiRUZXh0eyJDZWxsdWxhciBhY2NvdW50IG51bWJlciBmaWVsZCBJRCJ9OiA8L2xhYmVsPjwvdGQ+PHRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJUZW1wbGF0ZV9VSUZfQ2VsbHVsYXJBY2NvdW50Tm8iIGlkPSJUZW1wbGF0ZV9VSUZfMSIvPjwvdGQ+PC90cj4KCQkJICAgIDx0cj48dGQ+PGxhYmVsIGZvcj0iVGVtcGxhdGVfVUlGXzIiPiRUZXh0eyJTdHJlZXQgbmFtZSBmaWVsZCBJRCJ9OiA8L2xhYmVsPjwvdGQ+PHRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJUZW1wbGF0ZV9VSUZfU3RyZWV0TmFtZSIgaWQ9IlRlbXBsYXRlX1VJRl8yIi8+PC90ZD48L3RyPgoJCQkgICAgPHRyPjx0ZD48bGFiZWwgZm9yPSJUZW1wbGF0ZV9VSUZfMyI+JFRleHR7IlBsYWNlIG5hbWUgZmllbGQgSUQifTogPC9sYWJlbD48L3RkPjx0ZD48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iVGVtcGxhdGVfVUlGX1BsYWNlTmFtZSIgaWQ9IlRlbXBsYXRlX1VJRl8zIi8+PC90ZD48L3RyPgoJCQkgICAgPHRyPjx0ZD48bGFiZWwgZm9yPSJUZW1wbGF0ZV9VSUZfNCI+JFRleHR7IkFyZWEgbmFtZSBmaWVsZCBJRCJ9OiA8L2xhYmVsPjwvdGQ+PHRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJUZW1wbGF0ZV9VSUZfQXJlYU5hbWUiIGlkPSJUZW1wbGF0ZV9VSUZfNCIvPjwvdGQ+PC90cj4KCQkJICAgIDx0cj48dGQ+PGxhYmVsIGZvcj0iVGVtcGxhdGVfVUlGXzUiPiRUZXh0eyJDb3VudHJ5IG5hbWUgZmllbGQgSUQifTogPC9sYWJlbD48L3RkPjx0ZD48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iVGVtcGxhdGVfVUlGX0NvdW50cnlOYW1lIiBpZD0iVGVtcGxhdGVfVUlGXzUiLz48L3RkPjwvdHI+CgkJCTwvdGFibGU+CgkJICAgIDwvZGl2PgoJCTwvZGl2PgoJCTxmb3JtIGFjdGlvbj0iJEVudnsiQ0dJSGFuZGxlIn0iIG1ldGhvZD0iZ2V0IiBpZD0iRmllbGRFZGl0Rm9ybSI+CgkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkFjdGlvbiIgdmFsdWU9IiRFbnZ7IkFjdGlvbiJ9Ij4KCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iU3ViYWN0aW9uIiB2YWx1ZT0iRmllbGRTYXZlIj4KCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iSXRlbUlEIiB2YWx1ZT0iJFFEYXRheyJGaWVsZFRyZWVJRCJ9Ij4KCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iRmllbGRJRCIgdmFsdWU9IiRRRGF0YXsiRmllbGRJRCJ9Ij4KCQkgICAgPGZpZWxkc2V0IGNsYXNzPSJUYWJsZUxpa2UiPgoJCQk8bGFiZWwgY2xhc3M9Ik1hbmRhdG9yeSIgZm9yPSJGTmFtZSI+PHNwYW4gY2xhc3M9Ik1hcmtlciI+Kjwvc3Bhbj4kVGV4dHsiTmFtZSJ9OiA8L2xhYmVsPgoJCQk8ZGl2IGNsYXNzPSJGaWVsZCI+CgkJCSAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iTmFtZSIgaWQ9IkZOYW1lIiB2YWx1ZT0iJFFEYXRheyJOYW1lIn0iIGNsYXNzPSJXNTBwYyBWYWxpZGF0ZV9SZXF1aXJlZCIgbWF4bGVuZ3RoPSIyNTUiLz4KCQkJICAgIDxkaXYgaWQ9IkZOYW1lRXJyb3IiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj48cD4kVGV4dHsiVGhpcyBmaWVsZCBpcyByZXF1aXJlZC4ifTwvcD48L2Rpdj4KCQkJICAgIDxkaXYgaWQ9IkZOYW1lU2VydmVyRXJyb3IiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj48cD4kVGV4dHsiVGhpcyBmaWVsZCBpcyByZXF1aXJlZC4ifTwvcD48L2Rpdj4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCQkJCjwhLS0gZHRsOmJsb2NrOkZpZWxkRGV0YWlsc0dlbmVyYWwgLS0+CgkJCTxsYWJlbCBmb3I9IkZGcmllbmRseU5hbWUiPiRUZXh0eyJGcmllbmRseSBOYW1lIn06IDwvbGFiZWw+CgkJCTxkaXYgY2xhc3M9IkZpZWxkIj4KCQkJICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJGcmllbmRseU5hbWUiIGlkPSJGRnJpZW5kbHlOYW1lIiB2YWx1ZT0iJFFEYXRheyJGcmllbmRseU5hbWUifSIgY2xhc3M9Ilc1MHBjIiBtYXhsZW5ndGg9IjEwMDAiLz4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCQkJCgkJCTxsYWJlbCBmb3I9IkZpZWxkVHlwZSI+JFRleHR7IkZpZWxkIFR5cGUifTogPC9sYWJlbD4KCQkJPGRpdiBjbGFzcz0iRmllbGQiPgoJCQkgICAgJERhdGF7IkZpZWxkVHlwZXNTdHIifQoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQkKIyBGSVhNRTogS29kZWwgJFFEYXRheyJDaGVja2VkIn0/IFdURiwgZ2FsIGJldCAiUmVxdWlyZWRDaGVja2VkIiByZWlrdHUgdXp2YWRpbnQ/CgkJCTxsYWJlbCBmb3I9IkZSZXF1aXJlZCI+JFRleHR7IlJlcXVpcmVkIn06IDwvbGFiZWw+CgkJCTxkaXYgY2xhc3M9IkZpZWxkIj4KCQkJICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgdmFsdWU9IjEiIG5hbWU9IlJlcXVpcmVkIiBpZD0iRlJlcXVpcmVkIiAkUURhdGF7IkNoZWNrZWQifT4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCQkJCiMgRklYTUU6IEtvZGVsIE5lcmEgImNoZWNrZWQiIG51c3RhdHltbyAobnVzaW11c2EgcmVkYWd1b2phbnQ/KQoJCQk8bGFiZWwgZm9yPSJGSGlkZGVuIj4kVGV4dHsiSGlkZGVuIn06IDwvbGFiZWw+CgkJCTxkaXYgY2xhc3M9IkZpZWxkIj4KCQkJICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgdmFsdWU9IjEiIG5hbWU9IkhpZGRlbiIgaWQ9IkZIaWRkZW4iPgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQk8bGFiZWwgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IiBmb3I9IlRlbXBsYXRlX1NlbGVjdGVkIj4kVGV4dHsiSW5mb3JtYXRpb24ifTogPC9sYWJlbD4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogbm9uZTsiIGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgIAokSW5jbHVkZXsiUmljaFRleHRFZGl0b3IifQogICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9IlRlbXBsYXRlX1NlbGVjdGVkIiBjbGFzcz0iUmljaFRleHQgJFFEYXRheyJSaWNoVGV4dEludmFsaWQifSIgbmFtZT0iVGVtcGxhdGVfU2VsZWN0ZWQiIHRpdGxlPSJNZXNzYWdlIGJvZHkiIHJvd3M9IjE1IiBjb2xzPSIkQ29uZmlneyJUaWNrZXQ6OkZyb250ZW5kOjpUZXh0QXJlYU5vdGUifSI+JFFEYXRheyJUZW1wbGF0ZSJ9PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iVGVtcGxhdGVfU2VsZWN0ZWRFcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+JFRleHR7IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIn08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJUZW1wbGF0ZV9TZWxlY3RlZFNlcnZlckVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4kVGV4dHsiVGhpcyBmaWVsZCBpcyByZXF1aXJlZC4ifTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQkKCQkJPGxhYmVsIGZvcj0iRlRlbXBsYXRlIiBpZD0iVGVtcGxhdGVDYXB0aW9uQ29udGFpbmVyIj4kVGV4dHsiVGVtcGxhdGUifTogPC9sYWJlbD4KCQkJCgkJCTxkaXYgY2xhc3M9IkZpZWxkIiAgaWQ9IlRlbXBsYXRlQ29udGFpbmVyIj4KCQkJICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJUZW1wbGF0ZSIgaWQ9IkZUZW1wbGF0ZSIgdmFsdWU9IiRRRGF0YXsiVGVtcGxhdGUifSIgY2xhc3M9Ilc1MHBjIiBtYXhsZW5ndGg9IjEwMCIvPgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQkKCQkJPGxhYmVsIGZvcj0iRlRhcmdldCI+JFRleHR7IlRhcmdldCJ9OiA8L2xhYmVsPgoJCQk8ZGl2IGNsYXNzPSJGaWVsZCI+CgkJCSAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iVGFyZ2V0IiBpZD0iRlRhcmdldCIgdmFsdWU9IiRRRGF0YXsiVGFyZ2V0In0iIGNsYXNzPSJXNTBwYyIgbWF4bGVuZ3RoPSIxMDAwIi8+CgkJCTwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CgkJCQoJCQk8bGFiZWwgZm9yPSJGUG9zaXRpb24iPiRUZXh0eyJQb3NpdGlvbiJ9OiA8L2xhYmVsPgoJCQk8ZGl2IGNsYXNzPSJGaWVsZCI+CgkJCSAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iUG9zaXRpb24iIGlkPSJGUG9zaXRpb24iIHZhbHVlPSIkUURhdGF7IlBvc2l0aW9uIn0iIGNsYXNzPSJXNTBwYyBWYWxpZGF0ZV9OdW1iZXIiIG1heGxlbmd0aD0iMTAwIi8+CgkJCSAgICA8ZGl2IGlkPSJGUG9zaXRpb25FcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPjxwPiRUZXh0eyJUaGlzIGZpZWxkIG11c3QgYmUgbnVtZXJpYy4ifTwvcD48L2Rpdj4KCQkJICAgIDxkaXYgaWQ9IkZQb3NpdGlvblNlcnZlckVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IlRoaXMgZmllbGQgbXVzdCBiZSBudW1lcmljLiJ9PC9wPjwvZGl2PgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2Pgo8IS0tIGR0bDpibG9jazpGaWVsZERldGFpbHNHZW5lcmFsIC0tPgo8IS0tIGR0bDpibG9jazpGaWVsZERldGFpbHNUZW1wbGF0ZXMgLS0+CgkJCTxsYWJlbCBmb3I9IkZUZW1wbGF0ZVRleHQiPiRUZXh0eyJUZW1wbGF0ZSB0ZXh0In06IDwvbGFiZWw+CgkJCTxkaXYgY2xhc3M9IkZpZWxkIj4KCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkZpZWxkVHlwZSIgdmFsdWU9IkluZm9ybWF0aW9uIj4KI0ZJWE1FOiBrb2RlbCBuYW1lPSJUZW1wbGF0ZSI/IEFyIG5lc2lkdWJsaXVvamEgc3UgYXVrc2NpYXUgZXNhbmNpdQoJCQkgICAgPHRleHRhcmVhIG5hbWU9IlRlbXBsYXRlIiBpZD0iRlRlbXBsYXRlVGV4dCIgY29scz0iNTAiIHJvd3M9IjEwIiBjbGFzcz0iVzUwcGMiPgoJCQkJJFFEYXRheyJUZW1wbGF0ZSJ9CgkJCSAgICA8L3RleHRhcmVhPgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2Pgo8IS0tIGR0bDpibG9jazpGaWVsZERldGFpbHNUZW1wbGF0ZXMgLS0+CgkJCTxsYWJlbCBmb3I9IkZGaWVsZFRyZWVJRCI+JFRleHR7IkZpZWxkVHJlZUlEIn06IDwvbGFiZWw+CgkJCTxkaXYgY2xhc3M9IkZpZWxkIj4KCQkJICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJGaWVsZFRyZWVJRCIgaWQ9IkZGaWVsZFRyZWVJRCIgdmFsdWU9IiRRRGF0YXsiRmllbGRUcmVlSUQifSIgY2xhc3M9Ilc1MHBjIFZhbGlkYXRlX051bWJlciIgbWF4bGVuZ3RoPSIxMDAiIHJlYWRvbmx5Lz4KCQkJICAgIDxkaXYgaWQ9IlBhcmVudElERXJyb3IiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj48cD4kVGV4dHsiVGhpcyBmaWVsZCBtdXN0IGJlIG51bWVyaWMuIn08L3A+PC9kaXY+CgkJCSAgICA8ZGl2IGlkPSJQYXJlbnRJRFNlcnZlckVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IlRoaXMgbXVzdCBiZSBhIHZhbGlkIEZpZWxkIFRyZWUgYnJhbmNoIElELiJ9PC9wPjwvZGl2PgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQkKCQkJPGxhYmVsIGZvcj0iVmFsaWRJRCI+JFRleHR7IlZhbGlkIn06IDwvbGFiZWw+CgkJCTxkaXYgY2xhc3M9IkZpZWxkIj4KCQkJICAgICREYXRheyJWYWxpZE9wdGlvblN0cmcifQoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQkKCQkJPGxhYmVsIGZvcj0iQ29tbWVudCI+JFRleHR7IkNvbW1lbnQifTogPC9sYWJlbD4KCQkJPGRpdiBjbGFzcz0iRmllbGQiPgoJCQkgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9IkNvbW1lbnQiIGlkPSJDb21tZW50IiB2YWx1ZT0iJFFEYXRheyJDb21tZW50In0iIGNsYXNzPSJXNTBwYyIgbWF4bGVuZ3RoPSIyMDAiLz4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCQkJCgkJCTxkaXYgY2xhc3M9IkZpZWxkIFNwYWNpbmdUb3AiPgoJCQkgICAgPGJ1dHRvbiBjbGFzcz0iUHJpbWFyeSIgdHlwZT0ic3VibWl0IiBpZD0iU3VibWl0IiB2YWx1ZT0iJFRleHR7IlN1Ym1pdCJ9Ij4kVGV4dHsiU3VibWl0In08L2J1dHRvbj4KCQkJICAgICRUZXh0eyJvciJ9CgkJCSAgICA8YSBocmVmPSIkRW52eyJCYXNlbGluayJ9QWN0aW9uPSRFbnZ7IkFjdGlvbiJ9Ij4kVGV4dHsiQ2FuY2VsIn08L2E+CgkJCTwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CgkJICAgIDwvZmllbGRzZXQ+CgkJPC9mb3JtPgoJICAgIDwvZGl2PgoKPCEtLWR0bDpqc19vbl9kb2N1bWVudF9jb21wbGV0ZS0tPgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+Ly88IVtDREFUQVsKICAgIHZhciBzZWxlY3RlZCA9ICQoJyNGaWVsZFR5cGUnKS52YWwoKTsKICAgIAogICAgaWYoc2VsZWN0ZWQgPT0gJ0luZm9ybWF0aW9uJykKICAgIHsKICAgICAgICAkKCIjVGVtcGxhdGVDb250YWluZXIiKS5oaWRlKCk7CiAgICAgICAgJCgibGFiZWxbZm9yPUZUZW1wbGF0ZV0iKS5oaWRlKCk7CiAgICAgICAgJCgiI1RlbXBsYXRlQ29udGFpbmVyID4gaW5wdXQiKS5hdHRyKCduYW1lJywgJ1RlbXBsYXRlX1NlbGVjdGVkJyk7CiAgICAgICAgJCgiI1RlbXBsYXRlX1NlbGVjdGVkIikuYXR0cignbmFtZScsICdUZW1wbGF0ZScpOwogICAgICAgICQoImxhYmVsW2Zvcj1UZW1wbGF0ZV9TZWxlY3RlZF0iKS5zaG93KCk7CiAgICAgICAgJCgiI1RlbXBsYXRlX1NlbGVjdGVkIikucGFyZW50KCkuc2hvdygpOwogICAgfQogICAgICAgIAogICAgJCgnc2VsZWN0I0ZpZWxkVHlwZScpLmJpbmQoJ2NoYW5nZScsIGZ1bmN0aW9uKEV2ZW50KSB7CiAgICAgICAgdmFyIHNlbGVjdGVkID0gJCgnI0ZpZWxkVHlwZScpLnZhbCgpOwogICAgICAgIAogICAgICAgIGlmKHNlbGVjdGVkID09ICdJbmZvcm1hdGlvbicpCiAgICAgICAgewogICAgICAgICAgICAkKCIjVGVtcGxhdGVDb250YWluZXIiKS5oaWRlKCk7CiAgICAgICAgICAgICQoImxhYmVsW2Zvcj1GVGVtcGxhdGVdIikuaGlkZSgpOwogICAgICAgICAgICAkKCIjVGVtcGxhdGVDb250YWluZXIgPiBpbnB1dCIpLmF0dHIoJ25hbWUnLCAnVGVtcGxhdGVfU2VsZWN0ZWQnKTsKICAgICAgICAgICAgJCgiI1RlbXBsYXRlX1NlbGVjdGVkIikuYXR0cignbmFtZScsICdUZW1wbGF0ZScpOwogICAgICAgICAgICAkKCJsYWJlbFtmb3I9VGVtcGxhdGVfU2VsZWN0ZWRdIikuc2hvdygpOwogICAgICAgICAgICAkKCIjVGVtcGxhdGVfU2VsZWN0ZWQiKS5wYXJlbnQoKS5zaG93KCk7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICQoImxhYmVsW2Zvcj1UZW1wbGF0ZV9TZWxlY3RlZF0iKS5oaWRlKCk7CiAgICAgICAgICAgICQoIiNUZW1wbGF0ZV9TZWxlY3RlZCIpLnBhcmVudCgpLmhpZGUoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgICQoIiNUZW1wbGF0ZUNvbnRhaW5lciIpLnNob3coKTsKICAgICAgICAgICAgJCgibGFiZWxbZm9yPUZUZW1wbGF0ZV0iKS5zaG93KCk7CiAgICAgICAgICAgICQoIiNUZW1wbGF0ZUNvbnRhaW5lciA+IGlucHV0IikuYXR0cignbmFtZScsICdUZW1wbGF0ZScpOwogICAgICAgICAgICAkKCIjVGVtcGxhdGVfU2VsZWN0ZWQiKS5hdHRyKCduYW1lJywgJ1RlbXBsYXRlX1NlbGVjdGVkJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSAkKCcjVGVtcGxhdGVfJytzZWxlY3RlZCk7CiAgICAgICAgICAgIHZhciBodG1sLCBjYXB0aW9uOwogICAgICAgICAgICBpZiAodGVtcGxhdGUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBodG1sID0gdGVtcGxhdGUuaHRtbCgpOwogICAgICAgICAgICAgICAgY2FwdGlvbiA9ICQoJyNUZW1wbGF0ZUNhcHRpb25fJytzZWxlY3RlZCkuaHRtbCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaHRtbCA9ICQoJyNUZW1wbGF0ZV9EZWZhdWx0JykuaHRtbCgpOwogICAgICAgICAgICAgICAgY2FwdGlvbiA9ICQoJyNUZW1wbGF0ZUNhcHRpb25fRGVmYXVsdCcpLmh0bWwoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkKCcjVGVtcGxhdGVDb250YWluZXInKS5odG1sKGh0bWwpOwogICAgICAgICAgICAkKCcjVGVtcGxhdGVDYXB0aW9uQ29udGFpbmVyJykuaHRtbChjYXB0aW9uKTsKICAgICAgICB9CiAgICB9KTsKLy9dXT48L3NjcmlwdD4gCjwhLS1kdGw6anNfb25fZG9jdW1lbnRfY29tcGxldGUtLT4gICAgIAoKPCEtLSBkdGw6YmxvY2s6RmllbGRFZGl0IC0tPgoKPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdGaWVsZHMgLS0+CgkgICAgPGRpdiBjbGFzcz0iSGVhZGVyIj4KCQk8aDI+JFRleHR7IkZpZWxkcyJ9OjwvaDI+CgkgICAgPC9kaXY+CgkgICAgPGRpdiBjbGFzcz0iQ29udGVudCI+CgkgICAgCgkJPHRhYmxlIGNsYXNzPSJEYXRhVGFibGUiPgoJCSAgICA8dGhlYWQ+CgkJCTx0cj4KCQkJICAgIDx0aCBjbGFzcz0iQ2VudGVyIj4kVGV4dHsiSUQifTwvdGg+CgkJCSAgICA8dGggY2xhc3M9IlcyMHBjIj4kVGV4dHsiTmFtZSJ9PC90aD4KCQkJICAgIDx0aCBjbGFzcz0iVzIwcGMiPiRUZXh0eyJUeXBlIn08L3RoPgoJCQkgICAgPHRoIGNsYXNzPSJDZW50ZXIiPiRUZXh0eyJQb3NpdGlvbiJ9PC90aD4KCQkJICAgIDx0aCBjbGFzcz0iQ2VudGVyIj4kVGV4dHsiUmVxdWlyZWQifTwvdGg+CgkJCSAgICA8dGggY2xhc3M9IkNlbnRlciI+JFRleHR7IlZhbGlkIn08L3RoPgoJCQk8L3RyPgoJCSAgICA8L3RoZWFkPgoJCSAgICA8dGJvZHk+CjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3RmllbGRMaXN0IC0tPgoJCQk8dHI+CgkJCSAgICA8dGQgY2xhc3M9IkNlbnRlciI+JFFEYXRheyJGaWVsZElEIn08L3RkPgoJCQkgICAgPHRkPgoJCQkJPGEgaHJlZj0iJEVudnsiQmFzZWxpbmsifUFjdGlvbj0kRW52eyJBY3Rpb24ifSZTdWJhY3Rpb249SXRlbUVkaXQmU3ViRmllbGRhY3Rpb249RmllbGRFZGl0Jkl0ZW1JRD0kUURhdGF7IkZpZWxkVHJlZUlEIn0mRmllbGRJRD0kUURhdGF7IkZpZWxkSUQifSI+CgkJCQkgICAgJFFEYXRheyJOYW1lIn0KCQkJCTwvYT4KCQkJICAgIDwvdGQ+CgkJCSAgICA8dGQ+CgkJCQk8YSBocmVmPSIkRW52eyJCYXNlbGluayJ9QWN0aW9uPSRFbnZ7IkFjdGlvbiJ9JlN1YmFjdGlvbj1JdGVtRWRpdCZTdWJGaWVsZGFjdGlvbj1GaWVsZEVkaXQmSXRlbUlEPSRRRGF0YXsiRmllbGRUcmVlSUQifSZGaWVsZElEPSRRRGF0YXsiRmllbGRJRCJ9Ij4KCQkJCSAgICAgJFFEYXRheyJGaWVsZFR5cGUifQoJCQkJPC9hPgoJCQkgICAgPC90ZD4KCQkJICAgIDx0ZCBjbGFzcz0iQ2VudGVyIj4KCQkJCTxhIGhyZWY9IiRFbnZ7IkJhc2VsaW5rIn1BY3Rpb249JEVudnsiQWN0aW9uIn0mU3ViYWN0aW9uPUl0ZW1FZGl0JlN1YkZpZWxkYWN0aW9uPUZpZWxkRWRpdCZJdGVtSUQ9JFFEYXRheyJGaWVsZFRyZWVJRCJ9JkZpZWxkSUQ9JFFEYXRheyJGaWVsZElEIn0iPgoJCQkJICAgICRRRGF0YXsiUG9zaXRpb24ifQoJCQkJPC9hPgoJCQkgICAgPC90ZD4KCQkJICAgIDx0ZCBjbGFzcz0iQ2VudGVyIj4KCQkJCTxhIGhyZWY9IiRFbnZ7IkJhc2VsaW5rIn1BY3Rpb249JEVudnsiQWN0aW9uIn0mU3ViYWN0aW9uPUl0ZW1FZGl0JlN1YkZpZWxkYWN0aW9uPUZpZWxkRWRpdCZJdGVtSUQ9JFFEYXRheyJGaWVsZFRyZWVJRCJ9JkZpZWxkSUQ9JFFEYXRheyJGaWVsZElEIn0iPgoJCQkJICAgICRRRGF0YXsiUmVxdWlyZWQifQoJCQkJPC9hPgoJCQkgICAgPC90ZD4KCQkJICAgIDx0ZCBjbGFzcz0iQ2VudGVyIj4kVGV4dHsiJFFEYXRheyJWYWxpZCJ9In08L3RkPgoJCQk8L3RyPgo8IS0tIGR0bDpibG9jazpPdmVydmlld0ZpZWxkTGlzdCAtLT4KCQkgICAgPC90Ym9keT4KCQk8L3RhYmxlPgoJCTxkaXYgY2xhc3M9IkZpZWxkIFNwYWNpbmdUb3AiPgoJCSAgICA8Zm9ybSBhY3Rpb249IiRFbnZ7IkNHSUhhbmRsZSJ9IiBtZXRob2Q9ImdldCI+CgkJCSAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJBY3Rpb24iIHZhbHVlPSIkRW52eyJBY3Rpb24ifSI+CgkJCSAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJTdWJhY3Rpb24iIHZhbHVlPSJJdGVtRWRpdCI+CgkJCSAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJTdWJGaWVsZGFjdGlvbiIgdmFsdWU9IkZpZWxkRWRpdCI+CgkJCSAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJJdGVtSUQiIHZhbHVlPSIkUURhdGF7Ikl0ZW1JRCJ9Ij4KCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkZpZWxkSUQiIHZhbHVlPSJORVciPgoJCQkgICAgPGJ1dHRvbiBjbGFzcz0iUHJpbWFyeSIgdHlwZT0ic3VibWl0IiBpZD0iQWRkTmV3Q2hpbGROb2RlIiB2YWx1ZT0iJFRleHR7IkFkZCBuZXcgZmllbGQvcnVsZSJ9Ij4kVGV4dHsiQWRkIG5ldyBmaWVsZC9ydWxlIn08L2J1dHRvbj4KCQkgICAgPC9mb3JtPgoJCTwvZGl2PgoJICAgIDwvZGl2Pgo8IS0tIGR0bDpibG9jazpPdmVydmlld0ZpZWxkcyAtLT4KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdYTUwgLS0+CjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3WE1MRmllbGRMaXN0IC0tPgo8IS0tIGR0bDpibG9jazpPdmVydmlld1hNTEZpZWxkTGlzdCAtLT4KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdYTUwgLS0+CjwhLS0gZHRsOmJsb2NrOkl0ZW1FZGl0IC0tPgoJPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KPC9kaXY+CjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3IC0tPg==</File>
        <File Location="Kernel/Output/HTML/Standard/DynamicFieldFieldTree.dtl" Permission="664" Encode="Base64">PCEtLSBkdGw6YmxvY2s6RmllbGRUcmVlIC0tPgo8dWwgY2xhc3M9IkZpZWxkVHJlZSBGaWVsZFRyZWVGb3JtIj4KCTxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IiREYXRheyJGaWVsZE5hbWUifV9TZWxlY3RlZCIgdmFsdWU9IiIgY2xhc3M9IiREYXRheyJNYW5kYXRvcnlGaWVsZFRyZWVDbGFzcyJ9IiBpZD0iUHJvYmxlbVR5cGVJZEVycm9yIiAvPgoJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJERhdGF7IkZpZWxkTmFtZSJ9X0ZpZWxkVHJlZUlEIiBpZD0iJERhdGF7IkZpZWxkTmFtZSJ9X1Byb2JsZW1UeXBlSURGaWVsZCIgdmFsdWU9IiRRRGF0YXsiRmllbGRUcmVlSUQifSIgLz4KCTxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IiREYXRheyJGaWVsZE5hbWUifSIgY2xhc3M9IkZpZWxkVHJlZU5hbWUiIHZhbHVlPSIkRGF0YXsiVmFsdWVTZXRJRCJ9IiAvPgogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJERhdGF7IkZpZWxkTmFtZSJ9X1JlYWRPbmx5IiB2YWx1ZT0iJERhdGF7IlJlYWRPbmx5In0iIC8+CiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSIkRGF0YXsiRmllbGROYW1lIn1fTWFuZGF0b3J5IiB2YWx1ZT0iJERhdGF7Ik1hbmRhdG9yeSJ9IiAvPgogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJERhdGF7IkZpZWxkTmFtZSJ9X0ZpZWxkVHJlZXNUb09wZW4iIHZhbHVlPSIkRGF0YXsiRmllbGRUcmVlUmVjdXJzaXZlSURzIn0iIC8+CjwhLS0gZHRsOmJsb2NrOkZpZWxkVHJlZUZpZWxkIC0tPgogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJERhdGF7IkZpZWxkVHJlZUZpZWxkTmFtZSJ9IiBjbGFzcz0iJERhdGF7IkZpZWxkTmFtZSJ9X0ZpZWxkX1ZhbHVlIiB2YWx1ZT0iJERhdGF7IkZpZWxkVHJlZUZpZWxkVmFsdWUifSIgLz4KPCEtLSBkdGw6YmxvY2s6RmllbGRUcmVlRmllbGQgLS0+Cgk8c3BhbiBjbGFzcz0iZXJyb3IiPlByaXZhbG90ZSB1JiMzODI7cGlsZHl0aSB2aWVuJiMyNjE7IGkmIzM1MzsgJiMzNTM7YWsmIzM3MTshPC9zcGFuPgoJPHVsIGNsYXNzPSJGaWVsZFRyZWUiPgo8IS0tIGR0bDpibG9jazpGaWVsZFRyZWVMZXZlbDEgLS0+CgkJPGxpIGNsYXNzPSIkUURhdGF7IkNTU09wZW5DbGFzcyJ9IEZpZWxkVHJlZUl0ZW0iPjxhIGNsYXNzPSJMZXZlbDFPcGVuZXIiIHJlbD0iJFFEYXRheyJpZCJ9Ij48c3Bhbj4mIzk2NTY7PC9zcGFuPiZuYnNwOyZuYnNwOyREYXRheyJ0eHQifTwvYT48L2xpPgoJCTx1bCBjbGFzcz0iRmllbGRUcmVlSG9sZGVyLUxldmVsMSBGaWVsZFRyZWVIb2xkZXIiIGlkPSJGaWVsZFRyZWVIb2xkZXItJFFEYXRheyJpZCJ9Ij4KICAgICAgICAgICAgPGxpIGNsYXNzPSJGb3JEeW5hbWljTG9hZCI+PGRpdiBjbGFzcz0iRHluYW1pY2x5TG9hZGVkQ29udGVudCI+PCEtLSBXM0MgLS0+PC9kaXY+PGRpdiBjbGFzcz0iQ2xlYXIiPjwhLS0gVzNDIC0tPjwvZGl2PjwvbGk+CjwhLS0gZHRsOmJsb2NrOkVtcHR5QnJhbmNoTGV2ZWwxIC0tPgogICAgICAgICAgICA8bGkgY2xhc3M9IkVtcHR5QnJhbmNoIj4mIzM1Mjtpb2plIGthdGVnb3Jpam9qZSBuJiMyNzk7cmEgZWxlbWVudCYjMzcxOy48L2xpPgo8IS0tIGR0bDpibG9jazpFbXB0eUJyYW5jaExldmVsMSAtLT4KPCEtLSBkdGw6YmxvY2s6RmllbGRUcmVlTGV2ZWwyIC0tPgogICAgICAgICAgICA8bGkgY2xhc3M9IkZpZWxkVHJlZUl0ZW0iPjxhIGNsYXNzPSJMZXZlbDJPcGVuZXIiIHJlbD0iJFFEYXRheyJpZCJ9Ij48c3Bhbj4mIzk2NTY7PC9zcGFuPiZuYnNwOyZuYnNwOyREYXRheyJ0eHQifTwvYT48L2xpPgogICAgICAgICAgICA8dWwgY2xhc3M9IkZpZWxkVHJlZUhvbGRlci1MZXZlbDIgRmllbGRUcmVlSG9sZGVyICRRRGF0YXsiQ1NTT3BlbkNsYXNzIn0iIGlkPSJGaWVsZFRyZWVIb2xkZXItJFFEYXRheyJpZCJ9Ij4KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iRm9yRHluYW1pY0xvYWQiPjxkaXYgY2xhc3M9IkR5bmFtaWNseUxvYWRlZENvbnRlbnQiPiREYXRheyJGaWVsZFRyZWVGaWVsZHMifTwhLS0gVzNDIC0tPjwvZGl2PjxkaXYgY2xhc3M9IkNsZWFyIj48IS0tIFczQyAtLT48L2Rpdj48L2xpPgo8IS0tIGR0bDpibG9jazpFbXB0eUJyYW5jaExldmVsMiAtLT4KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iRW1wdHlCcmFuY2giPiYjMzUyO2lvamUga2F0ZWdvcmlqb2plIG4mIzI3OTtyYSBlbGVtZW50JiMzNzE7LjwvbGk+CjwhLS0gZHRsOmJsb2NrOkVtcHR5QnJhbmNoTGV2ZWwyIC0tPgo8IS0tIGR0bDpibG9jazpGaWVsZFRyZWVMZXZlbDMgLS0+CiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9IkZpZWxkVHJlZUhvbGRlckl0ZW0iPjxhIGNsYXNzPSJMZXZlbDNPcGVuZXIiIHJlbD0iJFFEYXRheyJpZCJ9Ij4mIzgyMjY7Jm5ic3A7Jm5ic3A7JERhdGF7InR4dCJ9PC9hPjwvbGk+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZFRyZWVIb2xkZXItTGV2ZWwzICRRRGF0YXsiQ1NTT3BlbkNsYXNzIn0iIGlkPSJGaWVsZFRyZWVIb2xkZXItJFFEYXRheyJpZCJ9Ij48IS0tIGZvciBkeW5hbWljIGxvYWQgLS0+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJjbGVhcjpib3RoOyI+PC9kaXY+CjwhLS0gZHRsOmJsb2NrOkZpZWxkVHJlZUxldmVsMyAtLT4KICAgICAgICAgICAgPC91bD4KPCEtLSBkdGw6YmxvY2s6RmllbGRUcmVlTGV2ZWwyIC0tPgoJCTwvdWw+CjwhLS0gZHRsOmJsb2NrOkZpZWxkVHJlZUxldmVsMSAtLT4KCTwvdWw+CjwhLS0gZHRsOmJsb2NrOkZpZWxkVHJlZSAtLT4KPCEtLSBkdGw6YmxvY2s6RmllbGRUcmVlUHJldmlldyAtLT4KPCEtLSBkdGw6YmxvY2s6RmllbGRUcmVlUmVjdXJzaXZlTmFtZSAtLT4KPHA+JERhdGF7Ikl0ZW1SZWN1cnNpdmVOYW1lIn08L3A+CjwhLS0gZHRsOmJsb2NrOkZpZWxkVHJlZVJlY3Vyc2l2ZU5hbWUgLS0+Cjx1bCBjbGFzcz0iRmllbGRUcmVlSG9sZGVyIEZpZWxkVHJlZVByZXZpZXciPgoJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJERhdGF7IkZpZWxkTmFtZSJ9X1NlbGVjdGVkIiB2YWx1ZT0iIiBpZD0iUHJvYmxlbVR5cGVJZEVycm9yIiAvPgoJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJERhdGF7IkZpZWxkTmFtZSJ9X0ZpZWxkVHJlZUlEIiBpZD0iJERhdGF7IkZpZWxkTmFtZSJ9X1Byb2JsZW1UeXBlSURGaWVsZCIgdmFsdWU9IiRRRGF0YXsiRmllbGRUcmVlSUQifSIgLz4KCTxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IiREYXRheyJGaWVsZE5hbWUifSIgY2xhc3M9IkZpZWxkVHJlZU5hbWUiIHZhbHVlPSIkRGF0YXsiVmFsdWVTZXRJRCJ9IiAvPgoJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJERhdGF7IkZpZWxkTmFtZSJ9X1JlYWRPbmx5IiB2YWx1ZT0iJERhdGF7IlJlYWRPbmx5In0iIC8+Cgk8ZGl2IGNsYXNzPSJGaWVsZFRyZWVIb2xkZXItTGV2ZWwyIiBpZD0iRmllbGRUcmVlSG9sZGVyLSRRRGF0YXsiRmllbGRUcmVlSUQifSI+PCEtLSBmb3IgZHluYW1pYyBsb2FkIC0tPjwvZGl2PgoJPGRpdiBzdHlsZT0iY2xlYXI6IGJvdGg7Ij48IS0tIFczQyAtLT48L2Rpdj4KPC91bD4KPCEtLSBkdGw6YmxvY2s6RmllbGRUcmVlUHJldmlldyAtLT4=</File>
        <File Location="Kernel/Output/HTML/Standard/FieldTree.dtl" Permission="664" Encode="Base64">IyAtLQojIEZpZWxkVHJlZS5kdGwgLSBwcm92aWRlcyBGaWVsZFRyZWUgY29tcG9uZW50CiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMDkgT1RSUyBBRywgaHR0cDovL290cnMub3JnLwojIC0tCiMgJElkOiBGaWVsZFRyZWUuZHRsLHYgMC4wMSAyMDA5LzExLzIzIEp1c3RpbmFzIEphcm9uaXMgRXhwICQKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCgojIC0tCiMgRmllbGRUcmVlLmR0bCAtIHByb3ZpZGVzIEZpZWxkVHJlZSBjb21wb25lbnQKIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAwOSBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvCiMgLS0KIyAkSWQ6IEZpZWxkVHJlZS5kdGwsdiAwLjAxIDIwMDkvMTEvMjMgSnVzdGluYXMgSmFyb25pcyBFeHAgJAojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQo8c3R5bGU+CgkudGFmZWxUcmVlX3Jvb3QgdGFibGUgLCAJLnRhZmVsVHJlZV9yb290ICogdGFibGUsIC50YWZlbFRyZWVfcm9vdCB0YWJsZSB0ciB0ZCwgCS50YWZlbFRyZWVfcm9vdCAqIHRhYmxlIHRyIHRkICAgewoJCWJvcmRlci1jb2xsYXBzZTogY29sbGFwc2UgIWltcG9ydGFudDsKCQltYXJnaW46IDAgIWltcG9ydGFudDsKCQlwYWRkaW5nOiAwICFpbXBvcnRhbnQ7Cgl9CgkKCSNmaWVsZHNDb250YWluZXIgZGwgewoJCWNsZWFyOiBib3RoOwoJfQoJI2ZpZWxkc0NvbnRhaW5lciBkbCBkdCwgI2ZpZWxkc0NvbnRhaW5lciBkbCBkZCAgewoJCWZsb2F0OiBsZWZ0OwoJCW1hcmdpbjogMDsKCQlwYWRkaW5nOiA1cHg7Cgl9CgkKCSNmaWVsZHNDb250YWluZXIgZGwgZGQgaW5wdXRbdHlwZT10ZXh0XSwJI2ZpZWxkc0NvbnRhaW5lciBkbCBkZCB0ZXh0YXJlYSAgewoJCXdpZHRoOiAyMjBweDsKCX0KCSNmaWVsZHNDb250YWluZXIgZGwgZHQgewoJCXdpZHRoOiAyMDBweDsKCX0KCQoJI2ZpZWxkc0NvbnRhaW5lciBkbCBkZCB0ZXh0YXJlYSAgewoJCWhlaWdodDogODBweDsKCX0KCQoJI2ZpZWxkc0NvbnRhaW5lciBkbCBkdC5mdWxsICB7CgkJd2lkdGg6IDEwMCU7Cgl9CgkKCQk8L3N0eWxlPgoKCQk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CgkJCXZhciB0cmVlID0gbnVsbDsKCQkJZnVuY3Rpb24gVGFmZWxUcmVlSW5pdCAoKSB7CgkJCQl2YXIgc3RydWN0ID0gJERhdGF7IlByb2JsZW1UeXBlSlNPTiJ9OwoJCQkJZnVuY3Rpb24gbG9hZEZpZWxkU2V0KGlkKQoJCQkJewoJCQkJCW5ldyBBamF4LlVwZGF0ZXIoeyBzdWNjZXNzOiAnZmllbGRzQ29udGFpbmVyJywgZmFpbHVyZTogJ2ZpZWxkc0NvbnRhaW5lcid9LCAnJEVudnsiQ0dJSGFuZGxlIn0nLCB7CgkJCQkJICBldmFsU2NyaXB0czogdHJ1ZSwKCQkJCQkgIHBhcmFtZXRlcnM6IHsgRGlzYWJsZWQ6ICIkRGF0YXsiRGlzYWJsZWRGaWVsZFRyZWUifSIsIEFjdGlvbjogIkFnZW50RmllbGRUcmVlIiwgU3ViYWN0aW9uOiAiQWpheEZpZWxkcyIsIFZhbHVlU2V0SUQ6ICIkRGF0YXsiUHJvYmxlbURlc2NyaXB0aW9uRmllbGRzZXRJRCJ9IiwgSXRlbUlEOiBpZCAkRGF0YXsiUHJvYmxlbVR5cGVEYXRhIn0gfSwKCQkJCQkgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkgewoJCQkJCSAgICAgIGRvY3VtZW50LmZpcmUoJ2ZpZWxkdHJlZWZpZWxkc2V0OmxvYWQnKTsKCQkJCQkgIH0KCQkJCQl9KTsKCQkJCX0KCQkJCQoJCQkJdHJlZSA9IG5ldyBUYWZlbFRyZWUoJ3Byb2JsZW1UeXBlVHJlZScsIHN0cnVjdCwgewoJCQkJCSdnZW5lcmF0ZScgOiB0cnVlLAoJCQkJCSdyYWRpb3MnIDogIlByb2JsZW1UeXBlSUQiLAoJCQkJCSdyYWRpb3NEaXNhYmxlZCcgOiAiJERhdGF7IkRpc2FibGVkRmllbGRUcmVlIn0iLAoJCQkJCSdzZWxlY3RlZFJhZGlvSUQnIDogIiREYXRheyJQcm9ibGVtVHlwZUlEIn0iLAoJCQkJCSdpbWdCYXNlJyA6ICckQ29uZmlneyJGcm9udGVuZDo6V2ViUGF0aCJ9aW1hZ2VzL0FLUy90cmVldmlldy8nLAoJCQkJCSdkZWZhdWx0SW1nJyA6ICdwYWdlLmdpZicsCgkJCQkJJ2Nvb2tpZXMnIDogZmFsc2UsCgkJCQkJJ2RlZmF1bHRJbWdPcGVuJyA6ICdmb2xkZXJvcGVuLmdpZicsCgkJCQkJJ2RlZmF1bHRJbWdDbG9zZScgOiAnZm9sZGVyLmdpZicsCgkJCQkJJ29uUmFkaW8nIDogZnVuY3Rpb24ob2JqLCBldiwgeCkgewkJCQkJICAgIAoJCQkJCQlsb2FkRmllbGRTZXQob2JqLmdldElkKCkpOwkJCQkKCQkJCQkJCgkJCQkJCS8vIGnFoXRyYXVraWFtIHByb2JsZW1vcyB0aXBvIHBpbG7EhSBwYXZhZGluaW3EhQoJCQkJCQl2YXIgdHh0ID0gJyc7CgkJCQkJCXZhciBvYmpfcGFyZW50cyA9IG9iai5nZXRQYXJlbnRzKCk7CgkJCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgb2JqX3BhcmVudHMubGVuZ3RoOyBpKyspCgkJCQkJCQl0eHQgPSBvYmpfcGFyZW50c1tpXS5nZXRUZXh0KCkgKyAnIC0gJyArIHR4dDsKCQkJCQkJdHh0ICs9IG9iai5nZXRUZXh0KCk7CQkJCQkJCgkJCQkJCWlmIChPYmplY3QuaXNFbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQcm9ibGVtVHlwZVRleHQnKSkpIAoJCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Byb2JsZW1UeXBlVGV4dCcpLmlubmVySFRNTCA9IHR4dDsKCQkJCQkJCSAKCQkJCQkJaWYgKG1haW5WYWwpCgkJCQkJCQltYWluVmFsLnZhbGlkYXRlKCk7CQkJCQkJCgkJCQkJfSwKCQkJCQknb25Mb2FkJyA6IGZ1bmN0aW9uKCkgewoJCQkJCQlkb2N1bWVudC5maXJlKCdmaWVsZHRyZWU6bG9hZCcpOwoJCQkJCX0KCQkJCX0pOwoJCQkJdmFyIHNlbGVjdGVkUmFkaW9JRCA9ICIkRGF0YXsiUHJvYmxlbVR5cGVJRCJ9IjsKLyoKPCEtLSBkdGw6YmxvY2s6QXNzaWduZWRQcm9ibGVtVHlwZUZpZWxkU2V0IC0tPgoqLwoJCQkJaWYgKHNlbGVjdGVkUmFkaW9JRCkKCQkJCQlsb2FkRmllbGRTZXQoc2VsZWN0ZWRSYWRpb0lEKTsKLyoKPCEtLSBkdGw6YmxvY2s6QXNzaWduZWRQcm9ibGVtVHlwZUZpZWxkU2V0IC0tPgoqLwoJCQkJVGFmZWxUcmVlSW5pdDIoKTsKCQkJfQoJCQkKCQkJZnVuY3Rpb24gZ2V0RXh0VXNlckluZm8odGFyZ2V0RmllbGRJRHMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmICghJCgnQWNjb3VudE51bWJlcicpKQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIHZhciBhY2NvdW50TnVtYmVyID0gJCgnQWNjb3VudE51bWJlcicpLmdldFZhbHVlKCk7CiAgICAgICAgICAgICAgICB2YXIgdXJsID0gJyRFbnZ7IkNHSUhhbmRsZSJ9JzsKICAgICAgICAgICAgICAgIHZhciBwYXJzPSAnQWN0aW9uPUFnZW50RmllbGRUcmVlJlN1YmFjdGlvbj1BamF4Q2xpZW50SW5mb0V4dGVuZGVkJkFjY291bnROdW1iZXI9JythY2NvdW50TnVtYmVyOwogICAgICAgICAgICAgICAgdmFyIG15QWpheCA9IG5ldyBBamF4LlJlcXVlc3QoCiAgICAgICAgICAgICAgICAgICAgdXJsLCAKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLCAKICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogcGFycywgCiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxKUzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKHJlcSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHJlcS5yZXNwb25zZVRleHQuZXZhbEpTT04oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXNBcnJheSA9IG5ldyBBcnJheSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzQXJyYXlbMF0gPSB2YWx1ZXMuQ2VsbHVsYXJBY2NvdW50TnVtYmVyIHx8ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzQXJyYXlbMV0gPSB2YWx1ZXMuU3RyZWV0TmFtZSB8fCAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc0FycmF5WzJdID0gdmFsdWVzLlBsYWNlTmFtZSB8fCAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc0FycmF5WzNdID0gdmFsdWVzLkFyZWFOYW1lIHx8ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzQXJyYXlbNF0gPSB2YWx1ZXMuQ291bnRyeU5hbWUgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGRJRHMgPSB0YXJnZXRGaWVsZElEcy5zcGxpdCgnOycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpPTA7IGk8ZmllbGRJRHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZElEID0gZmllbGRJRHNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQoJ1tuYW1lPUZpZWxkXycrZmllbGRJRCsnXScpLmVhY2goZnVuY3Rpb24obykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNldFZhbHVlKHZhbHVlc0FycmF5W2ldKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgoJCTwvc2NyaXB0PgoJCTxkaXYgc3R5bGU9ImZsb2F0OiBsZWZ0OyB3aWR0aDogMzMwcHg7Ij4KPCEtLSBkdGw6YmxvY2s6RmllbGRUcmVlRXhwYW5kQnV0dG9uIC0tPgoJCTxidXR0b24gaWQ9IlNob3dGaWVsZFRyZWUiIHR5cGU9ImJ1dHRvbiI+PGltZyBzcmM9Ii9vdHJzLXdlYi9pbWFnZXMvQUtTL3RyZWV2aWV3L3BsdXMwLmdpZiIgc3R5bGU9InZlcnRpY2FsLWFsaWduOnRvcDsiPgoJCTxzcGFuIGlkPSJQcm9ibGVtVHlwZVRleHQiPgo8IS0tIGR0bDpibG9jazpSZWN1cnNpdmVQcm9ibGVtVHlwZU5hbWUgLS0+CQkgCgkJICAgICREYXRheyJSZWN1cnNpdmVQcm9ibGVtVHlwZSJ9CjwhLS0gZHRsOmJsb2NrOlJlY3Vyc2l2ZVByb2JsZW1UeXBlTmFtZSAtLT4KCQk8L3NwYW4+CgkJPC9idXR0b24+CjwhLS0gZHRsOmJsb2NrOkZpZWxkVHJlZUV4cGFuZEJ1dHRvbiAtLT4KCQk8ZGl2IGlkPSJGaWVsZFRyZWVEaXYiIGNsYXNzPSJGaWVsZFRyZWVEaXYiPgoJCQk8ZGl2IGlkPSJwcm9ibGVtVHlwZVRyZWUiPjwvZGl2Pgo8IS0tIGR0bDpibG9jazpGaWVsZFRyZWVDb25kZW5zZUJ1dHRvbiAtLT4KICAgICAgICAgICAgPGJ1dHRvbiBpZD0iSGlkZUZpZWxkVHJlZSIgdHlwZT0iYnV0dG9uIj4kVGV4dHsiSGlkZSJ9PC9idXR0b24+CjwhLS0gZHRsOmJsb2NrOkZpZWxkVHJlZUNvbmRlbnNlQnV0dG9uIC0tPiAKCQk8L2Rpdj4KCQk8L2Rpdj4KCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJQcm9ibGVtVHlwZVZhbHVlU2V0SUQiIHZhbHVlPSIkRGF0YXsiUHJvYmxlbURlc2NyaXB0aW9uRmllbGRzZXRJRCJ9Ij4KCQk8ZGl2IHN0eWxlPSJmbG9hdDogbGVmdDsgd2lkdGg6IDQ2MHB4OyIgaWQ9ImZpZWxkc0NvbnRhaW5lciI+PCEtLVczYy0tPjwvZGl2PgoJCTxkaXYgc3R5bGU9ImNsZWFyOiBib3RoOyI+PCEtLVczYy0tPjwvZGl2Pgo=</File>
        <File Location="Kernel/Output/HTML/Standard/FieldTreeFields.dtl" Permission="664" Encode="Base64">Q29udGVudC1UeXBlOiB0ZXh0L2h0bWw7IGNoYXJzZXQ9JEVudnsiVXNlckNoYXJzZXQifTsNCg0KPCEtLSBkdGw6YmxvY2s6TG9hZFZhbGlkYXRvciAtLT4KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iRmllbGRzTG9hZGVkQ29ycmVjdGx5IiB2YWx1ZT0iMSIgLz4KPCEtLSBkdGw6YmxvY2s6TG9hZFZhbGlkYXRvciAtLT4NCjwhLS0gZHRsOmJsb2NrOkVtcHR5TGlzdCAtLT4NCiAgICA8ZGl2IGNsYXNzPSJlbXB0eS1saXN0Ij4mIzM1Mjtpb2plIGthdGVnb3Jpam9qZSBuJiMyNzk7cmEgZWxlbWVudCYjMzcxOy48L2Rpdj4NCjwhLS0gZHRsOmJsb2NrOkVtcHR5TGlzdCAtLT4NCjwhLS0gZHRsOmJsb2NrOk5vRmllbGRzTG9hZGVkIC0tPg0KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9Ik5vRmllbGRzTG9hZGVkIiB2YWx1ZT0iMCIgLz4NCjwhLS0gZHRsOmJsb2NrOk5vRmllbGRzTG9hZGVkIC0tPg0KPCEtLSBkdGw6YmxvY2s6RmllbGQgLS0+DQoJPGRsPg0KCQk8ZHQgY2xhc3M9IiREYXRheyJGaWVsZENsYXNzIn0iIHRpdGxlPSIkUURhdGF7IkNvbW1lbnQifSI+PGxhYmVsIGZvcj0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9Ij4kUURhdGF7IkZyaWVuZGx5TmFtZSJ9OjwvbGFiZWw+PC9kdD4NCjwhLS0gZHRsOmJsb2NrOkluZm9ybWF0aW9uRW5hYmxlZCAtLT4NCgkJPGRkPiREYXRheyJUZW1wbGF0ZSJ9PC9kZD4NCjwhLS0gZHRsOmJsb2NrOkluZm9ybWF0aW9uRW5hYmxlZCAtLT4NCjwhLS0gZHRsOmJsb2NrOkluZm9ybWF0aW9uRGlzYWJsZWQgLS0+DQoJCTxkZD4kRGF0YXsiVGVtcGxhdGUifTwvZGQ+DQo8IS0tIGR0bDpibG9jazpJbmZvcm1hdGlvbkRpc2FibGVkIC0tPg0KDQo8IS0tIGR0bDpibG9jazpUZXh0RW5hYmxlZCAtLT4NCgkJPGRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSIkUURhdGF7IkZpZWxkUHJlZml4In1fRmllbGRfJFFEYXRheyJGaWVsZElEIn0iIHZhbHVlPSIkUURhdGF7IlZhbHVlIn0iIGNsYXNzPSIkUURhdGF7IlJlcXVpcmVkQ3NzQ2xhc3MifSIgaWQ9IiRRRGF0YXsiRmllbGRQcmVmaXgifV9GaWVsZF8kUURhdGF7IkZpZWxkSUQifSIgJFFEYXRheyJEaXNhYmxlZCJ9IC8+PC9kZD4NCjwhLS0gZHRsOmJsb2NrOlRleHRFbmFibGVkIC0tPg0KPCEtLSBkdGw6YmxvY2s6VGV4dERpc2FibGVkIC0tPg0KCQk8ZGQ+JFFEYXRheyJWYWx1ZSJ9PC9kZD4NCjwhLS0gZHRsOmJsb2NrOlRleHREaXNhYmxlZCAtLT4NCjwhLS0gZHRsOmJsb2NrOlBob25lRW5hYmxlZCAtLT4NCgkJPGRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSIkUURhdGF7IkZpZWxkUHJlZml4In1fRmllbGRfJFFEYXRheyJGaWVsZElEIn0iIHZhbHVlPSIkUURhdGF7IlZhbHVlIn0iIGNsYXNzPSIkUURhdGF7IlJlcXVpcmVkQ3NzQ2xhc3MifSBWYWxpZGF0ZV9QaG9uZSIgaWQ9IiRRRGF0YXsiRmllbGRQcmVmaXgifV9GaWVsZF8kUURhdGF7IkZpZWxkSUQifSIgICRRRGF0YXsiRGlzYWJsZWQifSAvPjwvZGQ+DQo8IS0tIGR0bDpibG9jazpQaG9uZUVuYWJsZWQgLS0+DQo8IS0tIGR0bDpibG9jazpQaG9uZURpc2FibGVkIC0tPg0KCQk8ZGQ+JFFEYXRheyJWYWx1ZSJ9PC9kZD4NCjwhLS0gZHRsOmJsb2NrOlBob25lRGlzYWJsZWQgLS0+DQo8IS0tIGR0bDpibG9jazpNb25leUVuYWJsZWQgLS0+DQoJCTxkZD48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiB2YWx1ZT0iJFFEYXRheyJWYWx1ZSJ9IiAgY2xhc3M9IiRRRGF0YXsiUmVxdWlyZWRDc3NDbGFzcyJ9IFZhbGlkYXRlX01vbmV5IiBpZD0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiAkUURhdGF7IkRpc2FibGVkIn0gLz48L2RkPg0KPCEtLSBkdGw6YmxvY2s6TW9uZXlFbmFibGVkIC0tPg0KPCEtLSBkdGw6YmxvY2s6TW9uZXlEaXNhYmxlZCAtLT4NCgkJPGRkPiRRRGF0YXsiVmFsdWUifTwvZGQ+DQo8IS0tIGR0bDpibG9jazpNb25leURpc2FibGVkIC0tPg0KPCEtLSBkdGw6YmxvY2s6SW50ZWdlckVuYWJsZWQgLS0+DQoJCTxkZD48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiB2YWx1ZT0iJFFEYXRheyJWYWx1ZSJ9IiAgY2xhc3M9IiRRRGF0YXsiUmVxdWlyZWRDc3NDbGFzcyJ9IFZhbGlkYXRlX051bWJlciIgaWQ9IiRRRGF0YXsiRmllbGRQcmVmaXgifV9GaWVsZF8kUURhdGF7IkZpZWxkSUQifSIgJFFEYXRheyJEaXNhYmxlZCJ9IC8+PC9kZD4NCjwhLS0gZHRsOmJsb2NrOkludGVnZXJFbmFibGVkIC0tPg0KPCEtLSBkdGw6YmxvY2s6SW50ZWdlckRpc2FibGVkIC0tPg0KCQk8ZGQ+JFFEYXRheyJWYWx1ZSJ9PC9kZD4NCjwhLS0gZHRsOmJsb2NrOkludGVnZXJEaXNhYmxlZCAtLT4NCjwhLS0gZHRsOmJsb2NrOkRvdWJsZUVuYWJsZWQgLS0+DQoJCTxkZD48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiB2YWx1ZT0iJFFEYXRheyJWYWx1ZSJ9IiBjbGFzcz0iJFFEYXRheyJSZXF1aXJlZENzc0NsYXNzIn0gVmFsaWRhdGVfTnVtYmVyIiBpZD0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiAkUURhdGF7IkRpc2FibGVkIn0gLz48L2RkPg0KPCEtLSBkdGw6YmxvY2s6RG91YmxlRW5hYmxlZCAtLT4NCjwhLS0gZHRsOmJsb2NrOkRvdWJsZURpc2FibGVkIC0tPg0KCQk8ZGQ+JFFEYXRheyJWYWx1ZSJ9PC9kZD4NCjwhLS0gZHRsOmJsb2NrOkRvdWJsZURpc2FibGVkIC0tPg0KPCEtLSBkdGw6YmxvY2s6Qm9vbGVhbiAtLT4NCgkJPGRkPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiB2YWx1ZT0iMSIgJFFEYXRheyJDaGVja2VkU3RyIn0gY2xhc3M9IiRRRGF0YXsiUmVxdWlyZWRDc3NDbGFzcyJ9IiBpZD0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiAkUURhdGF7IkRpc2FibGVkIn0gLz48L2RkPg0KPCEtLSBkdGw6YmxvY2s6Qm9vbGVhbiAtLT4NCjwhLS0gZHRsOmJsb2NrOk11bHRpVGV4dEVuYWJsZWQgLS0+DQoJCTxkZD48dGV4dGFyZWEgbmFtZT0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiBpZD0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiBjbGFzcz0iJFFEYXRheyJSZXF1aXJlZENzc0NsYXNzIn0iICRRRGF0YXsiRGlzYWJsZWQifT4kUURhdGF7IlZhbHVlIn08L3RleHRhcmVhPjwvZGQ+DQo8IS0tIGR0bDpibG9jazpNdWx0aVRleHRFbmFibGVkIC0tPg0KPCEtLSBkdGw6YmxvY2s6TXVsdGlUZXh0RGlzYWJsZWQgLS0+DQoJCTxkZD4kUURhdGF7IlZhbHVlIn08L2RkPg0KPCEtLSBkdGw6YmxvY2s6TXVsdGlUZXh0RGlzYWJsZWQgLS0+DQo8IS0tIGR0bDpibG9jazpEYXRlVGltZSAtLT4NCgkJPGRkPiREYXRheyJEYXRhVmFsdWUifTwvZGQ+DQo8IS0tIGR0bDpibG9jazpEYXRlVGltZSAtLT4NCjwhLS0gZHRsOmJsb2NrOlNlbGVjdCAtLT4NCgkJPGRkPiREYXRheyJTZWxlY3RlZFN0ciJ9PC9kZD4NCjwhLS0gZHRsOmJsb2NrOlNlbGVjdCAtLT4NCjwhLS0gZHRsOmJsb2NrOkVNYWlsRW5hYmxlZCAtLT4NCgkJPGRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSIkUURhdGF7IkZpZWxkUHJlZml4In1fRmllbGRfJFFEYXRheyJGaWVsZElEIn0iIHZhbHVlPSIkUURhdGF7IlZhbHVlIn0iIGlkPSIkUURhdGF7IkZpZWxkUHJlZml4In1fRmllbGRfJFFEYXRheyJGaWVsZElEIn0iICBjbGFzcz0iJFFEYXRheyJSZXF1aXJlZENzc0NsYXNzIn0gVmFsaWRhdGVfRW1haWwiICAkUURhdGF7IkRpc2FibGVkIn0gLz48L2RkPg0KPCEtLSBkdGw6YmxvY2s6RU1haWxFbmFibGVkIC0tPg0KPCEtLSBkdGw6YmxvY2s6RU1haWxEaXNhYmxlZCAtLT4NCgkJPGRkPiRRRGF0YXsiVmFsdWUifTwvZGQ+DQo8IS0tIGR0bDpibG9jazpFTWFpbERpc2FibGVkIC0tPg0KPCEtLSBkdGw6YmxvY2s6UnVsZUVzY2FsYXRlVG8gLS0+DQoJCTxkZD4kRGF0YXsiUXVldWVOYW1lIn0NCgkJCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCgkJCQl2YXIgbm9kZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUXVldWVJRCcpOw0KCQkJCWlmIChub2Rlcykgew0KCQkJCQlub2RlcyA9IG5vZGVzLmNoaWxkTm9kZXMNCgkJCQkJdmFyIGk7DQoJCQkJCWZvciAoaT0wOyBpPG5vZGVzLmxlbmd0aDsgaSsrKSB7DQoJCQkJCQkgIHZhciBvID0gbm9kZXMuaXRlbShpKTsNCgkJCQkJICAgICAgaWYoby52YWx1ZSA9PSAnJERhdGF7IlRlbXBsYXRlIn0nKSB7DQoJCQkJCSAgICAgIAlvLnNlbGVjdGVkID0gdHJ1ZTsNCgkJCQkJICAgICAgfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJPC9zY3JpcHQ+DQoJCTwvZGQ+DQo8IS0tIGR0bDpibG9jazpSdWxlRXNjYWxhdGVUbyAtLT4NCjwhLS0gZHRsOmJsb2NrOlVzZXJJbmZvRmV0Y2hlckVuYWJsZWQgLS0+DQogICAgICAgIDxkZD4NCiMgZ2V0RXh0VXNlckluZm8gZnVua2NpamEgcmFuZGFzaSBGaWVsZFRyZWUuZHRsIHRlbXBsYXRlDQogICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgb25jbGljaz0iZ2V0RXh0VXNlckluZm8oJyREYXRheyJUZW1wbGF0ZSJ9JykiPiRUZXh0eyJHZXQgYWRkaXRpb25hbCB1c2VyIGluZm8ifTwvYnV0dG9uPg0KICAgICAgICA8L2RkPg0KPCEtLSBkdGw6YmxvY2s6VXNlckluZm9GZXRjaGVyRW5hYmxlZCAtLT4NCgoJPC9kbD4NCgk8ZGl2IGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIiBpZD0iJFFEYXRheyJGaWVsZFByZWZpeCJ9X0ZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9RXJyb3IiPlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuPC9kaXY+DQo8IS0tIGR0bDpibG9jazpGaWVsZCAtLT4NCg==</File>
        <File Location="Kernel/Output/HTML/Standard/FieldTreeFieldsSearch.dtl" Permission="664" Encode="Base64">Q29udGVudC1UeXBlOiB0ZXh0L2h0bWw7IGNoYXJzZXQ9JEVudnsiVXNlckNoYXJzZXQifTsNCg0KPGR0bCBzZXQgJEVudnsiQm94MCJ9ID0gIlsgIj4NCjxkdGwgc2V0ICRFbnZ7IkJveDEifSA9ICIgXSI+CjwhLS0gZHRsOmJsb2NrOkZpZWxkIC0tPgogICAgPGRsPgogICAgICAgIDxkdCBjbGFzcz0iJERhdGF7IkZpZWxkQ2xhc3MifSI+JFFEYXRheyJOYW1lIn06PC9kdD4KPCEtLSBkdGw6YmxvY2s6VGV4dCAtLT4NCgkJPGRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJGaWVsZF8kUURhdGF7IkZpZWxkSUQifSIgdmFsdWU9IiRRRGF0YXsiVmFsdWUifSIgY2xhc3M9IiRRRGF0YXsiUmVxdWlyZWRDc3NDbGFzcyJ9IiAgLz48L2RkPg0KPCEtLSBkdGw6YmxvY2s6VGV4dCAtLT4NCjwhLS0gZHRsOmJsb2NrOlBob25lIC0tPg0KCQk8ZGQ+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9IkZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiB2YWx1ZT0iJFFEYXRheyJWYWx1ZSJ9IiBjbGFzcz0iJFFEYXRheyJSZXF1aXJlZENzc0NsYXNzIn0gdmFsaWRhdGUtbnVtYmVyIiAgLz48L2RkPg0KPCEtLSBkdGw6YmxvY2s6UGhvbmUgLS0+DQo8IS0tIGR0bDpibG9jazpNb25leSAtLT4NCgkJPGRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJGaWVsZF8kUURhdGF7IkZpZWxkSUQifSIgdmFsdWU9IiRRRGF0YXsiVmFsdWUifSIgIGNsYXNzPSIkUURhdGF7IlJlcXVpcmVkQ3NzQ2xhc3MifSB2YWxpZGF0ZS1udW1iZXIiIC8+PC9kZD4NCjwhLS0gZHRsOmJsb2NrOk1vbmV5IC0tPg0KPCEtLSBkdGw6YmxvY2s6SW50ZWdlciAtLT4NCgkJPGRkPiRUZXh0eyJOdW1iZXIgRnJvbSJ9OiA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iRmllbGRfJFFEYXRheyJGaWVsZElEIn1Gcm9tIiB2YWx1ZT0iJFFEYXRheyJWYWx1ZUZyb20ifSIgIGNsYXNzPSIkUURhdGF7IlJlcXVpcmVkQ3NzQ2xhc3MifSB2YWxpZGF0ZS1udW1iZXIiIC8+DQoJCSRUZXh0eyJOdW1iZXIgVG8ifTogPGlucHV0IHR5cGU9InRleHQiIG5hbWU9IkZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9VG8iIHZhbHVlPSIkUURhdGF7IlZhbHVlVG8ifSIgIGNsYXNzPSIkUURhdGF7IlJlcXVpcmVkQ3NzQ2xhc3MifSB2YWxpZGF0ZS1udW1iZXIiIC8+CiMJCSRUZXh0e0V4YWN0fTogPGlucHV0IHR5cGU9InRleHQiIG5hbWU9IkZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiB2YWx1ZT0iJFFEYXRheyJWYWx1ZSJ9IiAgY2xhc3M9IiRRRGF0YXsiUmVxdWlyZWRDc3NDbGFzcyJ9IHZhbGlkYXRlLW51bWJlciIgLz48L2RkPg0KPCEtLSBkdGw6YmxvY2s6SW50ZWdlciAtLT4NCjwhLS0gZHRsOmJsb2NrOkRvdWJsZSAtLT4NCgkJPGRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJGaWVsZF8kUURhdGF7IkZpZWxkSUQifUZyb20iIHZhbHVlPSIkUURhdGF7IlZhbHVlIn0iIGNsYXNzPSIkUURhdGF7IlJlcXVpcmVkQ3NzQ2xhc3MifSB2YWxpZGF0ZS1udW1iZXIiICAvPg0KCQk8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iRmllbGRfJFFEYXRheyJGaWVsZElEIn1UbyIgdmFsdWU9IiRRRGF0YXsiVmFsdWUifSIgY2xhc3M9IiRRRGF0YXsiUmVxdWlyZWRDc3NDbGFzcyJ9IHZhbGlkYXRlLW51bWJlciIgIC8+PC9kZD4NCjwhLS0gZHRsOmJsb2NrOkRvdWJsZSAtLT4NCjwhLS0gZHRsOmJsb2NrOkJvb2xlYW4gLS0+DQoJCTxkZD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9IkZpZWxkXyRRRGF0YXsiRmllbGRJRCJ9IiB2YWx1ZT0iMSIgJFFEYXRheyJDaGVja2VkU3RyIn0gY2xhc3M9IiRRRGF0YXsiUmVxdWlyZWRDc3NDbGFzcyJ9IiAgLz48L2RkPg0KPCEtLSBkdGw6YmxvY2s6Qm9vbGVhbiAtLT4NCjwhLS0gZHRsOmJsb2NrOk11bHRpVGV4dCAtLT4NCgkJPGRkPjx0ZXh0YXJlYSBuYW1lPSJGaWVsZF8kUURhdGF7IkZpZWxkSUQifSIgY2xhc3M9IiRRRGF0YXsiUmVxdWlyZWRDc3NDbGFzcyJ9IiA+JFFEYXRheyJWYWx1ZSJ9PC90ZXh0YXJlYT48L2RkPg0KPCEtLSBkdGw6YmxvY2s6TXVsdGlUZXh0IC0tPg0KPCEtLSBkdGw6YmxvY2s6RGF0ZVRpbWUgLS0+DQoJCTxkZD4kRGF0YXsiRGF0YVZhbHVlIn08L2RkPg0KPCEtLSBkdGw6YmxvY2s6RGF0ZVRpbWUgLS0+DQo8IS0tIGR0bDpibG9jazpTZWxlY3QgLS0+DQoJCTxkZD4kRGF0YXsiU2VsZWN0ZWRTdHIifTwvZGQ+DQo8IS0tIGR0bDpibG9jazpTZWxlY3QgLS0+DQo8IS0tIGR0bDpibG9jazpFTWFpbCAtLT4NCgkJPGRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJGaWVsZF8kUURhdGF7IkZpZWxkSUQifSIgdmFsdWU9IiRRRGF0YXsiVmFsdWUifSIgIGNsYXNzPSIkUURhdGF7IlJlcXVpcmVkQ3NzQ2xhc3MifSB2YWxpZGF0ZS1lbWFpbCIgLz48L2RkPg0KPCEtLSBkdGw6YmxvY2s6RU1haWwgLS0+CjwvZGw+CjwhLS0gZHRsOmJsb2NrOkZpZWxkIC0tPgo=</File>
        <File Location="Kernel/Output/HTML/Standard/FieldTreeMultiCheckbox.dtl" Permission="664" Encode="Base64">IyAtLQ0KIyBGaWVsZFRyZWUuZHRsIC0gcHJvdmlkZXMgRmllbGRUcmVlIGNvbXBvbmVudA0KIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAwOSBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvDQojIC0tDQojICRJZDogRmllbGRUcmVlLmR0bCx2IDAuMDEgMjAwOS8xMS8yMyBKdXN0aW5hcyBKYXJvbmlzIEV4cCAkDQojIC0tDQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlDQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UNCiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4NCiMgLS0NCg0KDQojIC0tDQojIEZpZWxkVHJlZS5kdGwgLSBwcm92aWRlcyBGaWVsZFRyZWUgY29tcG9uZW50DQojIENvcHlyaWdodCAoQykgMjAwMS0yMDA5IE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8NCiMgLS0NCiMgJElkOiBGaWVsZFRyZWUuZHRsLHYgMC4wMSAyMDA5LzExLzIzIEp1c3RpbmFzIEphcm9uaXMgRXhwICQNCiMgLS0NCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUNCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQ0KIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0Lg0KIyAtLQ0KDQoNCg0KCQkJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KCQkJdmFyIHRyZWUyID0gbnVsbDsNCgkJCWZ1bmN0aW9uIFRhZmVsVHJlZUluaXQyICgpIHsNCgkJCQl2YXIgc3RydWN0ID0gJERhdGF7IlByb2JsZW1SZWFzb25KU09OIn07DQoJCQkJdHJlZTIgPSBuZXcgVGFmZWxUcmVlKCdwcm9ibGVtU291cmNlVHJlZScsIHN0cnVjdCwgew0KCQkJCQknZ2VuZXJhdGUnIDogdHJ1ZSwNCgkJCQkJJ2NoZWNrYm94ZXMnIDogdHJ1ZSwNCgkJCQkJJ2Nvb2tpZXMnIDogZmFsc2UsDQoJCQkJCSdjaGVja2JveE5hbWVQcmVmaXgnOidQcm9ibGVtUmVhc29uXycsDQoJCQkJCSdjaGVja2JveGVzRGlzYWJsZWQnOiAnJERhdGF7IkRpc2FibGVkUmVhc29uVHJlZSJ9JywNCgkJCQkJJ2ltZ0Jhc2UnIDogJyRDb25maWd7IkZyb250ZW5kOjpXZWJQYXRoIn1pbWFnZXMvQUtTL3RyZWV2aWV3LycsDQoJCQkJCSdkZWZhdWx0SW1nJyA6ICdwYWdlLmdpZicsDQoJCQkJCSdkZWZhdWx0SW1nT3BlbicgOiAnZm9sZGVyb3Blbi5naWYnLA0KCQkJCQknZGVmYXVsdEltZ0Nsb3NlJyA6ICdmb2xkZXIuZ2lmJywNCgkJCQkJJ29uTG9hZCcgOiBmdW5jdGlvbigpIHsNCgkJCQkJCWRvY3VtZW50LmZpcmUoJ2ZpZWxkdHJlZTpsb2FkJyk7DQoJCQkJCX0NCgkJCQl9KTsNCgkJCX0NCg0KCQkJPC9zY3JpcHQ+DQoJCTxkaXYgc3R5bGU9ImZsb2F0OiBsZWZ0OyB3aWR0aDogMzgwcHg7IiA+DQoJCQk8ZGl2IGlkPSJwcm9ibGVtU291cmNlVHJlZSI+PC9kaXY+IA0KCQk8L2Rpdj4NCgkJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iUHJvYmxlbVJlYXNvblZhbHVlU2V0SUQiIHZhbHVlPSIkRGF0YXsiUHJvYmxlbVJlYXNvbkZpZWxkc2V0SUQifSI+DQo=</File>
        <File Location="Kernel/System/DynamicField/Backend/FieldTree.pm" Permission="664" Encode="Base64">IyAtLQojIEtlcm5lbC9TeXN0ZW0vRHluYW1pY0ZpZWxkL0JhY2tlbmQvRmllbGRUcmVlLnBtIC0gRGVsZWdhdGUgZm9yIER5bmFtaWNGaWVsZCBGaWVsZFRyZWUgYmFja2VuZAojIENvcHlyaWdodCAoQykgMjAxMiBBdHZpcm8ga29kbyBzcHJlbmRpbWFpLCBodHRwOi8vd3d3LmFrc3ByZW5kaW1haS5sdC8KIyAtLQojICRJZDogRmllbGRUcmVlLnBtLHYgMS40OC4yLjQgMjAxMi8wNS8wNyAyMTo0MzoxMCBjciBFeHAgJAojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOjpCYWNrZW5kOjpGaWVsZFRyZWU7Cgp1c2Ugc3RyaWN0Owp1c2Ugd2FybmluZ3M7Cgp1c2UgRGF0YTo6RHVtcGVyOwp1c2UgS2VybmVsOjpTeXN0ZW06OlZhcmlhYmxlQ2hlY2sgcXcoOmFsbCk7CnVzZSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkVmFsdWU7CnVzZSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOjpCYWNrZW5kOjpCYWNrZW5kQ29tbW9uOwp1c2UgS2VybmVsOjpTeXN0ZW06OkdlbmVyYWxDYXRhbG9nOwp1c2UgS2VybmVsOjpPdXRwdXQ6OkhUTUw6OkxheW91dDsKdXNlIEtlcm5lbDo6U3lzdGVtOjpGaWVsZFRyZWU7Cgp1c2UgdmFycyBxdygkVkVSU0lPTik7CiRWRVJTSU9OID0gcXcoJFJldmlzaW9uOiAxLjQ4LjIuNCAkKSBbMV07Cgo9aGVhZDEgTkFNRQoKS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDo6QmFja2VuZDo6RmllbGRUcmVlCgo9aGVhZDEgU1lOT1BTSVMKCkR5bmFtaWNGaWVsZHMgRmllbGRUcmVlIGJhY2tlbmQgZGVsZWdhdGUKCj1oZWFkMSBQVUJMSUMgSU5URVJGQUNFCgpUaGlzIG1vZHVsZSBpbXBsZW1lbnRzIHRoZSBwdWJsaWMgaW50ZXJmYWNlIG9mIEw8S2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDo6QmFja2VuZD4uClBsZWFzZSBsb29rIHRoZXJlIGZvciBhIGRldGFpbGVkIHJlZmVyZW5jZSBvZiB0aGUgZnVuY3Rpb25zLgoKPW92ZXIgNAoKPWl0ZW0gbmV3KCkKCnVzdWFsbHksIHlvdSB3YW50IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzCmJ5IHVzaW5nIEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ6OkJhY2tlbmQtPm5ldygpOwoKPWN1dAoKc3ViIG5ldyB7CiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdAogICAgbXkgJFNlbGYgPSB7fTsKICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsKCiAgICAjIGdldCBuZWVkZWQgb2JqZWN0cwogICAgZm9yIG15ICROZWVkZWQgKHF3KENvbmZpZ09iamVjdCBFbmNvZGVPYmplY3QgTG9nT2JqZWN0IE1haW5PYmplY3QgREJPYmplY3QgVGltZU9iamVjdCApKSB7CiAgICAgICAgZGllICJHb3Qgbm8gJE5lZWRlZCEiIGlmICEkUGFyYW17JE5lZWRlZH07CgogICAgICAgICRTZWxmLT57JE5lZWRlZH0gPSAkUGFyYW17JE5lZWRlZH07CiAgICB9CiAgICAKICAgICRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZFZhbHVlLT5uZXcoICV7JFNlbGZ9ICk7CiAgICAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6RmllbGRUcmVlLT5uZXcoICV7JFNlbGZ9ICk7CiAgICAkU2VsZi0+e0dlbmVyYWxDYXRhbG9nT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpHZW5lcmFsQ2F0YWxvZy0+bmV3KCAleyRTZWxmfSApOwogICAgJFNlbGYtPntCYWNrZW5kQ29tbW9uT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ6OkJhY2tlbmQ6OkJhY2tlbmRDb21tb24tPm5ldyggJXskU2VsZn0gKTsKCiAgICAjIHNldCB0aGUgbWF4aW11bSBsZW5naHQgZm9yIHRoZSBGaWVsZFRyZWUgZmllbGRzIHRvIHN0aWxsIGJlIGEgc2VhcmNoYWJsZSBmaWVsZCBpbiBzb21lCiAgICAjIGRhdGFiYXNlcwogICAgJFNlbGYtPntNYXhMZW5ndGh9ID0gMzgwMDsjIEZJWE1FOiBkZWxldGUKCiAgICByZXR1cm4gJFNlbGY7Cn0KCnN1YiBWYWx1ZUdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICAgICAgICAgCiAgICBteSAkREZWYWx1ZSA9ICRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9LT5WYWx1ZUdldCgKICAgICAgICBGaWVsZElEICA9PiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0lEfSwKICAgICAgICBPYmplY3RJRCA9PiAkUGFyYW17T2JqZWN0SUR9LAogICAgKTsKCiAgICByZXR1cm4gaWYgISRERlZhbHVlOwogICAgcmV0dXJuIGlmICFJc0FycmF5UmVmV2l0aERhdGEoJERGVmFsdWUpOwogICAgcmV0dXJuIGlmICFJc0hhc2hSZWZXaXRoRGF0YSggJERGVmFsdWUtPlswXSApOwogICAgCiAgICBteSAkVmFsdWU7CiAgICAkVmFsdWUtPntWYWx1ZVNldElEfSA9ICRERlZhbHVlLT5bMF0tPntWYWx1ZUludH07CiAgICByZXR1cm4gJFZhbHVlOwp9CgpzdWIgVmFsdWVTZXQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKICAgIAogICAgbXkgJFZhbHVlU2V0SUQ7CiAgICBpZiAoJFBhcmFte1ZhbHVlfS0+e1ZhbHVlU2V0SUR9IGVxICJORVciKQogICAgewogICAgICAgIG15ICRSZXN1bHQgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPlZhbHVlU2V0QWRkKERhdGEgPT4gJFBhcmFte1ZhbHVlfS0+e0ZpZWxkc1ZhbHVlc30pOwogICAgICAgICRWYWx1ZVNldElEID0gJFJlc3VsdC0+e1ZhbHVlU2V0SUR9OwogICAgfSAgIAoKICAgIG15ICRTdWNjZXNzID0gJFNlbGYtPntEeW5hbWljRmllbGRWYWx1ZU9iamVjdH0tPlZhbHVlU2V0KAogICAgICAgIEZpZWxkSUQgID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57SUR9LAogICAgICAgIE9iamVjdElEID0+ICRQYXJhbXtPYmplY3RJRH0sCiAgICAgICAgVmFsdWUgICAgPT4gWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBWYWx1ZUludCA9PiAkVmFsdWVTZXRJRCwKICAgICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIFVzZXJJRCA9PiAkUGFyYW17VXNlcklEfSwKICAgICk7CiAgICAKICAgIGlmICggJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntPYmplY3RUeXBlfSBlcSAnVGlja2V0JyApIHsKICAgICAgICByZXR1cm4gaWYgISRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+UnVsZXNQb3N0UHJvY2VzcygKICAgICAgICAgICAgVGlja2V0SUQgICA9PiAkUGFyYW17T2JqZWN0SUR9LAogICAgICAgICAgICBVc2VySUQgICAgID0+ICRQYXJhbXtVc2VySUR9LAogICAgICAgICAgICBWYWx1ZVNldElEID0+ICRWYWx1ZVNldElELAogICAgICAgICk7CiAgICB9CgogICAgcmV0dXJuICRTdWNjZXNzOwp9CgpzdWIgVmFsdWVEZWxldGUgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkU3VjY2VzcyA9ICRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9LT5WYWx1ZURlbGV0ZSgKICAgICAgICBGaWVsZElEICA9PiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0lEfSwKICAgICAgICBPYmplY3RJRCA9PiAkUGFyYW17T2JqZWN0SUR9LAogICAgICAgIFVzZXJJRCAgID0+ICRQYXJhbXtVc2VySUR9LAogICAgKTsKCiAgICByZXR1cm4gJFN1Y2Nlc3M7Cn0KCnN1YiBBbGxWYWx1ZXNEZWxldGUgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkU3VjY2VzcyA9ICRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9LT5BbGxWYWx1ZXNEZWxldGUoCiAgICAgICAgRmllbGRJRCA9PiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0lEfSwKICAgICAgICBVc2VySUQgID0+ICRQYXJhbXtVc2VySUR9LAogICAgKTsKCiAgICByZXR1cm4gJFN1Y2Nlc3M7Cn0KCnN1YiBWYWx1ZVZhbGlkYXRlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJFN1Y2Nlc3MgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZFZhbHVlT2JqZWN0fS0+VmFsdWVWYWxpZGF0ZSgKICAgICAgICBWYWx1ZSA9PiB7CiAgICAgICAgICAgIFZhbHVlVGV4dCA9PiAkUGFyYW17VmFsdWV9LAogICAgICAgIH0sCiAgICAgICAgVXNlcklEID0+ICRQYXJhbXtVc2VySUR9CiAgICApOwogICAgIyBGSVhNRTogdmlzYWRhIHN1Y2Nlc3M/CgogICAgcmV0dXJuICRTdWNjZXNzOwp9CgpzdWIgU2VhcmNoU1FMR2V0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgaWYgKCAkUGFyYW17T3BlcmF0b3J9IGVxICdFcXVhbHMnICkgewogICAgICAgIG15ICRTUUwgPSAiICRQYXJhbXtUYWJsZUFsaWFzfS52YWx1ZV9pbnQgSU4gKCBTRUxFQ1QgdmFsdWVfc2V0X2lkIEZST00gZmllbGRfdHJlZV92YWx1ZSBXSEVSRSBmaWVsZF90cmVlX2lkID0gIi4kU2VsZi0+e0RCT2JqZWN0fS0+UXVvdGUoICRQYXJhbXtTZWFyY2hUZXJtfS4nICkgJyApOwogICAgICAgIHJldHVybiAkU1FMOwogICAgfQoKCiAgICAkU2VsZi0+eydMb2dPYmplY3QnfS0+TG9nKAogICAgICAgICdQcmlvcml0eScgPT4gJ2Vycm9yJywKICAgICAgICAnTWVzc2FnZScgID0+ICJVbnN1cHBvcnRlZCBPcGVyYXRvciAkUGFyYW17T3BlcmF0b3J9IiwKICAgICk7CgogICAgcmV0dXJuOwp9CgpzdWIgU2VhcmNoU1FMT3JkZXJGaWVsZEdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIHJldHVybiAiJFBhcmFte1RhYmxlQWxpYXN9LnZhbHVlX2ludCI7Cn0KCnN1YiBFZGl0RmllbGRSZW5kZXIgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIHRha2UgY29uZmlnIGZyb20gZmllbGQgY29uZmlnCiAgICBteSAkRmllbGRDb25maWcgPSAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ307CiAgICBteSAkRmllbGROYW1lICAgPSAnRHluYW1pY0ZpZWxkXycgLiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e05hbWV9OwogICAgJFBhcmFte0ZpZWxkTmFtZX0gPSAkRmllbGROYW1lOyAKICAgIG15ICRGaWVsZExhYmVsICA9ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TGFiZWx9OwoKICAgIG15ICRIVE1MU3RyaW5nID0gIiI7CiAgICBteSAkVmFsdWUgPSAnJzsKCiAgICAjIHNldCB0aGUgZmllbGQgdmFsdWUgb3IgZGVmYXVsdAogICAgaWYgKCAkUGFyYW17VXNlRGVmYXVsdFZhbHVlfSApIHsKICAgICAgICAkVmFsdWUgPSAoIGRlZmluZWQgJEZpZWxkQ29uZmlnLT57RGVmYXVsdFZhbHVlfSA/ICRGaWVsZENvbmZpZy0+e0RlZmF1bHRWYWx1ZX0gOiAnJyApOwogICAgfQogICAgJFZhbHVlID0gJFBhcmFte1ZhbHVlfSBpZiBkZWZpbmVkICRQYXJhbXtWYWx1ZX07CgogICAgCgogICAgIyBleHRyYWN0IHRoZSBkeW5hbWljIGZpZWxkIHZhbHVlIGZvcm0gdGhlIHdlYiByZXF1ZXN0CiAgICBteSAkRmllbGRWYWx1ZSA9ICRTZWxmLT5FZGl0RmllbGRWYWx1ZUdldCgKICAgICAgICAlUGFyYW0sCiAgICApOwoKICAgICMgc2V0IHZhbHVlcyBmcm9tIFBhcmFtT2JqZWN0IGlmIHByZXNlbnQKICAgIGlmICggJEZpZWxkVmFsdWUtPntWYWx1ZVNldElEfSAmJiAkRmllbGRWYWx1ZS0+e1ZhbHVlU2V0SUR9ICF+IC9uZXcvaSApIHsKICAgICAgICAkVmFsdWUgPSAkRmllbGRWYWx1ZTsKICAgIH0KCiAgICAjIHNldCB0aGUgcm93cyBudW1iZXIKICAgIG15ICRSb3dzTnVtYmVyID0gZGVmaW5lZCAkRmllbGRDb25maWctPntSb3dzfSAmJiAkRmllbGRDb25maWctPntSb3dzfSA/ICRGaWVsZENvbmZpZy0+e1Jvd3N9IDogJzcnOwoKICAgICMgc2V0IHRoZSBjb2xzIG51bWJlcgogICAgbXkgJENvbHNOdW1iZXIKICAgICAgICA9IGRlZmluZWQgJEZpZWxkQ29uZmlnLT57Q29sc30gJiYgJEZpZWxkQ29uZmlnLT57Q29sc30gPyAkRmllbGRDb25maWctPntDb2xzfSA6ICc0Mic7CgogICAgIyBjaGVjayBhbmQgc2V0IGNsYXNzIGlmIG5lY2Vzc2FyeQogICAgbXkgJEZpZWxkQ2xhc3MgPSAnRHluYW1pY0ZpZWxkRmllbGRUcmVlJzsKICAgIGlmICggZGVmaW5lZCAkUGFyYW17Q2xhc3N9ICYmICRQYXJhbXtDbGFzc30gbmUgJycgKSB7CiAgICAgICAgJEZpZWxkQ2xhc3MgLj0gJyAnIC4gJFBhcmFte0NsYXNzfTsKICAgIH0KCiAgICAjIHNldCBmaWVsZCBhcyBtYW5kYXRvcnkKICAgICRGaWVsZENsYXNzIC49ICcgVmFsaWRhdGVfUmVxdWlyZWQnIGlmICRQYXJhbXtNYW5kYXRvcnl9OwoKICAgICMgc2V0IGVycm9yIGNzcyBjbGFzcwogICAgJEZpZWxkQ2xhc3MgLj0gJyBTZXJ2ZXJFcnJvcicgaWYgJFBhcmFte1NlcnZlckVycm9yfTsKCiAgICAjIHNldCB2YWxpZGF0aW9uIGNsYXNzIGZvciBtYXhpbXVtIGNoYXJhY3RlcnMKICAgICRGaWVsZENsYXNzIC49ICcgVmFsaWRhdGVfTWF4TGVuZ3RoJzsKCiAgICAjIGNyZWF0ZSBmaWVsZCBIVE1MCiAgICAjIHRoZSBYSFRNTCBkZWZpbml0aW9uIGRvZXMgbm90IHN1cHBvcnQgbWF4bGVuZ2h0IGF0dHJpYnV0ZSBmb3IgYSBGaWVsZFRyZWUgZmllbGQsIHRoZXJlZm9yZQogICAgIyBpcyBuZWRkZWQgdG8gYmUgc2V0IGJ5IEpTIGNvZGUgKG90aGVyd2lzZSB3YzMgdmFsaWRhdG9yIHdpbGwgY29tcGxhaW50IGFib3V0IGl0KQogICAgIyBub3RpY2UgdGhhdCBzb21lIGJyb3dzZXJzIGNvdW50IG5ldyBsaW5lcyBcblxyIGFzIG9ubHkgMSBjaGFyYWN0ZXIgaW4gdGhpcyBjYXNlcyB0aGUKICAgICMgdmFsaWRhdGlvbiBmcmFtZXdvcmsgbWlnaHQgcmlzZSBhbiBlcnJvciB3aGlsZSB0aGUgdXNlciBpcyBzdGlsbCBjYXBhYmxlIHRvIGVudGVyIHRleHQgaW4gdGhlCiAgICAjIEZpZWxkVHJlZSwgb3RoZXJ3aXNlIHRoZSBtYXhsZW5naHQgcHJvcGVydHkgd2lsbCBwcmV2ZW50IHRvIGVudGVyIG1vcmUgdGV4dCB0aGFuIHRoZSBtYXhpbXVtCiAgICAKICAgIGlmICgkUGFyYW17UGFyYW1PYmplY3R9KSB7CiAgICAgICAgbXkgJExheW91dE9iamVjdCA9IEtlcm5lbDo6T3V0cHV0OjpIVE1MOjpMYXlvdXQtPm5ldyggJVBhcmFtLCAleyRTZWxmfSApOwoKICAgICAgICBteSAlR2V0UGFyYW07CiAgICAgICAgZm9yIG15ICRLZXkgKHF3KFByb2JsZW1UeXBlSUQpKSB7CiAgICAgICAgICAgICRHZXRQYXJhbXskS2V5fSA9ICRQYXJhbXtQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkS2V5ICk7CiAgICAgICAgfQoKICAgICAgICBpZiAoJFZhbHVlICYmICRWYWx1ZS0+e1ZhbHVlU2V0SUR9ICkgIHsKICAgICAgICAgICAgaWYgKCEkR2V0UGFyYW17UHJvYmxlbVR5cGVJRH0pIHsKICAgICAgICAgICAgICAgICRQYXJhbXtGaWVsZFRyZWVJRH0gPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPlZhbHVlU2V0R2V0RmllbGRUcmVlSUQoCiAgICAgICAgICAgICAgICAgICAgVmFsdWVTZXRJRCA9PiAkVmFsdWUtPntWYWx1ZVNldElEfSwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRWYWx1ZSA9IHt9OwogICAgICAgICAgICAkVmFsdWUtPntWYWx1ZVNldElEfSA9ICJORVciOwogICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgbXkgQEZpZWxkVHJlZVN0cnVjdHVyZSA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+SlNPTigKICAgICAgICAgICAgSXRlbUlEID0+ICRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KCJGaWVsZFRyZWU6OlByb2JsZW1UeXBlUm9vdEZpZWxkVHJlZUlEIiksCiAgICAgICAgICAgIENsYXNzID0+ICRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KCJGaWVsZFRyZWU6OlByb2JsZW1UeXBlQ2xhc3MiKSwKICAgICAgICAgICAgVmFsdWVTZXRJRCA9PiAkVmFsdWUtPntWYWx1ZVNldElEfSwKICAgICAgICAgICAgRmllbGRUcmVlSUQgPT4gJEdldFBhcmFte1Byb2JsZW1UeXBlSUR9LAogICAgICAgICk7CiAgICAgICAgCiAgICAgICAgaWYgKCRWYWx1ZS0+e1ZhbHVlU2V0SUR9IGVxICJORVciKQogICAgICAgIHsKICAgICAgICAJbXkgJEZpZWxkVHJlZUlERnJvbVBvc3QgPSAkUGFyYW17UGFyYW1PYmplY3R9LT5HZXRQYXJhbShQYXJhbSA9PiAkRmllbGROYW1lIC4gJ19GaWVsZFRyZWVJRCcpOwogICAgICAgIAkKICAgICAgICAgICAgJExheW91dE9iamVjdC0+QmxvY2soCiAgICAgICAgICAgICAgICBOYW1lID0+ICdGaWVsZFRyZWUnLAogICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICAgICAgICAgCQlGaWVsZFRyZWVSZWN1cnNpdmVJRHMgPT4gKCRGaWVsZFRyZWVJREZyb21Qb3N0ID1+IG0vXlxkKyQvKSA/ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRUcmVlc1JlY3Vyc2l2ZUlEcygKICAgICAgICAgICAgICAgICAgICAJSXRlbUlEID0+ICRGaWVsZFRyZWVJREZyb21Qb3N0LAogICAgICAgICAgICAgICAgICAgIAlTZXBhcmF0b3IgPT4gJywnLAogICAgICAgICAgICAgICAgICAgIAlSb290SUQgPT4gJFNlbGYtPntDb25maWdPYmplY3R9LT5HZXQoIkZpZWxkVHJlZTo6UHJvYmxlbVR5cGVSb290RmllbGRUcmVlSUQiKQogICAgICAgICAgICAgICAgICAgICkgOiAnJywKICAgICAgICAgICAgICAgICAgICBWYWx1ZVNldElEID0+ICRWYWx1ZS0+e1ZhbHVlU2V0SUR9LAogICAgICAgICAgICAgICAgICAgIE1hbmRhdG9yeUZpZWxkVHJlZUNsYXNzID0+ICRQYXJhbXtNYW5kYXRvcnl9ID09ICcxJyA/ICdWYWxpZGF0ZV9SZXF1aXJlZCcgOiAnJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICAjIElmIHVzZXIgZmlsbGVkIGluIHNvbWUgZmllbGRzIGFuZCBmb3JtIHdhcyBzdWJtaXR0ZWQsIGJ1dCBubyB0aWNrZXQgd2FzIGNyZWF0ZWQoZHVlIHRvIGVycm9yIG9yCiAgICAgICAgICAgICMgdXBsb2FkaW5nIGF0dGFjaG1lbnQpLCBzY3JpcHQgZ2V0cyB2YWx1ZXMgc2VudCBieSBmb3JtIGFuZCBkaXNwbGF5cyBpdCBhZ2FpbiBzbyB0aGF0CiAgICAgICAgICAgICMgdXNlciB3b3VsZG4ndCBsb29zZSBpdC4gCiAgICAgICAgICAgIGlmKCRGaWVsZFRyZWVJREZyb21Qb3N0ID1+IG0vXlxkKyQvKQogICAgICAgICAgICB7CiAgICAgICAgICAgIAlteSAkRmllbGRJRExpc3QgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkZpZWxkTGlzdCgKCSAgICAgICAgICAgICAgICBGaWVsZFRyZWVJRCA9PiAkRmllbGRUcmVlSURGcm9tUG9zdCwKCSAgICAgICAgICAgICAgICBWYWxpZCA9PiAxLAoJICAgICAgICAgICAgKTsKCSAgICAgICAgICAgIAoJICAgICAgICAgICAgZm9yIG15ICRGaWVsZElEICgga2V5cyAleyRGaWVsZElETGlzdH0gKSB7CgkJCQkJJExheW91dE9iamVjdC0+QmxvY2soCiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ0ZpZWxkVHJlZUZpZWxkJywKICAgICAgICAgICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlGaWVsZFRyZWVGaWVsZE5hbWUgPT4gJEZpZWxkTmFtZSAuICdfRmllbGRfJyAuICRGaWVsZElELAogICAgICAgICAgICAgICAgICAgICAgICAJRmllbGROYW1lID0+ICRGaWVsZE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIAlGaWVsZFRyZWVGaWVsZFZhbHVlID0+ICRQYXJhbXtQYXJhbU9iamVjdH0tPkdldFBhcmFtKFBhcmFtID0+ICRGaWVsZE5hbWUgLiAnX0ZpZWxkXycgLiAkRmllbGRJRCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICApOwoJCQkJfQoJICAgICAgICAgICAgCiAgICAgICAgICAgIAkKICAgICAgICAgICAgfQogICAgICAgICAgICAKCiAgICAgICAgICAgIGZvciBteSAkUm93IChARmllbGRUcmVlU3RydWN0dXJlKSB7CiAgICAgICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5CbG9jaygKICAgICAgICAgICAgICAgICAgICBOYW1lID0+ICdGaWVsZFRyZWVMZXZlbDEnLAogICAgICAgICAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgICAgICAgICMgRlQgPT4gRHVtcGVyKFxARmllbGRUcmVlU3RydWN0dXJlKSwKICAgICAgICAgICAgICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICAgICAgICAgICAgICAleyRSb3d9LAogICAgICAgICAgICAgICAgICAgICAgICBDU1NPcGVuQ2xhc3MgPT4gKCRSb3ctPntvcGVufSkgPyAnb3BlbicgOiAnJywKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIG15ICRGaWVsZElETGlzdCA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+RmllbGRMaXN0KAogICAgICAgICAgICAgICAgICAgIEZpZWxkVHJlZUlEID0+ICRSb3ctPntpZH0sCiAgICAgICAgICAgICAgICAgICAgVmFsaWQgPT4gMSwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChzY2FsYXIgQHsgJFJvdy0+e2l0ZW1zfSB9ID09IDAgJiYgKCBzY2FsYXIoIGtleXMgJXskRmllbGRJRExpc3R9ICkpID09IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgICAgIE1lc3NhZ2UgPT4gJ2VtcHR5bHZsMScKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICRMYXlvdXRPYmplY3QtPkJsb2NrKAogICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0+ICdFbXB0eUJyYW5jaExldmVsMScsCiAgICAgICAgICAgICAgICAgICAgICAgIERhdGEgPT4ge30sCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciBteSAkUm93TGV2ZWwyIChAeyAkUm93LT57aXRlbXN9IH0pIHsKICAgICAgICAgICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5CbG9jaygKICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9PiAnRmllbGRUcmVlTGV2ZWwyJywKICAgICAgICAgICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAleyRSb3dMZXZlbDJ9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1NTT3BlbkNsYXNzID0+ICgkUm93TGV2ZWwyLT57b3Blbn0pID8gJ29wZW4nIDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICAgICAgbXkgJEZpZWxkSURMaXN0TGV2ZWwzID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5GaWVsZExpc3QoCiAgICAgICAgICAgICAgICAgICAgICAgIEZpZWxkVHJlZUlEID0+ICRSb3dMZXZlbDItPntpZH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFZhbGlkID0+IDEsCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAoc2NhbGFyIEB7ICRSb3dMZXZlbDItPntpdGVtc30gfSA9PSAwICYmICggc2NhbGFyKCBrZXlzICV7JEZpZWxkSURMaXN0TGV2ZWwzfSApKSA9PSAwKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJExheW91dE9iamVjdC0+QmxvY2soCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0+ICdFbXB0eUJyYW5jaExldmVsMicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRhID0+IHt9LAogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgZm9yIG15ICRSb3dMZXZlbDMgKEB7ICRSb3dMZXZlbDItPntpdGVtc30gfSkgewogICAgICAgICAgICAgICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5CbG9jaygKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ0ZpZWxkVHJlZUxldmVsMycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJXskUm93TGV2ZWwzfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDU1NPcGVuQ2xhc3MgPT4gKCRSb3dMZXZlbDMtPntvcGVufSkgPyAnb3BlbicgOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIAogICAgICAgICAgICAkUGFyYW17SXRlbVJlY3Vyc2l2ZU5hbWV9ID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5JdGVtUmVjdXJzaXZlTmFtZSgKICAgICAgICAgICAgICAgIEl0ZW1JRCA9PiAkUGFyYW17RmllbGRUcmVlSUR9LAogICAgICAgICAgICApOwogICAgICAgICAgICAKICAgICAgICAgICAgJExheW91dE9iamVjdC0+QmxvY2soCiAgICAgICAgICAgICAgICAgICAgTmFtZSA9PiAnRmllbGRUcmVlUHJldmlldycsCiAgICAgICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWVTZXRJRCA9PiAkVmFsdWUtPntWYWx1ZVNldElEfSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICRMYXlvdXRPYmplY3QtPkJsb2NrKAogICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ0ZpZWxkVHJlZVJlY3Vyc2l2ZU5hbWUnLAogICAgICAgICAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlU2V0SUQgPT4gJFZhbHVlLT57VmFsdWVTZXRJRH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICRIVE1MU3RyaW5nIC49ICRMYXlvdXRPYmplY3QtPk91dHB1dCgKICAgICAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdEeW5hbWljRmllbGRGaWVsZFRyZWUnLAogICAgICAgICAgICBEYXRhICAgICAgICAgPT4gewogICAgICAgICAgICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICB9CiAgICAgICAgKTsKICAgIH0KCiAgICAjIGZvciBjbGllbnQgc2lkZSB2YWxpZGF0aW9uCiAgICBteSAkRGl2SUQgPSAkRmllbGROYW1lIC4gJ0Vycm9yJzsKCiAgICBpZiAoICRQYXJhbXtNYW5kYXRvcnl9ICkgewogICAgICAgICRIVE1MU3RyaW5nIC49IDw8IkVPRiI7CiAgICA8ZGl2IGlkPSIkRGl2SUQiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj4KICAgICAgICA8cD4KICAgICAgICAgICAgXCRUZXh0eyJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkIG9yIFRoZSBmaWVsZCBjb250ZW50IGlzIHRvbyBsb25nISBNYXhpbXVtIHNpemUgaXMgJFNlbGYtPntNYXhMZW5ndGh9IGNoYXJhY3RlcnMuIn0KICAgICAgICA8L3A+CiAgICA8L2Rpdj4KRU9GCiAgICB9CiAgICBlbHNlIHsKICAgICAgICAkSFRNTFN0cmluZyAuPSA8PCJFT0YiOwogICAgPGRpdiBpZD0iJERpdklEIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+CiAgICAgICAgPHA+CiAgICAgICAgICAgIFwkVGV4dHsiVGhlIGZpZWxkIGNvbnRlbnQgaXMgdG9vIGxvbmchIE1heGltdW0gc2l6ZSBpcyAkU2VsZi0+e01heExlbmd0aH0gY2hhcmFjdGVycy4ifQogICAgICAgIDwvcD4KICAgIDwvZGl2PgpFT0YKICAgIH0KCiAgICBpZiAoICRQYXJhbXtTZXJ2ZXJFcnJvcn0gKSB7CgogICAgICAgIG15ICRFcnJvck1lc3NhZ2UgPSAkUGFyYW17RXJyb3JNZXNzYWdlfSB8fCAnVGhpcyBmaWVsZCBpcyByZXF1aXJlZC4nOwogICAgICAgIG15ICREaXZJRCA9ICRGaWVsZE5hbWUgLiAnU2VydmVyRXJyb3InOwoKICAgICAgICAjIGZvciBzZXJ2ZXIgc2lkZSB2YWxpZGF0aW9uCiAgICAgICAgJEhUTUxTdHJpbmcgLj0gPDwiRU9GIjsKICAgIDxkaXYgaWQ9IiREaXZJRCIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPgogICAgICAgIDxwPgogICAgICAgICAgICBcJFRleHR7IiRFcnJvck1lc3NhZ2UifQogICAgICAgIDwvcD4KICAgIDwvZGl2PgpFT0YKICAgIH0KCiAgICAjIGNhbGwgRWRpdExhYmVsUmVuZGVyIG9uIHRoZSBjb21tb24gYmFja2VuZAogICAgbXkgJExhYmVsU3RyaW5nID0gJFNlbGYtPntCYWNrZW5kQ29tbW9uT2JqZWN0fS0+RWRpdExhYmVsUmVuZGVyKAogICAgICAgIER5bmFtaWNGaWVsZENvbmZpZyA9PiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfSwKICAgICAgICBNYW5kYXRvcnkgICAgICAgICAgPT4gJFBhcmFte01hbmRhdG9yeX0gfHwgJzAnLAogICAgICAgIEZpZWxkTmFtZSAgICAgICAgICA9PiAkRmllbGROYW1lLAogICAgKTsKCiAgICBteSAkRGF0YSA9IHsKICAgICAgICBGaWVsZCA9PiAkSFRNTFN0cmluZywKICAgICAgICBMYWJlbCA9PiAkTGFiZWxTdHJpbmcsCiAgICB9OwoKICAgIHJldHVybiAkRGF0YTsKfQoKc3ViIEVkaXRGaWVsZFZhbHVlR2V0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJEZpZWxkTmFtZSA9ICdEeW5hbWljRmllbGRfJyAuICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX07CiAgICBteSAkRmllbGRUcmVlSWROYW1lID0gJ0R5bmFtaWNGaWVsZF8nIC4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfSAuICdfRmllbGRUcmVlSUQnOwoKICAgIG15ICRWYWx1ZSA9IHt9OwoKICAgICMgY2hlY2sgaWYgdGhlcmUgaXMgYSBUZW1wbGF0ZSBhbmQgcmV0cmVpdmUgdGhlIGR5bmFtaWMgZmllbGQgdmFsdWUgZnJvbSB0aGVyZQogICAgaWYgKCBJc0hhc2hSZWZXaXRoRGF0YSggJFBhcmFte1RlbXBsYXRlfSApICkgewogICAgICAgICRWYWx1ZSA9ICRQYXJhbXtUZW1wbGF0ZX0tPnskRmllbGROYW1lfTsKICAgIH0KCiAgICAjIG90aGVyd2lzZSBnZXQgZHluYW1pYyBmaWVsZCB2YWx1ZSBmb3JtIHBhcmFtCiAgICBlbHNlIHsKICAgICAgICAkVmFsdWUtPntWYWx1ZVNldElEfSA9ICRQYXJhbXtQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkRmllbGROYW1lICk7IAogICAgfQoKICAgIGlmICggZGVmaW5lZCAkUGFyYW17UmV0dXJuVGVtcGxhdGVTdHJ1Y3R1cmV9ICYmICRQYXJhbXtSZXR1cm5UZW1wbGF0ZVN0cnVjdHVyZX0gZXEgJzEnICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICRGaWVsZE5hbWUgPT4gJFZhbHVlLAogICAgICAgIH07CiAgICB9CiAgIAogICAgaWYgKCEkUGFyYW17UGFyYW1PYmplY3R9KSB7CiAgICAgICAgIyB3aGVuIHJ1bm5pbmcgR2VuZXJpY0FnZW50IGpvYnMgUGFyYW1PYmplY3QgaXMgbm90IHN1cHBsaWVkIGhlcmUhCiAgICAgICAgcmV0dXJuICRWYWx1ZTsKICAgIH0KICAgIG15ICRGaWVsZFRyZWVJRCA9ICRQYXJhbXtQYXJhbU9iamVjdH0tPkdldFBhcmFtKFBhcmFtID0+ICRGaWVsZFRyZWVJZE5hbWUpOwogICAgaWYgKCEkRmllbGRUcmVlSUQpIHsKICAgICAgICByZXR1cm4gJFZhbHVlOwogICAgfQogICAgCiAgICBteSAkRmllbGRzVmFsdWVzOwogICAgaWYoZGVmaW5lZCgkRmllbGRUcmVlSUQpKSB7CiAgICAgICAgJEZpZWxkc1ZhbHVlcyA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+R2V0RmllbGRzVmFsdWVzKAogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICdGaWVsZFRyZWVJRCcgPT4gJEZpZWxkVHJlZUlELAogICAgICAgICAgICAnUHJlZml4JyA9PiAnRHluYW1pY0ZpZWxkXycgLiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e05hbWV9CiAgICAgICAgKTsKICAgIH0KICAgIAogICAgJFZhbHVlLT57RmllbGRzVmFsdWVzfSA9ICRGaWVsZHNWYWx1ZXM7CgogICAgIyBmb3IgdGhpcyBmaWVsZCB0aGUgbm9ybWFsIHJldHVybiBhbiB0aGUgUmV0dXJuVmFsdWVTdHJ1Y3R1cmUgYXJlIHRoZSBzYW1lCiAgICByZXR1cm4gJFZhbHVlOwp9CgpzdWIgRWRpdEZpZWxkVmFsdWVWYWxpZGF0ZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgZ2V0IHRoZSBmaWVsZCB2YWx1ZSBmcm9tIHRoZSBodHRwIHJlcXVlc3QKICAgIG15ICRWYWx1ZSA9ICRTZWxmLT5FZGl0RmllbGRWYWx1ZUdldCgKICAgICAgICBEeW5hbWljRmllbGRDb25maWcgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30sCiAgICAgICAgUGFyYW1PYmplY3QgICAgICAgID0+ICRQYXJhbXtQYXJhbU9iamVjdH0sCgogICAgICAgICMgbm90IG5lY2Vzc2FyeSBmb3IgdGhpcyBiYWNrZW5kIGJ1dCBwbGFjZSBpdCBmb3IgY29uc2lzdGVuY3kgcmVhc29ucwogICAgICAgIFJldHVyblZhbHVlU3RydWN0dXJlID0+IDEsCiAgICApOwoKICAgIG15ICRTZXJ2ZXJFcnJvcjsKICAgIG15ICRFcnJvck1lc3NhZ2U7CgogICAgIyBwZXJmb3JtIG5lY2Vzc2FyeSB2YWxpZGF0aW9ucwogICAgaWYgKCAkUGFyYW17TWFuZGF0b3J5fSAmJiAkVmFsdWUgZXEgJycgKSB7CiAgICAgICAgJFNlcnZlckVycm9yID0gMTsKICAgIH0KCiAgICBpZiAoIGxlbmd0aCAkVmFsdWUgPiAkU2VsZi0+e01heExlbmd0aH0gKSB7CiAgICAgICAgJFNlcnZlckVycm9yID0gMTsKICAgICAgICAkRXJyb3JNZXNzYWdlCiAgICAgICAgICAgID0gIlRoZSBmaWVsZCBjb250ZW50IGlzIHRvbyBsb25nISBNYXhpbXVtIHNpemUgaXMgJFNlbGYtPntNYXhMZW5ndGh9IGNoYXJhY3RlcnMuIjsKICAgIH0KCiAgICAjIGNyZWF0ZSByZXN1bHRpbmcgc3RydWN0dXJlCiAgICBteSAkUmVzdWx0ID0gewogICAgICAgIFNlcnZlckVycm9yICA9PiAkU2VydmVyRXJyb3IsCiAgICAgICAgRXJyb3JNZXNzYWdlID0+ICRFcnJvck1lc3NhZ2UsCiAgICB9OwoKICAgIHJldHVybiAkUmVzdWx0Owp9CgpzdWIgRGlzcGxheVZhbHVlUmVuZGVyIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgoKICAgICMgZ2V0IHJhdyBUaXRsZSBhbmQgVmFsdWUgc3RyaW5ncyBmcm9tIGZpZWxkIHZhbHVlCiMgICAgbXkgJFZhbHVlID0gZGVmaW5lZCAkUGFyYW17VmFsdWV9ID8gJFBhcmFte1ZhbHVlfSA6ICcnOwojICAgIG15ICRUaXRsZSA9ICRWYWx1ZTsKIwojICAgICMgSFRNTE91cHV0IHRyYW5zZm9ybWF0aW9ucwojICAgIGlmICggJFBhcmFte0hUTUxPdXRwdXR9ICkgewojCiMgICAgICAgICRWYWx1ZSA9ICRQYXJhbXtMYXlvdXRPYmplY3R9LT5Bc2NpaTJIdG1sKAojICAgICAgICAgICAgVGV4dCAgICAgICAgICAgPT4gJFZhbHVlLAojICAgICAgICAgICAgSFRNTFJlc3VsdE1vZGUgPT4gMSwKIyAgICAgICAgICAgIE1heCAgICAgICAgICAgID0+ICRQYXJhbXtWYWx1ZU1heENoYXJzfSB8fCAnJywKIyAgICAgICAgKTsKIwojICAgICAgICAkVGl0bGUgPSAkUGFyYW17TGF5b3V0T2JqZWN0fS0+QXNjaWkySHRtbCgKIyAgICAgICAgICAgIFRleHQgPT4gJFRpdGxlLAojICAgICAgICAgICAgTWF4ID0+ICRQYXJhbXtUaXRsZU1heENoYXJzfSB8fCAnJywKIyAgICAgICAgKTsKIyAgICB9CiMgICAgZWxzZSB7CiMgICAgICAgIGlmICggJFBhcmFte1ZhbHVlTWF4Q2hhcnN9ICYmIGxlbmd0aCgkVmFsdWUpID4gJFBhcmFte1ZhbHVlTWF4Q2hhcnN9ICkgewojICAgICAgICAgICAgJFZhbHVlID0gc3Vic3RyKCAkVmFsdWUsIDAsICRQYXJhbXtWYWx1ZU1heENoYXJzfSApIC4gJy4uLic7CiMgICAgICAgIH0KIyAgICAgICAgaWYgKCAkUGFyYW17VGl0bGVNYXhDaGFyc30gJiYgbGVuZ3RoKCRUaXRsZSkgPiAkUGFyYW17VGl0bGVNYXhDaGFyc30gKSB7CiMgICAgICAgICAgICAkVGl0bGUgPSBzdWJzdHIoICRUaXRsZSwgMCwgJFBhcmFte1RpdGxlTWF4Q2hhcnN9ICkgLiAnLi4uJzsKIyAgICAgICAgfQojICAgIH0KIwojICAgICMgdGhpcyBmaWVsZCB0eXBlIGRvZXMgbm90IHN1cHBvcnQgdGhlIExpbmsgRmVhdHVyZQojICAgIG15ICRMaW5rOwoKICAgIG15ICRGaWVsZFRyZWUgPSAkU2VsZi0+RWRpdEZpZWxkUmVuZGVyKCVQYXJhbSwgJ1JlYWRPbmx5JyA9PiAnMScpOwoKICAgICMgY3JlYXRlIHJldHVybiBzdHJ1Y3R1cmUKICAgIG15ICREYXRhID0gewogICAgICAgIFZhbHVlID0+ICcnLAogICAgICAgIFRpdGxlID0+ICcnLAogICAgICAgIExpbmsgID0+ICcnLAogICAgICAgIENvbnRlbnQgPT4gJEZpZWxkVHJlZS0+e0ZpZWxkfQogICAgfTsKCiAgICByZXR1cm4gJERhdGE7Cn0KCnN1YiBJc1NvcnRhYmxlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuIDA7Cn0KCnN1YiBTZWFyY2hGaWVsZFJlbmRlciB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgdGFrZSBjb25maWcgZnJvbSBmaWVsZCBjb25maWcKICAgIG15ICRGaWVsZENvbmZpZyA9ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfTsKICAgIG15ICRGaWVsZE5hbWUgICA9ICdTZWFyY2hfRHluYW1pY0ZpZWxkXycgLiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e05hbWV9OwogICAgbXkgJEZpZWxkTGFiZWwgID0gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntMYWJlbH07CgogICAgIyBzZXQgdGhlIGZpZWxkIHZhbHVlCiAgICBteSAkVmFsdWUgPSAoIGRlZmluZWQgJFBhcmFte0RlZmF1bHRWYWx1ZX0gPyAkUGFyYW17RGVmYXVsdFZhbHVlfSA6ICcnICk7CgogICAgIyBnZXQgdGhlIGZpZWxkIHZhbHVlLCB0aGlzIGZ1Y3Rpb24gaXMgYWx3YXlzIGNhbGxlZCBhZnRlciB0aGUgcHJvZmlsZSBpcyBsb2FkZWQKICAgIG15ICRGaWVsZFZhbHVlID0gJFNlbGYtPlNlYXJjaEZpZWxkVmFsdWVHZXQoJVBhcmFtKTsKCiAgICAjIHNldCB2YWx1ZXMgZnJvbSBwcm9maWxlIGlmIHByZXNlbnQKICAgIGlmICggZGVmaW5lZCAkRmllbGRWYWx1ZSApIHsKICAgICAgICAkVmFsdWUgPSAkRmllbGRWYWx1ZTsKICAgIH0KCiAgICAjIGNoZWNrIGFuZCBzZXQgY2xhc3MgaWYgbmVjZXNzYXJ5CiAgICBteSAkRmllbGRDbGFzcyA9ICdEeW5hbWljRmllbGRUZXh0JzsKCiAgICBteSAkSFRNTFN0cmluZyA9IDw8IkVPRiI7CjxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iJEZpZWxkQ2xhc3MiIGlkPSIkRmllbGROYW1lIiBuYW1lPSIkRmllbGROYW1lIiB0aXRsZT0iJEZpZWxkTGFiZWwiIHZhbHVlPSIkVmFsdWUiIC8+CkVPRgoKICAgICMgY2FsbCBFZGl0TGFiZWxSZW5kZXIgb24gdGhlIGNvbW1vbiBiYWNrZW5kCiAgICBteSAkTGFiZWxTdHJpbmcgPSAkU2VsZi0+e0JhY2tlbmRDb21tb25PYmplY3R9LT5FZGl0TGFiZWxSZW5kZXIoCiAgICAgICAgRHluYW1pY0ZpZWxkQ29uZmlnID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LAogICAgICAgIEZpZWxkTmFtZSAgICAgICAgICA9PiAkRmllbGROYW1lLAogICAgKTsKCiAgICBteSAkRGF0YSA9IHsKICAgICAgICBGaWVsZCA9PiAkSFRNTFN0cmluZywKICAgICAgICBMYWJlbCA9PiAkTGFiZWxTdHJpbmcsCiAgICB9OwoKICAgIHJldHVybiAkRGF0YTsKfQoKc3ViIFNlYXJjaEZpZWxkVmFsdWVHZXQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkVmFsdWU7CgogICAgIyBnZXQgZHluYW1pYyBmaWVsZCB2YWx1ZSBmb3JtIHBhcmFtIG9iamVjdAogICAgaWYgKCBkZWZpbmVkICRQYXJhbXtQYXJhbU9iamVjdH0gKSB7CiAgICAgICAgJFZhbHVlID0gJFBhcmFte1BhcmFtT2JqZWN0fQogICAgICAgICAgICAtPkdldFBhcmFtKCBQYXJhbSA9PiAnU2VhcmNoX0R5bmFtaWNGaWVsZF8nIC4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfSApOwogICAgfQoKICAgICMgb3RoZXJ3aXNlIGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgcHJvZmlsZQogICAgZWxzaWYgKCBkZWZpbmVkICRQYXJhbXtQcm9maWxlfSApIHsKICAgICAgICAkVmFsdWUgPSAkUGFyYW17UHJvZmlsZX0tPnsgJ1NlYXJjaF9EeW5hbWljRmllbGRfJyAuICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX0gfTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoIGRlZmluZWQgJFBhcmFte1JldHVyblByb2ZpbGVTdHJ1Y3R1cmV9ICYmICRQYXJhbXtSZXR1cm5Qcm9maWxlU3RydWN0dXJlfSBlcSAxICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdTZWFyY2hfRHluYW1pY0ZpZWxkXycgLiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e05hbWV9ID0+ICRWYWx1ZSwKICAgICAgICB9OwogICAgfQoKICAgIHJldHVybiAkVmFsdWU7Cgp9CgpzdWIgU2VhcmNoRmllbGRQYXJhbWV0ZXJCdWlsZCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgZ2V0IGZpZWxkIHZhbHVlCiAgICBteSAkVmFsdWUgPSAkU2VsZi0+U2VhcmNoRmllbGRWYWx1ZUdldCglUGFyYW0pOwoKICAgIGlmICggISRWYWx1ZSApIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBQYXJhbWV0ZXIgPT4gewogICAgICAgICAgICAgICAgJ0xpa2UnID0+ICcnLAogICAgICAgICAgICB9LAogICAgICAgICAgICBEaXNwbGF5ID0+ICcnLAogICAgICAgICAgICB9CiAgICB9CgogICAgIyByZXR1cm4gc2VhcmNoIHBhcmFtZXRlciBzdHJ1Y3R1cmUKICAgIHJldHVybiB7CiAgICAgICAgUGFyYW1ldGVyID0+IHsKICAgICAgICAgICAgJ0xpa2UnID0+ICcqJyAuICRWYWx1ZSAuICcqJywKICAgICAgICB9LAogICAgICAgIERpc3BsYXkgPT4gJFZhbHVlLAogICAgfTsKfQoKc3ViIF9Tb3J0ZWRGaWVsZFRyZWUgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCW15ICRUcmVlRGF0YSA9ICRTZWxmLT5fRmllbGRUcmVlKAoJCUNsYXNzID0+ICRQYXJhbXtDbGFzc30sCgkpOwoJbXkgQFRyZWVLZXlzID0ga2V5cyAleyRUcmVlRGF0YX07CglyZXR1cm4gXEBUcmVlS2V5czsKfQoKc3ViIF9GaWVsZFRyZWUgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgZm9yIG15ICRBcmd1bWVudCAocXcoQ2xhc3MpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyRBcmd1bWVudH0gKSB7CiAgICAgICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkICRBcmd1bWVudCEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgbXkgJFRyZWVEYXRhID0ge307CiAgICBteSAkRmllbGRJRHMgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1MaXN0KAogICAgCUNsYXNzID0+ICRQYXJhbXtDbGFzc30sCiAgICApOwogICAgCiAgICBmb3IgbXkgJEtleSAoIGtleXMgJXskRmllbGRJRHN9ICkgewogICAgCSRUcmVlRGF0YS0+eyAkS2V5IH0gPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1SZWN1cnNpdmVOYW1lKAoJICAgIAlJdGVtSUQgPT4gJEtleSwKCSAgICApOwoJfSAgICAKICAgIHJldHVybiAkVHJlZURhdGE7Cn0KCgpzdWIgU3RhdHNGaWVsZFBhcmFtZXRlckJ1aWxkIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuIHsKCSAgICAgICAgTmFtZSAgICA9PiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0xhYmVsfSwKCSAgICAgICAgRWxlbWVudCA9PiAnRHluYW1pY0ZpZWxkXycgLiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e05hbWV9LAogICAgICAgICAgICBWYWx1ZXMgICAgICAgICAgID0+ICRTZWxmLT5fRmllbGRUcmVlKAoJCQkJCUNsYXNzID0+ICRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KCJGaWVsZFRyZWU6OlByb2JsZW1UeXBlQ2xhc3MiKSwKICAgICAgICAgICAJCSksCiAgICAgICAgfTsKfQoKc3ViIENvbW1vblNlYXJjaEZpZWxkUGFyYW1ldGVyQnVpbGQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkT3BlcmF0b3IgPSAnRXF1YWxzJzsKICAgIG15ICRWYWx1ZSAgICA9ICRQYXJhbXtWYWx1ZX07CgogICAgcmV0dXJuIHsKICAgICAgICAkT3BlcmF0b3IgPT4gJFZhbHVlLAogICAgfTsKfQoKc3ViIFJlYWRhYmxlVmFsdWVSZW5kZXIgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkVmFsdWUgPSBkZWZpbmVkICRQYXJhbXtWYWx1ZX0gPyAkUGFyYW17VmFsdWV9IDogJyc7CiAgICAKICAgIGlmICggISRWYWx1ZSB8fCAhJFZhbHVlLT57VmFsdWVTZXRJRH0gfHwgJFZhbHVlLT57VmFsdWVTZXRJRH0gPX4gL25ldy9pICkKICAgIHsKICAgICAgICByZXR1cm4ge307CiAgICB9CiAgICAKICAgIG15ICROZXdMaW5lID0gZGVmaW5lZCAkUGFyYW17TmV3TGluZX0gPyAkUGFyYW17TmV3TGluZX0gOiAnPGJyIC8+JzsKICAgIAogICAgbXkgJFZhbHVlU2V0SUQgPSAkVmFsdWUtPntWYWx1ZVNldElEfTsKICAgIG15ICRGaWVsZFRyZWVJRCA9ICRTZWxmLT57RmllbGRUcmVlT2JqZWN0fS0+VmFsdWVTZXRHZXRGaWVsZFRyZWVJRCgKICAgICAgICBWYWx1ZVNldElEID0+ICRWYWx1ZVNldElECiAgICApOwogICAgbXkgJEZpZWxkVHJlZU5hbWUgPSAkU2VsZi0+e0ZpZWxkVHJlZU9iamVjdH0tPkl0ZW1SZWN1cnNpdmVOYW1lKAogICAgICAgIEl0ZW1JRCA9PiAkRmllbGRUcmVlSUQsCiAgICApOwogICAgbXkgJEZpZWxkSURMaXN0ID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5GaWVsZExpc3QoCiAgICAgICAgRmllbGRUcmVlSUQgPT4gJEZpZWxkVHJlZUlELAogICAgICAgIFZhbGlkID0+IDEsCiAgICApOwogICAgbXkgJFZhbHVlU2V0ID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5WYWx1ZVNldEdldCgKICAgICAgICBWYWx1ZVNldElEID0+ICRWYWx1ZVNldElECiAgICApOwogICAgCiAgICBteSAkQ29udGVudCA9ICIiOwogICAgJENvbnRlbnQgLj0gIlBhc2lyaW5rdGEga2F0ZWdvcmlqYTogIiAuICRGaWVsZFRyZWVOYW1lIC4gIiROZXdMaW5lICROZXdMaW5lIjsKICAgIAogICAgZm9yIG15ICRGaWVsZElEICgga2V5cyAleyRGaWVsZElETGlzdH0gKSB7CiAgICAgICAgbXkgJEZpZWxkID0gJFNlbGYtPntGaWVsZFRyZWVPYmplY3R9LT5GaWVsZEdldCgKICAgICAgICAgICAgRmllbGRJRCA9PiAkRmllbGRJRCwKICAgICAgICApOwogICAgICAgICMgb25seSBpbmNsdWRlIGZpZWxkcyB0aGF0IHdlcmUgZmlsbGVkIGJ5IHVzZXIKICAgICAgICBuZXh0IGlmICRGaWVsZC0+e0ZpZWxkVHlwZX0gIX4gLyhUZXh0fFBob25lfE1vbmV5fEludGVnZXJ8RG91YmxlfEJvb2xlYW58TXVsdGlUZXh0fFNlbGVjdHxEYXRlVGltZXxFTWFpbCkvaTsKICAgICAgICBteSAkRmllbGROYW1lID0gJEZpZWxkLT57RnJpZW5kbHlOYW1lfSB8fCAkRmllbGQtPntOYW1lfSB8fCAnKCBsYXVrYXMgYmUgcGF2YWRpbmltbyApJzsKICAgICAgICBteSAkVmFsdWUgPSAkVmFsdWVTZXQtPnskRmllbGRJRH07CiAgICAgICAgaWYgKCAkRmllbGQtPntGaWVsZFR5cGV9IGVxICdTZWxlY3QnICkgewogICAgICAgICAgICBteSAkQ2xhc3NMaXN0ID0gJFNlbGYtPntHZW5lcmFsQ2F0YWxvZ09iamVjdH0tPkl0ZW1MaXN0KCBDbGFzcyA9PiAkRmllbGQtPntUZW1wbGF0ZX0sIFZhbGlkID0+IDEpOwogICAgICAgICAgICAkVmFsdWUgPSAkQ2xhc3NMaXN0LT57JFZhbHVlfTsKICAgICAgICB9CiAgICAgICAgJFZhbHVlIHx8PSAnLSc7CiAgICAgICAgJENvbnRlbnQgLj0gIiRGaWVsZE5hbWU6ICRWYWx1ZSROZXdMaW5lIjsKICAgIH0KICAgICRDb250ZW50IC49ICIkTmV3TGluZSAkTmV3TGluZSI7CiAgICAKICAgICMgY3JlYXRlIHJldHVybiBzdHJ1Y3R1cmUKICAgIG15ICREYXRhID0gewogICAgICAgIFZhbHVlID0+ICRDb250ZW50LAogICAgICAgIFRpdGxlID0+ICdUSVRMRScsCiAgICB9OwoKICAgIHJldHVybiAkRGF0YTsKfQoKc3ViIFRlbXBsYXRlVmFsdWVUeXBlR2V0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJEZpZWxkTmFtZSA9ICdEeW5hbWljRmllbGRfJyAuICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX07CgogICAgIyBzZXQgdGhlIGZpZWxkIHR5cGVzCiAgICBteSAkRWRpdFZhbHVlVHlwZSAgID0gJ1NDQUxBUic7CiAgICBteSAkU2VhcmNoVmFsdWVUeXBlID0gJ1NDQUxBUic7CgogICAgIyByZXR1cm4gdGhlIGNvcnJlY3Qgc3RydWN0dXJlCiAgICBpZiAoICRQYXJhbXtGaWVsZFR5cGV9IGVxICdFZGl0JyApIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAkRmllbGROYW1lID0+ICRFZGl0VmFsdWVUeXBlLAogICAgICAgICAgICB9CiAgICB9CiAgICBlbHNpZiAoICRQYXJhbXtGaWVsZFR5cGV9IGVxICdTZWFyY2gnICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdTZWFyY2hfJyAuICRGaWVsZE5hbWUgPT4gJFNlYXJjaFZhbHVlVHlwZSwKICAgICAgICAgICAgfQogICAgfQogICAgZWxzZSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgJEZpZWxkTmFtZSAgICAgICAgICAgICA9PiAkRWRpdFZhbHVlVHlwZSwKICAgICAgICAgICAgJ1NlYXJjaF8nIC4gJEZpZWxkTmFtZSA9PiAkU2VhcmNoVmFsdWVUeXBlLAogICAgICAgICAgICB9CiAgICB9Cn0KCnN1YiBJc0FKQVhVcGRhdGVhYmxlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuIDA7Cn0KCnN1YiBSYW5kb21WYWx1ZVNldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRWYWx1ZSA9IGludCggcmFuZCg1MDApICk7CgogICAgbXkgJFN1Y2Nlc3MgPSAkU2VsZi0+VmFsdWVTZXQoCiAgICAgICAgJVBhcmFtLAogICAgICAgIFZhbHVlID0+ICRWYWx1ZSwKICAgICk7CgogICAgaWYgKCAhJFN1Y2Nlc3MgKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgU3VjY2VzcyA9PiAwLAogICAgICAgIH07CiAgICB9CiAgICByZXR1cm4gewogICAgICAgIFN1Y2Nlc3MgPT4gMSwKICAgICAgICBWYWx1ZSAgID0+ICRWYWx1ZSwKICAgIH07Cn0KCnN1YiBJc01hdGNoYWJsZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIHJldHVybiAxOwp9CgpzdWIgT2JqZWN0TWF0Y2ggewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkRmllbGROYW1lID0gJ0R5bmFtaWNGaWVsZF8nIC4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfTsKCiAgICAjIHJldHVybiBmYWxzZSBpZiBub3QgbWF0Y2gKICAgIGlmICggJFBhcmFte09iamVjdEF0dHJpYnV0ZXN9LT57JEZpZWxkTmFtZX0gbmUgJFBhcmFte1ZhbHVlfSApIHsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICByZXR1cm4gMTsKfQoKc3ViIEFKQVhQb3NzaWJsZVZhbHVlc0dldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgbm90IHN1cHBvcnRlZAogICAgcmV0dXJuOwp9CgpzdWIgSGlzdG9yaWNhbFZhbHVlc0dldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgZ2V0IGhpc3RvcmljYWwgdmFsdWVzIGZyb20gZGF0YWJhc2UKICAgIG15ICRIaXN0b3JpY2FsVmFsdWVzID0gJFNlbGYtPntEeW5hbWljRmllbGRWYWx1ZU9iamVjdH0tPkhpc3RvcmljYWxWYWx1ZUdldCgKICAgICAgICBGaWVsZElEICAgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntJRH0sCiAgICAgICAgVmFsdWVUeXBlID0+ICdUZXh0JywKICAgICk7CgogICAgIyByZXRydW4gdGhlIGhpc3RvcmljYWwgdmFsdWVzIGZyb20gZGF0YWJhc2UKICAgIHJldHVybiAkSGlzdG9yaWNhbFZhbHVlczsKfQoKMTsKCj1iYWNrCgo9aGVhZDEgVEVSTVMgQU5EIENPTkRJVElPTlMKClRoaXMgc29mdHdhcmUgaXMgcGFydCBvZiB0aGUgT1RSUyBwcm9qZWN0IChMPGh0dHA6Ly9vdHJzLm9yZy8+KS4KClRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCnRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIEw8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0Pi4KCj1jdXQKCj1oZWFkMSBWRVJTSU9OCgokJAoKPWN1dAoK</File>
        <File Location="Kernel/System/FieldTree.pm" Permission="664" Encode="Base64">IyAtLQojIEtlcm5lbC9TeXN0ZW0vRmllbGRUcmVlLnBtIC0gYWxsIGdlbmVyYWwgY2F0YWxvZyBmdW5jdGlvbnMKIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAwOSBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvCiMgLS0KIyAkSWQ6IEZpZWxkVHJlZS5wbSx2IDAuMDEgMjAwOS8wNS8xOCAwOTo0MDo0NyBtaCBFeHAgJAojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6OlN5c3RlbTo6RmllbGRUcmVlOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKdXNlIEtlcm5lbDo6U3lzdGVtOjpWYWxpZDsKdXNlIEtlcm5lbDo6U3lzdGVtOjpDaGVja0l0ZW07CnVzZSBEYXRhOjpEdW1wZXI7CnVzZSBLZXJuZWw6OlN5c3RlbTo6SFRNTFV0aWxzOwp1c2UgS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDsKdXNlIEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGRWYWx1ZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpHZW5lcmFsQ2F0YWxvZzsgCnVzZSBLZXJuZWw6OlN5c3RlbTo6Q2FjaGU7IAoKdXNlIHZhcnMgcXcoJFZFUlNJT04pOwokVkVSU0lPTiA9IHF3KCRSZXZpc2lvbjogMC4wMSAkKSBbMV07Cgo9aGVhZDEgTkFNRQoKS2VybmVsOjpTeXN0ZW06OkZpZWxkVHJlZSAtIGZpZWxkIHRyZWUgbGliCgo9aGVhZDEgU1lOT1BTSVMKCkZpZWxkIHRyZWUgY29tcG9uZW50Cgo9aGVhZDEgUFVCTElDIElOVEVSRkFDRQoKPW92ZXIgNAoKPWN1dAoKPWl0ZW0gbmV3KCkKCmNyZWF0ZSBhbiBvYmplY3QKCiAgICB1c2UgS2VybmVsOjpDb25maWc7CiAgICB1c2UgS2VybmVsOjpTeXN0ZW06OkRCOwogICAgdXNlIEtlcm5lbDo6U3lzdGVtOjpGaWVsZFRyZWU7CiAgICB1c2UgS2VybmVsOjpTeXN0ZW06OkxvZzsKICAgIHVzZSBLZXJuZWw6OlN5c3RlbTo6TWFpbjsKCiAgICBteSAkQ29uZmlnT2JqZWN0ID0gS2VybmVsOjpDb25maWctPm5ldygpOwogICAgbXkgJExvZ09iamVjdCA9IEtlcm5lbDo6U3lzdGVtOjpMb2ctPm5ldygKICAgICAgICBDb25maWdPYmplY3QgPT4gJENvbmZpZ09iamVjdCwKICAgICk7CiAgICBteSAkTWFpbk9iamVjdCA9IEtlcm5lbDo6U3lzdGVtOjpNYWluLT5uZXcoCiAgICAgICAgQ29uZmlnT2JqZWN0ID0+ICRDb25maWdPYmplY3QsCiAgICAgICAgTG9nT2JqZWN0ICAgID0+ICRMb2dPYmplY3QsCiAgICApOwogICAgbXkgJERCT2JqZWN0ID0gS2VybmVsOjpTeXN0ZW06OkRCLT5uZXcoCiAgICAgICAgQ29uZmlnT2JqZWN0ID0+ICRDb25maWdPYmplY3QsCiAgICAgICAgTG9nT2JqZWN0ICAgID0+ICRMb2dPYmplY3QsCiAgICAgICAgTWFpbk9iamVjdCAgID0+ICRNYWluT2JqZWN0LAogICAgKTsKICAgIG15ICRGaWVsZFRyZWVPYmplY3QgPSBLZXJuZWw6OlN5c3RlbTo6RmllbGRUcmVlLT5uZXcoCiAgICAgICAgQ29uZmlnT2JqZWN0ID0+ICRDb25maWdPYmplY3QsCiAgICAgICAgTG9nT2JqZWN0ICAgID0+ICRMb2dPYmplY3QsCiAgICAgICAgREJPYmplY3QgICAgID0+ICREQk9iamVjdCwKICAgICAgICBNYWluT2JqZWN0ICAgPT4gJE1haW5PYmplY3QsCiAgICApOwoKCgo9Y3V0CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICBteSAkU2VsZiA9IHt9OwogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOwoKICAgICMgY2hlY2sgbmVlZGVkIG9iamVjdHMKICAgIGZvciBteSAkT2JqZWN0IChxdyhEQk9iamVjdCBDb25maWdPYmplY3QgTG9nT2JqZWN0IE1haW5PYmplY3QgRW5jb2RlT2JqZWN0KSkgewogICAgICAgICRTZWxmLT57JE9iamVjdH0gPSAkUGFyYW17JE9iamVjdH0gfHwgZGllICJHb3Qgbm8gJE9iamVjdCEiOwogICAgfQogICAgIyBQYXJhbU9iamVjdCBhdmFpbGFibGUgVElLIHRpa3JpZW1zIHJlcXVlc3RhbXMhISEKICAgICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQtPm5ldyggJXskU2VsZn0gKTsKICAgICRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZFZhbHVlLT5uZXcoICV7JFNlbGZ9ICk7CiAgICAkU2VsZi0+e1BhcmFtT2JqZWN0fSA9ICRQYXJhbXtQYXJhbU9iamVjdH0gaWYgJFBhcmFte1BhcmFtT2JqZWN0fTsKICAgICRTZWxmLT57VmFsaWRPYmplY3R9ICAgICA9IEtlcm5lbDo6U3lzdGVtOjpWYWxpZC0+bmV3KCAleyRTZWxmfSApOwogICAgJFNlbGYtPntDaGVja0l0ZW1PYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OkNoZWNrSXRlbS0+bmV3KCAleyRTZWxmfSApOwogICAgaWYgKCRQYXJhbXtDYWNoZU9iamVjdH0pIHsKICAgIAkkU2VsZi0+e0NhY2hlT2JqZWN0fSA9ICRQYXJhbXtDYWNoZU9iamVjdH07IAogICAgfQogICAgZWxzZSB7CgkgICAgJFNlbGYtPntDYWNoZU9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6Q2FjaGUtPm5ldyggJVBhcmFtICk7CiAgICB9CiAgICAkU2VsZi0+e0hUTUxVdGlsc09iamVjdH0gICAgPSBLZXJuZWw6OlN5c3RlbTo6SFRNTFV0aWxzLT5uZXcoJVBhcmFtKTsKICAgICRTZWxmLT57R2VuZXJhbENhdGFsb2dPYmplY3R9ICAgID0gS2VybmVsOjpTeXN0ZW06OkdlbmVyYWxDYXRhbG9nLT5uZXcoJVBhcmFtKTsKCSRTZWxmLT57VFRMfSA9IDEwMDAwOwogICAgcmV0dXJuICRTZWxmOwp9Cgo9aXRlbSBDbGFzc0xpc3QoKQoKcmV0dXJuIGFuIGFycmF5IHJlZmVyZW5jZSBvZiBhbGwgZ2VuZXJhbCBjYXRhbG9nIGNsYXNzZXMKCiAgICBteSAkQXJyYXlSZWYgPSAkRmllbGRUcmVlT2JqZWN0LT5DbGFzc0xpc3QoKTsKCj1jdXQKCnN1YiBDbGFzc0xpc3QgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGFzayBkYXRhYmFzZQogICAgJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgU1FMID0+ICdTRUxFQ1QgRElTVElOQ1QoZmllbGRfdHJlZV9jbGFzcykgJwogICAgICAgICAgICAuICdGUk9NIGZpZWxkX3RyZWUgT1JERVIgQlkgZmllbGRfdHJlZV9jbGFzcycsCiAgICApOwoKICAgICMgZmV0Y2ggdGhlIHJlc3VsdAogICAgbXkgQENsYXNzTGlzdDsKICAgIHdoaWxlICggbXkgQFJvdyA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAgICAgcHVzaCBAQ2xhc3NMaXN0LCAkUm93WzBdOwogICAgfQoKICAgIHJldHVybiBcQENsYXNzTGlzdDsKfQoKPWl0ZW0gQ2xhc3NSZW5hbWUoKQoKcmVuYW1lIGEgZ2VuZXJhbCBjYXRhbG9nIGNsYXNzCgogICAgbXkgJFRydWUgPSAkRmllbGRUcmVlT2JqZWN0LT5DbGFzc1JlbmFtZSgKICAgICAgICBDbGFzc09sZCA9PiAnSVRTTTo6Q29uZmlnSXRlbTo6U3RhdGUnLAogICAgICAgIENsYXNzTmV3ID0+ICdJVFNNOjpDb25maWdJdGVtOjpEZXBsb3ltZW50U3RhdGUnLAogICAgKTsKCj1jdXQKCnN1YiBDbGFzc1JlbmFtZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhDbGFzc09sZCBDbGFzc05ldykpIHsKICAgICAgICBpZiAoICEkUGFyYW17JEFyZ3VtZW50fSApIHsKICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJEFyZ3VtZW50ISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgIyBjbGVhbnVwIGdpdmVuIHBhcmFtcwogICAgZm9yIG15ICRBcmd1bWVudCAocXcoQ2xhc3NPbGQgQ2xhc3NOZXcpKSB7CiAgICAgICAgJFNlbGYtPntDaGVja0l0ZW1PYmplY3R9LT5TdHJpbmdDbGVhbigKICAgICAgICAgICAgU3RyaW5nUmVmICAgICAgICAgPT4gXCRQYXJhbXskQXJndW1lbnR9LAogICAgICAgICAgICBSZW1vdmVBbGxOZXdsaW5lcyA9PiAxLAogICAgICAgICAgICBSZW1vdmVBbGxUYWJzICAgICA9PiAxLAogICAgICAgICAgICBSZW1vdmVBbGxTcGFjZXMgICA9PiAxLAogICAgICAgICk7CiAgICB9CgogICAgcmV0dXJuIDEgaWYgJFBhcmFte0NsYXNzTmV3fSBlcSAkUGFyYW17Q2xhc3NPbGR9OwoKICAgICMgY2hlY2sgaWYgbmV3IGNsYXNzIG5hbWUgYWxyZWFkeSBleGlzdHMKICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgIFNRTCAgID0+ICdTRUxFQ1QgaWQgRlJPTSBmaWVsZF90cmVlIFdIRVJFIGZpZWxkX3RyZWVfY2xhc3MgPSA/JywKICAgICAgICBCaW5kICA9PiBbIFwkUGFyYW17Q2xhc3NOZXd9IF0sCiAgICAgICAgTGltaXQgPT4gMSwKICAgICk7CgogICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICBteSAkQWxyZWFkeUV4aXN0cyA9IDA7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRBbHJlYWR5RXhpc3RzID0gMTsKICAgIH0KCiAgICBpZiAoJEFscmVhZHlFeGlzdHMpIHsKICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgTWVzc2FnZSAgPT4gIkNhbid0IHJlbmFtZSBjbGFzcyAkUGFyYW17Q2xhc3NPbGR9ISBOZXcgY2xhc3NuYW1lIGFscmVhZHkgZXhpc3RzLiIKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAjIHJlc2V0IGNhY2hlCiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntJdGVtR2V0fS0+e0NsYXNzfS0+eyAkUGFyYW17Q2xhc3NPbGR9IH07CiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntJdGVtR2V0fS0+e0NsYXNzfS0+eyAkUGFyYW17Q2xhc3NOZXd9IH07CiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntJdGVtR2V0fS0+e0l0ZW1JRH07CiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntJdGVtTGlzdH07CgogICAgIyByZW5hbWUgZ2VuZXJhbCBjYXRhbG9nIGNsYXNzCiAgICByZXR1cm4gJFNlbGYtPntEQk9iamVjdH0tPkRvKAogICAgICAgIFNRTCA9PiAnVVBEQVRFIGZpZWxkX3RyZWUgU0VUIGZpZWxkX3RyZWVfY2xhc3MgPSA/ICcKICAgICAgICAgICAgLiAnV0hFUkUgZmllbGRfdHJlZV9jbGFzcyA9ID8nLAogICAgICAgIEJpbmQgPT4gWyBcJFBhcmFte0NsYXNzTmV3fSwgXCRQYXJhbXtDbGFzc09sZH0gXSwKICAgICk7Cn0KCj1pdGVtIEl0ZW1MaXN0KCkKCnJldHVybiBhIGxpc3QgYXMgaGFzaCByZWZlcmVuY2Ugb2Ygb25lIGdlbmVyYWwgY2F0YWxvZyBjbGFzcwoKICAgIG15ICRIYXNoUmVmID0gJEZpZWxkVHJlZU9iamVjdC0+SXRlbUxpc3QoCiAgICAgICAgQ2xhc3MgICAgICAgICA9PiAnSVRTTTo6U2VydmljZTo6VHlwZScsCiAgICAgICAgUGFyZW50SUQgPT4gNTMsICAgICAgICAgICAgICAgIyAob3B0aW9uYWwpIHN0cmluZyBvciBhcnJheSByZWZlcmVuY2UKICAgICAgICBWYWxpZCAgICAgICAgID0+IDAsICAgICAgICAgICAgICAgICAgICAgICMgKG9wdGlvbmFsKSBkZWZhdWx0IDEKICAgICk7Cgo9Y3V0CgpzdWIgSXRlbUxpc3QgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCgogICAgIyBzZXQgZGVmYXVsdCB2YWx1ZQogICAgaWYgKCAhZGVmaW5lZCAkUGFyYW17VmFsaWR9ICkgewogICAgICAgICRQYXJhbXtWYWxpZH0gPSAxOwogICAgfQoKICAgICMgY3JlYXRlIHNxbCBzdHJpbmcKICAgIG15ICRTUUwgID0gJ1NFTEVDVCBpZCwgbmFtZSBGUk9NIGZpZWxkX3RyZWUgV0hFUkUgdHJ1ZSAgJzsKICAgIG15IEBCSU5EID0gKCApOwoKICAgICMgY3JlYXRlIGNhY2hlIGtleQogICAgbXkgJENhY2hlS2V5ID0gICRQYXJhbXtWYWxpZH0gLiAnIyMjIyc7CgogICAgIyBhZGQgdmFsaWQgc3RyaW5nIHRvIHNxbCBzdHJpbmcKICAgIGlmICggJFBhcmFte1ZhbGlkfSApIHsKICAgICAgICAkU1FMIC49ICdBTkQgdmFsaWRfaWQgPSAxICc7CiAgICB9CgogICAgaWYgKCAkUGFyYW17UGFyZW50SUR9ICkgewogICAgICAgICRTUUwgLj0gJ0FORCBwYXJlbnRfaWQgPSA/ICc7CiAgICAgICAgcHVzaCBAQklORCwgKCBcJFBhcmFte1BhcmVudElEfSApOwogICAgICAgICRDYWNoZUtleSAuPSAkUGFyYW17UGFyZW50SUR9LicjIyMjJzsKICAgIH0KCiAgICBpZiAoICRQYXJhbXtDbGFzc30gKSB7CiAgICAgICAgJFNRTCAuPSAnQU5EIGZpZWxkX3RyZWVfY2xhc3MgPSA/ICc7CiAgICAgICAgcHVzaCBAQklORCwgKCBcJFBhcmFte0NsYXNzfSApOwogICAgICAgICRDYWNoZUtleSAuPSAkUGFyYW17Q2xhc3N9LicjIyMjJzsKICAgIH0KCiAgICAkU1FMIC49ICcgT1JERVIgQlkgcG9zaXRpb24gQVNDJzsKCgogICAgIyBjaGVjayBpZiByZXN1bHQgaXMgYWxyZWFkeSBjYWNoZWQKICAgIHJldHVybiAkU2VsZi0+e0NhY2hlfS0+e0l0ZW1MaXN0fS0+eyRDYWNoZUtleX0KICAgICAgICBpZiAoZXhpc3RzICRTZWxmLT57Q2FjaGV9LT57SXRlbUxpc3R9LT57JENhY2hlS2V5fSk7CgogICAgIyBhc2sgZGF0YWJhc2UKICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgIFNRTCAgPT4gJFNRTCwKICAgICAgICBCaW5kID0+IFxAQklORCwKICAgICk7CgogICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICBteSAlRGF0YTsKICAgIHdoaWxlICggbXkgQFJvdyA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAgICAgJERhdGF7ICRSb3dbMF0gfSA9ICRSb3dbMV07CiAgICB9CgogICAgIyBjaGVjayBpdGVtCiAjICAgaWYgKCAhJURhdGEgKSB7CiAjICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogIyAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICMgICAgICAgICAgIE1lc3NhZ2UgID0+ICdDbGFzcyBub3QgZm91bmQgaW4gZGF0YWJhc2UhJywKICMgICAgICAgKTsKICMgICAgICByZXR1cm47CiAjICAgfQoKICAgICMgY2FjaGUgdGhlIHJlc3VsdAogICAgJFNlbGYtPntDYWNoZX0tPntJdGVtTGlzdH0tPnskQ2FjaGVLZXl9ID0gXCVEYXRhOwoKICAgIHJldHVybiBcJURhdGE7Cn0KCiMgc2FtZSBhcyBJdGVtTGlzdCwgYnV0IHJldHVybnMgYXJyYXkgaW5zdGVhZCBvZiBoYXNocmVmCiMgaXRlbXMgYXJlIHNvcnRlZCBieSBQb3NpdGlvbiBmaWVsZCAoYXNjZW5kaW5nKQpzdWIgSXRlbUxpc3RTb3J0ZWQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCgogICAgIyBzZXQgZGVmYXVsdCB2YWx1ZQogICAgaWYgKCAhZGVmaW5lZCAkUGFyYW17VmFsaWR9ICkgewogICAgICAgICRQYXJhbXtWYWxpZH0gPSAxOwogICAgfQoKICAgICMgY3JlYXRlIHNxbCBzdHJpbmcKICAgIG15ICRTUUwgID0gJ1NFTEVDVCBpZCwgbmFtZSBGUk9NIGZpZWxkX3RyZWUgV0hFUkUgdHJ1ZSAgJzsKICAgIG15IEBCSU5EID0gKCApOwoKICAgICMgY3JlYXRlIGNhY2hlIGtleQogICAgbXkgJENhY2hlS2V5ID0gICRQYXJhbXtWYWxpZH0gLiAnIyMjIyc7CgogICAgIyBhZGQgdmFsaWQgc3RyaW5nIHRvIHNxbCBzdHJpbmcKICAgIGlmICggJFBhcmFte1ZhbGlkfSApIHsKICAgICAgICAkU1FMIC49ICdBTkQgdmFsaWRfaWQgPSAxICc7CiAgICB9CgogICAgaWYgKCAkUGFyYW17UGFyZW50SUR9ICkgewogICAgICAgICRTUUwgLj0gJ0FORCBwYXJlbnRfaWQgPSA/ICc7CiAgICAgICAgcHVzaCBAQklORCwgKCBcJFBhcmFte1BhcmVudElEfSApOwogICAgICAgICRDYWNoZUtleSAuPSAkUGFyYW17UGFyZW50SUR9LicjIyMjJzsKICAgIH0KCiAgICBpZiAoICRQYXJhbXtDbGFzc30gKSB7CiAgICAgICAgJFNRTCAuPSAnQU5EIGZpZWxkX3RyZWVfY2xhc3MgPSA/ICc7CiAgICAgICAgcHVzaCBAQklORCwgKCBcJFBhcmFte0NsYXNzfSApOwogICAgICAgICRDYWNoZUtleSAuPSAkUGFyYW17Q2xhc3N9LicjIyMjJzsKICAgIH0KCiAgICAkU1FMIC49ICcgT1JERVIgQlkgcG9zaXRpb24gQVNDJzsKCgogICAgIyBjaGVjayBpZiByZXN1bHQgaXMgYWxyZWFkeSBjYWNoZWQKICAgIHJldHVybiAkU2VsZi0+e0NhY2hlfS0+e0l0ZW1MaXN0U29ydGVkfS0+eyRDYWNoZUtleX0KICAgICAgICBpZiAoZXhpc3RzICRTZWxmLT57Q2FjaGV9LT57SXRlbUxpc3RTb3J0ZWR9LT57JENhY2hlS2V5fSk7CgogICAgIyBhc2sgZGF0YWJhc2UKICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgIFNRTCAgPT4gJFNRTCwKICAgICAgICBCaW5kID0+IFxAQklORCwKICAgICk7CgogICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICBteSBARGF0YTsKICAgIHdoaWxlICggbXkgQFJvdyA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAgICAgcHVzaCAoQERhdGEsICRSb3dbMF0pOwogICAgfQoKICMgY2hlY2sgaXRlbQogIyAgIGlmICggISVEYXRhICkgewogIyAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICMgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAjICAgICAgICAgICBNZXNzYWdlICA9PiAnQ2xhc3Mgbm90IGZvdW5kIGluIGRhdGFiYXNlIScsCiAjICAgICAgICk7CiAjICAgICAgcmV0dXJuOwogIyAgIH0KCiAgICAjIGNhY2hlIHRoZSByZXN1bHQKICAgICRTZWxmLT57Q2FjaGV9LT57SXRlbUxpc3RTb3J0ZWR9LT57JENhY2hlS2V5fSA9IFxARGF0YTsKCiAgICByZXR1cm4gXEBEYXRhOwp9Cgo9aXRlbSBJdGVtR2V0KCkKCmdldCBhIGdlbmVyYWwgY2F0YWxvZyBpdGVtCgpSZXR1cm4KICAgICRJdGVtRGF0YXtJdGVtSUR9CiAgICAkSXRlbURhdGF7Q2xhc3N9CiAgICAkSXRlbURhdGF7TmFtZX0KICAgICRJdGVtRGF0ZXtGcmllbmRseU5hbWV9CiAgICAkSXRlbURhdGF7UGFyZW50SUR9CiAgICAkSXRlbURhdGF7VmFsaWRJRH0KICAgICRJdGVtRGF0ZXtDc3NDbGFzc30KICAgICRJdGVtRGF0YXtDb21tZW50fQogICAgJEl0ZW1EYXRhe0NyZWF0ZVRpbWV9CiAgICAkSXRlbURhdGF7Q3JlYXRlQnl9CiAgICAkSXRlbURhdGF7Q2hhbmdlVGltZX0KICAgICRJdGVtRGF0YXtDaGFuZ2VCeX0KCiAgICBteSAkSXRlbURhdGFSZWYgPSAkRmllbGRUcmVlT2JqZWN0LT5JdGVtR2V0KAogICAgICAgIEl0ZW1JRCAgPT4gMywKICAgICk7CgogICAgb3IKCiAgICBteSAkSXRlbURhdGFSZWYgPSAkRmllbGRUcmVlT2JqZWN0LT5JdGVtR2V0KAogICAgICAgIENsYXNzID0+ICdJVFNNOjpTZXJ2aWNlOjpUeXBlJywKICAgICAgICBOYW1lICA9PiAnSXRlbSBOYW1lJywKICAgICk7Cgo9Y3V0CgpzdWIgSXRlbUdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBpZiAoICEkUGFyYW17SXRlbUlEfSAmJiAoICEkUGFyYW17Q2xhc3N9IHx8ICEkUGFyYW17TmFtZX0gKSApIHsKICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgTWVzc2FnZSAgPT4gJ05lZWQgSXRlbUlEIE9SIENsYXNzIGFuZCBOYW1lIScuRHVtcGVyKFwlUGFyYW0pLAogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgICMgY3JlYXRlIHNxbCBzdHJpbmcKICAgIG15ICRTUUwgPSAnU0VMRUNUIGlkLCBmaWVsZF90cmVlX2NsYXNzLCBuYW1lLCBmcmllbmRseV9uYW1lLCBwYXJlbnRfaWQsICcKICAgICAgICAuICd2YWxpZF9pZCwgY3NzX2NsYXNzLCBjb21tZW50cywgJwogICAgICAgIC4gJ2NyZWF0ZV90aW1lLCBjcmVhdGVfYnksIGNoYW5nZV90aW1lLCBjaGFuZ2VfYnksIHBvc2l0aW9uIEZST00gZmllbGRfdHJlZSBXSEVSRSAnOwogICAgbXkgQEJJTkQ7CgogICAgIyBhZGQgb3B0aW9ucyB0byBzcWwgc3RyaW5nCiAgICBpZiAoICRQYXJhbXtDbGFzc30gJiYgJFBhcmFte05hbWV9ICkgewoKICAgICAgICAjIGNoZWNrIGlmIHJlc3VsdCBpcyBhbHJlYWR5IGNhY2hlZAogICAgICAgIHJldHVybiAkU2VsZi0+e0NhY2hlfS0+e0l0ZW1HZXR9LT57Q2xhc3N9LT57ICRQYXJhbXtDbGFzc30gfS0+eyAkUGFyYW17TmFtZX0gfQogICAgICAgICAgICBpZiAoZXhpc3RzICRTZWxmLT57Q2FjaGV9LT57SXRlbUdldH0tPntDbGFzc30tPnsgJFBhcmFte0NsYXNzfSB9LT57ICRQYXJhbXtOYW1lfSB9KTsKCiAgICAgICAgIyBhZGQgY2xhc3MgYW5kIG5hbWUgdG8gc3FsIHN0cmluZwogICAgICAgICRTUUwgLj0gJ2ZpZWxkX3RyZWVfY2xhc3MgPSA/IEFORCBuYW1lID0gPyc7CiAgICAgICAgcHVzaCBAQklORCwgKCBcJFBhcmFte0NsYXNzfSwgXCRQYXJhbXtOYW1lfSApOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgIyBjaGVjayBpZiByZXN1bHQgaXMgYWxyZWFkeSBjYWNoZWQKICAgICAgICByZXR1cm4gJFNlbGYtPntDYWNoZX0tPntJdGVtR2V0fS0+e0l0ZW1JRH0tPnsgJFBhcmFte0l0ZW1JRH0gfQogICAgICAgICAgICBpZiAoZXhpc3RzICRTZWxmLT57Q2FjaGV9LT57SXRlbUdldH0tPntJdGVtSUR9LT57ICRQYXJhbXtJdGVtSUR9IH0pOwoKICAgICAgICAjIGFkZCBpdGVtIGlkIHRvIHNxbCBzdHJpbmcKICAgICAgICAkU1FMIC49ICdpZCA9ID8nOwogICAgICAgIHB1c2ggQEJJTkQsIFwkUGFyYW17SXRlbUlEfTsKICAgIH0KCiAgICAjIGFzayBkYXRhYmFzZQogICAgJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgU1FMICAgPT4gJFNRTCwKICAgICAgICBCaW5kICA9PiBcQEJJTkQsCiAgICAgICAgTGltaXQgPT4gMSwKICAgICk7CgogICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICBteSAlSXRlbURhdGE7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRJdGVtRGF0YXtJdGVtSUR9ICAgICAgICA9ICRSb3dbMF07CiAgICAgICAgJEl0ZW1EYXRhe0NsYXNzfSAgICAgICAgID0gJFJvd1sxXTsKICAgICAgICAkSXRlbURhdGF7TmFtZX0gICAgICAgICAgPSAkUm93WzJdOwogICAgICAgICRJdGVtRGF0YXtGcmllbmRseU5hbWV9ICA9ICRSb3dbM107CiAgICAgICAgJEl0ZW1EYXRhe1BhcmVudElEfSAJICAgPSAkUm93WzRdOwogICAgICAgICRJdGVtRGF0YXtWYWxpZElEfSAgICAgICA9ICRSb3dbNV07CiAgICAgICAgJEl0ZW1EYXRhe0Nzc0NsYXNzfSAgICAgID0gJFJvd1s2XTsKICAgICAgICAkSXRlbURhdGF7Q29tbWVudH0gICAgICAgPSAkUm93WzddIHx8ICcnOwogICAgICAgICRJdGVtRGF0YXtDcmVhdGVUaW1lfSAgICA9ICRSb3dbOF07CiAgICAgICAgJEl0ZW1EYXRhe0NyZWF0ZUJ5fSAgICAgID0gJFJvd1s5XTsKICAgICAgICAkSXRlbURhdGF7Q2hhbmdlVGltZX0gICAgPSAkUm93WzEwXTsKICAgICAgICAkSXRlbURhdGF7Q2hhbmdlQnl9ICAgICAgPSAkUm93WzExXTsKICAgICAgICAkSXRlbURhdGF7UG9zaXRpb259ICAgICAgPSAkUm93WzEyXTsKICAgIH0KCiAgICAjIGNoZWNrIGl0ZW0KICAgIGlmICggISRJdGVtRGF0YXtJdGVtSUR9ICkgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlICA9PiAnSXRlbSBub3QgZm91bmQgaW4gZGF0YWJhc2UhJywKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAjIGNhY2hlIHRoZSByZXN1bHQKICAgICRTZWxmLT57Q2FjaGV9LT57SXRlbUdldH0tPntDbGFzc30tPnsgJEl0ZW1EYXRhe0NsYXNzfSB9LT57ICRJdGVtRGF0YXtOYW1lfSB9ID0gXCVJdGVtRGF0YTsKICAgICRTZWxmLT57Q2FjaGV9LT57SXRlbUdldH0tPntJdGVtSUR9LT57ICRJdGVtRGF0YXtJdGVtSUR9IH0gPSBcJUl0ZW1EYXRhOwoKICAgIHJldHVybiBcJUl0ZW1EYXRhOwp9Cgo9aXRlbSBJdGVtQWRkKCkKCmFkZCBhIG5ldyBnZW5lcmFsIGNhdGFsb2cgaXRlbQoKICAgIG15ICRJdGVtSUQgPSAkRmllbGRUcmVlT2JqZWN0LT5JdGVtQWRkKAogICAgICAgIENsYXNzICAgICAgICAgPT4gJ0lUU006OlNlcnZpY2U6OlR5cGUnLAogICAgICAgIE5hbWUgICAgICAgICAgPT4gJ0l0ZW0gTmFtZScsCiAgICAgICAgRnJpZW5kbHlOYW1lICA9PiAnRnJpZW5kbHkgSXRlbSBOYW1lJywKICAgICAgICBQYXJlbnRJRCA9PiA1OSwgICAgICAgICAgICAgICAgCiAgICAgICAgVmFsaWRJRCAgICAgICA9PiAxLAogICAgICAgIENzc0NsYXNzICAgICAgPT4gJycsCiAgICAgICAgQ29tbWVudCAgICAgICA9PiAnQ29tbWVudCcsICAgICAgICAgICAgICAjIChvcHRpb25hbCkKICAgICAgICBVc2VySUQgICAgICAgID0+IDEsCiAgICApOwoKPWN1dAoKc3ViIEl0ZW1BZGQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBpZiAoJFNlbGYtPntDYWNoZU9iamVjdH0pIHsKICAgIAkkU2VsZi0+e0NhY2hlT2JqZWN0fS0+Q2xlYW5VcCgKICAgIAkJVHlwZQk9PiAnRmllbGRUcmVlJywKICAgIAkpOwogICAgfQoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhDbGFzcyBOYW1lIFZhbGlkSUQgVXNlcklEKSkgewogICAgICAgIGlmICggISRQYXJhbXskQXJndW1lbnR9ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiTmVlZCAkQXJndW1lbnQhIiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KCiAgICAjIHNldCBkZWZhdWx0IHZhbHVlcwogICAgZm9yIG15ICRBcmd1bWVudCAocXcoQ29tbWVudCkpIHsKICAgICAgICAkUGFyYW17JEFyZ3VtZW50fSB8fD0gJyc7CiAgICB9CgogICAgIyBjbGVhbnVwIGdpdmVuIHBhcmFtcwogICAgCiMgSnVzdGluYXMgRklYTUUgRklYTUUgRklYTUU6IFJlcXVpcmVkIFNlcnZlci1zaWRlIHZhbGlkYXRpb24gZm9yIHRoZSBQYXJlbnRJRCBpbnRlZ2VyCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhDbGFzcykpIHsKICAgICAgICAkU2VsZi0+e0NoZWNrSXRlbU9iamVjdH0tPlN0cmluZ0NsZWFuKAogICAgICAgICAgICBTdHJpbmdSZWYgICAgICAgICA9PiBcJFBhcmFteyRBcmd1bWVudH0sCiAgICAgICAgICAgIFJlbW92ZUFsbE5ld2xpbmVzID0+IDEsCiAgICAgICAgICAgIFJlbW92ZUFsbFRhYnMgICAgID0+IDEsCiAgICAgICAgICAgIFJlbW92ZUFsbFNwYWNlcyAgID0+IDEsCiAgICAgICAgKTsKICAgIH0KICAgIGZvciBteSAkQXJndW1lbnQgKHF3KE5hbWUgQ29tbWVudCkpIHsKICAgICAgICAkU2VsZi0+e0NoZWNrSXRlbU9iamVjdH0tPlN0cmluZ0NsZWFuKAogICAgICAgICAgICBTdHJpbmdSZWYgICAgICAgICA9PiBcJFBhcmFteyRBcmd1bWVudH0sCiAgICAgICAgICAgIFJlbW92ZUFsbE5ld2xpbmVzID0+IDEsCiAgICAgICAgICAgIFJlbW92ZUFsbFRhYnMgICAgID0+IDEsCiAgICAgICAgKTsKICAgIH0KCiAgICAjIGZpbmQgZXhpdGluZyBpdGVtIHdpdGggc2FtZSBuYW1lCiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICBTUUwgPT4gJ1NFTEVDVCBpZCBGUk9NIGZpZWxkX3RyZWUgJwogICAgICAgICAgICAuICdXSEVSRSBmaWVsZF90cmVlX2NsYXNzID0gPyBBTkQgbmFtZSA9ID8gQU5EIHBhcmVudF9pZCA9ID8nLAogICAgICAgIEJpbmQgPT4gWyBcJFBhcmFte0NsYXNzfSwgXCRQYXJhbXtOYW1lfSAsIFwkUGFyYW17UGFyZW50SUR9IF0sCiAgICAgICAgTGltaXQgPT4gMSwKICAgICk7CgogICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICBteSAkTm9BZGQ7CiAgICB3aGlsZSAoICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAgICAgJE5vQWRkID0gMTsKICAgIH0KICAgIAoKICAgICMgYWJvcnQgaW5zZXJ0IG9mIG5ldyBpdGVtLCBpZiBpdGVtIG5hbWUgYWxyZWFkeSBleGlzdHMKICAgIGlmICgkTm9BZGQpIHsKICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgTWVzc2FnZSA9PgogICAgICAgICAgICAgICAgIkNhbid0IGFkZCBuZXcgaXRlbSEgRmllbGRUcmVlIGl0ZW0gd2l0aCBzYW1lIG5hbWUgYWxyZWFkeSBleGlzdHMgaW4gdGhpcyBjbGFzcyBhbmQgbGV2ZWwuIiwKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAjIHJlc2V0IGNhY2hlCiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntJdGVtTGlzdH07CgogICAgIyBpbnNlcnQgbmV3IGl0ZW0KICAgIHJldHVybiBpZiAhJFNlbGYtPntEQk9iamVjdH0tPkRvKAogICAgICAgIFNRTCA9PiAnSU5TRVJUIElOVE8gZmllbGRfdHJlZSAnCiAgICAgICAgICAgIC4gJyhmaWVsZF90cmVlX2NsYXNzLCBuYW1lLCBmcmllbmRseV9uYW1lLCBwYXJlbnRfaWQsIHZhbGlkX2lkLCAnCiAgICAgICAgICAgIC4gJ2Nzc19jbGFzcywgY29tbWVudHMsICcKICAgICAgICAgICAgLiAnY3JlYXRlX3RpbWUsIGNyZWF0ZV9ieSwgY2hhbmdlX3RpbWUsIGNoYW5nZV9ieSwgcG9zaXRpb24pIFZBTFVFUyAnCiAgICAgICAgICAgIC4gJyg/LCA/LCA/LCA/LCA/LCA/LCA/LCBjdXJyZW50X3RpbWVzdGFtcCwgPywgY3VycmVudF90aW1lc3RhbXAsID8sID8pJywKICAgICAgICBCaW5kID0+IFsKICAgICAgICAgICAgXCRQYXJhbXtDbGFzc30sICAgICAgICAgXCRQYXJhbXtOYW1lfSwKICAgICAgICAgICAgXCRQYXJhbXtGcmllbmRseU5hbWV9LCAgXCRQYXJhbXtQYXJlbnRJRH0sCiAgICAgICAgICAgIFwkUGFyYW17VmFsaWRJRH0sICAgICAgIFwkUGFyYW17Q3NzQ2xhc3N9LAogICAgICAgICAgICBcJFBhcmFte0NvbW1lbnR9LCAgICAgICBcJFBhcmFte1VzZXJJRH0sCiAgICAgICAgICAgIFwkUGFyYW17VXNlcklEfSwJCVwkUGFyYW17UG9zaXRpb259LAogICAgICAgIF0sCiAgICApOwoKICAgICMgZmluZCBpZCBvZiBuZXcgaXRlbQogICAgJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgU1FMID0+ICdTRUxFQ1QgaWQgRlJPTSBmaWVsZF90cmVlICcKICAgICAgICAgICAgLiAnV0hFUkUgZmllbGRfdHJlZV9jbGFzcyA9ID8gQU5EIG5hbWUgPSA/JywKICAgICAgICBCaW5kID0+IFsgXCRQYXJhbXtDbGFzc30sIFwkUGFyYW17TmFtZX0gXSwKICAgICAgICBMaW1pdCA9PiAxLAogICAgKTsKCiAgICAjIGZldGNoIHRoZSByZXN1bHQKICAgIG15ICRJdGVtSUQ7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRJdGVtSUQgPSAkUm93WzBdOwogICAgfQoKICAgIHJldHVybiAkSXRlbUlEOwp9CgoKc3ViIEZpZWxkVHJlZXNSZWN1cnNpdmVJRHMgewogICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwogICAKCSNjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KEl0ZW1JRCBTZXBhcmF0b3IpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyRBcmd1bWVudH0gKSB7CiAgICAgICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkICRBcmd1bWVudCEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgCiAgICBteSAkUmVzdWx0ID0gIiI7CiAgICAKICAgIG15ICRJdGVtSUQgPSAkUGFyYW17SXRlbUlEfTsKICAgICAgICAgICAgICAKICAgCXdoaWxlIChkZWZpbmVkKCRJdGVtSUQpICYmICRJdGVtSUQgbmUgIi0xIiAmJiAkSXRlbUlEIG5lICIiICYmICRJdGVtSUQgbmUgJFBhcmFte1Jvb3RJRH0gJiYgJEl0ZW1JRCBndCAwKSAKCXsKCQlpZigkUmVzdWx0IG5lICIiKQoJCXsKCQkJJFJlc3VsdCA9ICIkUGFyYW17U2VwYXJhdG9yfSRSZXN1bHQiOwoJCX0KCQkJCgkJJFJlc3VsdCA9ICIkSXRlbUlEJFJlc3VsdCI7CgkJCgkJbXkgJEl0ZW0gPSAkU2VsZi0+SXRlbUdldCgKCQkJSXRlbUlEID0+ICRJdGVtSUQsCgkJKTsKCQkKCQkKCQkkSXRlbUlEID0gJEl0ZW0tPntQYXJlbnRJRH07Cgl9CiAgICAKCXJldHVybiAkUmVzdWx0Owp9Cgo9aXRlbSBJdGVtUmVjdXJzaXZlTmFtZSgpCgpSZXR1cm4gZmllbGQgdHJlZSBpdGVtIG5hbWUgd2l0aCBhbGwgcGFyZW50IG5hbWVzIAoKICAgIG15ICRUcnVlID0gJEZpZWxkVHJlZU9iamVjdC0+SXRlbVJlY3Vyc2l2ZU5hbWUoCiAgICAgICAgSXRlbUlEICAgICAgICA9PiAxMjMsCiAgICAgICAgQ2xhc3MgPT4gJ1hZJywKICAgICk7Cgo9Y3V0CgpzdWIgSXRlbVJlY3Vyc2l2ZU5hbWUgewogICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhJdGVtSUQpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyRBcmd1bWVudH0gKSB7CiAgICAgICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkICRBcmd1bWVudCEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgbXkgJFJlc3VsdCA9ICIiOwogICAgaWYgKCRTZWxmLT57Q2FjaGVPYmplY3R9KSB7CiAgICAJJFJlc3VsdCA9ICRTZWxmLT57Q2FjaGVPYmplY3R9LT5HZXQoCiAgICAJCVR5cGUJPT4gJ0ZpZWxkVHJlZScsCgkJCUtleSA9PiAnUmVjdXJzaXZlTmFtZV8nLiRQYXJhbXtJdGVtSUR9LCAgICAJCQogICAgCSk7CiAgICB9CiAgICBpZiAoJFJlc3VsdCkgewogICAgCXJldHVybiAkUmVzdWx0OwogICAgfQogICAgCiAgICBteSAkSXRlbUlEID0gJFBhcmFte0l0ZW1JRH07CiAgICBteSAkTmFtZSA9ICcnOwoJd2hpbGUgKGRlZmluZWQoJEl0ZW1JRCkgJiYgJEl0ZW1JRCBuZSAiLTEiICYmICRJdGVtSUQgbmUgIiIgJiYgJEl0ZW1JRCBndCAwKSAKCXsKCQlteSAkSXRlbSA9ICRTZWxmLT5JdGVtR2V0KAoJCQlJdGVtSUQgPT4gJEl0ZW1JRCwKCQkpOwoJCW15ICRiID0gJEl0ZW1JRDsKCQlpZiAoZGVmaW5lZCgkSXRlbS0+e1BhcmVudElEfSkgJiYgJEl0ZW0tPntQYXJlbnRJRH0gZ3QgMCkgewoJCQkkTmFtZSA9IChkZWZpbmVkKCRJdGVtLT57TmFtZX0pID8kSXRlbS0+e05hbWV9IDogJ3wnKSAuICgkSXRlbUlEKzAgPT0gLTEgfHwgJEl0ZW1JRCBlcSAkUGFyYW17SXRlbUlEfSA/ICcnIDogJyAtICcpLiROYW1lOwoJCX0KCQkkSXRlbUlEID0gJEl0ZW0tPntQYXJlbnRJRH07CgkJaWYgKCEkSXRlbUlEKSB7CiAgICAgICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJCYWQgcGFyZW50IGl0ZW0gSUQ6ICRJdGVtSUQiLkR1bXBlcigkSXRlbSksCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgICAgCgkJCgl9CiAgICBpZiAoJFNlbGYtPntDYWNoZU9iamVjdH0pIHsKICAgIAkkUmVzdWx0ID0gJFNlbGYtPntDYWNoZU9iamVjdH0tPlNldCgKICAgIAkJVHlwZSAgPT4gJ0ZpZWxkVHJlZScsCgkJCUtleSAgID0+ICdSZWN1cnNpdmVOYW1lXycuJFBhcmFte0l0ZW1JRH0sCgkJCVZhbHVlID0+ICROYW1lLAoJCQlUVEwgICA9PiA2MCAqIDYwICogMjQsICMgMSBkYXkKICAgIAkpOwogICAgfQoJcmV0dXJuICROYW1lOwp9CgoKIyBSZXR1cm5zIGZpZWxkIHRyZWUgaXRlbSBuYW1lIHdpdGggYWxsIHBhcmVudCBuYW1lcyBpbiBoYXNoIApzdWIgSXRlbVJlY3Vyc2l2ZU5hbWVzSGFzaCB7CiAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KEl0ZW1JRCkpIHsKICAgICAgICBpZiAoICEkUGFyYW17JEFyZ3VtZW50fSApIHsKICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJEFyZ3VtZW50ISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CiAgICAKICAgIG15ICRSZXN1bHQ7CiAgICBpZiAoJFNlbGYtPntDYWNoZU9iamVjdH0pIHsKICAgIAkkUmVzdWx0ID0gJFNlbGYtPntDYWNoZU9iamVjdH0tPkdldCgKICAgIAkJVHlwZQk9PiAnRmllbGRUcmVlJywKCQkJS2V5ID0+ICdSZWN1cnNpdmVOYW1lSGFzaF8nLiRQYXJhbXtJdGVtSUR9LCAgICAJCQogICAgCSk7CiAgICB9CiAgICBpZiAoJFJlc3VsdCkgewogICAgCXJldHVybiAkUmVzdWx0OwogICAgfQoKICAgIG15ICRJdGVtSUQgPSAkUGFyYW17SXRlbUlEfTsKICAgIG15ICROYW1lID0gJyc7CiAgICBteSBATmFtZXMgPSAoKTsKICAgIG15ICRDb3VudGVyID0gMDsKCXdoaWxlIChkZWZpbmVkKCRJdGVtSUQpICYmICRJdGVtSUQgbmUgIi0xIiAmJiAkSXRlbUlEIG5lICIiICYmICRJdGVtSUQgZ3QgMCkgCgl7CgkJbXkgJEl0ZW0gPSAkU2VsZi0+SXRlbUdldCgKCQkJSXRlbUlEID0+ICRJdGVtSUQsCgkJKTsKCQlteSAkYiA9ICRJdGVtSUQ7CgkJaWYgKGRlZmluZWQoJEl0ZW0tPntQYXJlbnRJRH0pICYmICRJdGVtLT57UGFyZW50SUR9IGd0IDApIHsKCQkJIyROYW1lID0gKGRlZmluZWQoJEl0ZW0tPntOYW1lfSkgPyRJdGVtLT57TmFtZX0gOiAnfCcpIC4gKCRJdGVtSUQrMCA9PSAtMSB8fCAkSXRlbUlEIGVxICRQYXJhbXtJdGVtSUR9ID8gJycgOiAnIC0gJykuJE5hbWU7CgkJCWlmIChkZWZpbmVkKCRJdGVtLT57TmFtZX0pKSB7CgkJCSAgICAkTmFtZXNbJENvdW50ZXJdID0gJEl0ZW0tPntOYW1lfTsKCQkJICAgICRDb3VudGVyKys7CgkJCX0KCQl9CgkJJEl0ZW1JRCA9ICRJdGVtLT57UGFyZW50SUR9OwoJCWlmICghJEl0ZW1JRCkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiQmFkIHBhcmVudCBpdGVtIElEOiAkSXRlbUlEIi5EdW1wZXIoJEl0ZW0pLAogICAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICAgIAoJCQoJfTsKCQoJbXkgJGk7CglteSAkQ291bnRlcjIgPSAxOwoJbXkgJU5hbWVzSGFzaCA9ICgpOwoJZm9yICgkaSA9ICRDb3VudGVyLTE7ICRpID49IDA7ICRpLS0pIHsKCSAgICAkTmFtZXNIYXNoeyJMYWJlbCIuJENvdW50ZXIyfSA9ICROYW1lc1skaV07CgkgICAgJENvdW50ZXIyKys7Cgl9CiAgICBpZiAoJFNlbGYtPntDYWNoZU9iamVjdH0pIHsKICAgIAkkU2VsZi0+e0NhY2hlT2JqZWN0fS0+U2V0KAogICAgCQlUeXBlICA9PiAnRmllbGRUcmVlJywKCQkJS2V5ICAgPT4gJ1JlY3Vyc2l2ZU5hbWVIYXNoXycuJFBhcmFte0l0ZW1JRH0sCgkJCVZhbHVlID0+IFwlTmFtZXNIYXNoLAoJCQlUVEwgICA9PiA2MCAqIDYwICogMjQsICMgMSBkYXkJCQogICAgCSk7CiAgICB9CgkKCXJldHVybiBcJU5hbWVzSGFzaDsKfQoKCj1pdGVtIEl0ZW1VcGRhdGUoKQoKdXBkYXRlIGEgZXhpc3RpbmcgZ2VuZXJhbCBjYXRhbG9nIGl0ZW0KCiAgICBteSAkVHJ1ZSA9ICRGaWVsZFRyZWVPYmplY3QtPkl0ZW1VcGRhdGUoCiAgICAgICAgSXRlbUlEICAgICAgICA9PiAxMjMsCiAgICAgICAgTmFtZSAgICAgICAgICA9PiAnSXRlbSBOYW1lJywKICAgICAgICBGcmllbmRseU5hbWUgID0+ICdWZXJ5IGZyaWVuZGx5IG5hbWUnLAogICAgICAgIFBhcmVudElEID0+IDY5LCAgICAgIAogICAgICAgIFZhbGlkSUQgICAgICAgPT4gMSwKICAgICAgICBDc3NDbGFzcyAgICAgID0+ICd2ZXJ5LXJlZCcsCiAgICAgICAgQ29tbWVudCAgICAgICA9PiAnQ29tbWVudCcsICAgICMgKG9wdGlvbmFsKQogICAgICAgIFVzZXJJRCAgICAgICAgPT4gMSwKICAgICk7Cgo9Y3V0CnN1YiBJdGVtVXBkYXRlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgaWYgKCRTZWxmLT57Q2FjaGVPYmplY3R9KSB7CiAgICAJJFNlbGYtPntDYWNoZU9iamVjdH0tPkNsZWFuVXAoCiAgICAJCVR5cGUJPT4gJ0ZpZWxkVHJlZScsCiAgICAJKTsKICAgIH0KICAgIAkKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhJdGVtSUQgTmFtZSBWYWxpZElEIFVzZXJJRCBQYXJlbnRJRCkpIHsKICAgICAgICBpZiAoICEkUGFyYW17JEFyZ3VtZW50fSApIHsKICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJEFyZ3VtZW50ISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgIyBzZXQgZGVmYXVsdCB2YWx1ZXMKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KENvbW1lbnQgRnJpZW5kbHlOYW1lIENzc0NsYXNzKSkgewogICAgICAgICRQYXJhbXskQXJndW1lbnR9IHx8PSAnJzsKICAgIH0KCiAgICAjIGNsZWFudXAgZ2l2ZW4gcGFyYW1zCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhDbGFzcykpIHsKICAgICAgICAkU2VsZi0+e0NoZWNrSXRlbU9iamVjdH0tPlN0cmluZ0NsZWFuKAogICAgICAgICAgICBTdHJpbmdSZWYgICAgICAgICA9PiBcJFBhcmFteyRBcmd1bWVudH0sCiAgICAgICAgICAgIFJlbW92ZUFsbE5ld2xpbmVzID0+IDEsCiAgICAgICAgICAgIFJlbW92ZUFsbFRhYnMgICAgID0+IDEsCiAgICAgICAgICAgIFJlbW92ZUFsbFNwYWNlcyAgID0+IDEsCiAgICAgICAgKTsKICAgIH0KICAgIGZvciBteSAkQXJndW1lbnQgKHF3KE5hbWUgQ29tbWVudCkpIHsKICAgICAgICAkU2VsZi0+e0NoZWNrSXRlbU9iamVjdH0tPlN0cmluZ0NsZWFuKAogICAgICAgICAgICBTdHJpbmdSZWYgICAgICAgICA9PiBcJFBhcmFteyRBcmd1bWVudH0sCiAgICAgICAgICAgIFJlbW92ZUFsbE5ld2xpbmVzID0+IDEsCiAgICAgICAgICAgIFJlbW92ZUFsbFRhYnMgICAgID0+IDEsCiAgICAgICAgKTsKICAgIH0KCiAgICAjIGdldCBjbGFzcyBvZiBpdGVtCiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICBTUUwgICA9PiAnU0VMRUNUIGZpZWxkX3RyZWVfY2xhc3MgRlJPTSBmaWVsZF90cmVlIFdIRVJFIGlkID0gPycsCiAgICAgICAgQmluZCAgPT4gWyBcJFBhcmFte0l0ZW1JRH0gXSwKICAgICAgICBMaW1pdCA9PiAxLAogICAgKTsKCiAgICAjIGZldGNoIHRoZSByZXN1bHQKICAgIG15ICRDbGFzczsKICAgIHdoaWxlICggbXkgQFJvdyA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAgICAgJENsYXNzID0gJFJvd1swXTsKICAgIH0KCiAgICBpZiAoICEkQ2xhc3MgKSB7CiAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJDYW4ndCB1cGRhdGUgaXRlbSEgR2VuZXJhbCBjYXRhbG9nIGl0ZW0gbm90IGZvdW5kIGluIHRoaXMgY2xhc3MuIiwKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAjIGZpbmQgZXhpdGluZyBpdGVtIHdpdGggc2FtZSBuYW1lCiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICBTUUwgICA9PiAnU0VMRUNUIGlkIEZST00gZmllbGRfdHJlZSBXSEVSRSBmaWVsZF90cmVlX2NsYXNzID0gPyBBTkQgbmFtZSA9ID8gQU5EIHBhcmVudF9pZCA9ID8nLAogICAgICAgIEJpbmQgID0+IFsgXCRDbGFzcywgXCRQYXJhbXtOYW1lfSwgXCRQYXJhbXtQYXJlbnRJRH0gXSwKICAgICAgICBMaW1pdCA9PiAxLAogICAgKTsKCiAgICAjIGZldGNoIHRoZSByZXN1bHQKICAgIG15ICRVcGRhdGUgPSAxOwogICAgd2hpbGUgKCBteSBAUm93ID0gJFNlbGYtPntEQk9iamVjdH0tPkZldGNocm93QXJyYXkoKSApIHsKICAgICAgICBpZiAoICRQYXJhbXtJdGVtSUR9IG5lICRSb3dbMF0gKSB7CiAgICAgICAgICAgICRVcGRhdGUgPSAwOwogICAgICAgIH0KICAgIH0KCiAgICBpZiAoICEkVXBkYXRlICkgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlID0+CiAgICAgICAgICAgICAgICAiQ2FuJ3QgdXBkYXRlIGl0ZW0hIEdlbmVyYWwgY2F0YWxvZyBpdGVtIHdpdGggc2FtZSBuYW1lIGFscmVhZHkgZXhpc3RzIGluIHRoaXMgY2xhc3MuIiwKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KCgogICAgIyByZXNldCBjYWNoZQogICAgZGVsZXRlICRTZWxmLT57Q2FjaGV9LT57SXRlbUdldH0tPntDbGFzc30tPnskQ2xhc3N9LT57ICRQYXJhbXtOYW1lfSB9OwogICAgZGVsZXRlICRTZWxmLT57Q2FjaGV9LT57SXRlbUdldH0tPntJdGVtSUR9LT57ICRQYXJhbXtJdGVtSUR9IH07CiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntJdGVtTGlzdH07CgogICAgcmV0dXJuICRTZWxmLT57REJPYmplY3R9LT5EbygKICAgICAgICBTUUwgPT4gJ1VQREFURSBmaWVsZF90cmVlIFNFVCAnCiAgICAgICAgICAgIC4gJ25hbWUgPSA/LCBmcmllbmRseV9uYW1lID0gPywgcGFyZW50X2lkID0gPywnCiAgICAgICAgICAgIC4gJ3ZhbGlkX2lkID0gPywgY3NzX2NsYXNzID0gPywgY29tbWVudHMgPSA/LCAnCiAgICAgICAgICAgIC4gJ2NoYW5nZV90aW1lID0gY3VycmVudF90aW1lc3RhbXAsIGNoYW5nZV9ieSA9ID8sIHBvc2l0aW9uID0gPyAnCiAgICAgICAgICAgIC4gJ1dIRVJFIGlkID0gPycsCiAgICAgICAgQmluZCA9PiBbCiAgICAgICAgICAgIFwkUGFyYW17TmFtZX0sICAgIFwkUGFyYW17RnJpZW5kbHlOYW1lfSwKICAgICAgICAgICAgXCRQYXJhbXtQYXJlbnRJRH0sXCRQYXJhbXtWYWxpZElEfSwgCiAgICAgICAgICAgIFwkUGFyYW17Q3NzQ2xhc3N9LFwkUGFyYW17Q29tbWVudH0sCiAgICAgICAgICAgIFwkUGFyYW17VXNlcklEfSwgIFwkUGFyYW17UG9zaXRpb259LCAgXCRQYXJhbXtJdGVtSUR9LAogICAgICAgIF0sCiAgICApOwp9Cgo9aXRlbSBGaWVsZEFkZCgpCgphZGQgYSBuZXcgZmllbGQgdG8gdHJlZSBsZWFmCgogICAgbXkgJEl0ZW1JRCA9ICRGaWVsZFRyZWVPYmplY3QtPkZpZWxkQWRkKAogICAgCUZpZWxkVHJlZUlEICAgICAgICA9PiAxNSwgIAkJCSNJdGVtIGxlYWYgZnRvbSBmaWVsZCB0cmVlIHN0cnVjdHVyZQogICAgICAgIEZpZWxkVHlwZSAgICAgICAgID0+ICdUZXh0JywKICAgICAgICBOYW1lICAgICAgICAgID0+ICdJdGVtIE5hbWUnLAogICAgICAgIEZyaWVuZGx5TmFtZSAgPT4gJ0ZyaWVuZGx5IG5hbWUnLAogICAgICAgIFJlcXVpcmVkID0+IHRydWUvZmFsc2UsICAgICAgICAgICAgICAgIAogICAgICAgIFRlbXBsYXRlID0+ICdEZWZhdWx0IHZhbHVlJywKICAgICAgICBUYXJnZXQgPT4gJzE1OScsCiAgICAgICAgUG9zaXRpb24gPT4gMTYsCiAgICAgICAgVmFsaWRJRCAgICAgICA9PiAxLAogICAgICAgIEhpZGRlbiAgICAgICAgPT4gMCwKICAgICAgICBDb21tZW50ICAgICAgID0+ICdDb21tZW50JywgICAgICAgICAgICAgICMgKG9wdGlvbmFsKQogICAgICAgIFVzZXJJRCAgICAgICAgPT4gMSwKICAgICk7Cgo9Y3V0CgpzdWIgRmllbGRBZGQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBpZiAoJFNlbGYtPntDYWNoZU9iamVjdH0pIHsKICAgIAkkU2VsZi0+e0NhY2hlT2JqZWN0fS0+Q2xlYW5VcCgKICAgIAkJVHlwZQk9PiAnRmllbGRUcmVlJywKICAgIAkpOwogICAgfQoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhGaWVsZFRyZWVJRCBGaWVsZFR5cGUgTmFtZSBWYWxpZElEIFVzZXJJRCkpIHsKICAgICAgICBpZiAoICEkUGFyYW17JEFyZ3VtZW50fSApIHsKICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJEFyZ3VtZW50ISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgIyBzZXQgZGVmYXVsdCB2YWx1ZXMKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KEZyaWVuZGx5TmFtZSBDb21tZW50IFRlbXBsYXRlIFRhcmdldCkpIHsKICAgICAgICAkUGFyYW17JEFyZ3VtZW50fSB8fD0gJyc7CiAgICB9CgogICAgZm9yIG15ICRBcmd1bWVudCAocXcoUmVxdWlyZWQgUG9zaXRpb24gSGlkZGVuKSkgewogICAgICAgICRQYXJhbXskQXJndW1lbnR9IHx8PSAwOwogICAgfQoKICAgICMgY2xlYW51cCBnaXZlbiBwYXJhbXMKICAgIAojIEp1c3RpbmFzIEZJWE1FIEZJWE1FIEZJWE1FOiBSZXF1aXJlZCBTZXJ2ZXItc2lkZSB2YWxpZGF0aW9uIGZvciB0aGUgRmllbGRUcmVlSUQgaW50ZWdlcgogICAgZm9yIG15ICRBcmd1bWVudCAocXcoRmllbGRUeXBlKSkgewogICAgICAgICRTZWxmLT57Q2hlY2tJdGVtT2JqZWN0fS0+U3RyaW5nQ2xlYW4oCiAgICAgICAgICAgIFN0cmluZ1JlZiAgICAgICAgID0+IFwkUGFyYW17JEFyZ3VtZW50fSwKICAgICAgICAgICAgUmVtb3ZlQWxsTmV3bGluZXMgPT4gMSwKICAgICAgICAgICAgUmVtb3ZlQWxsVGFicyAgICAgPT4gMSwKICAgICAgICAgICAgUmVtb3ZlQWxsU3BhY2VzICAgPT4gMSwKICAgICAgICApOwogICAgfQogICAgZm9yIG15ICRBcmd1bWVudCAocXcoTmFtZSBDb21tZW50KSkgewogICAgICAgICRTZWxmLT57Q2hlY2tJdGVtT2JqZWN0fS0+U3RyaW5nQ2xlYW4oCiAgICAgICAgICAgIFN0cmluZ1JlZiAgICAgICAgID0+IFwkUGFyYW17JEFyZ3VtZW50fSwKICAgICAgICAgICAgUmVtb3ZlQWxsTmV3bGluZXMgPT4gMSwKICAgICAgICAgICAgUmVtb3ZlQWxsVGFicyAgICAgPT4gMSwKICAgICAgICApOwogICAgfQoKICAgICMgZmluZCBleGl0aW5nIGl0ZW0gd2l0aCBzYW1lIG5hbWUKICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgIFNRTCA9PiAnU0VMRUNUIGlkIEZST00gZmllbGRfdHJlZV9maWVsZCAnCiAgICAgICAgICAgIC4gJ1dIRVJFIG5hbWUgPSA/IEFORCBmaWVsZF90cmVlX2lkID0gPycsCiAgICAgICAgQmluZCA9PiBbIFwkUGFyYW17TmFtZX0gLCBcJFBhcmFte0ZpZWxkVHJlZUlEfSBdLAogICAgICAgIExpbWl0ID0+IDEsCiAgICApOwoKICAgICMgZmV0Y2ggdGhlIHJlc3VsdAogICAgbXkgJE5vQWRkOwogICAgd2hpbGUgKCAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICROb0FkZCA9IDE7CiAgICB9CgogICAgIyBhYm9ydCBpbnNlcnQgb2YgbmV3IGl0ZW0sIGlmIGl0ZW0gbmFtZSBhbHJlYWR5IGV4aXN0cwogICAgaWYgKCROb0FkZCkgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlID0+CiAgICAgICAgICAgICAgICAiQ2FuJ3QgYWRkIG5ldyBmaWVsZCEgRmllbGRUcmVlIGZpZWxkIHdpdGggc2FtZSBuYW1lIGFscmVhZHkgZXhpc3RzIGluIHRoaXMgbGV2ZWwuIiwKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAjIHJlc2V0IGNhY2hlCiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntGaWVsZExpc3R9OwoKICAgICMgaW5zZXJ0IG5ldyBpdGVtCiAgICByZXR1cm4gaWYgISRTZWxmLT57REJPYmplY3R9LT5EbygKICAgICAgICBTUUwgPT4gJ0lOU0VSVCBJTlRPIGZpZWxkX3RyZWVfZmllbGQgJwogICAgICAgICAgICAuICcoZmllbGRfdHlwZSwgbmFtZSwgZnJpZW5kbHlfbmFtZSwgcmVxdWlyZWQsIGZpZWxkX3RyZWVfaWQsIHRlbXBsYXRlLCB0YXJnZXQsIHBvc2l0aW9uLCB2YWxpZF9pZCwgY29tbWVudHMsICcKICAgICAgICAgICAgLiAnaGlkZGVuLCBjcmVhdGVfdGltZSwgY3JlYXRlX2J5LCBjaGFuZ2VfdGltZSwgY2hhbmdlX2J5KSBWQUxVRVMgJwogICAgICAgICAgICAuICcoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgY3VycmVudF90aW1lc3RhbXAsID8sIGN1cnJlbnRfdGltZXN0YW1wLCA/KScsCiAgICAgICAgQmluZCA9PiBbCiAgICAgICAgICAgIFwkUGFyYW17RmllbGRUeXBlfSwgICBcJFBhcmFte05hbWV9LCAgICAgICAgIFwkUGFyYW17RnJpZW5kbHlOYW1lfSwKICAgICAgICAgICAgXCRQYXJhbXtSZXF1aXJlZH0sCSAgICBcJFBhcmFte0ZpZWxkVHJlZUlEfSwJXCRQYXJhbXtUZW1wbGF0ZX0sCiAgICAgICAgICAgIFwkUGFyYW17VGFyZ2V0fSwJCVwkUGFyYW17UG9zaXRpb259LCAJXCRQYXJhbXtWYWxpZElEfSwKICAgICAgICAgICAgXCRQYXJhbXtDb21tZW50fSwgICAgIFwkUGFyYW17SGlkZGVufSwgICAgICBcJFBhcmFte1VzZXJJRH0sCiAgICAgICAgICAgIFwkUGFyYW17VXNlcklEfSwKICAgICAgICBdLAogICAgKTsKCiMgRklYTUU6IFNJVEFJUCBSQVNZVCBORUdBTElNQSEgTmVyZWlraWEgU1FMJ28gam9raW8ga2FkIGdhdXQgbmF1amFpIHN1a3VydG8gaXJhc28gSUQKICAgICMgZmluZCBpZCBvZiBuZXcgaXRlbQogICAgJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgU1FMID0+ICdTRUxFQ1QgaWQgRlJPTSBmaWVsZF90cmVlX2ZpZWxkICcKICAgICAgICAgICAgLiAnV0hFUkUgZmllbGRfdHlwZSA9ID8gQU5EIG5hbWUgPSA/IEFORCBmaWVsZF90cmVlX2lkID0gPycsCiAgICAgICAgQmluZCA9PiBbIFwkUGFyYW17RmllbGRUeXBlfSwgXCRQYXJhbXtOYW1lfSwgXCRQYXJhbXtGaWVsZFRyZWVJRH0gXSwKICAgICAgICBMaW1pdCA9PiAxLAogICAgKTsKCiAgICAjIGZldGNoIHRoZSByZXN1bHQKICAgIG15ICRJdGVtSUQ7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRJdGVtSUQgPSAkUm93WzBdOwogICAgfQoKICAgIHJldHVybiAkSXRlbUlEOwp9Cgo9aXRlbSBGaWVsZFVwZGF0ZSgpCgp1cGRhdGUgYSBleGlzdGluZyBmaWVsZAoKICAgIG15ICRUcnVlID0gJEZpZWxkVHJlZU9iamVjdC0+SXRlbVVwZGF0ZSgKICAgICAgICBGaWVsZElEICAgICAgICA9PiAxMjMsCiAgICAgICAgVHlwZSAJCSAgPT4gVGV4dCwKICAgICAgICBOYW1lICAgICAgICAgID0+ICdJdGVtIE5hbWUnLAogICAgICAgIEZyaWVuZGx5TmFtZSAgPT4gJ0ZyaWVuZGx5IG5hbWUnLAogICAgICAgIEZpZWxkVHlwZQkgID0+ICdUZXh0JywKICAgICAgICBSZXF1aXJlZAkgPT4gW3RydWUvZmFsc2VdLAogICAgICAgIFZhbGlkSUQgICAgICAgPT4gMSwKICAgICAgICBIaWRkZW4gICAgICAgID0+IDAsCiAgICAgICAgQ29tbWVudCAgICAgICA9PiAnQ29tbWVudCcsICAgICMgKG9wdGlvbmFsKQogICAgICAgIFVzZXJJRCAgICAgICAgPT4gMSwKICAgICk7Cgo9Y3V0CgpzdWIgRmllbGRVcGRhdGUgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKICAgIGlmICgkU2VsZi0+e0NhY2hlT2JqZWN0fSkgewogICAgCSRTZWxmLT57Q2FjaGVPYmplY3R9LT5DbGVhblVwKAogICAgCQlUeXBlCT0+ICdGaWVsZFRyZWUnLAogICAgCSk7CiAgICB9CgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KEZpZWxkSUQgRmllbGRUeXBlIE5hbWUgVmFsaWRJRCBVc2VySUQpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyRBcmd1bWVudH0gKSB7CiAgICAgICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkICRBcmd1bWVudCEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgCiAgICAjIHNldCBkZWZhdWx0IHZhbHVlcwogICAgZm9yIG15ICRBcmd1bWVudCAocXcoRnJpZW5kbHlOYW1lIENvbW1lbnQgVGVtcGxhdGUgVGFyZ2V0KSkgewogICAgICAgICRQYXJhbXskQXJndW1lbnR9IHx8PSAnJzsKICAgIH0KICAgIAogICAgZm9yIG15ICRBcmd1bWVudCAocXcoUmVxdWlyZWQgUG9zaXRpb24gSGlkZGVuKSkgewogICAgICAgICRQYXJhbXskQXJndW1lbnR9IHx8PSAwOwogICAgfQoKICAgICMgY2xlYW51cCBnaXZlbiBwYXJhbXMKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KEZpZWxkVHlwZSkpIHsKICAgICAgICAkU2VsZi0+e0NoZWNrSXRlbU9iamVjdH0tPlN0cmluZ0NsZWFuKAogICAgICAgICAgICBTdHJpbmdSZWYgICAgICAgICA9PiBcJFBhcmFteyRBcmd1bWVudH0sCiAgICAgICAgICAgIFJlbW92ZUFsbE5ld2xpbmVzID0+IDEsCiAgICAgICAgICAgIFJlbW92ZUFsbFRhYnMgICAgID0+IDEsCiAgICAgICAgICAgIFJlbW92ZUFsbFNwYWNlcyAgID0+IDEsCiAgICAgICAgKTsKICAgIH0KICAgIGZvciBteSAkQXJndW1lbnQgKHF3KE5hbWUgQ29tbWVudCkpIHsKICAgICAgICAkU2VsZi0+e0NoZWNrSXRlbU9iamVjdH0tPlN0cmluZ0NsZWFuKAogICAgICAgICAgICBTdHJpbmdSZWYgICAgICAgICA9PiBcJFBhcmFteyRBcmd1bWVudH0sCiAgICAgICAgICAgIFJlbW92ZUFsbE5ld2xpbmVzID0+IDEsCiAgICAgICAgICAgIFJlbW92ZUFsbFRhYnMgICAgID0+IDEsCiAgICAgICAgKTsKICAgIH0KCiAgICAjIGdldCBjbGFzcyBvZiBpdGVtCiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICBTUUwgICA9PiAnU0VMRUNUIGZpZWxkX3RyZWVfaWQgRlJPTSBmaWVsZF90cmVlX2ZpZWxkIFdIRVJFIGlkID0gPycsCiAgICAgICAgQmluZCAgPT4gWyBcJFBhcmFte0ZpZWxkSUR9IF0sCiAgICAgICAgTGltaXQgPT4gMSwKICAgICk7CgogICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICBteSAkRmllbGRUcmVlSUQ7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRGaWVsZFRyZWVJRCA9ICRSb3dbMF07CiAgICB9CgogICAgaWYgKCAhJEZpZWxkVHJlZUlEICkgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlICA9PiAiQ2FuJ3QgdXBkYXRlIGl0ZW0hIEZpZWxkIG5vdCBmb3VuZC4iLAogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgICMgcmVzZXQgY2FjaGUKICAgIGRlbGV0ZSAkU2VsZi0+e0NhY2hlfS0+e0ZpZWxkR2V0fS0+e0ZpZWxkVHJlZUlEfS0+eyRGaWVsZFRyZWVJRH0tPnsgJFBhcmFte05hbWV9IH07CiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntGaWVsZEdldH0tPntGaWVsZElEfS0+eyAkUGFyYW17RmllbGRJRH0gfTsKICAgIGRlbGV0ZSAkU2VsZi0+e0NhY2hlfS0+e0ZpZWxkTGlzdH07CgogICAgcmV0dXJuICRTZWxmLT57REJPYmplY3R9LT5EbygKICAgICAgICBTUUwgPT4gJ1VQREFURSBmaWVsZF90cmVlX2ZpZWxkIFNFVCAnCiAgICAgICAgICAgIC4gJ25hbWUgPSA/LCBmcmllbmRseV9uYW1lID0gPywgcmVxdWlyZWQgPSA/LCBmaWVsZF90eXBlID0gPywgJwogICAgICAgICAgICAuICd0ZW1wbGF0ZSA9ID8sIHRhcmdldCA9ID8sIHBvc2l0aW9uID0gPywgJwogICAgICAgICAgICAuICd2YWxpZF9pZCA9ID8sIGhpZGRlbiA9ID8sIGNvbW1lbnRzID0gPywgJwogICAgICAgICAgICAuICdjaGFuZ2VfdGltZSA9IGN1cnJlbnRfdGltZXN0YW1wLCBjaGFuZ2VfYnkgPSA/ICcKICAgICAgICAgICAgLiAnV0hFUkUgaWQgPSA/JywKICAgICAgICBCaW5kID0+IFsKICAgICAgICAgICAgXCRQYXJhbXtOYW1lfSwgXCRQYXJhbXtGcmllbmRseU5hbWV9LCBcJFBhcmFte1JlcXVpcmVkfSwgCiAgICAgICAgICAgIFwkUGFyYW17RmllbGRUeXBlfSxcJFBhcmFte1RlbXBsYXRlfSwgXCRQYXJhbXtUYXJnZXR9LCAKICAgICAgICAgICAgXCRQYXJhbXtQb3NpdGlvbn0sIFwkUGFyYW17VmFsaWRJRH0sIFwkUGFyYW17SGlkZGVufSwKICAgICAgICAgICAgXCRQYXJhbXtDb21tZW50fSwgIFwkUGFyYW17VXNlcklEfSwgIFwkUGFyYW17RmllbGRJRH0sCiAgICAgICAgXSwKICAgICk7Cn0KCgoKPWl0ZW0gRmllbGRMaXN0KCkKCnJldHVybiBhIGxpc3QgYXMgaGFzaCByZWZlcmVuY2Ugb2Ygb25lIGdlbmVyYWwgY2F0YWxvZyBjbGFzcwoKICAgIG15ICRIYXNoUmVmID0gJEZpZWxkVHJlZU9iamVjdC0+RmllbGRMaXN0KAogICAgICAgIEZpZWxkVHJlZUlEID0+IDUzLCAgICAgICAgICAgICAgICMgKG9wdGlvbmFsKSBzdHJpbmcgb3IgYXJyYXkgcmVmZXJlbmNlCiAgICApOwoKPWN1dAoKc3ViIEZpZWxkTGlzdCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBpZiAoICEkUGFyYW17RmllbGRUcmVlSUR9ICkgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlICA9PiAnTmVlZCBGaWVsZFRyZWVJRCEnCiAgICAgICAgKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgIyBzZXQgZGVmYXVsdCB2YWx1ZQogICAgaWYgKCAhZGVmaW5lZCAkUGFyYW17VmFsaWR9ICkgewogICAgICAgICRQYXJhbXtWYWxpZH0gPSAxOwogICAgfQoKICAgICMgY3JlYXRlIHNxbCBzdHJpbmcKICAgIG15ICRTUUwgID0gJ1NFTEVDVCBpZCwgbmFtZSwgcG9zaXRpb24gRlJPTSBmaWVsZF90cmVlX2ZpZWxkIFdIRVJFIHRydWUgJzsKICAgIG15IEBCSU5EID0gKCAgKTsKCiAgICAjIGNyZWF0ZSBjYWNoZSBrZXkKICAgIG15ICRDYWNoZUtleSA9ICcnOwoKICAgICMgYWRkIHZhbGlkIHN0cmluZyB0byBzcWwgc3RyaW5nCiAgICBpZiAoICRQYXJhbXtWYWxpZH0gKSB7CiAgICAgICAgJFNRTCAuPSAnQU5EIHZhbGlkX2lkID0gMSAnOwogICAgfQoKICAgIGlmICggJFBhcmFte0ZpZWxkVHJlZUlEfSApIHsKICAgICAgICAkU1FMIC49ICdBTkQgZmllbGRfdHJlZV9pZCA9ID8gJzsKICAgICAgICBwdXNoIEBCSU5ELCAoIFwkUGFyYW17RmllbGRUcmVlSUR9ICk7CiAgICAgICAgJENhY2hlS2V5IC49ICRQYXJhbXtGaWVsZFRyZWVJRH0uJyMjIyMnOwogICAgfQoKCgogICAgIyBjaGVjayBpZiByZXN1bHQgaXMgYWxyZWFkeSBjYWNoZWQKICAgIHJldHVybiAkU2VsZi0+e0NhY2hlfS0+e0ZpZWxkTGlzdH0tPnskQ2FjaGVLZXl9CiAgICAgICAgaWYgKGV4aXN0cyAkU2VsZi0+e0NhY2hlfS0+e0ZpZWxkTGlzdH0tPnskQ2FjaGVLZXl9KTsKICAgICAgICAKICAgICRTUUwgLj0gJyBPUkRFUiBCWSBwb3NpdGlvbiBBU0MnOwoKICAgICMgYXNrIGRhdGFiYXNlCiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICBTUUwgID0+ICRTUUwsCiAgICAgICAgQmluZCA9PiBcQEJJTkQsCiAgICApOwoKICAgICMgZmV0Y2ggdGhlIHJlc3VsdAogICAgbXkgJURhdGE7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICREYXRheyAkUm93WzBdIH0gPSAkUm93WzFdLidfJy4kUm93WzJdOwogICAgfQogIyAgIGNoZWNrIGl0ZW0KICMgICBpZiAoICElRGF0YSApIHsKICMgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAjICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogIyAgICAgICAgICAgTWVzc2FnZSAgPT4gJ0NsYXNzIG5vdCBmb3VuZCBpbiBkYXRhYmFzZSEnLAogIyAgICAgICApOwogIyAgICAgIHJldHVybjsKICMgICB9CgogICAgIyBjYWNoZSB0aGUgcmVzdWx0CiAgICAkU2VsZi0+e0NhY2hlfS0+e0ZpZWxkTGlzdH0tPnskQ2FjaGVLZXl9ID0gXCVEYXRhOwoKICAgIHJldHVybiBcJURhdGE7Cn0KCj1pdGVtIEZpZWxkR2V0KCkKCmdldCBhIHRyZWUgZmllbGQgaXRlbQoKUmV0dXJuCgogICAgbXkgJEl0ZW1EYXRhUmVmID0gJEZpZWxkVHJlZU9iamVjdC0+RmllbGRHZXQoCiAgICAgICAgRmllbGRJRCAgPT4gMywKICAgICk7CgogICAgb3IKCiAgICBteSAkSXRlbURhdGFSZWYgPSAkRmllbGRUcmVlT2JqZWN0LT5GaWVsZEdldCgKICAgICAgICBGaWVsZFRyZWVJRCA9PiA2LAogICAgKTsKCj1jdXQKCnN1YiBGaWVsZEdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBpZiAoICEkUGFyYW17RmllbGRJRH0gJiYgISRQYXJhbXtGaWVsZFRyZWVJRH0gKSB7CiAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgIE1lc3NhZ2UgID0+ICdOZWVkIEl0ZW1JRCBPUiBGaWVsZFRyZWVJRCEnCiAgICAgICAgKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgIyBjcmVhdGUgc3FsIHN0cmluZwogICAgbXkgJFNRTCA9ICdTRUxFQ1QgaWQsIGZpZWxkX3R5cGUsIG5hbWUsIGZyaWVuZGx5X25hbWUsIHJlcXVpcmVkLCAnCiAgICAgICAgLiAnZmllbGRfdHJlZV9pZCwgdGVtcGxhdGUsIHRhcmdldCwgcG9zaXRpb24sIHZhbGlkX2lkLCBoaWRkZW4sIGNvbW1lbnRzLCAnCiAgICAgICAgLiAnY3JlYXRlX3RpbWUsIGNyZWF0ZV9ieSwgY2hhbmdlX3RpbWUsIGNoYW5nZV9ieSBGUk9NIGZpZWxkX3RyZWVfZmllbGQgV0hFUkUgJzsKICAgIG15IEBCSU5EOwoKICAgICMgYWRkIG9wdGlvbnMgdG8gc3FsIHN0cmluZwogICAgaWYgKCAkUGFyYW17RmllbGRUcmVlSUR9KSB7CgogICAgICAgICMgY2hlY2sgaWYgcmVzdWx0IGlzIGFscmVhZHkgY2FjaGVkCiAgICAgICAgcmV0dXJuICRTZWxmLT57Q2FjaGV9LT57RmllbGRHZXR9LT57RmllbGRUcmVlSUR9LT57ICRQYXJhbXtGaWVsZFRyZWVJRH0gfSAgCiAgICAgICAgICAgIGlmIChleGlzdHMgJFNlbGYtPntDYWNoZX0tPntGaWVsZEdldH0tPntGaWVsZFRyZWVJRH0tPnsgJFBhcmFte0ZpZWxkVHJlZUlEfSB9KTsKCiAgICAgICAgIyBhZGQgY2xhc3MgYW5kIG5hbWUgdG8gc3FsIHN0cmluZwogICAgICAgICRTUUwgLj0gJ2ZpZWxkX3RyZWVfaWQgPSA/ICc7CiAgICAgICAgcHVzaCBAQklORCwgKCBcJFBhcmFte0ZpZWxkVHJlZUlEfSApOwogICAgfQogICAgZWxzZSB7CgogICAgICAgICMgY2hlY2sgaWYgcmVzdWx0IGlzIGFscmVhZHkgY2FjaGVkCiAgICAgICAgcmV0dXJuICRTZWxmLT57Q2FjaGV9LT57RmllbGRHZXR9LT57RmllbGRJRH0tPnsgJFBhcmFte0ZpZWxkSUR9IH0KICAgICAgICAgICAgaWYgKGV4aXN0cyAkU2VsZi0+e0NhY2hlfS0+e0ZpZWxkR2V0fS0+e0ZpZWxkSUR9LT57ICRQYXJhbXtGaWVsZElEfSB9KTsKCiAgICAgICAgIyBhZGQgaXRlbSBpZCB0byBzcWwgc3RyaW5nCiAgICAgICAgJFNRTCAuPSAnaWQgPSA/ICc7CiAgICAgICAgcHVzaCBAQklORCwgXCRQYXJhbXtGaWVsZElEfTsKICAgIH0KCiAgICAjIGFzayBkYXRhYmFzZQogICAgJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgU1FMICAgPT4gJFNRTCwKICAgICAgICBCaW5kICA9PiBcQEJJTkQsCiAgICAgICAgTGltaXQgPT4gMSwKICAgICk7CgogICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICBteSAlSXRlbURhdGE7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRJdGVtRGF0YXtGaWVsZElEfSAgICAgICA9ICRSb3dbMF07CiAgICAgICAgJEl0ZW1EYXRhe0ZpZWxkVHlwZX0gICAgID0gJFJvd1sxXTsKICAgICAgICAkSXRlbURhdGF7TmFtZX0gICAgICAgICAgPSAkUm93WzJdOwogICAgICAgICRJdGVtRGF0YXtGcmllbmRseU5hbWV9ICA9ICRSb3dbM107CiAgICAgICAgJEl0ZW1EYXRhe1JlcXVpcmVkfSAJICAgPSAkUm93WzRdOwogICAgICAgICRJdGVtRGF0YXtGaWVsZFRyZWVJRH0gICA9ICRSb3dbNV07CiAgICAgICAgJEl0ZW1EYXRhe1RlbXBsYXRlfSAgICAgID0gJFJvd1s2XSAgfHwgJyc7OwogICAgICAgICRJdGVtRGF0YXtUYXJnZXR9ICAgICAgICA9ICRSb3dbN10gIHx8ICcnOzsKICAgICAgICAkSXRlbURhdGF7UG9zaXRpb259ICAgICAgPSAkUm93WzhdOwogICAgICAgICRJdGVtRGF0YXtWYWxpZElEfSAgICAgICA9ICRSb3dbOV07CiAgICAgICAgJEl0ZW1EYXRhe0hpZGRlbn0gICAgICAgID0gJFJvd1sxMF07CiAgICAgICAgJEl0ZW1EYXRhe0NvbW1lbnR9ICAgICAgID0gJFJvd1sxMV0gfHwgJyc7CiAgICAgICAgJEl0ZW1EYXRhe0NyZWF0ZVRpbWV9ICAgID0gJFJvd1sxMl07CiAgICAgICAgJEl0ZW1EYXRhe0NyZWF0ZUJ5fSAgICAgID0gJFJvd1sxM107CiAgICAgICAgJEl0ZW1EYXRhe0NoYW5nZVRpbWV9ICAgID0gJFJvd1sxNF07CiAgICAgICAgJEl0ZW1EYXRhe0NoYW5nZUJ5fSAgICAgID0gJFJvd1sxNV07CiAgICB9CgogICAgIyBjaGVjayBpdGVtCiAgICBpZiAoICEkSXRlbURhdGF7RmllbGRJRH0gKSB7CiAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgIE1lc3NhZ2UgID0+ICdJdGVtIG5vdCBmb3VuZCBpbiBkYXRhYmFzZSEgUGFyYW1zOiAnLkR1bXBlcihcJVBhcmFtKSwKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAjIGNhY2hlIHRoZSByZXN1bHQKICAgICRTZWxmLT57Q2FjaGV9LT57RmllbGRHZXR9LT57RmllbGRUcmVlSUR9LT57ICRJdGVtRGF0YXtGaWVsZFRyZWVJRH0gfSA9IFwlSXRlbURhdGE7CiAgICAkU2VsZi0+e0NhY2hlfS0+e0ZpZWxkR2V0fS0+e0ZpZWxkSUR9LT57ICRJdGVtRGF0YXtGaWVsZElEfSB9ID0gXCVJdGVtRGF0YTsKCiAgICByZXR1cm4gXCVJdGVtRGF0YTsKfQoKPWl0ZW0gVmFsdWVTZXRBZGQoKQp1cGRhdGUgYSB2YWx1ZXNldCBmb3IgYSBmaWVsZCBsaXN0CgpSZXR1cm4KCiAgICBteSAkVmFsdWVTZXRJRCA9ICRGaWVsZFRyZWVPYmplY3QtPlZhbHVlU2V0QWRkKAogICAgICAgIERhdGEgPT4gJXJlZgogICAgKTsKCj1jdXQKc3ViIFZhbHVlU2V0QWRkIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KERhdGEpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyRBcmd1bWVudH0gKSB7CiAgICAgICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkICRBcmd1bWVudCEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgCiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+RG8oU1FMID0+ICdJTlNFUlQgSU5UTyBmaWVsZF90cmVlX3ZhbHVlX3NldHMgKGlkKSBWQUxVRVMgKGRlZmF1bHQpJyk7CiAgICAjIGdldCBpbnNlcnRlZCBJRAogICAgbXkgJGlkID0gJFNlbGYtPntEQk9iamVjdH0tPntkYmh9LT5sYXN0X2luc2VydF9pZCh1bmRlZiwgdW5kZWYsICdmaWVsZF90cmVlX3ZhbHVlX3NldHMnLCB1bmRlZik7ICAgIAogICAgbXkgJERhdGEgPSAkUGFyYW17RGF0YX07ICAgIAogICAJbXkgJEZpZWxkREJUeXBlcyA9ICRTZWxmLT5GaWVsZFR5cGVEQlR5cGVzKCk7CgogICAgbXkgQEhpc3RvcnlMaW5lczsKICAgIG15ICRQcm9ibGVtVHlwZSA9ICcnOwogICAgCiAgICBmb3JlYWNoIG15ICRGaWVsZElEICggc29ydCBrZXlzICV7JERhdGF9KSB7CiAgICAJbXkgJEZpZWxkID0gJFNlbGYtPkZpZWxkR2V0KAoJCQlGaWVsZElEID0+ICRGaWVsZElECgkJKTsKICAgIAkgICAJCQogICAgCW15ICRGaWVsZERCVHlwZSA9ICRGaWVsZERCVHlwZXMtPnskRmllbGQtPntGaWVsZFR5cGV9fTsKICAgIAlpZiAoZGVmaW5lZCgkRmllbGREQlR5cGUpICYmICRGaWVsZERCVHlwZSBuZSAnbm9uZScpIHsKICAgIAkgICAgCgkgICAgCSRTZWxmLT57REJPYmplY3R9LT5EbygKICAgIAkgICAgICAgIFNRTCAgPT4gJ0lOU0VSVCBJTlRPIGZpZWxkX3RyZWVfdmFsdWUgKGZpZWxkX2lkLCBmaWVsZF90cmVlX2lkLCAnCiAgICAJICAgICAgICAJICAgLicgdmFsdWVfc2V0X2lkLCB2YWx1ZV8nLiRGaWVsZERCVHlwZS4nKSBWQUxVRVMgKD8sID8sID8sID8pJywKICAgIAkgICAgICAgIEJpbmQgPT4gWwogICAgCSAgICAgICAgICAgIFwkRmllbGRJRCwgXCRGaWVsZC0+e0ZpZWxkVHJlZUlEfSwgXCRpZCwgXCREYXRhLT57JEZpZWxkSUR9LAoJICAgICAgICAgICAgXSwKCSAgICAgICAgKTsKCQkgICAgICAgCgkgICAgICAgIGlmICgoJEZpZWxkLT57RmllbGRUeXBlfSBlcSAiU2VsZWN0IikgJiYgKCREYXRhLT57JEZpZWxkSUR9ID1+IC9eLT9cZCskLykpIHsKCSAgICAgICAgCW15ICRJdGVtID0gJFNlbGYtPntHZW5lcmFsQ2F0YWxvZ09iamVjdH0tPkl0ZW1HZXQoCgkgICAgICAgICAgICAgICAgSXRlbUlEICA9PiAkRGF0YS0+eyRGaWVsZElEfSwKCSAgICAgICAgICAgICk7CgkgICAgICAgICAgICBwdXNoIEBIaXN0b3J5TGluZXMsICJcJVwlJEZpZWxkLT57TmFtZX1cJVwlJEl0ZW0tPntOYW1lfSI7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwdXNoIEBIaXN0b3J5TGluZXMsICJcJVwlJEZpZWxkLT57TmFtZX1cJVwlJERhdGEtPnskRmllbGRJRH0iOwoJICAgICAgICB9CgkgICAgICAgIAoJICAgICAgICAkUHJvYmxlbVR5cGUgPSAkRmllbGQtPntGaWVsZFRyZWVJRH07CgkJfQogICAgfQogICAgCiAgICBwdXNoIEBIaXN0b3J5TGluZXMsICJcJVwlUHJvYmxlbSBUeXBlXCVcJSIgLiAkUHJvYmxlbVR5cGU7CgogICAgIyBmaW5kIGV4aXN0aW5nIGl0ZW0gd2l0aCBzYW1lIG5hbWUKCW15ICRSZXN1bHQgPSB7CgkgCUhpc3RvcnlMaW5lcyA9PiBcQEhpc3RvcnlMaW5lcywKCSAJVmFsdWVTZXRJRCAgID0+ICRpZCwKCX07CiAJCiAgICAjIHJlc2V0IGNhY2hlCiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntWYWx1ZVNldEdldH0tPntWYWx1ZVNldElEfS0+eyAkUmVzdWx0LT57VmFsdWVTZXRJRH0gfSBpZiAkU2VsZi0+e0NhY2hlfS0+e1ZhbHVlU2V0R2V0fS0+e1ZhbHVlU2V0SUR9LT57ICRSZXN1bHQtPntWYWx1ZVNldElEfSB9OwogICAgZGVsZXRlICRTZWxmLT57Q2FjaGV9LT57VmFsdWVTZXRMaXN0fSBpZiAkU2VsZi0+e0NhY2hlfS0+e1ZhbHVlU2V0TGlzdH07CiAgICAKCXJldHVybiAkUmVzdWx0Owp9CgoKc3ViIEdldEZpZWxkc1ZhbHVlcyB7CglteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoJCglteSAkRmllbGRUcmVlSUQgPSAkUGFyYW17RmllbGRUcmVlSUR9OwogICAgCiAgIAlteSAkRmllbGREQlR5cGVzID0gJFNlbGYtPkZpZWxkVHlwZURCVHlwZXMoKTsKICAgCW15ICRGaWVsZElETGlzdCA9ICRTZWxmLT5GaWVsZExpc3QoCiAgICAgICAgRmllbGRUcmVlSUQgPT4gJEZpZWxkVHJlZUlELAogICAgICAgIFZhbGlkID0+IDEsCiAgICApOwogICAgCglteSAkUmVzdWx0ID0geyB9OwogICAgCiAgICBmb3IgbXkgJEZpZWxkSUQgKCBrZXlzICV7JEZpZWxkSURMaXN0fSApIHsKCQkkUmVzdWx0LT57JEZpZWxkSUR9ID0gJFBhcmFte1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oUGFyYW0gPT4gJFBhcmFte1ByZWZpeH0gLiAnX0ZpZWxkXycgLiAkRmllbGRJRCk7CiAgICB9CgkKCXJldHVybiAkUmVzdWx0Owp9Cgo9aXRlbSBWYWx1ZVNldEZyb21QT1NUKCkKcHJvY2VzcyBQT1NUIGFuZCBkbyBzb21ldGhpbmcgKHVwZGF0ZSBvciBjcmVhdGUpCnJldHVybnMgbmV3L29sZCBWYWx1ZVNldElECgpSZXR1cm4KCiAgICBteSAkVmFsdWVTZXRJRCA9ICRGaWVsZFRyZWVPYmplY3QtPlZhbHVlU2V0VXBkYXRlKAogICAgICAgIFBhcmFtID0+ICVQYXJhbSwKICAgICk7Cgo9Y3V0CgpzdWIgVmFsdWVTZXRGcm9tUE9TVCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBpZiAoICghJFBhcmFte1ZhbHVlU2V0SUR9ICYmICAhJFBhcmFte09ubHlSZXR1cm5EYXRhfSkgIHx8ICEkUGFyYW17RmllbGRUcmVlSUR9ICkgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlICA9PiAnTmVlZCBWYWx1ZVNldElEL09ubHlSZXR1cm5EYXRhIEFORCBGaWVsZFRyZWVJRCEnLkR1bXBlcihcJVBhcmFtKSwKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBteSAkRmllbGRUcmVlSUQgPSAkUGFyYW17RmllbGRUcmVlSUR9OwogICAgCiAgIAlteSAkRmllbGREQlR5cGVzID0gJFNlbGYtPkZpZWxkVHlwZURCVHlwZXMoKTsKCW15ICRGaWVsZElETGlzdCA9ICRTZWxmLT5GaWVsZExpc3QoCiAgICAgICAgICAgICAgIEZpZWxkVHJlZUlEID0+ICRGaWVsZFRyZWVJRCwKICAgICAgICAgICAgICAgVmFsaWQgPT4gMSwKICAgICAgICAgICApOwogICAgICAgICAgCQkKCW15ICREYXRhID0geyB9OyAjIFBvcHVsYXRlIGRhdGEgZnJvbSBwcm92aWRlZCBwYXJhbTsKCWZvciBteSAkRmllbGRJRCAoIGtleXMgJXskRmllbGRJRExpc3R9ICkgewoJCQkKCQkJbXkgJEZpZWxkID0gJFNlbGYtPkZpZWxkR2V0KAogICAgICAgICAgICAgICAgRmllbGRJRCA9PiAkRmllbGRJRCwKCQkJKTsKCQkJCgkJCWlmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICdEYXRlVGltZScpIHsKCQkJCW15IEBEYXRlID0oKSA7CgkJCQlmb3IgKHF3W1llYXIgTW9udGggRGF5IEhvdXIgTWludXRlXSkgewoJCQkJCXB1c2ggQERhdGUsICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJFBhcmFte1ByZWZpeH0uJEZpZWxkSUQuJF8gKTsKCQkJCX0KCQkJCQogICAgCQkJJERhdGEtPnskRmllbGRJRH0gPSBzcHJpbnRmKCIlMDRkLSUwMmQtJTAyZCAlMDJkOiUwMmQiLCBARGF0ZSkuIjo1OSI7CgkJCX0KCQkJZWxzaWYgKCRGaWVsZERCVHlwZXMtPnskRmllbGQtPntGaWVsZFR5cGV9fSBlcSAnbm9uZScpIHsKCQkJfQoJCQllbHNlIHsKCQkJCSREYXRhLT57JEZpZWxkSUR9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkUGFyYW17UHJlZml4fS4kRmllbGRJRCApOwoJCQl9CgkJfQoKCiAKICAgICAjIHNhdmUgdG8gZGF0YWJhc2UKICAgICBpZiAoJFBhcmFte09ubHlSZXR1cm5EYXRhfSkgewogICAgIAlyZXR1cm4gJERhdGE7CiAgICAgfQogICAgIG15ICRSZXN1bHQ7CiAgICAgaWYgKCAkUGFyYW17VmFsdWVTZXRJRH0gZXEgJ05FVycgKSB7CiAgICAgICAgICRSZXN1bHQgPSAkU2VsZi0+VmFsdWVTZXRBZGQoCiAgICAgICAgICAgICBEYXRhID0+ICREYXRhLAogICAgICAgICApOwogICAgIH0KICAgICBlbHNlIHsKICAgICAgICAkUmVzdWx0ID0gJFNlbGYtPlZhbHVlU2V0VXBkYXRlKAogICAgCSAgICAgRGF0YSA9PiAkRGF0YSwKCSAgICAgICAgIFZhbHVlU2V0SUQgPT4gJFBhcmFte1ZhbHVlU2V0SUR9LAogICAgICAgICk7CiAgICAgfQoKCXJldHVybiAkUmVzdWx0OwoKfQoKCnN1YiBWYWx1ZVNldFZhbGlkYXRlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgoKICAgIG15ICRGaWVsZFRyZWVJRCA9ICRQYXJhbXtGaWVsZFRyZWVJRH07CiAgICBteSAkRXJyb3IgPSAiIjsKICAgIGlmICghJEZpZWxkVHJlZUlEKSB7CiAgICAJJEVycm9yIC49ICdGaWVsZFRyZWUgbm90IHNldCc7CiAgICB9CiAgIAlteSAkRmllbGREQlR5cGVzID0gJFNlbGYtPkZpZWxkVHlwZURCVHlwZXMoKTsKCW15ICRGaWVsZElETGlzdCA9ICRTZWxmLT5GaWVsZExpc3QoCiAgICAgICAgICAgICAgIEZpZWxkVHJlZUlEID0+ICRGaWVsZFRyZWVJRCwKICAgICAgICAgICAgICAgVmFsaWQgPT4gMSwKICAgICAgICAgICApOwogICAgICAgICAgCQkKCW15ICREYXRhID0geyB9OyAjIFBvcHVsYXRlIGRhdGEgZnJvbSBwcm92aWRlZCBwYXJhbTsKCWZvciBteSAkRmllbGRJRCAoIGtleXMgJXskRmllbGRJRExpc3R9ICkgewoJCQkKCQkJbXkgJEZpZWxkID0gJFNlbGYtPkZpZWxkR2V0KAogICAgICAgICAgICAgICAgRmllbGRJRCA9PiAkRmllbGRJRCwKCQkJKTsKCQkJCgkJCWlmICgkRmllbGQtPntSZXF1aXJlZH0pIHsKICAgICAgICAgICAgICAgIGlmICgkRmllbGQtPntGaWVsZFR5cGV9IGVxICdEYXRlVGltZScpIHsKICAgICAgICAgICAgICAgICAgICBteSAkTW9udGggPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICRQYXJhbXtQcmVmaXh9LiRGaWVsZElELidNb250aCcgKTsKICAgICAgICAgICAgICAgICAgICBteSAkRGF5ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkUGFyYW17UHJlZml4fS4kRmllbGRJRC4nRGF5JyApOwogICAgICAgICAgICAgICAgICAgIG15ICRZZWFyID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkUGFyYW17UHJlZml4fS4kRmllbGRJRC4nWWVhcicgKTsKICAgICAgICAgICAgICAgICAgICBteSAlRGF5c0NvdW50ID0gKAogICAgICAgICAgICAgICAgICAgICAgICAwID0+IHsxID0+IDMxLCAyID0+IDI5LCAzID0+IDMxLCA0ID0+IDMwLCA1ID0+IDMxLCA2ID0+IDMwLCA3ID0+IDMxLCA4ID0+IDMxLCA5ID0+MzAsIDEwID0+IDMxLCAxMSA9PiAzMCwgMTIgPT4gMzEsfSwKICAgICAgICAgICAgICAgICAgICAgICAgMSA9PiB7MSA9PiAzMSwgMiA9PiAyOCwgMyA9PiAzMSwgNCA9PiAzMCwgNSA9PiAzMSwgNiA9PiAzMCwgNyA9PiAzMSwgOCA9PiAzMSwgOSA9PjMwLCAxMCA9PiAzMSwgMTEgPT4gMzAsIDEyID0+IDMxLH0sCiAgICAgICAgICAgICAgICAgICAgICAgIDIgPT4gezEgPT4gMzEsIDIgPT4gMjgsIDMgPT4gMzEsIDQgPT4gMzAsIDUgPT4gMzEsIDYgPT4gMzAsIDcgPT4gMzEsIDggPT4gMzEsIDkgPT4zMCwgMTAgPT4gMzEsIDExID0+IDMwLCAxMiA9PiAzMSx9LAogICAgICAgICAgICAgICAgICAgICAgICAzID0+IHsxID0+IDMxLCAyID0+IDI4LCAzID0+IDMxLCA0ID0+IDMwLCA1ID0+IDMxLCA2ID0+IDMwLCA3ID0+IDMxLCA4ID0+IDMxLCA5ID0+MzAsIDEwID0+IDMxLCAxMSA9PiAzMCwgMTIgPT4gMzEsfSwgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgKTsgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmICgkRGF5ID4gJERheXNDb3VudHskWWVhciAlIDR9eyRNb250aH0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEVycm9yIC49ICJGaWVsZCAkRmllbGQtPntOYW1lfSBoYXMgaW52YWxpZCBkYXRlISAiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJFBhcmFte1ByZWZpeH0uJEZpZWxkSUQgKSBlcSAiIikgewogICAgICAgICAgICAgICAgICAgICAgICAkRXJyb3IgLj0gIkZpZWxkICRGaWVsZC0+e05hbWV9IGlzIHJlcXVpcmVkISAiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCQkJfQoJfQogCglyZXR1cm4gJEVycm9yOwoKfQoKCj1pdGVtIFZhbHVlU2V0VXBkYXRlKCkKdXBkYXRlIGEgdmFsdWVzZXQgZm9yIGEgZmllbGQgbGlzdAoKUmV0dXJuCgogICAgbXkgJFN1Y2Nlc3MgPSAkRmllbGRUcmVlT2JqZWN0LT5WYWx1ZVNldFVwZGF0ZSgKICAgICAgICBWYWx1ZVNldElEID0+IDE1LAogICAgICAgIERhdGEgPT4gJXJlZgogICAgKTsKCj1jdXQKc3ViIFZhbHVlU2V0VXBkYXRlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KFZhbHVlU2V0SUQgRGF0YSkpIHsKICAgICAgICBpZiAoICEkUGFyYW17JEFyZ3VtZW50fSApIHsKICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJEFyZ3VtZW50ISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CiAgICAKICAgIG15ICREYXRhID0gJFBhcmFte0RhdGF9OwogICAgbXkgJFJlc3VsdDsKICAgCW15ICRGaWVsZERCVHlwZXMgPSAkU2VsZi0+RmllbGRUeXBlREJUeXBlcygpOwoKICAgIG15ICRWYWx1ZVNldCA9ICRTZWxmLT5WYWx1ZVNldEdldCgKICAgIAlWYWx1ZVNldElEID0+ICRQYXJhbXtWYWx1ZVNldElEfSwKICAgICk7CiAgICAKICAgIG15IEBIaXN0b3J5TGluZXM7CiAgICBteSAkUHJvYmxlbVR5cGUgPSAnJzsKICAgICAgICAKICAgIG15ICRDaGFuZ2VkID0gMDsKICAgIAogICAgZm9yZWFjaCAgKCBzb3J0IGtleXMgJXskRGF0YX0pIHsKICAgIAlpZiAoJFZhbHVlU2V0LT57JF99IG5lICREYXRhLT57JF99KSB7CiAgICAJCSRDaGFuZ2VkID0gMTsKICAgIAl9CiAgICB9CiAgICBmb3JlYWNoICAoIHNvcnQga2V5cyAleyRWYWx1ZVNldH0pIHsKICAgIAlpZiAoJFZhbHVlU2V0LT57JF99IG5lICREYXRhLT57JF99KSB7CiAgICAJCSRDaGFuZ2VkID0gMTsKICAgIAl9CiAgICB9CgoJaWYgKCRDaGFuZ2VkKSB7CgkgICAJJFNlbGYtPntEQk9iamVjdH0tPkRvKAoJCQkgICAgICAgIFNRTCA9PiAnREVMRVRFIEZST00gZmllbGRfdHJlZV92YWx1ZSBXSEVSRSB2YWx1ZV9zZXRfaWQgPSA/JywKCQkJICAgICAgICBCaW5kID0+IFsKCQkJICAgICAgICAgICAgXCRQYXJhbXtWYWx1ZVNldElEfQoJCQkgICAgICAgIF0pOwoJICAgIGZvcmVhY2ggbXkgJEZpZWxkSUQgKCBzb3J0IGtleXMgJXskRGF0YX0pIHsKCQkJbXkgJEZpZWxkID0gJFNlbGYtPkZpZWxkR2V0KAoJICAgICAgICAgICAgRmllbGRJRCA9PiAkRmllbGRJRCwKCQkJKTsKCSAgICAJbXkgJEZpZWxkREJUeXBlID0gJEZpZWxkREJUeXBlcy0+eyRGaWVsZC0+e0ZpZWxkVHlwZX19OwoJICAgIAlpZiAoZGVmaW5lZCgkRmllbGREQlR5cGUpICYmICRGaWVsZERCVHlwZSBuZSAnbm9uZScpCXsKCQkgICAgCSRTZWxmLT57REJPYmplY3R9LT5EbygKCQkJICAgICAgICBTUUwgPT4gJ0lOU0VSVCBJTlRPIGZpZWxkX3RyZWVfdmFsdWUgKGZpZWxkX2lkLCBmaWVsZF90cmVlX2lkLCAnLgoJCQkgICAgICAgIAkJCScgdmFsdWVfc2V0X2lkLCB2YWx1ZV8nLiRGaWVsZERCVHlwZS4nKSBWQUxVRVMgKD8sID8sID8sID8pJywKCQkJICAgICAgICBCaW5kID0+IFsKCQkJICAgICAgICAgICAgXCRGaWVsZElELCBcJEZpZWxkLT57RmllbGRUcmVlSUR9LCBcJFBhcmFte1ZhbHVlU2V0SUR9LCBcJERhdGEtPnskRmllbGRJRH0sCgkJCSAgICAgICAgXSk7CgkJCSAgICBpZiAoIWV4aXN0cyAkVmFsdWVTZXQtPnskRmllbGRJRH0gfHwgJFZhbHVlU2V0LT57JEZpZWxkSUR9IG5lICREYXRhLT57JEZpZWxkSUR9KSB7CgkJCSAgICAJaWYgKCgkRmllbGQtPntGaWVsZFR5cGV9IGVxICJTZWxlY3QiKSAmJiAoJERhdGEtPnskRmllbGRJRH0gPX4gL14tP1xkKyQvKSkgewoJCSAgICAgICAgICAgICAgICBteSAkSXRlbSA9ICRTZWxmLT57R2VuZXJhbENhdGFsb2dPYmplY3R9LT5JdGVtR2V0KAoJCSAgICAgICAgICAgICAgICAgICAgSXRlbUlEICA9PiAkRGF0YS0+eyRGaWVsZElEfSwKCQkgICAgICAgICAgICAgICAgKTsgICAgICAgIAoJCSAgICAgICAgICAgICAgICBwdXNoIEBIaXN0b3J5TGluZXMsICJcJVwlJEZpZWxkLT57TmFtZX1cJVwlJEl0ZW0tPntOYW1lfSI7CgkJICAgICAgICAgICAgfSBlbHNlIHsKCQkgICAgICAgICAgICAgICAgcHVzaCBASGlzdG9yeUxpbmVzLCAiXCVcJSRGaWVsZC0+e05hbWV9XCVcJSREYXRhLT57JEZpZWxkSUR9IjsKCQkgICAgICAgICAgICB9CgkJICAgICAgICAgICAgJFByb2JsZW1UeXBlID0gJEZpZWxkLT57RmllbGRUcmVlSUR9OyAgICAgICAgIAoJCSAgICAgICAJfQoJCQl9CgkgICAgfQoJICAgIGlmICgkUHJvYmxlbVR5cGUpIHsgCgkgICAgCXB1c2ggQEhpc3RvcnlMaW5lcywgIlwlXCVQcm9ibGVtIFR5cGVcJVwlIiAuICRQcm9ibGVtVHlwZTsgCgkgICAgfQoJfQoKCgkkUmVzdWx0ID0gewoJIAlIaXN0b3J5TGluZXMgPT4gXEBIaXN0b3J5TGluZXMsCgkgCVZhbHVlU2V0SUQgPT4gICRQYXJhbXtWYWx1ZVNldElEfSwKCX07CgogICAgIyByZXNldCBjYWNoZQogICAgZGVsZXRlICRTZWxmLT57Q2FjaGV9LT57VmFsdWVTZXRHZXR9LT57VmFsdWVTZXRJRH0tPnsgJFBhcmFte1ZhbHVlU2V0SUR9IH07CiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntWYWx1ZVNldExpc3R9OwogICAgCglyZXR1cm4gJFJlc3VsdDsKfQoKCgo9aXRlbSBWYWx1ZVNldEdldCgpCnVwZGF0ZSBhIHZhbHVlc2V0IGZvciBhIGZpZWxkIGxpc3QKClJldHVybgoKICAgIG15ICRWYWx1ZVNldERhdGEgPSAkRmllbGRUcmVlT2JqZWN0LT5WYWx1ZVNldEFkZCgKICAgICAgICBWYWx1ZVNldElEICA9PiAzLAogICAgKTsKCj1jdXQKCnN1YiBWYWx1ZVNldEdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBpZiAoICEkUGFyYW17VmFsdWVTZXRJRH0gKSAgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlICA9PiAnTmVlZCBWYWx1ZVNldElEIScKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgcmV0dXJuIGlmICRQYXJhbXtWYWx1ZVNldElEfSA9fiAvbmV3L2k7CiAgICAKICAgIGlmIChleGlzdHMgJFNlbGYtPntDYWNoZX0tPntWYWx1ZVNldEdldH0tPntWYWx1ZVNldElEfS0+eyAkUGFyYW17VmFsdWVTZXRJRH0gfSkgewogICAgCXJldHVybiAgJFNlbGYtPntDYWNoZX0tPntWYWx1ZVNldEdldH0tPntWYWx1ZVNldElEfS0+eyAkUGFyYW17VmFsdWVTZXRJRH0gfTsKICAgIH0KCgogICAgIyBjcmVhdGUgc3FsIHN0cmluZwogICAgbXkgJFNRTCA9ICdTRUxFQ1QgZnYuKiBGUk9NIGZpZWxkX3RyZWVfdmFsdWUgZnYsIGZpZWxkX3RyZWVfZmllbGQgZmYgV0hFUkUgdmFsdWVfc2V0X2lkID0gPyBBTkQgZnYuZmllbGRfaWQgPSBmZi5pZCBPUkRFUiBCWSBmZi5wb3NpdGlvbiBERVNDJzsKICAgIG15IEBCSU5EID0gKCBcJFBhcmFte1ZhbHVlU2V0SUR9ICk7CgogICAgIyBhc2sgZGF0YWJhc2UKICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgIFNRTCAgID0+ICRTUUwsCiAgICAgICAgQmluZCAgPT4gXEBCSU5ELAogICAgKTsKCiAgICAjIGZldGNoIHRoZSByZXN1bHQKICAgIG15ICREYXRhOwogICAgbXkgJEZpZWxkOwogICAgd2hpbGUgKCBteSBAUm93ID0gJFNlbGYtPntEQk9iamVjdH0tPkZldGNocm93QXJyYXkoKSApIHsKICAgICAgICBteSAkRCA9ICRSb3dbNF0gPyAkUm93WzRdIDogJFJvd1s1XSA/ICRSb3dbNV0gOiAkUm93WzZdID8gJFJvd1s2XSA6ICRSb3dbN10gPyAkUm93WzddIDogJFJvd1s4XSA/ICRSb3dbOF0gOiAnJzsKICAgICAgICAkRGF0YS0+eyRSb3dbMV19ID0gJEQ7CiAgICB9CgogICAgIyBjYWNoZSB0aGUgcmVzdWx0CiAgICAkU2VsZi0+e0NhY2hlfS0+e1ZhbHVlU2V0R2V0fS0+e1ZhbHVlU2V0SUR9LT57ICRQYXJhbXtWYWx1ZVNldElEfSB9ID0gJERhdGE7CgogICAgcmV0dXJuICREYXRhOwp9Cgo9aXRlbSBWYWx1ZVNldEdldEZpZWxkVHJlZUlEKCkKR2V0IEZpZWxkVHJlZSBicmFuY2ggZGVwZW5kaW5nIHRvIFZhbHVlU2V0SUQKClJldHVybgoKICAgIG15ICRWYWx1ZVNldERhdGEgPSAkRmllbGRUcmVlT2JqZWN0LT5WYWx1ZVNldEdldEZpZWxkVHJlZUlEKAogICAgICAgIFZhbHVlU2V0SUQgID0+IDMsCiAgICApOwoKPWN1dAoKc3ViIFZhbHVlU2V0R2V0RmllbGRUcmVlSUQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgaWYgKCAhJFBhcmFte1ZhbHVlU2V0SUR9KSAgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlICA9PiAnTmVlZCBWYWx1ZVNldElEIScKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgaWYgKGV4aXN0cyAkU2VsZi0+e0NhY2hlfS0+e1ZhbHVlU2V0R2V0RmllbGRUcmVlSUR9LT57RmllbGRUcmVlfS0+eyAkUGFyYW17VmFsdWVTZXRJRH0gfSkgewogICAgCXJldHVybiAgJFNlbGYtPntDYWNoZX0tPntWYWx1ZVNldEdldEZpZWxkVHJlZUlEfS0+e0ZpZWxkVHJlZX0tPnsgJFBhcmFte1ZhbHVlU2V0SUR9IH07CiAgICB9CgoKICAgICMgY3JlYXRlIHNxbCBzdHJpbmcKICAgIG15ICRTUUwgPSAnU0VMRUNUIGZpZWxkX3RyZWVfaWQgRlJPTSBmaWVsZF90cmVlX3ZhbHVlICBXSEVSRSB2YWx1ZV9zZXRfaWQgPSA/JzsKICAgIG15IEBCSU5EID0gKCBcJFBhcmFte1ZhbHVlU2V0SUR9ICk7CgogICAgIyBhc2sgZGF0YWJhc2UKICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgIFNRTCAgID0+ICRTUUwsCiAgICAgICAgQmluZCAgPT4gXEBCSU5ELAogICAgICAgIExpbWl0ID0+IDEsCiAgICApOwoKICAgICMgZmV0Y2ggdGhlIHJlc3VsdAogICAgbXkgJERhdGE7CiAgICBteSAkRmllbGQ7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewoJICAgICRTZWxmLT57Q2FjaGV9LT57VmFsdWVTZXRHZXRGaWVsZFRyZWVJRH0tPntGaWVsZFRyZWVJRH0tPnsgJFBhcmFte1ZhbHVlU2V0SUR9IH0gPSAkUm93WzBdOwogICAgICAgICREYXRhID0gJFJvd1swXTsKICAgIH0KCiAgICAjIGNhY2hlIHRoZSByZXN1bHQKCiAgICByZXR1cm4gJERhdGE7Cn0KCj1pdGVtIFRyZWVWYWx1ZVNldEFkZCgpCnVwZGF0ZSBhIHZhbHVlc2V0IGZvciBhIGZpZWxkIGxpc3QKClJldHVybgoKICAgIG15ICRWYWx1ZVNldElEID0gJEZpZWxkVHJlZU9iamVjdC0+VHJlZVZhbHVlU2V0QWRkKAogICAgICAgIERhdGEgPT4gJXJlZgogICAgKTsKCj1jdXQKc3ViIFRyZWVWYWx1ZVNldEFkZCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhEYXRhKSkgewogICAgICAgIGlmICggISRQYXJhbXskQXJndW1lbnR9ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiTmVlZCAkQXJndW1lbnQhIiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIAogICAgJFNlbGYtPntEQk9iamVjdH0tPkRvKFNRTCA9PiAnSU5TRVJUIElOVE8gZmllbGRfdHJlZV92YWx1ZV9zZXRzIFZBTFVFUyAoKScpOwogICAgIyBnZXQgaW5zZXJ0ZWQgSUQKICAgIG15ICRpZCA9ICRTZWxmLT57REJPYmplY3R9LT57ZGJofS0+bGFzdF9pbnNlcnRfaWQodW5kZWYsIHVuZGVmLCB1bmRlZiwgdW5kZWYpOwogICAgCiAgICAjIEVQSUMgRkFJTCAhCiAgICAjJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCgkjICAgU1FMICAgPT4gJ1NFTEVDVCBNQVgodmFsdWVfc2V0X2lkKSBGUk9NIGZpZWxkX3RyZWVfdmFsdWUgV0hFUkUgMSAnLAoJIyk7CiAgICAjbXkgJGlkOwogICAgI3doaWxlICggbXkgQFJvdyA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAjICAgICAgJGlkPSAkUm93WzBdOwogICAgI30KICAgICMkaWQrKzsKICAgIAogICAgbXkgJERhdGEgPSAkUGFyYW17RGF0YX07CiAgICBteSAkQnJhbmNoTGlzdCA9ICRTZWxmLT5JdGVtTGlzdCgKICAgIAlDbGFzcyA9PiAkUGFyYW17Q2xhc3N9LAogICAgKTsKICAgCW15ICRGaWVsZERCVHlwZXMgPSAkU2VsZi0+RmllbGRUeXBlREJUeXBlcygpOwogICAJbXkgJEhpc3RvcnlOYW1lID0gJyc7CiAgIAkkU2VsZi0+e0RCT2JqZWN0fS0+RG8oCgkJICAgICAgICBTUUwgPT4gJ0lOU0VSVCBJTlRPIGZpZWxkX3RyZWVfdmFsdWUgKCcuCgkJICAgICAgICAJCQknIHZhbHVlX3NldF9pZCkgVkFMVUVTICg/KScsCgkJICAgICAgICBCaW5kID0+IFsKCQkgICAgICAgICAgICBcJGlkLCAKCQkgICAgICAgIF0pOwoKICAgIGZvcmVhY2ggbXkgJEZpZWxkVHJlZUlEICggc29ydCBrZXlzICV7JEJyYW5jaExpc3R9KSB7CiAgICAJbXkgJEZpZWxkREJUeXBlID0gJ2ludCc7CiAgICAJaWYgKCREYXRhLT57JEZpZWxkVHJlZUlEfSkgewoJICAgIAkkU2VsZi0+e0RCT2JqZWN0fS0+RG8oCgkJICAgICAgICBTUUwgPT4gJ0lOU0VSVCBJTlRPIGZpZWxkX3RyZWVfdmFsdWUgKGZpZWxkX3RyZWVfaWQsICcuCgkJICAgICAgICAJCQknIHZhbHVlX3NldF9pZCwgdmFsdWVfJy4kRmllbGREQlR5cGUuJykgVkFMVUVTICg/LCA/LCAxKScsCgkJICAgICAgICBCaW5kID0+IFsKCQkgICAgICAgICAgICBcJEZpZWxkVHJlZUlELCAKCQkgICAgICAgICAgICBcJGlkLCAKCQkgICAgICAgIF0pOwoJCSAgIAkkSGlzdG9yeU5hbWUgLj0gJEZpZWxkVHJlZUlELicsJzsKCQl9CiAgICB9CgoJbXkgQEhpc3RvcnlMaW5lcz0gKCJcJVwlUHJvYmxlbSBTb3VyY2VcJVwlJEhpc3RvcnlOYW1lIik7CgogICAgIyBmaW5kIGV4aXN0aW5nIGl0ZW0gd2l0aCBzYW1lIG5hbWUKCglteSAkUmVzdWx0ID0gewoJIAlIaXN0b3J5TGluZXMgPT4gXEBIaXN0b3J5TGluZXMsCgkgCVZhbHVlU2V0SUQgPT4gJGlkLAoJfTsKCiAgICAjIHJlc2V0IGNhY2hlCiAgICBkZWxldGUgJFNlbGYtPntDYWNoZX0tPntWYWx1ZVNldExpc3R9OwogICAgCglyZXR1cm4gJFJlc3VsdDsKfQoKCj1pdGVtIFRyZWVWYWx1ZVNldEZyb21QT1NUKCkKcHJvY2VzcyBQT1NUIGFuZCBkbyBzb21ldGhpbmcgKHVwZGF0ZSBvciBjcmVhdGUpCnJldHVybnMgbmV3L29sZCBWYWx1ZVNldElECgpSZXR1cm4KCiAgICBteSAkVmFsdWVTZXRJRCA9ICRGaWVsZFRyZWVPYmplY3QtPlZhbHVlU2V0VXBkYXRlKAogICAgICAgIFBhcmFtID0+ICVQYXJhbSwKICAgICk7Cgo9Y3V0CgpzdWIgVHJlZVZhbHVlU2V0RnJvbVBPU1QgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhWYWx1ZVNldElEIFByZWZpeCBDbGFzcykpIHsKICAgICAgICBpZiAoICEkUGFyYW17JEFyZ3VtZW50fSApIHsKICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIlRyZWVWYWx1ZVNldEZyb21QT1NUOiBOZWVkICRBcmd1bWVudCEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKCW15ICRJdGVtTGlzdCA9ICRTZWxmLT5JdGVtTGlzdCgKICAgICAgICAgICAgICAgQ2xhc3MgPT4gJFBhcmFte0NsYXNzfSwKICAgICAgICAgICAgICAgVmFsaWQgPT4gMSwKICAgICAgICAgICApOwoKCW15ICREYXRhOyAjIFBvcHVsYXRlIGRhdGEgZnJvbSBwcm92aWRlZCBwYXJhbTsKCW15ICRGaWVsZFRyZWVMb2FkZWQgPSAwOwoJZm9yIG15ICRJdGVtSUQgKCBzb3J0IHsgJEl0ZW1MaXN0LT57JGF9IGNtcCAkSXRlbUxpc3QtPnskYn0gfSBrZXlzICV7JEl0ZW1MaXN0fSApIHsKCQkJJERhdGEtPnskSXRlbUlEfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJFBhcmFte1ByZWZpeH0uJEl0ZW1JRCApOwoJCQlpZiAoZGVmaW5lZCAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICRQYXJhbXtQcmVmaXh9LiRJdGVtSUQgKSkgewkJCQoJCQkJJEZpZWxkVHJlZUxvYWRlZCA9IDE7CgkJCX0KCQl9CgogICAgICMgc2F2ZSB0byBkYXRhYmFzZQogICAgIG15ICRSZXN1bHQ7CiAgICAgaWYgKCRGaWVsZFRyZWVMb2FkZWQgfHwgJFBhcmFte1ZhbHVlU2V0SUR9IGVxICdORVcnICkgeyAjIHNhdmUgL21vZGlmeSBvbmx5IGlmIHRoZSB0cmVlIHdhcyBsb2FkZWQKCSAgICAgaWYgKCAkUGFyYW17VmFsdWVTZXRJRH0gZXEgJ05FVycgKSB7CgkgICAgICAgICAkUmVzdWx0ID0gJFNlbGYtPlRyZWVWYWx1ZVNldEFkZCgKCSAgICAgICAgICAgICBEYXRhID0+ICREYXRhLAoJICAgICAgICAgKTsKCSAgICAgfQoJICAgICBlbHNlIHsKCSAgICAgICAgJFJlc3VsdCA9ICRTZWxmLT5UcmVlVmFsdWVTZXRVcGRhdGUoCgkgICAgICAgICAgRGF0YSA9PiAkRGF0YSwKCSAgICAgICAgICBWYWx1ZVNldElEID0+ICRQYXJhbXtWYWx1ZVNldElEfSwKCSAgICAgICAgKTsKCSAgICAgfQogICAgfQogICAgZWxzZSB7CiAgICAJICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJUcmVlVmFsdWVTZXRGcm9tUE9TVDogVHJlZSB3YXMgbm90IGxvYWRlZCEiLAogICAgICAgICAgICApOwogICAgfQoJcmV0dXJuICRSZXN1bHQ7Cn0KCgo9aXRlbSBUcmVlVmFsdWVTZXRVcGRhdGUoKQp1cGRhdGUgYSB2YWx1ZXNldCBmb3IgYSBmaWVsZCBsaXN0CgpSZXR1cm4KCiAgICBteSAkU3VjY2VzcyA9ICRGaWVsZFRyZWVPYmplY3QtPlZhbHVlU2V0VXBkYXRlKAogICAgICAgIFZhbHVlU2V0SUQgPT4gMTUsCiAgICAgICAgRGF0YSA9PiAlcmVmCiAgICApOwoKPWN1dApzdWIgVHJlZVZhbHVlU2V0VXBkYXRlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KFZhbHVlU2V0SUQgRGF0YSkpIHsKICAgICAgICBpZiAoICEkUGFyYW17JEFyZ3VtZW50fSApIHsKICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJEFyZ3VtZW50ISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CiAgICBteSAkQ3VycmVudE1heElEID0gJFBhcmFte1ZhbHVlU2V0SUR9OwogICAgbXkgJERhdGEgPSAkUGFyYW17RGF0YX07CiAgIAlteSAkRmllbGREQlR5cGVzID0gJFNlbGYtPkZpZWxkVHlwZURCVHlwZXMoKTsKICAgCW15IEBIaXN0b3J5TGluZXM9ICgpOwogICAgCiAgIAlteSAkSGlzdG9yeU5hbWUgPSAnJzsKCiAgICBteSAkVmFsdWVTZXQgPSAkU2VsZi0+VHJlZVZhbHVlU2V0R2V0KAogICAgCVZhbHVlU2V0SUQgPT4gJFBhcmFte1ZhbHVlU2V0SUR9LAogICAgKTsKICAgIAogICAgbXkgJENoYW5nZWQgPSAwOwoKICAgIAogICAgZm9yZWFjaCAoIHNvcnQga2V5cyAleyREYXRhfSkgewogICAgCWlmICgoJFZhbHVlU2V0LT57JF99ICYmICEkRGF0YS0+eyRffSkgfHwgKCEkVmFsdWVTZXQtPnskX30gJiYgJERhdGEtPnskX30pICkgewogICAgCQkkQ2hhbmdlZCA9IDE7CiAgICAJfQogICAgfQogICAgZm9yZWFjaCAoIHNvcnQga2V5cyAleyRWYWx1ZVNldH0pIHsKICAgIAlpZiAoKCRWYWx1ZVNldC0+eyRffSAmJiAhJERhdGEtPnskX30pIHx8ICghJFZhbHVlU2V0LT57JF99ICYmICREYXRhLT57JF99KSApIHsKICAgIAkJJENoYW5nZWQgPSAxOwogICAgCX0KICAgIH0KICAgIAogICAgCgoKCWlmICgkQ2hhbmdlZCkgewoJICAgCSRTZWxmLT57REJPYmplY3R9LT5EbygKCQkJICAgICAgICBTUUwgPT4gJ0RFTEVURSBGUk9NIGZpZWxkX3RyZWVfdmFsdWUgV0hFUkUgdmFsdWVfc2V0X2lkID0gPycsCgkJCSAgICAgICAgQmluZCA9PiBbCgkJCSAgICAgICAgICAgIFwkQ3VycmVudE1heElELCAKCQkJICAgICAgICBdKTsKCSAgIAkkU2VsZi0+e0RCT2JqZWN0fS0+RG8oCgkJCSAgICAgICAgU1FMID0+ICdJTlNFUlQgSU5UTyBmaWVsZF90cmVlX3ZhbHVlICgnLgoJCQkgICAgICAgIAkJCScgdmFsdWVfc2V0X2lkKSBWQUxVRVMgKD8pJywKCQkJICAgICAgICBCaW5kID0+IFsKCQkJICAgICAgICAgICAgXCRDdXJyZW50TWF4SUQsIAoJCQkgICAgICAgIF0pOwoJCgkgICAgZm9yZWFjaCBteSAkRmllbGRUcmVlSUQgKCBzb3J0IGtleXMgJXskRGF0YX0pIHsKCSAgICAJbXkgJEZpZWxkREJUeXBlID0gJ2ludCc7CgkgICAgCWlmICgkRGF0YS0+eyRGaWVsZFRyZWVJRH0pIHsKCQkgICAgCSRTZWxmLT57REJPYmplY3R9LT5EbygKCQkJICAgICAgICBTUUwgPT4gJ0lOU0VSVCBJTlRPIGZpZWxkX3RyZWVfdmFsdWUgKGZpZWxkX3RyZWVfaWQsICcuCgkJCSAgICAgICAgCQkJJyB2YWx1ZV9zZXRfaWQsIHZhbHVlXycuJEZpZWxkREJUeXBlLicpIFZBTFVFUyAoPywgPywgMSknLAoJCQkgICAgICAgIEJpbmQgPT4gWwoJCQkgICAgICAgICAgICBcJEZpZWxkVHJlZUlELCAKCQkJICAgICAgICAgICAgXCRDdXJyZW50TWF4SUQsIAoJCQkgICAgICAgIF0pOwoJCQkgICAJJEhpc3RvcnlOYW1lIC49ICRGaWVsZFRyZWVJRC4nLCc7CgkJCX0KCSAgICB9CgkJQEhpc3RvcnlMaW5lcyA9ICgiXCVcJVByb2JsZW0gUmVhc29uXCVcJSRIaXN0b3J5TmFtZSIpOyAgICAgICAgIAoJICAgIGRlbGV0ZSAkU2VsZi0+e0NhY2hlfS0+e1ZhbHVlU2V0R2V0fS0+e1ZhbHVlU2V0SUR9LT57ICRQYXJhbXtWYWx1ZVNldElEfSB9OwoJICAgIGRlbGV0ZSAkU2VsZi0+e0NhY2hlfS0+e1ZhbHVlU2V0TGlzdH07Cgl9CgkJICAgIAoJCglteSAkUmVzdWx0ID0gewoJIAlIaXN0b3J5TGluZXMgPT4gXEBIaXN0b3J5TGluZXMsCgkgCVZhbHVlU2V0SUQgPT4gJEN1cnJlbnRNYXhJRCwKCX07CgogICAgIyBmaW5kIGV4aXN0aW5nIGl0ZW0gd2l0aCBzYW1lIG5hbWUKCgogICAgIyByZXNldCBjYWNoZQogICAgCglyZXR1cm4gJFJlc3VsdDsKfQoKCgo9aXRlbSBUcmVlVmFsdWVTZXREYXRhKCkKdXBkYXRlIGEgdmFsdWVzZXQgZm9yIGEgZmllbGQgbGlzdAoKUmV0dXJuCgogICAgbXkgJFZhbHVlU2V0RGF0YSA9ICRGaWVsZFRyZWVPYmplY3QtPlZhbHVlU2V0QWRkKAogICAgICAgIFZhbHVlU2V0SUQgID0+IDMsCiAgICApOwoKPWN1dAojIERlcHJlY2F0ZWQgb3Igc210aAojc3ViIFJ1bGVzUHJlUHJvY2VzcyB7CiMgICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKIwkKIwojICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiMgICAgZm9yIG15ICRBcmd1bWVudCAocXcoVGlja2V0RGF0YSkpIHsKIyAgICAgICAgaWYgKCAhJFBhcmFteyRBcmd1bWVudH0gKSB7CiMgICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKIyAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAojICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkICRBcmd1bWVudCEiLAojICAgICAgICAgICAgKTsKIyAgICAgICAgICAgIHJldHVybjsKIyAgICAgICAgfQojICAgIH0KIyAgICBteSAkVGlja2V0RGF0YSA9ICRQYXJhbXtUaWNrZXREYXRhfTsKIyAgICAKIyAgICBteSAkUnVsZXMgPSAkU2VsZi0+RmllbGRMaXN0KAojICAgIAlGaWVsZFRyZWVJRCA9PiAkVGlja2V0RGF0YS0+e1Byb2JsZW1UeXBlSUR9LAojICAgIAlWYWxpZCA9PiAxLAojICAgIAlDbGFzcyA9PiAkU2VsZi0+e0NvbmZpZ09iamVjdH0tPkdldCgiRmllbGRUcmVlOjpQcm9ibGVtUmVhc29uQ2xhc3MiKSwKIyAgICApOwojICAgIAojICAgIGZvcmVhY2ggbXkgJFJ1bGVJRCAoIHNvcnQga2V5cyAleyRSdWxlc30pIHsKIyAgICAJbXkgJFJ1bGUgPSAkU2VsZi0+RmllbGRHZXQoCiMgICAgCQlGaWVsZElEID0+JFJ1bGVJRAojICAgIAkpOwojICAgICAgICAjIEFsdGhvdWdoIHdlIHNldCBRdWV1ZUlEIHRocm9naCBKYXZhU2NyaXB0IChmb3IgQUtTUHJvYmxlbVRpY2tldFByb2JsZW0gdmlldyksCiMgICAgICAgICMgdGhpcyBtaWdodCBhbHNvIGJlIHVzZWQgZnJvbSBjcm9uIHNjcmlwdCBmb3IgcHJvY2Vzc2luZyB3ZWJjYXJlIHRpY2tldHMsCiMgICAgICAgICMgc28gd2UgbWFrZSBzdXJlIHRoYXQgd2UgYWx3YXlzIHNldCBjb3JyZWN0IFF1ZXVlSUQgaGVyZSB0b28gICAgCQojICAgIAlpZiAoJFJ1bGUtPntGaWVsZFR5cGV9IGVxICJSdWxlRXNjYWxhdGVUbyIpIHsKIyAgICAJCSRUaWNrZXREYXRhLT57UXVldWVJRH0gPSAkUnVsZS0+e1RlbXBsYXRlfTsKIyAgICAJfQojICAgIAllbHNpZiAoJFJ1bGUtPntGaWVsZFR5cGV9IGVxICJSdWxlU0xBIikgewojICAgIAkJJFRpY2tldERhdGEtPntTTEFJRH0gPSAkUnVsZS0+e1RlbXBsYXRlfTsKIyAgICAJfQojICAgIH0KIyAgICAKIyAgICAKIyAgICByZXR1cm4gJFRpY2tldERhdGE7CiMgICAgCiN9CQoKc3ViIFJ1bGVzUG9zdFByb2Nlc3MgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCQogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KFRpY2tldElEIFVzZXJJRCBWYWx1ZVNldElEKSkgewogICAgICAgIGlmICggISRQYXJhbXskQXJndW1lbnR9ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiTmVlZCAkQXJndW1lbnQhIiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIG15ICRSdWxlczsKICAgICRSdWxlcyA9ICRTZWxmLT5GaWVsZExpc3QoCiAgICAJRmllbGRUcmVlSUQgPT4gJFNlbGYtPlZhbHVlU2V0R2V0RmllbGRUcmVlSUQoIFZhbHVlU2V0SUQgPT4gJFBhcmFte1ZhbHVlU2V0SUR9ICksCiAgICAJVmFsaWQgPT4gMSwKICAgICk7CglteSAkVmFsdWVTZXQgPSAkU2VsZi0+VmFsdWVTZXRHZXQoCgkJVmFsdWVTZXRJRCA9PiAkUGFyYW17VmFsdWVTZXRJRH0sCgkpOwogICAgCiAgICBmb3JlYWNoIG15ICRSdWxlSUQgKCBzb3J0IGtleXMgJXskUnVsZXN9ICkgewogICAgCW15ICRSdWxlID0gJFNlbGYtPkZpZWxkR2V0KAogICAgCQlGaWVsZElEID0+ICRSdWxlSUQKICAgIAkpOwogICAgCQogICAgCSNpbXBsZW1lbnQgYW55IHJ1bGVzIGhlcmUKICAgIAlpZiAoJFJ1bGUtPntGaWVsZFR5cGV9IGVxICdSdWxlUmVkbWluZVByb2plY3RJRCcpIHsKICAgICAgICAKICAgICAgICAgICAgIyBzZXQgUmVkbWluZVByb2plY3RJRCBkeW5hbWljIGZpZWxkIHZhbHVlIHRvIHJ1bGUgdGVtcGxhdGUgdmFsdWUKICAgICAgICAgICAgbXkgJER5bmFtaWNGaWVsZCA9ICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fS0+RHluYW1pY0ZpZWxkR2V0KCBOYW1lID0+ICdSZWRtaW5lUHJvamVjdElEJyApOwogICAgICAgICAgICByZXR1cm4gaWYgISRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9LT5WYWx1ZVNldCgKICAgICAgICAgICAgICAgIEZpZWxkSUQgID0+ICREeW5hbWljRmllbGQtPntJRH0sCiAgICAgICAgICAgICAgICBPYmplY3RJRCA9PiAkUGFyYW17VGlja2V0SUR9LAogICAgICAgICAgICAgICAgVmFsdWUgICAgPT4gWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWVJbnQgPT4gJFJ1bGUtPntUZW1wbGF0ZX0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgVXNlcklEICAgPT4gJFBhcmFte1VzZXJJRH0sCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gMTsgICAgCn0JCgpzdWIgVHJlZVZhbHVlU2V0R2V0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGlmICggISRQYXJhbXtWYWx1ZVNldElEfSApIHsKICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgTWVzc2FnZSAgPT4gJ05lZWQgVmFsdWVTZXRJRCEnLiRQYXJhbXtWYWx1ZVNldElEfQogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICBpZiAoZXhpc3RzICRTZWxmLT57Q2FjaGV9LT57VmFsdWVTZXRHZXR9LT57VmFsdWVTZXRJRH0tPnsgJFBhcmFte1ZhbHVlU2V0SUR9IH0pIHsKICAgIAlyZXR1cm4gICRTZWxmLT57Q2FjaGV9LT57VmFsdWVTZXRHZXR9LT57VmFsdWVTZXRJRH0tPnsgJFBhcmFte1ZhbHVlU2V0SUR9IH07CiAgICB9CgogICAgIyBjcmVhdGUgc3FsIHN0cmluZwogICAgbXkgJFNRTCA9ICdTRUxFQ1QgKiBGUk9NIGZpZWxkX3RyZWVfdmFsdWUgV0hFUkUgdmFsdWVfc2V0X2lkID0gPyBhbmQgZmllbGRfdHJlZV9pZCBJUyBOT1QgTlVMTCc7CiAgICBteSBAQklORCA9ICggXCRQYXJhbXtWYWx1ZVNldElEfSApOwoKICAgICMgYXNrIGRhdGFiYXNlCiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICBTUUwgICA9PiAkU1FMLAogICAgICAgIEJpbmQgID0+IFxAQklORCwKICAgICAgICBMaW1pdCA9PiAxMDBfMDAwXzAwMCwKICAgICk7CgogICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICBteSAkRGF0YTsKICAgIG15ICRGaWVsZDsKICAgIHdoaWxlICggbXkgQFJvdyA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAgICAgbXkgJEQgPSAkUm93WzRdID8gJFJvd1s0XSA6ICRSb3dbNV0gPyAkUm93WzVdIDogJFJvd1s2XSA/ICRSb3dbNl0gOiAkUm93WzddID8gJFJvd1s3XSA6ICcnOwogICAgICAgICREYXRhLT57JFJvd1syXX0gPSAkRDsKICAgIH0KCiAgICAjIGNhY2hlIHRoZSByZXN1bHQKICAgICRTZWxmLT57Q2FjaGV9LT57VmFsdWVTZXRHZXR9LT57VmFsdWVTZXRJRH0tPnsgJFBhcmFte1ZhbHVlU2V0SUR9IH0gPSAkRGF0YTsKCiAgICByZXR1cm4gJERhdGE7Cn0KCgpzdWIgT3BlbmVkSXRlbXNMaXN0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CiAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhWYWx1ZVNldElEKSkgewogICAgICAgIGlmICggISRQYXJhbXskQXJndW1lbnR9ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiTmVlZCAkQXJndW1lbnQhIiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIyBjcmVhdGUgc3FsIHN0cmluZwogICAgbXkgJFNRTCA9ICdTRUxFQ1QgRElTVElOQ1QgZmllbGRfdHJlZV9pZCBGUk9NIGZpZWxkX3RyZWVfdmFsdWUgV0hFUkUgdmFsdWVfc2V0X2lkID0gPyc7CiAgICBteSBAQklORCA9ICggXCRQYXJhbXtWYWx1ZVNldElEfSApOwoKICAgICMgYXNrIGRhdGFiYXNlCiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICBTUUwgICA9PiAkU1FMLAogICAgICAgIEJpbmQgID0+IFxAQklORCwKICAgICAgICBMaW1pdCA9PiAxMDBfMDAwXzAwMCwKICAgICk7CgogICAgbXkgQERhdGE7CiAgICBteSAkRGF0YUhyZWY7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgIG15ICRJRCA9ICRSb3dbMF07CiAgICAgICAgaWYgKCRJRCkgewoJICAgICAgICBteSBAcGFyZW50cyA9IEB7JFNlbGYtPkl0ZW1QYXJlbnRzTGlzdCgKCSAgICAgICAgCUl0ZW1JRCA9PiAkSUQsCgkgICAgICAgICl9OwoJICAgICAgICBwdXNoIChARGF0YSwgQHBhcmVudHMpOwoJICAgIH0KICAgIH0KCglmb3IgbXkgJEN5Y2xlSUQgKCBARGF0YSApIHsKCQkkRGF0YUhyZWYtPnskQ3ljbGVJRH0gPSAxOwoJfQoJCglyZXR1cm4gJERhdGFIcmVmOwp9CgpzdWIgVHJlZU9wZW5lZEl0ZW1zTGlzdCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwogCiAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhWYWx1ZVNldElEKSkgewogICAgICAgIGlmICggISRQYXJhbXskQXJndW1lbnR9ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiTmVlZCAkQXJndW1lbnQhIiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIyBjcmVhdGUgc3FsIHN0cmluZwogICAgbXkgJFNRTCA9ICdTRUxFQ1QgRElTVElOQ1QgZmllbGRfdHJlZV9pZCBGUk9NIGZpZWxkX3RyZWVfdmFsdWUgV0hFUkUgdmFsdWVfc2V0X2lkID0gPyBBTkQgdmFsdWVfaW50ID0gMSc7CiAgICBteSBAQklORCA9ICggXCRQYXJhbXtWYWx1ZVNldElEfSApOwoKICAgICMgYXNrIGRhdGFiYXNlCiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICBTUUwgICA9PiAkU1FMLAogICAgICAgIEJpbmQgID0+IFxAQklORCwKICAgICAgICBMaW1pdCA9PiAxMDBfMDAwXzAwMCwKICAgICk7CgogICAgbXkgQERhdGE7CiAgICBteSAkRGF0YUhyZWY7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgIG15ICRJRCA9ICRSb3dbMF07CiAgICAgICAgbXkgQHBhcmVudHMgPSBAeyRTZWxmLT5JdGVtUGFyZW50c0xpc3QoCiAgICAgICAgCUl0ZW1JRCA9PiAkSUQsCiAgICAgICAgKX07CiAgICAgICAgcHVzaCAoQERhdGEsIEBwYXJlbnRzKTsKICAgIH0KCglmb3IgbXkgJEN5Y2xlSUQgKCBARGF0YSApIHsKCQkkRGF0YUhyZWYtPnskQ3ljbGVJRH0gPSAxOwoJfQoJCglyZXR1cm4gJERhdGFIcmVmOwp9CgpzdWIgSXRlbVBhcmVudHNMaXN0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CglteSBAZGF0ID0gKCk7CiAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhJdGVtSUQpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyRBcmd1bWVudH0gKSB7CiAgICAgICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkICRBcmd1bWVudCEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgbXkgJEl0ZW1JRCA9ICRQYXJhbXtJdGVtSUR9OwoJbXkgJEl0ZW0gPSAkU2VsZi0+SXRlbUdldCgKCQlJdGVtSUQgPT4gJEl0ZW1JRCwKCSk7CglpZiAoJEl0ZW0tPntQYXJlbnRJRH0gPiAwKSB7CgkgICAgQGRhdCA9IEB7JFNlbGYtPkl0ZW1QYXJlbnRzTGlzdCgKCSAgICAJSXRlbUlEID0+ICRJdGVtLT57UGFyZW50SUR9LAoJICAgICl9OwoJfQogICAKIAlwdXNoIEBkYXQsICRJdGVtSUQ7CiAJcmV0dXJuIFxAZGF0Owp9CgpzdWIgSlNPTiB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhDbGFzcyBJdGVtSUQpKSB7CiAgICAgICAgICAgIGlmICggISRQYXJhbXskQXJndW1lbnR9ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiTmVlZCAkQXJndW1lbnQhIiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIAogICAgJFBhcmFte1Nob3dBbGxDaGVja2JveGVzfSAgPSAkUGFyYW17U2hvd0FsbENoZWNrYm94ZXN9IHx8IDA7CiAgICAKICAgIG15ICRPcGVuZWRJdGVtcyA9IHt9OwoKICAgIGlmIChkZWZpbmVkKCRQYXJhbXtPcGVuZWRJdGVtc30pKSB7CiAgICAJJE9wZW5lZEl0ZW1zID0gJFBhcmFte09wZW5lZEl0ZW1zfTsKICAgIH0KICAgIGVsc2lmIChkZWZpbmVkKCRQYXJhbXtWYWx1ZVNldElEfSkgJiYgJFBhcmFte1ZhbHVlU2V0SUR9IG5lICJORVciKSB7CiAgICAJJE9wZW5lZEl0ZW1zID0gJFNlbGYtPk9wZW5lZEl0ZW1zTGlzdCgKICAgIAkJVmFsdWVTZXRJRCA9PiAkUGFyYW17VmFsdWVTZXRJRH0sCiAgICAJKTsKICAgIAlpZiAoJFBhcmFte0ZpZWxkVHJlZUlEfSl7CiAgICAJCWZvciAoQHskU2VsZi0+SXRlbVBhcmVudHNMaXN0KCBJdGVtSUQgPT4gJFBhcmFte0ZpZWxkVHJlZUlEfSl9KSB7CgkJICAgIAkkT3BlbmVkSXRlbXMtPnskX30gPSAxOwoJCSAgICB9CiAgICAJfQogICAgfQoKCW15IEBJdGVtc09uID0gJFNlbGYtPl9KU09OSW50ZXJuYWwoCSVQYXJhbSApOwoJJFNlbGYtPl9UcmVlV2Fsa2VyKAoJCUl0ZW1zID0+IFxASXRlbXNPbiwKCQlPcGVuZWRJdGVtcyA9PiAkT3BlbmVkSXRlbXMsCgkJU2hvd0FsbENoZWNrYm94ZXMgPT4gJFBhcmFte1Nob3dBbGxDaGVja2JveGVzfSwJCQkKCSk7CgkKCXJldHVybiAgQEl0ZW1zT247Cn0KCgojRnVuY3Rpb24gdG8gZ2VuZXJhdGUgSlNPTiBvdXRwdXQgZm9yIGNoZWNoYm94LW9ubHkgdHJlZQpzdWIgVHJlZUpTT04gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgZm9yIG15ICRBcmd1bWVudCAocXcoQ2xhc3MgSXRlbUlEKSkgewogICAgICAgIGlmICggISRQYXJhbXskQXJndW1lbnR9ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiTmVlZCAkQXJndW1lbnQhIiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIG15ICRWYWx1ZVNldDsKICAgIGlmIChkZWZpbmVkKCRQYXJhbXtWYWx1ZVNldH0pKSB7CiAgICAJJFZhbHVlU2V0ID0gJFBhcmFte1ZhbHVlU2V0fTsKICAgIH0KICAgIGlmIChkZWZpbmVkKCRQYXJhbXtWYWx1ZVNldElEfSkpIHsKCiAgIAkJCiAgIAkJJFZhbHVlU2V0ID0gJFNlbGYtPlRyZWVWYWx1ZVNldEdldCgKICAgCQkJVmFsdWVTZXRJRCA9PiAkUGFyYW17VmFsdWVTZXRJRH0KICAgCQkpOwoKICAgIH0KICAgIAogICAgbXkgJE9wZW5lZEl0ZW1zOwogICAgaWYgKGRlZmluZWQoJFBhcmFte09wZW5lZEl0ZW1zfSkpIHsKICAgIAkkT3BlbmVkSXRlbXMgPSAkUGFyYW17T3BlbmVkSXRlbXN9OwogICAgfQogICAgZWxzZSB7CiAgICAJJE9wZW5lZEl0ZW1zID0gJFNlbGYtPlRyZWVPcGVuZWRJdGVtc0xpc3QoCiAgICAJCVZhbHVlU2V0SUQgPT4gJFBhcmFte1ZhbHVlU2V0SUR9LAogICAgCSk7CiAgICB9CgoJbXkgQEl0ZW1zT24gPSAkU2VsZi0+X0pTT05JbnRlcm5hbCgJJVBhcmFtICk7CgkkU2VsZi0+X1RyZWVXYWxrZXIoCgkJSXRlbXMgPT4gXEBJdGVtc09uLAoJCU9wZW5lZEl0ZW1zID0+ICRPcGVuZWRJdGVtcywKCQlWYWx1ZVNldCA9PiAkVmFsdWVTZXQsIAoJCVNob3dBbGxDaGVja2JveGVzID0+IDEsCQkJCgkpOwoJCglyZXR1cm4gIEBJdGVtc09uOwp9CgoKIyBSZWN1cnNpdmUgdHJlZSB3YWxrZXIsIHRoYXQgd2Fsa3MgdGhyb3VnaCBjYWNoZWQgcmVjdXJzaXZlIGFycmF5IG9mIGhhc2hlcwpzdWIgX1RyZWVXYWxrZXIgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCWZvcmVhY2ggKEB7JFBhcmFte0l0ZW1zfX0pIHsKCQkkXy0+e29wZW59ID0gJFBhcmFte09wZW5lZEl0ZW1zfS0+eyRfLT57aWR9fSA/ICJ0cnVlIiA6ICIiOwoJCSRfLT57Y2hlY2tib3h9ID0gKCgkXy0+e2NhbmhhdmVjaGlsZHJlbn0pICYmICEkUGFyYW17U2hvd0FsbENoZWNrYm94ZXN9KSAgPyAiIiA6ICJ0cnVlIjsKCQlpZiAoJFBhcmFte1ZhbHVlU2V0fSkgewogICAJCQkkXy0+e2NoZWNrfSA9ICRQYXJhbXtWYWx1ZVNldH0tPnskXy0+e2lkfX0gPyAiMSIgOiAiMCI7CgkJfQoJCSRTZWxmLT5fVHJlZVdhbGtlcigKCQkJSXRlbXMgPT4gJF8tPntpdGVtc30sCgkJCVZhbHVlU2V0ID0+ICRQYXJhbXtWYWx1ZVNldH0sCgkJCU9wZW5lZEl0ZW1zID0+ICRQYXJhbXtPcGVuZWRJdGVtc30sCgkJCVNob3dBbGxDaGVja2JveGVzID0+ICRQYXJhbXtTaG93QWxsQ2hlY2tib3hlc30sCQkJCgkJKTsKCX0KfQoKCiMgSW50ZXJuYWwgZnVjdGlvbiAgdG8gcmV0cmlldmUgcmVjdXJzaXZlIHRyZWUgd2l0aCBjYWNoaW5nIGFiaWxpdGllcwpzdWIgX0pTT05JbnRlcm5hbCB7IAogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgZm9yIG15ICRBcmd1bWVudCAocXcoQ2xhc3MgSXRlbUlEKSkgewogICAgICAgICAgICBpZiAoICEkUGFyYW17JEFyZ3VtZW50fSApIHsKICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJEFyZ3VtZW50ISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogIAlteSAkUmVzdWx0OwogICAgaWYgKCRTZWxmLT57Q2FjaGVPYmplY3R9ICAmJiAhZGVmaW5lZCgkUGFyYW17RG9Ob3RDYWNoZX0pKSB7CiAgICAJJFJlc3VsdCA9ICRTZWxmLT57Q2FjaGVPYmplY3R9LT5HZXQoCiAgICAJCVR5cGUJPT4gJ0ZpZWxkVHJlZScsCgkJCUtleSA9PiAiSlNPTl8kUGFyYW17SXRlbUlEfV8kUGFyYW17Q2xhc3N9IiwKICAgIAkpOwogICAgfQogICAgaWYgKCRSZXN1bHQpIHsKICAgIAlyZXR1cm4gQHskUmVzdWx0fTsKICAgIH0KCiAgICAKICAgIG15ICRJdGVtSUQgPSAkUGFyYW17SXRlbUlEfTsKICAgIG15ICRDbGFzcyA9ICRQYXJhbXtDbGFzc307CgogICAJbXkgJEl0ZW0gPSAkU2VsZi0+SXRlbUdldCgKICAgICAgICBJdGVtSUQgPT4gJEl0ZW1JRCwKICAgICk7CglteSAkSXRlbUlETGlzdDsKCSRJdGVtSURMaXN0ICA9ICRTZWxmLT5JdGVtTGlzdCgKCSAgICBWYWxpZCA9PiAxLAoJICAgIENsYXNzID0+ICRDbGFzcywKCQlQYXJlbnRJRD0+ICRJdGVtSUQsCgkpOwoKCW15ICRJdGVtSURMaXN0U29ydGVkICA9ICRTZWxmLT5JdGVtTGlzdFNvcnRlZCgKCSAgICBWYWxpZCA9PiAxLAoJICAgIENsYXNzID0+ICRDbGFzcywKCQlQYXJlbnRJRD0+ICRJdGVtSUQsCgkpOwogICAgCglteSBASXRlbXNPbiA9ICgpOwoJZm9yIG15ICRDeWNsZUlEIChAeyRJdGVtSURMaXN0U29ydGVkfSkgewoJCQkKCQlteSBAQ2hpbGRzT24gPSAkU2VsZi0+X0pTT05JbnRlcm5hbCgKCQkJSXRlbUlEID0+ICRDeWNsZUlELAoJCQlDbGFzcyA9PiAkQ2xhc3MsCgkJCURvTm90Q2FjaGUgPT4gMSwgI0RvIG5vdCBjYWNoZSBsb3dlciBoaWVyYXJjaHkKCQkpOwoJCQoJCW15ICRjaGlsZEtleXNDb3VudCA9IEBDaGlsZHNPbjsKCgkJbXkgJEl0ZW1PbiA9ICB7IHR4dCA9PgkkSXRlbUlETGlzdC0+eyRDeWNsZUlEfSwKCSAgICAgICAgCQkJaWQgPT4gJEN5Y2xlSUQsCgkgICAgICAgICAgIAkJCWNhbmhhdmVjaGlsZHJlbiA9PiAkY2hpbGRLZXlzQ291bnQgPiAwID8gInRydWUiIDogIiIsCgkgICAgICAgICAgIAkJCWl0ZW1zID0+IFxAQ2hpbGRzT24sCgkgICAgICAgICAgIAkJCWFjY2VwdGRyb3AgPT4gImZhbHNlIiwKCSAgICAJCX07CgkJcHVzaCBASXRlbXNPbiwgJEl0ZW1PbjsKCX0KCiAgICBpZiAoJFNlbGYtPntDYWNoZU9iamVjdH0gJiYgIWRlZmluZWQoJFBhcmFte0RvTm90Q2FjaGV9KSkgewogICAgCSRTZWxmLT57Q2FjaGVPYmplY3R9LT5TZXQoCiAgICAJCVR5cGUgID0+ICdGaWVsZFRyZWUnLAoJCQlLZXkgICA9PiAiSlNPTl8kUGFyYW17SXRlbUlEfV8kUGFyYW17Q2xhc3N9IiwKCQkJVmFsdWUgPT4gXEBJdGVtc09uLAoJCQlUVEwgICA9PiAkU2VsZi0+e1RUTH0sCiAgICAJKTsKICAgIH0KICAgIAogICAgcmV0dXJuIEBJdGVtc09uOwp9CiAgICAKCgoKc3ViIEZpZWxkVHlwZXMgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKICAgIAoKICAgIG15ICVGaWVsZFR5cGVzID0gKAogICAgICAgIEluZm9ybWF0aW9uID0+ICdJbmZvcm1hdGlvbiBmaWVsZCcsCiAgICAgICAgVGV4dCA9PiAnVGV4dCBmaWVsZCcsCiAgICAgICAgUGhvbmUgPT4gJ1Bob25lIGZpZWxkJywKICAgICAgICBNb25leSA9PiAnTW9uZXkgZmllbGQnLAogICAgICAgIEludGVnZXIgPT4gJ0ludGVnZXIgZmllbGQnLAogICAgICAgIERvdWJsZSA9PiAnRG91YmxlIGZpZWxkJywKICAgICAgICBCb29sZWFuID0+ICdCb29sZWFuJywKICAgICAgICBNdWx0aVRleHQgPT4gJ011bHRpIHRleHQgZmllbGQnLAogICAgICAgIFNlbGVjdCA9PiAnU2VsZWN0IGZyb20gb3B0aW9ucycsCiAgICAgICAgRGF0ZVRpbWUgPT4gJ0RhdGUgYW5kIHRpbWUnLAogICAgICAgIEVNYWlsID0+ICdFLW1haWwnLAojICAgICAgICBVc2VySW5mb0ZldGNoZXIgPT4gJ1VzZXIgaW5mbyBmZXRjaGVyJywKIyAgICAgICAgUnVsZUVzY2FsYXRlVG8gPT4gJ1J1bGUgLSBlc2NhbGF0ZSB0bycsCiMgICAgICAgIFJ1bGVTTEEgID0+ICdSdWxlIC0gc2V0IFNMQScsCiAgICAgICAgUnVsZVJlZG1pbmVQcm9qZWN0SUQgPT4gJ1J1bGUgLSBzZXQgUmVkbWluZSBQcm9qZWN0IElEJywKICAgICk7CiAgICByZXR1cm4gXCVGaWVsZFR5cGVzOwp9CgpzdWIgRmllbGRUeXBlREJUeXBlcyB7CiAgICBteSAkU2VsZiA9IHNoaWZ0OwoKICAgIG15ICVGaWVsZFR5cGVzID0gKAogICAgICAgIEluZm9ybWF0aW9uID0+ICdub25lJywKICAgICAgICBUZXh0ID0+ICdjaGFyJywKICAgICAgICBQaG9uZSA9PiAnY2hhcicsCiAgICAgICAgTW9uZXkgPT4gJ2NoYXInLAogICAgICAgIEludGVnZXIgPT4gJ2ludCcsCiAgICAgICAgRG91YmxlID0+ICdkb3VibGUnLAogICAgICAgIEJvb2xlYW4gPT4gJ2ludCcsCiAgICAgICAgTXVsdGlUZXh0ID0+ICd0ZXh0JywKICAgICAgICBEYXRlVGltZSA9PiAnZGF0ZXRpbWUnLAogICAgICAgIEVNYWlsID0+ICd0ZXh0JywKICAgICAgICBTZWxlY3QgPT4gJ3RleHQnLAogIyAgICAgICBSdWxlRXNjYWxhdGVUbyA9PiAnbm9uZScsCiAjICAgICAgIFJ1bGVTTEEgID0+ICdub25lJywKICAgICAgICBSdWxlUmVkbWluZVByb2plY3RJRCA9PiAnaW50JywKICAgICk7CiAgICByZXR1cm4gXCVGaWVsZFR5cGVzOwp9CgpzdWIgQ2hpbGRJdGVtTGlzdCB7CgogICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEFyZ3VtZW50IChxdyhJdGVtSUQpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyRBcmd1bWVudH0gKSB7CiAgICAgICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkICRBcmd1bWVudCEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgCiAgICAKICAgIG15ICRJdGVtSUQgPSAkUGFyYW17SXRlbUlEfTsKICAgIG15IEBJRHMgPSAoJEl0ZW1JRCswKTsKICAgIG15ICRDaGlsZElEczsKICAgIAogICAgbXkgJENoaWxkcyA9ICRTZWxmLT5JdGVtTGlzdCgKICAgIAlQYXJlbnRJRCA9PiAkSXRlbUlELAogICAgCUNsYXNzID0+ICRQYXJhbXtDbGFzc30sCiAgICApOwoKICAgIGZvcmVhY2ggbXkgJENoaWxkSUQgKCBzb3J0IGtleXMgJXskQ2hpbGRzfSkgewogICAgCSRDaGlsZElEcyA9ICRTZWxmLT5DaGlsZEl0ZW1MaXN0KAoJCQlJdGVtSUQgPT4gJENoaWxkSUQrMCwKCQkJQ2xhc3MgPT4gJFBhcmFte0NsYXNzfSwKCQkpOwoJCXB1c2ggKEBJRHMsIEB7JENoaWxkSURzfSk7Cgl9CglyZXR1cm4gXEBJRHM7Cn0KCgpzdWIgX1JlcGxhY2UgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCWRpZSgiRGlzYWJsZWQgZHVlIHRvIFRpY2tldE9iamVjdCBhbmQgVXNlck9iamVjdCIpOwogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGZvciBteSAkQXJndW1lbnQgKHF3KFRpY2tldElEIFRlbXBsYXRlIFVzZXJJRCkpIHsKICAgICAgICBpZiAoICEkUGFyYW17JEFyZ3VtZW50fSApIHsKICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJEFyZ3VtZW50ISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CiAgICAKICAgIG15ICRUZXh0ID0gJFBhcmFte1RlbXBsYXRlfTsKCgogICAgbXkgJFN0YXJ0ID0gJzwnOwogICAgbXkgJEVuZCAgID0gJz4nOwogICAgaWYgKCAkUGFyYW17UmljaFRleHR9ICkgewogICAgICAgICRTdGFydCA9ICcmbHQ7JzsKICAgICAgICAkRW5kICAgPSAnJmd0Oyc7CiAgICAgICAgJFRleHQgPX4gcy8oXG58XHIpLy9nOwogICAgfQoKICAgIG15ICVUaWNrZXQ7CiAgICBpZiAoICRQYXJhbXtUaWNrZXRJRH0gKSB7CiAgICAgICAgJVRpY2tldCA9ICRTZWxmLT57VGlja2V0T2JqZWN0fS0+VGlja2V0R2V0KCBUaWNrZXRJRCA9PiAkUGFyYW17VGlja2V0SUR9ICk7CiAgICB9CgogICAgIyByZXBsYWNlIGNvbmZpZyBvcHRpb25zCiAgICBteSAkVGFnID0gJFN0YXJ0IC4gJ09UUlNfQ09ORklHXyc7CiAgICAkVGV4dCA9fiBzeyRUYWcoLis/KSRFbmR9eyRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KCQxKX1lZ3g7CgogICAgIyBjbGVhbnVwCiAgICAkVGV4dCA9fiBzLyRUYWcuKz8kRW5kLy0vZ2k7CgoKICAgICRUYWcgPSAkU3RhcnQgLiAnT1RSU19PV05FUl8nOwogICAgaWYgKCAkVGlja2V0e093bmVySUR9ICkgewogICAgICAgIG15ICVPd25lciA9ICRTZWxmLT57VXNlck9iamVjdH0tPkdldFVzZXJEYXRhKAogICAgICAgICAgICBVc2VySUQgPT4gJFRpY2tldHtPd25lcklEfSwKICAgICAgICApOwoKICAgICAgICAjIGh0bWwgcXVvdGVpbmcgb2YgY29udGVudAogICAgICAgIGlmICggJFBhcmFte1JpY2hUZXh0fSApIHsKICAgICAgICAgICAgZm9yICgga2V5cyAlT3duZXIgKSB7CiAgICAgICAgICAgICAgICBuZXh0IGlmICEkT3duZXJ7JF99OwogICAgICAgICAgICAgICAgJE93bmVyeyRffSA9ICRTZWxmLT57SFRNTFV0aWxzT2JqZWN0fS0+VG9IVE1MKAogICAgICAgICAgICAgICAgICAgIFN0cmluZyA9PiAkT3duZXJ7JF99LAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgIyByZXBsYWNlIGl0CiAgICAgICAgZm9yICgga2V5cyAlT3duZXIgKSB7CiAgICAgICAgICAgIG5leHQgaWYgIWRlZmluZWQgJE93bmVyeyRffTsKICAgICAgICAgICAgJFRleHQgPX4gcy8kVGFnJF8kRW5kLyRPd25lcnskX30vZ2k7CiAgICAgICAgfQogICAgfQoKICAgICMgY2xlYW51cAogICAgJFBhcmFte1RleHR9ID1+IHMvJFRhZy4rPyRFbmQvLS9naTsKCiAgICAjIGdldCBvd25lciBkYXRhIGFuZCByZXBsYWNlIGl0IHdpdGggPE9UUlNfUkVTUE9OU0lCTEVfLi4uCiAgICAkVGFnID0gJFN0YXJ0IC4gJ09UUlNfUkVTUE9OU0lCTEVfJzsKICAgIGlmICggJFRpY2tldHtSZXNwb25zaWJsZUlEfSApIHsKICAgICAgICBteSAlUmVzcG9uc2libGUgPSAkU2VsZi0+e1VzZXJPYmplY3R9LT5HZXRVc2VyRGF0YSgKICAgICAgICAgICAgVXNlcklEID0+ICRUaWNrZXR7UmVzcG9uc2libGVJRH0sCiAgICAgICAgKTsKCiAgICAgICAgIyBodG1sIHF1b3RlaW5nIG9mIGNvbnRlbnQKICAgICAgICBpZiAoICRQYXJhbXtSaWNoVGV4dH0gKSB7CiAgICAgICAgICAgIGZvciAoIGtleXMgJVJlc3BvbnNpYmxlICkgewogICAgICAgICAgICAgICAgbmV4dCBpZiAhJFJlc3BvbnNpYmxleyRffTsKICAgICAgICAgICAgICAgICRSZXNwb25zaWJsZXskX30gPSAkU2VsZi0+e0hUTUxVdGlsc09iamVjdH0tPlRvSFRNTCgKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgPT4gJFJlc3BvbnNpYmxleyRffSwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICMgcmVwbGFjZSBpdAogICAgICAgIGZvciAoIGtleXMgJVJlc3BvbnNpYmxlICkgewogICAgICAgICAgICBuZXh0IGlmICFkZWZpbmVkICRSZXNwb25zaWJsZXskX307CiAgICAgICAgICAgICRUZXh0ID1+IHMvJFRhZyRfJEVuZC8kUmVzcG9uc2libGV7JF99L2dpOwogICAgICAgIH0KICAgIH0KCiAgICAjIGNsZWFudXAKICAgICRUZXh0ID1+IHMvJFRhZy4rPyRFbmQvLS9naTsKCiAgICAkVGFnID0gJFN0YXJ0IC4gJ09UUlNfQWdlbnRfJzsKICAgIG15ICRUYWcyID0gJFN0YXJ0IC4gJ09UUlNfQ1VSUkVOVF8nOwogICAgbXkgJUN1cnJlbnRVc2VyID0gJFNlbGYtPntVc2VyT2JqZWN0fS0+R2V0VXNlckRhdGEoIFVzZXJJRCA9PiAkUGFyYW17VXNlcklEfSApOwoKICAgICMgaHRtbCBxdW90ZWluZyBvZiBjb250ZW50CiAgICBpZiAoICRQYXJhbXtSaWNoVGV4dH0gKSB7CiAgICAgICAgZm9yICgga2V5cyAlQ3VycmVudFVzZXIgKSB7CiAgICAgICAgICAgIG5leHQgaWYgISRDdXJyZW50VXNlcnskX307CiAgICAgICAgICAgICRDdXJyZW50VXNlcnskX30gPSAkU2VsZi0+e0hUTUxVdGlsc09iamVjdH0tPlRvSFRNTCgKICAgICAgICAgICAgICAgIFN0cmluZyA9PiAkQ3VycmVudFVzZXJ7JF99LAogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0KCiAgICAjIHJlcGxhY2UgaXQKICAgIGZvciAoIGtleXMgJUN1cnJlbnRVc2VyICkgewogICAgICAgIG5leHQgaWYgIWRlZmluZWQgJEN1cnJlbnRVc2VyeyRffTsKICAgICAgICAkVGV4dCA9fiBzLyRUYWckXyRFbmQvJEN1cnJlbnRVc2VyeyRffS9naTsKICAgICAgICAkVGV4dCA9fiBzLyRUYWcyJF8kRW5kLyRDdXJyZW50VXNlcnskX30vZ2k7CiAgICB9CgogICAgIyByZXBsYWNlIG90aGVyIG5lZWRlZCBzdHVmZgogICAgJFRleHQgPX4gcy8kU3RhcnQgT1RSU19GSVJTVF9OQU1FICRFbmQvJEN1cnJlbnRVc2Vye1VzZXJGaXJzdG5hbWV9L2d4bXM7CiAgICAkVGV4dCA9fiBzLyRTdGFydCBPVFJTX0xBU1RfTkFNRSAkRW5kLyRDdXJyZW50VXNlcntVc2VyTGFzdG5hbWV9L2d4bXM7CgogICAgIyBjbGVhbnVwCiAgICAkVGV4dCA9fiBzLyRUYWcuKz8kRW5kLy0vZ2k7CiAgICAkVGV4dCA9fiBzLyRUYWcyLis/JEVuZC8tL2dpOwoKICAgICMgdGlja2V0IGRhdGEKICAgICRUYWcgPSAkU3RhcnQgLiAnT1RSU19USUNLRVRfJzsKCiAgICAjIGh0bWwgcXVvdGVpbmcgb2YgY29udGVudAogICAgaWYgKCAkUGFyYW17UmljaFRleHR9ICkgewogICAgICAgIGZvciAoIGtleXMgJVRpY2tldCApIHsKICAgICAgICAgICAgbmV4dCBpZiAhJFRpY2tldHskX307CiAgICAgICAgICAgICRUaWNrZXR7JF99ID0gJFNlbGYtPntIVE1MVXRpbHNPYmplY3R9LT5Ub0hUTUwoCiAgICAgICAgICAgICAgICBTdHJpbmcgPT4gJFRpY2tldHskX30sCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQoKICAgICMgcmVwbGFjZSBpdAogICAgZm9yICgga2V5cyAlVGlja2V0ICkgewogICAgICAgIG5leHQgaWYgIWRlZmluZWQgJFRpY2tldHskX307CiAgICAgICAgJFRleHQgPX4gcy8kVGFnJF8kRW5kLyRUaWNrZXR7JF99L2dpOwogICAgfQoKICAgICMgQ09NUEFUCiAgICAkVGV4dCA9fiBzLyRTdGFydCBPVFJTX1RJQ0tFVF9JRCAkRW5kLyRUaWNrZXR7VGlja2V0SUR9L2dpeG1zOwogICAgJFRleHQgPX4gcy8kU3RhcnQgT1RSU19USUNLRVRfTlVNQkVSICRFbmQvJFRpY2tldHtUaWNrZXROdW1iZXJ9L2dpeG1zOwogICAgJFRleHQgPX4gcy8kU3RhcnQgT1RSU19RVUVVRSAkRW5kLyRUaWNrZXR7UXVldWV9L2dpeG1zOwoKICAgICMgY2xlYW51cAogICAgJFRleHQgPX4gcy8kVGFnLis/JEVuZC8tL2dpOwoKCgoKICAgICMgdGlja2V0IGZpZWxkIHRyZWUgZGF0YQogICAgaWYgKCRQYXJhbXtWYWx1ZVNldH0pIHsKICAgIAlteSAlVmFsdWVTZXQgPSAleyRQYXJhbXtWYWx1ZVNldH19OwoJICAgICRUYWcgPSAkU3RhcnQgLiAnT1RSU19UUkVFXyc7CgkKCSAgICAjIGh0bWwgcXVvdGVpbmcgb2YgY29udGVudAoJICAgIGlmICggJFBhcmFte1JpY2hUZXh0fSApIHsKCSAgICAgICAgZm9yICgga2V5cyAlVmFsdWVTZXQgKSB7CgkgICAgICAgICAgICBuZXh0IGlmICEkVmFsdWVTZXR7JF99OwoJICAgICAgICAgICAgJFZhbHVlU2V0eyRffSA9ICRTZWxmLT57SFRNTFV0aWxzT2JqZWN0fS0+VG9IVE1MKAoJICAgICAgICAgICAgICAgIFN0cmluZyA9PiAkVmFsdWVTZXR7JF99LAoJICAgICAgICAgICAgKTsKCSAgICAgICAgfQoJICAgIH0KCSAgICAjIHJlcGxhY2UgaXQKCSAgICBmb3IgKCBrZXlzICVWYWx1ZVNldCApIHsKCSAgICAgICAgbmV4dCBpZiAhZGVmaW5lZCAkVmFsdWVTZXR7JF99OwoJICAgICAgICAkVGV4dCA9fiBzLyRUYWckXyRFbmQvJFZhbHVlU2V0eyRffS9naTsKCSAgICB9CgkKCSAgICAjIGNsZWFudXAKCSAgICAkVGV4dCA9fiBzLyRUYWcuKz8kRW5kLy0vZ2k7Cgl9CgoKCglyZXR1cm4gJFRleHQ7CgoKICAgIAp9CjE7IA==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/base.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcAAPv6/Pn4+mnN/4zf/764x2vO//Dv84HZ/5jl/0ZGmfTz9vLy8lHB/+zr70u+/7S03IODtd7d6c/P0ndqiq/w/4Pb/5SKo/Py9fPy9tTU121kjd/f4MzM062tx5+zy5rO67GwxNDM14d8mJzn/7awwry713zX/9bW27u71lFRmW5uoZ+fxjOy/zm1/9HQ2o3g/2xfgZeMplav7sn9/6Cgv37X/6Dp/3jU/2uJ2M7J1JC63vn5+v38/d7e38PD0Z7o/9LR4LS01cPDzPb1+Nzb5IJ2lHCEv5bk/53C3MrJ3X56t+np6YF7o3JsndTU5Wtgh5GHoKaesuLi4mrO/19RdnnV/4WBqF5QdWPK/4+PvW5uu4+PuuHh4q7w/97e68C9z63w/9PT0+zs7FtbmWVXerS0yaqitpuSqWVlpcL6/8jD0H/C9mVajqWu3nFwpYqHtFfE/42DnaWl0bTz/5OPt+7u7tra5Y+Yz+Tk56fM6Gek5pG50LGpvOHh72LJ/9XU5lbD/6GnwHpujfDu8mxpntzb45qav7PH41+n6JeXyUZGopyYsWeGyDu2/6LQ44re/1yV41TD/8LC1zix/sS/zdTU4Y+gsd/c5L7z+a6uzE+3+XG89L6+087O1sTD3K2twoGBtWVbgomo4P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAKMALAAAAAASABIAAAjsAEcJHLUDTyE7SVCsAAJgoMMwGYT4+BTIAxIdTEI0dDhKgqU9jjDNSAPmSBMCATiO4vDh0Y8ucyjYGOCGzxCVLvKYGIBgBIIXNYxEUaCSyKEpNw5UOFClACMLBlQCyATIj4ACArDAgSRikMpRJWQ4YBCJgQNNOCY0+OoJEYsWjTaJUsKmyFqVf/RMWtNGi6JQUNRs5OjkzgM5iRIkIESCqEovdfos4BIETQpQdC59rbRkgZgekraMgfDGDAaVETpJ2XCCEw0VWTScicqRx5dFIMp0MGTliSCUXwPkiAGDyhUycShd+Mq8ufOvAQEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/check1.gif" Permission="664" Encode="Base64">R0lGODlhEgASAKIAAA47cqjK9R125P///////wAAAAAAAAAAACH5BAEAAAQALAAAAAASABIAAAM8SLrc/jBKIqq9dTQBuv+BxnBDaZrhBpxsOq4sKi5kXLo0bONKvc89XYxHEbaARdsNKQg4n1CikjWpWhcJADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/check2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAKIAAA47cqjK9R125AAAAP///////wAAAAAAACH5BAEAAAUALAAAAAASABIAAANHWLrc/jDKIqq9lTQBuv+BxnBEaZrhBpzmQKTjyg4uvJBuSdfivdKEXcmmwO1yr15RJkQpKbIgiwhlnaiCgHbLpVq/k7B4kQAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/check3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAKIAAP///8zMzKjK9R125A88cg47cgAAAP///yH5BAEAAAcALAAAAAASABIAAANJeLrc/jDKM6q9FbRRiP+foDEDEZwoKm5mehrBSrapActLGcCvHY85k8/Gwyl0RN/JSGkRU0zdyxWluX4bgXbLZQK+4DB4Qi4vEgA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/check_over1.gif" Permission="664" Encode="Base64">R0lGODlhEgASAKIAAA47ch125KjK9f//mf///////wAAAAAAACH5BAEAAAUALAAAAAASABIAAAM/WLrc/jDKEqq9lbQAuv+CxnBDaZrhBpxsOq4sKi5kXLo0bONKvc89XYxHEbaARdsNGRA4n1AiYUqtUifY7CIBADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/check_over2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAKIAAA47ch125KjK9f//mf///wAAAP///wAAACH5BAEAAAYALAAAAAASABIAAANJaLrc/jBKE6q9lbQAuv+CxnBDaZrhBpxmMaTjyhYuvJBuSdfivdKDXcmmwO1yr15RJkQpKbIgiwhlnagBgXbLpRK+4DB4Qi4vEgA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/check_over3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAKIAAA47ch125A88cqjK9e3tff///wAAAP///yH5BAEAAAcALAAAAAASABIAAANJeLrc/jDKE6q9tbQAhP/foDGBQJwoKm5mehrESrapActLScCvHY85k8/Gwyl0RN/JSGkRU0zdyxWluX6bgXbLZRa+4DB4Qi4vEgA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/empty.gif" Permission="664" Encode="Base64">R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/folder.gif" Permission="664" Encode="Base64">R0lGODlhEgASANUqANu3UsyZNMHBwcKPKqNxC8uYM9u3cZlnAb2KJZxqBJ5sBrWCHbOBG7qHIv//urB+GLe3t6BuCMmWMad1D8WSLciVMMbGxppoAqt5E6ampq58Fqh2EKVzDceUL6x6FLeEH8CNKP/Ub//4k///nP/bdf/kf//viba2tv//////mf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAACoALAAAAAASABIAAAaCQJVwSCwaj8ikUhgIFCSVpSqAqjocA2XAAOh2DYjGZ8F4EAvVtDrtsQwlqZF8Tk9NIMNOas/v7wknQxQpIoWGhykRgUIDKSaPkJEpCosqICklmZqbKQmVCCkkoqOkKReVDSkhq6ytKQd4Q2QPGhgbHAQRCgkHGQJFAifCw8S/UsfHQQA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/folderopen.gif" Permission="664" Encode="Base64">R0lGODlhEgASANUxAKVzDcyZNMHBwcuYM6BuCLe3t8mWMZ5sBv//pfr7/JxqBJpoAreEH6d1D6JwCsbGxvfwif/XhKx6FKampsKPKv/rhKRyDMiVMLOBG8aaGrB+GP3VcJlnAcmgIb2KJaNxC9e4QNq/bOKzQ+LBUM+iJrqHIvDkerWCHf/kf//bdf/viba2tv/4k8aaGf//nP//mf///////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAADEALAAAAAASABIAAAaGwJhwSCwaj8ikUhgIDAyXZSwAqyYSFCXVxeXCPCXGCaMhDmDddLUqeQwNMJZ8Tnc1CsKWfs/XjyofK3kvaWkvIS0RBIIxLYR0cy4QLRsHjI0vKpqbmggdIgqXji4opaYoCCAkC5eYKa+wryYZHHhDLQC5uRYOBAcKCxMCRQIrxsfIw1LLy0EAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/globe.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcAAPr7/AFyAQFCpwGD6jy3/wE9on7N0AE+pAFjyMLI0AE2mwF94wGP9QFpzgU3nISSopWgrmJsfTNLfgFHqAFuBilNiTp4sLnGzwWb/0xYb/P09mRygGl0hRlnMgR12V2Pr6e4xF9peS2Cyh5FpBdSfgF84YmisdPa30hjvw+foQFYvlWj4HWIlkWb5gk5n/b4+gw+kgFMscXb6ylmieDj5ju2pylTsniElgqd/u/x8wGW/O7v8SVMsUq+JSSJXQFiwfv+/AFqvB9ntobZeKbc/9vt+B+YmW2rvKruzQGPkm3PPrjmxQFIklrFLVbD4QGMYaXkoIPD13LC+nGw5AGFQHG66gF2eBaJxket9sLf84HI+wF7axBdbg2c0CR+1QFsEIfJ7yqoUIbH41tldgF+KzVTjn3QfitZgTJZkaDR8gKDsXeWrE+zogE3nCeKzQFtJ0tknjdnbQGB6EJgxQFqAcLJ0WC//yKm/wE+o7vI0ARozEOz/4/g/4KToyaX4/D09pCpuNHV24HA6gw7oAF/AXWKnEVSb5TI6VzDTrPprxBQts7e6FNdcBA9oySd9RRjPAhnD2NvgIydrF+6wdLo9v7//2K+twKSdDmKyeD56wGCyHq12VnF+ZXXsARdTjZWthShoo7gtilDlAFw1RCXvF+z6p/R8kqZzAF0Oj5jjFuJqgFoAkRgxtzr9YmcrJKsugFlylfBgxJGhjJIeFnFuhmi/+bo65ipt8Hn+UhVco7B5SZowAGBKoaZqAGGAVHBUwF8Qq7Y819qe4DEoVyYwrnb8QGN9GCy6QFTuHB9jgGY/gFRtuTu9ZOhr150iwFbwTFiwFus4h9mYt/y+kWZ35vM7hGfccz43Xy/6m3BuS1GiYveqDRfwnbUV4rdu////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAN8ALAAAAAASABIAAAj/AL8JHEiwVTVspar8ISiwiJhswyaBibJJUq9TrximMUArlLclnUg5wvRNFyCCwWLV2HYNSKImXeRcOSIDBEE2PZRAmZYJCSdQA3j5WHNhoKkFYczgGtKNDwEdT4BRmJFn4JRRRogg+uWEAA5jVFDRkcZiIDU9WixZS4FBGQNNhN544rJh4IoWUjyoSXJpQAkrAVZ1IBFi4CE7XmA12OKLTBAEyB7FqSBs4DEsApY9+xHgi4oYeM7AmZVMIKU9IgS0OTABEpMCClx8EsUIgsAsd5wJUTQIhiwHjXjMGWGIAw2BxWpFOmFhFzcUrKDZ0JYhQoIcApn5cSMoGrFUaMpII8g15kagHQAEvlik6oOJQq5u9XnQrI4tDQAqMdzPv7//gQEBADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/imgfolder.gif" Permission="664" Encode="Base64">R0lGODlhEgASAOYAAO/v76VzDQae//+GasHBwbe3t/v7+//DsxGS6qWkoppoAq6vr/Chi6CfnOTk5KmpqRml/8bGxrKztbW3uv//paBuCIF7bpxqBJ5sBoN+cuKzQ/fwidq/bJiVj4qFfY+Lgv/XhKRyDLOBG8+iJv/rhJlnAeXfhOLBUMuYM8mgIaN1GpOQicyZNKJwCsmWMbB+GJyalri6vvhsQqx6FOXl5de4QMaaGoaBd/3VcKd1D6NxC/Dkeqampv/4k//kf//bdf/vievr62aKpv//nLa2tvv6/MaaGf//////mQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAEkALAAAAAASABIAAAfLgEmCg4SFhTETEgsPCQ0wHSsAhkkTRZaXlh8RkxJFAgIICJ9FHgWTC0UQQqtCEEU3RIYsD0VCDEcHDEJFGSoiL5KCKAm1R0cDA7sWNEczm4IuDbUHBwMyyiZDOaZJRt7f4N4nJDqx3UhD6erpSBxGIBXmRug99fY9QxtGOBjmAPNAAgoMSCGFhgvmDMwb4qOhQx8UaoxQYC7JPyQ/MmrMuMNGCW5JFAYYOTJEiwoYLijgQYCQAwJEYsqcScBBIQBBcurcCcDApJ+FAgEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/line0.gif" Permission="664" Encode="Base64">R0lGODlhEgASAIAAAISEhP///yH5BAEAAAEALAAAAAASABIAAAIUjI+py+0Po5y0NhCwzrb7D4aiUgAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/line1.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAISEhP///////wAAACH5BAUUAAIALAAAAAASABIAAAIYlI+pCesPRYs0zorVzVz2v31VKFplRh4FADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/line2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAISEhP///////wAAACH5BAUUAAIALAAAAAASABIAAAIXlI+pCesPRYs0zorVzVz6BnbiSJbmmRQAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/line3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAISEhP///////wAAACH5BAUUAAIALAAAAAASABIAAAIalI+pCesPRYs0zorVzVz6BnbQJlZkaaHZeRQAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/line4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAISEhP///////wAAACH5BAEAAAIALAAAAAASABIAAAIXlI+py+0Po5y0ViCwzrbhPn1gJI5PmRQAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/line5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAIABAISEhP///yH5BAEAAAEALAAAAAASABIAAAIUjI+py+0Po5y0RhCwzhzbD4biGBYAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/linebg2.gif" Permission="664" Encode="Base64">R0lGODlhEgDKAIABAISEhP///yH5BAEAAAEALAAAAAASAMoAAAKIjI+py+0Po5y02ouz3rx34DVguIxkYp5Hqgas+p4xOYe1d38tknP99tMEM0NM8XK0JCtLSnPylEQjU0j1cXVkRbtV17BlhEtfV3msQKPO7K+a1+6+ve74bg62t/Dmul+uBxMoM0hTaHOIk6jzd7fo8wgUKTRJVGl0iZSptMnU6fQJFSo1StVQAAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/linebgfull2.gif" Permission="664" Encode="Base64">R0lGODlhEgDKAIABAISEhP///yH5BAEAAAEALAAAAAASAMoAAALFjI+py+0Po5y02ouz3rwvUIGUOJGSGaGQ+rCO28CM/IX2eJf5uaf9+msFX8NYcXas4ZY6Js/pgwKlQirRasQitcqm9/mNhqfjavl6zqa36y74LYaT5WY62q7Gs/XuuH/+Vxd4N5hXuHfYB7goyEjoaAiJKKnYaPl4GZk5uVmJ+akJyinqGWo6elqKuqraqkDzmhTLNdtWy3ebmEu529lL+psazDrsmgB7LJtMu2zbjPusG8077VsNfC2cTbxtjID8rRyOVQAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/linebgfull.gif" Permission="664" Encode="Base64">R0lGODlhEgAGAIABAISEhP///yH5BAEAAAEALAAAAAASAAYAAAINjG+Ay9nvYFOS0YouKwA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/linebg.gif" Permission="664" Encode="Base64">R0lGODlhEgAGAIABAISEhP///yH5BAEAAAEALAAAAAASAAYAAAIMjI+pCesPQ4s0zlUAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/linefull0.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcBAISEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAEALAAAAAASABIAAAgkAAMIHEiwoMGDCBMqXMiwocOHECMmBECxYkWJGDNq3Mixo8GAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/linefull1.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAg1AAUIHCgQAMGDCAsmXKiQYUKDDhFCjEhwIsWGFzFmtHiRI0WPEUE6FMmQ5EKTDzMORCmRYUAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/linefull2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAgxAAUIHCgQAMGDCAsmXKiQYUKDDhFCjEhwIsWGFzFmtHgRgMePIDOKHEmypMmTKAkGBAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/linefull3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAg5AAUIHCgQAMGDCAsmXKiQYUKDDhFCjEhwIsWGFzFmtHgRgMePIBdypDgyYkmHJxmmFJlx4MqHDAMCADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/linefull4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcAAISEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAgpAAUIHEiwoMGDCBMqXMiwocOHECNGBECxokWEACZqhJiR48aHHUEmDAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/linefull5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAIABAISEhP///yH5BAEAAAEALAAAAAASABIAAAITjI+py+0Po5y0RoCz1rb7D4ZfAQA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/load.gif" Permission="664" Encode="Base64">R0lGODlhdgAGAKIFAP///+LfvZycnM/Pz+Xl5f///wAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAFACwAAAAAdgAGAAADXwiyAv4wykmrvThrukJYjxeJEBkGI1qqZ+qubwvPsix4XgPgLH+aPkdwh/v1ikIkEagcOptQ0Q2nezKvR6xxm9R2s2DuMtz56IixZBpNU7fZNXccLq/DGeeNfs/v+yMJACH5BAUKAAUALAAAAAANAAYAAAMZWLNTLlCoNgt8gromndWK5X3UYnUXo0VSAgAh+QQFCgAFACwAAAAAFAAGAAADJli0VD5wuCKqUA0X+GR1VeY00uRNlKhs6DkJy0iW3EddjBiV95cAACH5BAUKAAUALAAAAAAbAAYAAAM0WLBQTpC4MuqYIgvVeIGPVDlj5mSd00iTOFHFhqXK97rTJZ+LurKgEUUnMzFSEdZQGNMUEgAh+QQFCgAFACwHAAAAGwAGAAADNFiwUE6QuDLqmCIL1XiBj1Q5Y+ZkndNIkzhRxYalyve60yWfi7qyoBFFJzMxUhHWUBjTFBIAIfkEBQoABQAsDgAAABsABgAAAzRYsFBOkLgy6pgiC9V4gY9UOWPmZJ3TSJM4UcWGpcr3utMln4u6sqARRSczMVIR1lAY0xQSACH5BAUKAAUALBUAAAAbAAYAAAM0WLBQTpC4MuqYIgvVeIGPVDlj5mSd00iTOFHFhqXK97rTJZ+LurKgEUUnMzFSEdZQGNMUEgAh+QQFCgAFACwcAAAAGwAGAAADNFiwUE6QuDLqmCIL1XiBj1Q5Y+ZkndNIkzhRxYalyve60yWfi7qyoBFFJzMxUhHWUBjTFBIAIfkEBQoABQAsIwAAABsABgAAAzRYsFBOkLgy6pgiC9V4gY9UOWPmZJ3TSJM4UcWGpcr3utMln4u6sqARRSczMVIR1lAY0xQSACH5BAUKAAUALCoAAAAbAAYAAAM0WLBQTpC4MuqYIgvVeIGPVDlj5mSd00iTOFHFhqXK97rTJZ+LurKgEUUnMzFSEdZQGNMUEgAh+QQFCgAFACwxAAAAGwAGAAADNFiwUE6QuDLqmCIL1XiBj1Q5Y+ZkndNIkzhRxYalyve60yWfi7qyoBFFJzMxUhHWUBjTFBIAIfkEBQoABQAsOAAAABsABgAAAzRYsFBOkLgy6pgiC9V4gY9UOWPmZJ3TSJM4UcWGpcr3utMln4u6sqARRSczMVIR1lAY0xQSACH5BAUKAAUALD8AAAAbAAYAAAM0WLBQTpC4MuqYIgvVeIGPVDlj5mSd00iTOFHFhqXK97rTJZ+LurKgEUUnMzFSEdZQGNMUEgAh+QQFCgAFACxGAAAAGwAGAAADNFiwUE6QuDLqmCIL1XiBj1Q5Y+ZkndNIkzhRxYalyve60yWfi7qyoBFFJzMxUhHWUBjTFBIAIfkEBQoABQAsTQAAABsABgAAAzRYsFBOkLgy6pgiC9V4gY9UOWPmZJ3TSJM4UcWGpcr3utMln4u6sqARRSczMVIR1lAY0xQSACH5BAUKAAUALFQAAAAbAAYAAAM0WLBQTpC4MuqYIgvVeIGPVDlj5mSd00iTOFHFhqXK97rTJZ+LurKgEUUnMzFSEdZQGNMUEgAh+QQFCgAFACxbAAAAGwAGAAADNFiwUE6QuDLqmCIL1XiBj1Q5Y+ZkndNIkzhRxYalyve60yWfi7qyoBFFJzMxUhHWUBjTFBIAIfkEBQoABQAsYgAAABQABgAAAyUIukpOa8ixQljOOiCtBJbVhAE0kBQ5hiaqiA2hmWfwMdgTTUACACH5BAUKAAUALGkAAAANAAYAAAMXCLpKTiuE5aQDUrYcIN8ZhE0NYYlMeSUAIfkEBTIABQAscAAAAAYABgAAAwoIuhqxzrUIH1sJADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/lock.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcAAJ2SlKyho6yipOzq6/Tx85yWnPz6/PTy9OTi5Nza3NTS1NbT3dTR28XDzMzK07y6xLSyvNTS3Kypu7y5y5SSpJyarJyaq7SyxKyqu7y6y7W2xMTF072+zK2vvayuvLy+zLS2xMTG08zO26uuvPX2+/T1+vX2+szO1Ozu9Ovt89vd4uPm7Ovt7PX39fT29PT28/X29OTl4/XpU/bpVPXpVPbqW/bqYvvpNvvqNvrpNvvqN/vpOO3WTPzaK/3bLPzaLP3bLfzaLfXfdPzWLfTSS+vFQ/zKJfzLJfzKJ/zLJ/zGJvvFJuO2PPu9Hvq9Hvq6Ifq+J/q5IPm1Ifm2Ifi1IOSuNPitHfetHeymHfixItulOsymW+S7bPaoHfaoHvesI+SmNNSqW9SqXNuxY9yyZOO5a+S6bOO6bPTu4/WkHfalHvWkH9WnXPTixPPhw9zTxMvFu+yWEuSOE/ScHPWhIPSgIOOya+SHDfOYHfOZHeSybP3z5f3z5uSCDPKRGvGQHPKUHfKUHtx6C/GMGJteG5thIpxiI5thI9y2jMyujM2vjZpZGpxaG5taG5tdI5teI5NmO5tVG5RaK7yijLSbjLSbjbSajLOZjMy2rPTu7f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAJoALAAAAAASABIAAAj1ADUJHEiwoEGBJCJM+MAhA4MSBwWaCCGCgIsWKERsIBGRgYMDJzp4aDAgxIKDBh6scHAhhQsQEFRoOPjiAgsMCAQesJDAQwuDMEbEqECQggIJLgxmCvCmwB4+TwHAEYCmYBs9YsiwOcOljJktY8LYcUMQkRAbNWaopaFWhgwiiAgq4qEDRw4dN/Le2DEESyKCk4r0+NHDB5AfQX4guRJnEkFLTIwYSYLkyBIlT9TUkVPpcRUnUJw8kZLlypo5ee5YegymSZQpX7qkoTMH0J8+lx5roZLFipfTeAL5GSSIEkFMkA4ZKvTIEaFFjBpFkoQpovWBAQEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minus0.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP///4SEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAImnI+py+0P4wm01haA3iBgvnlMBnafgKLmWK4LCYpvKyvWLeX6nhcAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minus2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAAAAAP///4SEhP///yH5BAUUAAMALAAAAAASABIAAAItnI+pKesPR4t0iYvxE6H7MFmfFyrcCG4BwLJpU0po6pxjjNgffmR+BQwKh4YCADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minus3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAAAAAP///4SEhP///yH5BAUUAAMALAAAAAASABIAAAIunI+pKesPR4t0iYvxE6H7MFmfFyrcCG4BwLJpU0po6pxjjNgffmR+BcwFh0JHAQA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minus4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAAAAAP///4SEhP///yH5BAUUAAMALAAAAAASABIAAAIrnI+py+0P4xG01iaC3kFgvnlMBnYfgKKmJ06lOb6tQoJzYuXSbty85DsUAAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minus5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP///4SEhAAAAP///yH5BAUUAAMALAAAAAASABIAAAIonI+py+0P4wm01haA3iBgvnlMBnafgKKmJ06lOb6tQoJzYuXSzvd7AQA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minusfull2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhMAAcIHChQAMGDCAsmXKiQYUKDDhFCjCigokWLDAUE2MgxwESJHTl+PKgxpMeMAf6pVOnx4seSIUcShNlR5kCaIjO6xBixp8+fQCMGBAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minusfull3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhPAAcIHChQAMGDCAsmXKiQYUKDDhFCjCigokWLDAUE2MgxwESJHTl+PKgxpMeMAf6pVOnx4seSIUcShNlR5kCaIjO6xBhxgE2HPzP2JMkwIAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minusfull4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhIAAcIHEiwoMGDCBMqXMiw4UABECNGTCgggMWLAQRQxHhRI8KKHDNu/EeSZEaJHgWC5JjS4EqMLQu+7EgR5USGMXE6fLhTZcKAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minusfull5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhFAAcIHEiwoMGDCBMqXMiw4cAAECNGTBgAgMWLAAJQxHhRI8KKHDNu/EeSZEaJHgWC5JjS4EqMLQu+7EgR5USHOHPqdBgQADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minusfull_over2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhMAAcIHCgwAMGDCAsmXKiQYUKDDhFCjBigokWLDAMA2MgRwESJHTl+PKgxpMeMAP6pVOnx4seSIUcShNlR5kCaIjO6xBixp8+fQCMGBAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minusfull_over3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhPAAcIHCgwAMGDCAsmXKiQYUKDDhFCjBigokWLDAMA2MgRwESJHTl+PKgxpMeMAP6pVOnx4seSIUcShNlR5kCaIjO6xBhxgE2HPzP2JMkwIAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minusfull_over4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhIAAcIHEiwoMGDCBMqXMiw4cAAECNGTBgAgMWLAAJQxHhRI8KKHDNu/EeSZEaJHgWC5JjS4EqMLQu+7EgR5USGMXE6fLhTZcKAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minusfull_over5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhFAAcIHEiwoMGDCBMqXMiw4cAAECNGTBgAgMWLAAJQxHhRI8KKHDNu/EeSZEaJHgWC5JjS4EqMLQu+7EgR5USHOHPqdBgQADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minus_over0.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP//mYSEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAImnI+py+0P4wm01haA3iBgvnlMBnafgKLmWK4LCYpvKyvWLeX6nhcAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minus_over2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP//mYSEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAItnI+pGesPR4t0hYvxC6B7MFmfFyrcCG6AwLJpU0po6pxjjNgffmR+BQwKh4YCADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minus_over3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP//mYSEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAIunI+pGesPR4t0hYvxC6B7MFmfFyrcCG6AwLJpU0po6pxjjNgffmR+BcwFh0JHAQA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minus_over4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP//mYSEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAIrnI+py+0P4wm01haA3iBgvnlMBnafgKKmJ06lOb6tQoJzYuXSbty85DsUAAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/minus_over5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP//mYSEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAIonI+py+0P4wm01haA3iBgvnlMBnafgKKmJ06lOb6tQoJzYuXSzvd7AQA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/musicfolder.gif" Permission="664" Encode="Base64">R0lGODlhEgASAOZJAP/4k++8V5yZrO/v719gq6VzDf/ge/v7+8yZNN3f9jQ0Z+Tk5MHBwf/0jn582k5OmsmWMWRkxfr7/Pn5+be3t5poApxqBP/Ub55sBsuYM6BuCP/rhZpuEt/f38KPKpCNz9e4QKNxC97e3tq/bJlnAaRyDMaaGmNjY//rhLu9/4mJiffwibWCHbeEH+7u7sbGxr+/v6ampqd1D8TExJ5xFujb2smgIb2KJfDkesiVMOLBUKJwCpdva//vif7+/nVtbDAwZMXB7f/bdevr6///nMaaGba2tv//////mQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAEkALAAAAAASABIAAAfWgEmCg4QEQDUTPoSLhA9ABCITjJOOQDAujAgIGRA5AwdAPwQEHYsIR6gSEh4LESo8QDOEp0RISERERzcPLSwENAODGUdEDca4RECoJxwvgxBHANIOCgoRCtJEMhSCRd7eQSlBCQlBRTooIUbdt0QXAuNBAgIjRUga60n2RADv5UHyVtjDkG+AvR4bAnxw4EBAgA02kFjId2CfAQMBMga4CAJJhXxJDCIRQrIkSRwmSHATVLGAS5cldmjAYKFCDAaEFjAwwrOnTwYLFg0YQrSo0U+Tki4KBAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/page.gif" Permission="664" Encode="Base64">R0lGODlhEgASANU+AHSAsvj7/+32/8HBwcPh//39/djr//7///P5/8Df//n5+ZCjy4yu39jl9vT09brd/3qDsG96rIqo2V5hkFWn7dnh7Y+z5Wt0pff395K879vn93N+sISbyvb6/2dtnsDA/5G46mVqmvz9/3+OvG13qMbGxs7n//v7+/X6/87T/2lwooeh0v7+/s3m/5S/8nJ8roGVw32JtuTx/5Oq0oep3NHp/8nk/7e3t7a2tun1/3V4o+Hw/9vt/////////wAAACH5BAEAAD4ALAAAAAASABIAAAaLQJ9wSCwaj0ifi8Zs0gDJTK9wUmAcFcAMCWL1voeABkBZHC0FcADVALhLRsY3EBDkcqnP5maUiOp2OTw8Bi98RSsdCHY7O4Q1EYdEHIs5jYM1LSSSQzB3lzw1NjYXnEIjlo6howQqpj4xMqo1ogQJHq8QsyajCQ8hrzrCw8QTA0cDOMrLysdJz9DQQQA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plus0.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP///4SEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAIqnI+py+0P4wm01haA3iDgLWwek2mhNi6ZwLLdZ4owcL4kJ5OWJfX+3ysAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plus2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAAAAAP///4SEhP///yH5BAUUAAMALAAAAAASABIAAAIwnI+pKesPR4t0iYvxE6H7MFke4IUK15GdyQTA+4LSjKBuuY24Y39snclUhsSi0VAAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plus3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAAAAAP///4SEhP///yH5BAUUAAMALAAAAAASABIAAAIxnI+pKesPR4t0iYvxE6H7MFke4IUK15GdyQTA+4LSjKBuuY24Y39snclUhjWisegoAAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plus4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAAAAAP///4SEhP///yH5BAUUAAMALAAAAAASABIAAAIvnI+py+0P4xG01iaC3kHgDWwek2mhNi4ZwLLd4KVGGZwvCYofh2KWJQnOhMQhowAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plus5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP///4SEhAAAAP///yH5BAUUAAMALAAAAAASABIAAAItnI+py+0P4wm01haA3iDgLWwek2mhNi6ZwLLd4KVGCZwvCYofh2KWJQkKh8ECADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plusfull2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhPAAcIHChQAMGDCAsmXKiQYUKDDhFCjCigokWLDAUE2MgxwESJHP9x/HhQ40aRG0kS1PivZUuPFz+aDIDSY8aQI292TJkxJsaIQIMKHRoxIAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plusfull3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhTAAcIHChQAMGDCAsmXKiQYUKDDhFCjCigokWLDAUE2MgxwESJHP9x/HhQ40aRG0kS1PivZUuPFz+aDIDSY8aQI292TJkxJsaIA1RSBFqS6EqGAQEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plusfull4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhNAAcIHEiwoMGDCBMqXMiw4UABECNGTCgggMWLAQRQvPjvokaEFS12tPjxYMV/KFFmlFhyQMgAIzNuFOlxJkaZIFlOZNiyYU+eDh8mDAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plusfull5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhKAAcIHEiwoMGDCBMqXMiw4cAAECNGTBgAgMWLAAJQvPjvokaEFS12tPjxYMV/KFFmlFhyQEgAIzNuFOlxJkaZIFlOdMizp0+HAQEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plusfull_over2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhPAAcIHCgwAMGDCAsmXKiQYUKDDhFCjBigokWLDAMA2MgRwESJHP9x/HhQ40aRG0kS1PivZUuPFz+aBIDSY8aQI292TJkxJsaIQIMKHRoxIAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plusfull_over3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhTAAcIHCgwAMGDCAsmXKiQYUKDDhFCjBigokWLDAMA2MgRwESJHP9x/HhQ40aRG0kS1PivZUuPFz+aBIDSY8aQI292TJkxJsaIA1RSBFqS6EqGAQEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plusfull_over4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhNAAcIHEiwoMGDCBMqXMiw4cAAECNGTBgAgMWLAAJQvPjvokaEFS12tPjxYMV/KFFmlFhyQEgAIzNuFOlxJkaZIFlOZNiyYU+eDh8mDAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plusfull_over5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhKAAcIHEiwoMGDCBMqXMiw4cAAECNGTBgAgMWLAAJQvPjvokaEFS12tPjxYMV/KFFmlFhyQEgAIzNuFOlxJkaZIFlOdMizp0+HAQEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plus_over0.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP//mYSEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAIqnI+py+0P4wm01haA3iDgLWwek2mhNi6ZwLLdZ4owcL4kJ5OWJfX+3ysAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plus_over2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP//mYSEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAIwnI+pGesPR4t0hYvxC6B7MFme4IUK15GdyQDC+4LSjKBuuY24Y39snclUhsSi0VAAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plus_over3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP//mYSEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAIxnI+pGesPR4t0hYvxC6B7MFme4IUK15GdyQDC+4LSjKBuuY24Y39snclUhjWisegoAAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plus_over4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP//mYSEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAIvnI+py+0P4wm01haA3iDgLWwek2mhNi6ZwLLd4KVGCZwvCYofh2KWJQnOhMQhowAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/plus_over5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAJEAAP//mYSEhAAAAP///yH5BAEAAAMALAAAAAASABIAAAItnI+py+0P4wm01haA3iDgLWwek2mhNi6ZwLLd4KVGCZwvCYofh2KWJQkKh8ECADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/pt2.gif" Permission="664" Encode="Base64">R0lGODlhEgACAIABAISEhP///yH5BAEAAAEALAAAAAASAAIAAAIGjI+pCWsFADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/pt.gif" Permission="664" Encode="Base64">R0lGODlhAgACAIAAAP///wAAACH5BAEAAAAALAAAAAACAAIAAAIChFEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_line0.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcBAISEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAEALAAAAAASABIAAAgkAAMIHEiwoMGDCBMqXMiwocOHECNKBBCAosWKEjNq3Mix48aAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_line1.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAgrAAUIHEiwoEGDAA4qXMhQQMKGEBs+jEgRYcWLBCdirKhxY8SOHiWG5KgwIAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_line2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAgqAAUIHEiwoEGDAA4qXMhQQMKGEBs+jEgRYUWICTM63Hixo8ePIEOK9BgQADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_line3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAgvAAUIHEiwoEGDAA4qXMhQQMKGEBs+jEgRYUWICTM63HixI0ePFSeCjChypESFAQEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_line4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAgrAAUIHEiwoMGDCBMqXMiwocOHECMqBCCAosWKEiNSzPhwI8eGHj8uDEkwIAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_line5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAIABAISEhP///yH5BAEAAAEALAAAAAASABIAAAIUjI+py+0Po5y0OhCwzhzbD4biSBYAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_linebg2.gif" Permission="664" Encode="Base64">R0lGODlhEgDKAIABAISEhP///yH5BAEAAAEALAAAAAASAMoAAAKIjI+py+0Po5y02ouz3rx74DVguIxkYp5Hqgas+p4xOYf11yJ3t3P99tMEM0NM8XK0JCtLSnPylEQjU0j1cXVkRblV17BlhEtfV3msQKPO7K9a1+6+ve54bg62t/Dmul+uBxMoM0hTaHOI83eXyNPo8wgUKTRJVGl0iZSptMnU6fQJFSo1SsVQAAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_linebgfull2.gif" Permission="664" Encode="Base64">R0lGODlhEgDKAIABAISEhP///yH5BAEAAAEALAAAAAASAMoAAALGjI+py+0Po5y02ouz3rwzUIGUOJGSGaGQ+rCO28BfSI91eZ95uq99+3sFY8OZ7YhD6pQ8ps8JhAqlRKoxiV1mm9tnN/qdhqvjq/bMRXvVYLbYTYab0/R1vX1/5+P7uf2PB6gnyEfoF4g4mFi4eKj4yAjpGEk5abkgg1mkacVZ5ikH2idqSNpoKolaqXqpkOm6Cdsp+0kbajuKW6p7ypvquwrcmvBKHGs8i1yrfMuc67wL3Sv9Sx1sPYxQrH3Mney9DN4sjlAAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_linebgfull.gif" Permission="664" Encode="Base64">R0lGODlhEgAGAIABAISEhP///yH5BAEAAAEALAAAAAASAAYAAAIOjH+Ay6YNw4tsUmSvgwUAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_linebg.gif" Permission="664" Encode="Base64">R0lGODlhEgAGAIABAISEhP///yH5BAEAAAEALAAAAAASAAYAAAIMjI+pCusPQ4s0TlUAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_linefull0.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcBAISEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAEALAAAAAASABIAAAgjAAMIHEiwoMGDCBMqXMiwocOHECNKBECxYkWJGDNq3MhRY0AAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_linefull1.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAg2AAUIHDgQAMGDCAUaTMhQwMKGCB9CJChxokKLByta1DiRI0SPDUEyFJmQZESMFFEWVHmRpceAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_linefull2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAgzAAUIHDgQAMGDCAUaTMhQwMKGCB9CJChxokKLByta1DiRo0MAIEOGxEiypMmTKFOqVBkQADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_linefull3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAg7AAUIHDgQAMGDCAUaTMhQwMKGCB9CJChxokKLByta1DiRo0MAIEOGxEiRZEGTF1F6bLiSYcuELyMyDAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_linefull4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcCAISEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAASABIAAAgpAAUIHEiwoMGDCBMqXMiwocOHECMmBECxosWIADBqhJiR48aHHUEiDAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_linefull5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAIABAISEhP///yH5BAEAAAEALAAAAAASABIAAAIUjI+py+0Po5y0NoCz1rb7D4ZiUAAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minus2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhKAAcIHEiwoEGDAg4qXMhwQMKGEA8KmEiR4kIBATJqDPBQ4kaNHRF+zBjSoUmM/1Km5HhxJEuFGEeWJBjz48yBFXNG3Mmzp88BAQEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minus3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhLAAcIHEiwoEGDAg4qXMhwQMKGEA8KmEiR4kIBATJqDPBQ4kaNHRF+zBjSoUmM/1Km5HhxJEuFGEeWJBjz48yBFXNG3EmTp8+eBwMCADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minus4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhIAAcIHEiwoMGDCBMqXMiwIUEBECNGTCgggMWLAQRQxHhRI8KKHDMW1EgywL+TJ0V+DKnyIEiOHl2yjGlQok2HOAXSzIlz58CAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minus5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP///4SEhAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhFAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQxHhRI8KKHDMW1EgSwL+TJ0V+DKnyIEiOHl2yjGlQok2HOHPqdBgQADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minusfull2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhMAAcIHDhQAMGDCAUaTMhwwMKGCB9CJCixoYCLGDFaDMCxY4CKFD12BFlQJEeJGS8G+MeS5ceNJkkqNPmSoQCaMh2m1Dixp8+fQCEGBAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minusfull3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhPAAcIHDhQAMGDCAUaTMhwwMKGCB9CJCixoYCLGDFaDMCxY4CKFD12BFlQJEeJGS8G+MeS5ceNJkkqNPmSoQCaMh2m1DjRYc+DOW3+pMgwIAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minusfull4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhIAAcIHEiwoMGDCBMqXMiwIUEBECNGTCgggMWLAQRQxHhRI8KKHDM+lFjxn0mTIj+GTHkQJEePLVfCNEhSYsOZNx0OxMmQp8CAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minusfull5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhEAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQxHhRI8KKHDM+lFjxn0mTIj+GTHkQJEePLVfCNEhSosObOHM6DAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minusfull_over2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhMAAcIHDgwAMGDCAUaTMhwwMKGCB9CJCixYYCLGDFaBMCxI4CKFD12BFlQJEeJGS8C+MeS5ceNJkkqNPmSYQCaMh2m1Dixp8+fQCEGBAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minusfull_over3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhPAAcIHDgwAMGDCAUaTMhwwMKGCB9CJCixYYCLGDFaBMCxI4CKFD12BFlQJEeJGS8C+MeS5ceNJkkqNPmSYQCaMh2m1DjRYc+DOW3+pMgwIAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minusfull_over4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhIAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQxHhRI8KKHDM+lFjxn0mTIj+GTHkQJEePLVfCNEhSYsOZNx0OxMmQp8CAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minusfull_over5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhEAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQxHhRI8KKHDM+lFjxn0mTIj+GTHkQJEePLVfCNEhSosObOHM6DAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minus_over2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhKAAcIHEiwoEGDAQ4qXMhwQMKGEA8GmEiR4sIAADJqBPBQ4kaNHRF+zBjSoUmM/1Km5HhxJEuFGEeWJBjz48yBFXNG3Mmzp88BAQEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minus_over3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhLAAcIHEiwoEGDAQ4qXMhwQMKGEA8GmEiR4sIAADJqBPBQ4kaNHRF+zBjSoUmM/1Km5HhxJEuFGEeWJBjz48yBFXNG3EmTp8+eBwMCADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minus_over4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhIAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQxHhRI8KKHDMW1EgSwL+TJ0V+DKnyIEiOHl2yjGlQok2HOAXSzIlz58CAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_minus_over5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhFAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQxHhRI8KKHDMW1EgSwL+TJ0V+DKnyIEiOHl2yjGlQok2HOHPqdBgQADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plus2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhLAAcIHEiwoEGDAg4qXMhwQMKGEA8KmEiR4kIBATJqDPBQosZ/Gjsi/BiyYMKTAf6pVMnxIsmMIk2+bKkQ40aYFytWjMizp8+fAwICADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plus3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhNAAcIHEiwoEGDAg4qXMhwQMKGEA8KmEiR4kIBATJqDPBQosZ/Gjsi/BiyYMKTAf6pVMnxIsmMIk2+bKkQ40aYFytWjMiTYMyePX8KDAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plus4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhLAAcIHEiwoMGDCBMqXMiwIUEBECNGTCgggMWLAQRQvPjvokaEFS12tPhxoMaTAf6pVJlxo0iPLlPCBIlx5kGJOB3qFFhy586eBAMCADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plus5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP///4SEhAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhHAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQvPjvokaEFS12tPhxoMaTAP6pVJlxo0iPLlPCBIlx5kGJOB3q3MnTYUAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plusfull2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhOAAcIHDhQAMGDCAUaTMhwwMKGCB9CJCixoYCLGDFaDMCxY4CKFDv+6wiyoEiSFDMKCPCvZcuPGzmO5FhS4UmaMT3CZKgy48SfQIMKnRgQADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plusfull3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhRAAcIHDhQAMGDCAUaTMhwwMKGCB9CJCixoYCLGDFaDMCxY4CKFDv+6wiyoEiSFDMKCPCvZcuPGzmO5FhS4UmaMT3CZKgy40SFPw/WtBiUIsOAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plusfull4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAAAAAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhMAAcIHEiwoMGDCBMqXMiwIUEBECNGTCgggMWLAQRQvPjvokaEFS12tPhRoESIAf6pVJlxo0iPLlPCBIlx5sGTEhuWdLhTp8OBPQcGBAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plusfull5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP///4SEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhHAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQvPjvokaEFS12tPhRoESIAP6pVJlxo0iPLlPCBIlx5sGTEh3q3MnTYUAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plusfull_over2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhOAAcIHDgwAMGDCAUaTMhwwMKGCB9CJCixYYCLGDFaBMCxI4CKFDv+6wiyoEiSFDMGAPCvZcuPGzmO5FhS4UmaMT3CZKgy48SfQIMKnRgQADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plusfull_over3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhRAAcIHDgwAMGDCAUaTMhwwMKGCB9CJCixYYCLGDFaBMCxI4CKFDv+6wiyoEiSFDMGAPCvZcuPGzmO5FhS4UmaMT3CZKgy40SFPw/WtBiUIsOAADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plusfull_over4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhMAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQvPjvokaEFS12tPhRoESIAP6pVJlxo0iPLlPCBIlx5sGTEhuWdLhTp8OBPQcGBAA7</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plusfull_over5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhHAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQvPjvokaEFS12tPhRoESIAP6pVJlxo0iPLlPCBIlx5sGTEh3q3MnTYUAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plus_over2.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhLAAcIHEiwoEGDAQ4qXMhwQMKGEA8GmEiR4sIAADJqBPBQosZ/Gjsi/BiyYMKTAP6pVMnxIsmMIk2+bKkQ40aYFytWjMizp8+fAwICADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plus_over3.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhNAAcIHEiwoEGDAQ4qXMhwQMKGEA8GmEiR4sIAADJqBPBQosZ/Gjsi/BiyYMKTAP6pVMnxIsmMIk2+bKkQ40aYFytWjMiTYMyePX8KDAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plus_over4.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhLAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQvPjvokaEFS12tPhxoMaTAP6pVJlxo0iPLlPCBIlx5kGJOB3qFFhy586eBAMCADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_plus_over5.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcDAP//mYSEhAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAMALAAAAAASABIAAAhHAAcIHEiwoMGDCBMqXMiwIcEAECNGTBgAgMWLAAJQvPjvokaEFS12tPhxoMaTAP6pVJlxo0iPLlPCBIlx5kGJOB3q3MnTYUAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/rtl_pt2.gif" Permission="664" Encode="Base64">R0lGODlhEgACAPcBAISEhP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAEALAAAAAASAAIAAAgOAAMIHEiwoEGDAA4GCAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/trashfull.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcAAG1oarCsro6Mjci7wmFeYPPk8KOio5ePmVNOVvX5/pXK/qXO+Pf7/9PV14K/94/G+4zD9ZPJ/aLT/7jc/szn/8La8Nvm8KPU/6jX//P5/pnP+ZnF6LDd/7za8omap9Hq/XeEjrDe/rPf/7Tg/73k/8bn/7zl/73m/5OsvMHm/MXp/YedqsLq/8Pr/+L1/7Pj+bzn/L/p/cnv/9bz/4eVm83y/63I0o2qs9zp7c70/5zAyZSssuD4/kFQU9P3/ytITer8/6yys9j6/9r8/9v9/9v5+jZra97//8Db267FxeT//5ytrYqZmcDU1KGxsYSPj6+9vX+IiHV9ffb//+/09Ozw8GttbdDS0hk5N0qNiXWWlEVybmV7eUVQT3vGvkRtabvj3+Pt7F7AszyfkaDWzlhjYbS6udHX1sTq39r571xoY42ZlLjAvNHv3uj578Lsz8Psz7Xmv33LgYzSj37MgQGZASGmIUGzQVG5UXHGcYHMgVVdVNXW1GdoY9nV0t3Z2P////39/fv7+/n5+ff39/b29vT09PPz8/Ly8vHx8fDw8O/v7+rq6unp6ejo6OTk5OPj4+Hh4eDg4N7e3tjY2NPT09LS0tHR0c/Pz8rKyr29vbu7u7S0tLCwsK+vr62traWlpaKioqGhoZ6enpWVlZGRkYqKioCAgHt7e3V1dXNzc3FxcXBwcGdnZ////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAK4ALAAAAAASABIAAAj/AF1NAdRAAAEABv4ACuSqocOGVAKoWdNnjx8zZxIoWBCJ0MMgCA4UGMCHDZcyGR6EGBXJ4QcdW2542EFDC5YuDGIcSVXJYY0mX7yIGZPFyI8eYY4cWXXJp9KnR9LEgXNHCRKeDlPI2LoVjZ06de7MsHGKksMOItKKIIGHjp6wJVCYmuSwgoS7EijI4ZHnzh0wK0hBcmghguEIE/zaaTOHDIhQjBwaguBAA4wcd+rgcXNHRZROihwG2vDCx4gLmevYeXOklaZCD3EMMcEBwx0XLoAQYYLKEkOHVYrUaHGCRQ0hSaSw+hT54aArUJwsWfLEiqpSmx4JetgwESZPoUSBFuKUSdKh39xdDVrUyBEjRNvTy5//MCAAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/trash.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPeUAAGZAcnv/6LT/5PJ/bPf/83y/yGmIf39/erq6q3Z/6KiouHh4dPT05ytreL1/3V1dfn5+fv7+1G5UYK/9+np6Xq6862trYS/9JGRkWttbdbz/2dnZ9v9/73m/6+vr7CwsK7FxfT09NHR0dDS0qGhofb29s/Pz6PU/3V9fdHv3pWVlcvy/bXmv7za8uD4/sXp/cLa8LDd/9jY2Ozw8Lzl/870/7De/oedqpXK/n689YzSj5DI+YSPj5XI+YTB+HHGcYCAgJOsvLS0tNHq/fHx8cDb2+T//9v5+tn7/5nP+czn/7Pj+Xt7e+Dg4MLsz+jo6PDw8K3I0sPr/729vdP3/37Mgbu7u+Pj44nD+cHm/Nzp7bzn/I/G+9r576fR9IHMgdLS0sPt/PLy8r/p/XO27HO28PPz84qZmbPi+YqKip6ensLq//f7/vf394zD9cPsz2+175nF6KXQ7X3LgXeEjsbn/+Pw+3Nzc8rKyr3k/+/v76Wlper8/7jc/rvj39vm8KGxsaDWztr8/9j6/6jX/3+IiMTq37bk+nFxceTk5N///6+9vd7e3qXO+Oj577Tg/7LX+HBwcEGzQd7//wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAJQALAAAAAASABIAAAj4ACkJHEiwoMGCbCD1wNFoQZuDAu14ueADCxcbahYMHJKgoxwycMpUyLFjzKQHDAYWmMRyEpIwaA6tUMQSkQiVLVt2YfFGkpEiKAdmCUCUqCEDAABI0hAFiIyBLQhIJZBHQpUvSusEScNoIAwBYAUomePihyRJfm6ouDLwz4C3A/qcNZBCRyA6ChAMDOFmQpItNSQBkOBI0otCH6AMPBBnCZVHJwQDMOBk0oYpJQhqEUQjBiFJDhzw4XCGCZgDBGccKSClw5oCg0CgiGRBL0EIIxYBatCAR4Y7GKwkimCQiAkPCkjsEYKniRnUByHoofAEgRjiELNDDAgAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/unlock.gif" Permission="664" Encode="Base64">R0lGODlhEgASAPcAAKCgtrW1xrOzxZ+ftnx8mXt7mNfX4P7+/vz8+fv79/39+dXV3mdnhtzc5Pj497GxvoGBmXl5kqCgr+jo5tvb4mlph6Cgs/z8+6ams1JSdIaGl+vr6Zubr8TE0Ojo6GlphVxcd8TExbm5xW50mHd9n0BHdlJVd7u7u7KyvFlUabC2v5qhu9yIHdyLHtyLHd2LHdWHIM+FItuIHKp3OcCaY7aRYLZ2KL+AKPvxav32WvzzWv31WP3xVf32V/zrUr97IahwI/75Ov7pIf7pI/7rI/7nIv6/EahiFo5aHv7kLP7THf7THv7TH/7VH/7PHf6rEf6YB45OFXxMHf7SJv6/Fv7AGP7CGP6+F/6yE/6bC/6QCP6TBXxBE3tIHP6+H/6wEP6xE/6vEv6rEP6oEP6kDf6eDP6SCf6OCP6JBv6MA3s/E3tHGv69Hf6uEP6pEP6jD/6fDP6ZCv6VCf6MBv6GBf6CBP6EAHs+EnlIHv7AJf6uDP6oDf6jCv6eCf6YCP6SBv6NBP6IA/6DAv5/AP56AHk7E2Q2GoRPHYhNE4dLFIdKE4dJE4dIE4dHEodGEodEEYdDEIhCEIQ/EGQyFv///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEAAP8ALAAAAAASABIAAAjaAP8JHEiwoEGCAAIIGEDgIMECBg4gSKBgQQGH/xg0cPAAQgQJEyhUcGjhAoYMAzVs4OCwg4cPBEGEEOFwBIkSBE2cQIHRYAoVKw6yaOHiBYwYMWTMoFHDRsEbOHLomEp1B48ePn4QBBJEyJCvYIcQKWLkCEEkSZQsWbuECZMmTp5AiUJQyhQqVfJaqXIFSxYtW7gQ7OLlC5gwYsaQKWPmDJo0agiuYdPGzRs4ceRomUOnjp07BPHk0bOHTx8/fwAFEjSIUCGChg4hSqRoEaNGjh5BiiRpUs+eAQEAOw==</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/wait.gif" Permission="664" Encode="Base64">R0lGODlhEAAQAMQAAP///+7u7t3d3bu7u6qqqpmZmYiIiHd3d2ZmZlVVVURERDMzMyIiIhEREQARAAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBwAQACwAAAAAEAAQAAAFdyAkQgGJJOWoQgIjBM8jkKsoPEzgyMGsCjPDw7ADpkQBxRDmSCRetpRA6Rj4kFBkgLC4IlUGhbNQIwXOYYWCXDufzYPDMaoKGBoKb886OjAKdgZAAgQkfCwzAgsDBAUCgl8jAQkHEAVkAoA1AgczlyIDczUDA2UhACH5BAUHABAALAAAAAAPABAAAAVjICSO0IGIATkqIiMKDaGKC8Q49jPMYsE0hQdrlABCGgvT45FKiRKQhWA0mPKGPAgBcTjsspBCAoH4gl+FmXNEUEBVAYHToJAVZK/XWoQQDAgBZioHaX8igigFKYYQVlkCjiMhACH5BAUHABAALAAAAAAQAA8AAAVgICSOUGGQqIiIChMESyo6CdQGdRqUENESI8FAdFgAFwqDISYwPB4CVSMnEhSej+FogNhtHyfRQFmIol5owmEta/fcKITB6y4choMBmk7yGgSAEAJ8JAVDgQFmKUCCZnwhACH5BAUHABAALAAAAAAQABAAAAViICSOYkGe4hFAiSImAwotB+si6Co2QxvjAYHIgBAqDoWCK2Bq6A40iA4yYMggNZKwGFgVCAQZotFwwJIF4QnxaC9IsZNgLtAJDKbraJCGzPVSIgEDXVNXA0JdgH6ChoCKKCEAIfkEBQcAEAAsAAAAABAADgAABUkgJI7QcZComIjPw6bs2kINLB5uW9Bo0gyQx8LkKgVHiccKVdyRlqjFSAApOKOtR810StVeU9RAmLqOxi0qRG3LptikAVQEh4UAACH5BAUHABAALAAAAAAQABAAAAVxICSO0DCQKBQQonGIh5AGB2sYkMHIqYAIN0EDRxoQZIaC6bAoMRSiwMAwCIwCggRkwRMJWKSAomBVCc5lUiGRUBjO6FSBwWggwijBooDCdiFfIlBRAlYBZQ0PWRANaSkED1oQYHgjDA8nM3kPfCmejiEAIfkEBQcAEAAsAAAAABAAEAAABWAgJI6QIJCoOIhFwabsSbiFAotGMEMKgZoB3cBUQIgURpFgmEI0EqjACYXwiYJBGAGBgGIDWsVicbiNEgSsGbKCIMCwA4IBCRgXt8bDACkvYQF6U1OADg8mDlaACQtwJCEAIfkEBQcAEAAsAAABABAADwAABV4gJEKCOAwiMa4Q2qIDwq4wiriBmItCCREHUsIwCgh2q8MiyEKODK7ZbHCoqqSjWGKI1d2kRp+RAWGyHg+DQUEmKliGx4HBKECIMwG61AgssAQPKA19EAxRKz4QCVIhACH5BAUHABAALAAAAAAQABAAAAVjICSOUBCQqHhCgiAOKyqcLVvEZOC2geGiK5NpQBAZCilgAYFMogo/J0lgqEpHgoO2+GIMUL6p4vFojhQNg8rxWLgYBQJCASkwEKLC17hYFJtRIwwBfRAJDk4ObwsidEkrWkkhACH5BAUHABAALAAAAQAQAA8AAAVcICSOUGAGAqmKpjis6vmuqSrUxQyPhDEEtpUOgmgYETCCcrB4OBWwQsGHEhQatVFhB/mNAojFVsQgBhgKpSHRTRxEhGwhoRg0CCXYAkKHHPZCZRAKUERZMAYGMCEAIfkEBQcAEAAsAAABABAADwAABV0gJI4kFJToGAilwKLCST6PUcrB8A70844CXenwILRkIoYyBRk4BQlHo3FIOQmvAEGBMpYSop/IgPBCFpCqIuEsIESHgkgoJxwQAjSzwb1DClwwgQhgAVVMIgVyKCEAIfkECQcAEAAsAAAAABAAEAAABWQgJI5kSQ6NYK7Dw6xr8hCw+ELC85hCIAq3Am0U6JUKjkHJNzIsFAqDqShQHRhY6bKqgvgGCZOSFDhAUiWCYQwJSxGHKqGAE/5EqIHBjOgyRQELCBB7EAQHfySDhGYQdDWGQyUhADs=</File>
        <File Location="var/httpd/htdocs/images/AKS/treeview/watch.gif" Permission="664" Encode="Base64">R0lGODlhEgASALMAAAAAmZkAAP///9zc3Nvb27W1tbS0tImJiYiIiP///wAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAkALAAAAAASABIAAARmMMlJq50HoYwuPkRIDMR2gYNRrOswHBW4CnStEvCEEEXtCwYcZtD7CQC0QkmyKwZqyOQysTPUnlFprunLJgedxIFo9CnDIGtZO1QblTnJePZrxeWkgmo/umN2In1hHhoHGX4eiRIRADs=</File>
        <File Location="var/httpd/htdocs/js/FieldTree.js" Permission="775" Encode="Base64">ZnVuY3Rpb24gRGVsZXRlU2F2ZWRGaWVsZHMoU2NvcGUpCnsKCXZhciBEeW5hbWljRmllbGROYW1lID0gU2NvcGUuZmluZCgiLkZpZWxkVHJlZU5hbWUiKS5hdHRyKCduYW1lJyk7CgkKCVNjb3BlLmZpbmQoJy4nICsgRHluYW1pY0ZpZWxkTmFtZSArICdfRmllbGRfVmFsdWUnKS5lYWNoKGZ1bmN0aW9uKCl7CgkJJCh0aGlzKS5yZW1vdmUoKTsKCX0pOwkKfQoKZnVuY3Rpb24gT3BlbkZpZWxkVHJlZShMaW5rLCBTY29wZSwgQ2FsbGJhY2ssIE5vRWZmZWN0cykKewoJdmFyIER5bmFtaWNGaWVsZE5hbWUgPSBTY29wZS5maW5kKCIuRmllbGRUcmVlTmFtZSIpLmF0dHIoJ25hbWUnKTsKCXZhciBJc1JlYWRPbmx5ID0gU2NvcGUuZmluZCgiaW5wdXRbbmFtZT0iICsgRHluYW1pY0ZpZWxkTmFtZSArICJfUmVhZE9ubHldIikudmFsKCk7CglTY29wZS5maW5kKCJpbnB1dFtuYW1lPSIgKyBEeW5hbWljRmllbGROYW1lICsgIl9GaWVsZFRyZWVJRF0iKS52YWwoTGluay5hdHRyKCdyZWwnKSk7CgkKCXZhciBob2xkZXIgPSBTY29wZS5maW5kKCcjRmllbGRUcmVlSG9sZGVyLScrTGluay5hdHRyKCdyZWwnKSk7CgkKICAgIGlmIChob2xkZXIuY3NzKCdkaXNwbGF5JykgPT0gJ25vbmUnKQogICAgewoJCWlmKENvcmUuQ29uZmlnLkdldCgnQWN0aW9uJykuc3Vic3RyaW5nKDAsIDUpID09ICdBZ2VudCcpCgkJCXZhciBBY3Rpb24gPSAnQWdlbnRGaWVsZFRyZWUnCgkJZWxzZQoJCQl2YXIgQWN0aW9uID0gJ0N1c3RvbWVyRmllbGRUcmVlJzsKCQkKCQl2YXIgRmllbGRUcmVlRmllbGRWYWx1ZXMgPSBuZXcgQXJyYXkoKTsKCQkKICAgIAl2YXIgRmllbGRUcmVlVmFsdWVTZXRJZCA9IFNjb3BlLmZpbmQoJ2lucHV0W25hbWU9JyArIER5bmFtaWNGaWVsZE5hbWUgKyAnXScpLnZhbCgpOwogICAgCXZhciBwbGFjZSA9IGhvbGRlci5maW5kKCIuRm9yRHluYW1pY0xvYWQgZGl2LkR5bmFtaWNseUxvYWRlZENvbnRlbnQiKTsKICAgIAkKICAgIAl2YXIgRGF0YSA9IHsKCQkJJ0FjdGlvbic6IEFjdGlvbiwKCQkJJ1N1YmFjdGlvbic6ICdBamF4RmllbGRzJywKCQkJJ0l0ZW1JRCc6IExpbmsuYXR0cigncmVsJyksCgkJCSdEeW5hbWljRmllbGROYW1lJzogRHluYW1pY0ZpZWxkTmFtZSwKCQkJJ1ZhbHVlU2V0SUQnOiBGaWVsZFRyZWVWYWx1ZVNldElkLAoJCQknRGlzYWJsZWQnOiBJc1JlYWRPbmx5LAoJCQknRG9Ob3RTaG93V2FybmluZ3MnOiAxLAoJCQknRmllbGRWYWx1ZXMnOiBGaWVsZFRyZWVGaWVsZFZhbHVlcwoJCX07CgkJCgkJU2NvcGUuZmluZCgnLicgKyBEeW5hbWljRmllbGROYW1lICsgJ19GaWVsZF9WYWx1ZScpLmVhY2goZnVuY3Rpb24oKXsKCQkJdmFyIG5hbWUgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKTsKCQkJRGF0YVtuYW1lXSA9ICQodGhpcykudmFsKCk7CgkJfSk7CiAgICAJCiAgICAJaWYgKHBsYWNlLmxlbmd0aCA9PSAwKQogICAgCQlwbGFjZSA9IGhvbGRlcjsKICAgIAkKICAgIAlwbGFjZS5sb2FkKAogICAgCQlDb3JlLkNvbmZpZy5HZXQoJ0Jhc2VsaW5rJyksCiAgICAJCURhdGEsIAogICAgCQlmdW5jdGlvbigpIHsKICAgIAkJCWhvbGRlci5zbGlkZURvd24oTm9FZmZlY3RzID8gMCA6IDUwMCk7CiAgICAJCQkKICAgIAkJCUNvbGxhcHNlQWxsKExpbmspOwoJICAgIAkJCgkgICAgCQkvKioKCSAgICAJCSAqIENoZWNrcyB3aGV0aGVyIG9wZW5lZCBicmFuY2ggaGFzIGFueSBpbnB1dCBmaWVsZHMuCgkgICAgCQkgKi8KCSAgICAJCXZhciBzb21ldGhpbmdNZWFuaW5nZnVsID0gaG9sZGVyLmZpbmQoIi5Gb3JEeW5hbWljTG9hZCBkaXYuRHluYW1pY2x5TG9hZGVkQ29udGVudCBpbnB1dFtuYW1lPU5vRmllbGRzTG9hZGVkXSIpLmxlbmd0aCA9PSAwOwogICAgCQkJU2NvcGUuZmluZCgiaW5wdXRbbmFtZT0iICsgRHluYW1pY0ZpZWxkTmFtZSArICJfU2VsZWN0ZWRdIikudmFsKHNvbWV0aGluZ01lYW5pbmdmdWwgPyAxIDogIiIpOwogICAgCQkJCiAgICAJCQlpZihzb21ldGhpbmdNZWFuaW5nZnVsKQogICAgCQkJCVNjb3BlLnJlbW92ZUNsYXNzKCdFcnJvck5vdFNlbGVjdGVkJyk7CiAgICAJCQkKICAgIAkJCS8qKgogICAgCQkJICogQWZ0ZXIgZmllbGR0cmVlIGlucHV0cyBoYXZlIGJlZW4gbG9hZGVkIHdlIG11c3QgcmUtaW5pdCB2YWxpZGF0b3IgZW5naW5lLgogICAgCQkJICovCiAgICAJCQlDb3JlLkZvcm0uVmFsaWRhdGUuSW5pdCgpOwogICAgCQkJCiAgICAJCQlDYWxsYmFjaygpOwogICAgCX0pOwogICAgfQp9CgoKLyoqCiAqIENsb3NlcyBldmVyeSBvcGVuZWQgZmllbGR0cmVlIGJyYW5jaCBleGNlcHQgdGhlIG9uZSBnaXZlbihhbmQgaXQncyBwYXJlbnQgYnJhbmNoZXMpLgogKi8KCmZ1bmN0aW9uIENvbGxhcHNlQWxsKGV4Y2VwdCl7CgkKCS8qKgoJICogIEZpbmRzIGJyYW5jaCdzIGFuZCBpdCdzIGFuY2VzdG9ycycoaWYgdGhlcmUgYXJlIGFueSkgaWRlbnRpZmllcnMuCgkgKi8KCQoJaWYoZXhjZXB0Lmhhc0NsYXNzKCdMZXZlbDFPcGVuZXInKSkKCXsKCQl2YXIgZmlyc3RsdmwgPSAnRmllbGRUcmVlSG9sZGVyLScgKyBleGNlcHQuYXR0cigncmVsJyk7CgkJdmFyIHNlY29uZGx2bCA9IG51bGw7CgkJdmFyIHRoaXJkbHZsID0gbnVsbDsKCX0KCWVsc2UgaWYoZXhjZXB0Lmhhc0NsYXNzKCdMZXZlbDJPcGVuZXInKSkKCXsKCQl2YXIgZmlyc3RsdmwgPSBleGNlcHQucGFyZW50KCkucGFyZW50KCkuYXR0cignaWQnKTsKCQl2YXIgc2Vjb25kbHZsID0gJ0ZpZWxkVHJlZUhvbGRlci0nICsgZXhjZXB0LmF0dHIoJ3JlbCcpOwoJCXZhciB0aGlyZGx2bCA9IG51bGw7Cgl9CgllbHNlCgl7CgkJdmFyIGZpcnN0bHZsID0gZXhjZXB0LnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2lkJyk7CgkJdmFyIHNlY29uZGx2bCA9IGV4Y2VwdC5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdpZCcpOwoJCXZhciB0aGlyZGx2bCA9ICdGaWVsZFRyZWVIb2xkZXItJyArIGV4Y2VwdC5hdHRyKCdyZWwnKTsKCX0KCQoJLyoqCgkgKiBDbG9zZXMgZmlyc3QgbGV2ZWwgYnJhbmNoZXMKCSAqLwoJCQoJJCgnLkZpZWxkVHJlZSA+IC5GaWVsZFRyZWVIb2xkZXInKS5lYWNoKGZ1bmN0aW9uKCl7CgkJaWYoJCh0aGlzKS5hdHRyKCdpZCcpICE9IGZpcnN0bHZsKQoJCXsKCQkJJCh0aGlzKS5zbGlkZVVwKDUwMCk7CgkJCSQodGhpcykucGFyZW50KCkuZmluZCgnYVtyZWw9XCcnICsgJCh0aGlzKS5hdHRyKCdpZCcpLnN1YnN0cmluZygxNikgKyAnXCddIHNwYW4nKS5odG1sKCcmIzk2NTY7Jyk7CgkJfQoJfSk7CgkKCS8qKgoJICogQ2xvc2VzIHNlY29uZCBsZXZlbCBicmFuY2hlcwoJICovCgkKCSQoJy5GaWVsZFRyZWUgPiAuRmllbGRUcmVlSG9sZGVyID4gLkZpZWxkVHJlZUhvbGRlci1MZXZlbDInKS5lYWNoKGZ1bmN0aW9uKCl7CgkJaWYoJCh0aGlzKS5hdHRyKCdpZCcpICE9IHNlY29uZGx2bCkKCQkJJCh0aGlzKS5zbGlkZVVwKDUwMCk7Cgl9KTsKCQoJLyoqCgkgKiBDbG9zZXMgdGhpcmQgbGV2ZWwgYnJhbmNoZXMKCSAqLwoJCgkkKCcuRmllbGRUcmVlIC5GaWVsZFRyZWVIb2xkZXIgPiAuRmllbGRUcmVlSG9sZGVyLUxldmVsMycpLmVhY2goZnVuY3Rpb24oKXsKCQlpZigkKHRoaXMpLmF0dHIoJ2lkJykgIT0gdGhpcmRsdmwpCgkJCSQodGhpcykuc2xpZGVVcCg1MDApOwoJfSk7Cn0KCkNvcmUuQXBwLlJlYWR5KGZ1bmN0aW9uICgpIHsKCQoJLyoqCgkgKiBDdXN0b20gdmFsaWRhdGlvbiBmaWx0ZXJzIGFyZSBiZWluZyBjcmVhdGVkIGhlcmUuCgkgKi8KCgkkLnZhbGlkYXRvci5hZGRNZXRob2QoIlZhbGlkYXRlX1Bob25lIiwgZnVuY3Rpb24gKFZhbHVlLCBFbGVtZW50KSB7CgkJcGhvbmVUZXN0ID0gL14oWzAtOVwoXClcL1wrIFwtXSopJC87CgkJCgkJcmV0dXJuIHBob25lVGVzdC50ZXN0KFZhbHVlKTsKCX0pOwoKCSQudmFsaWRhdG9yLmFkZE1ldGhvZCgiVmFsaWRhdGVfTW9uZXkiLCBmdW5jdGlvbiAoVmFsdWUsIEVsZW1lbnQpIHsKCQltb25leVRlc3QgPSAvXlwkP1swLTldKygsWzAtOV17M30pKihcLlswLTldezJ9KT8kLzsKCQkKCQlyZXR1cm4gbW9uZXlUZXN0LnRlc3QoVmFsdWUpOwoJfSk7CgkKICAgICQoJ2EuTGV2ZWwxT3BlbmVyJykuY2xpY2soZnVuY3Rpb24oZSkgewoJCQogICAgCS8qKgogICAgCSAqIElmIFN1YmplY3QgaXMgbm90IHNldCwgZmlsbHMgaXQgaW4gd2l0aCB0aGUgbmFtZSBvZiBzZWxlY3RlZCBmaWVsZHRyZWUgYnJhbmNoLgogICAgCSAqLwogICAgCWlmKCQoImZvcm0gaW5wdXRbbmFtZT1TdWJqZWN0XSIpLnZhbCgpID09ICcnKQogICAgCQkkKCJmb3JtIGlucHV0W25hbWU9U3ViamVjdF0iKS52YWwoJCh0aGlzKS50ZXh0KCkuc3Vic3RyaW5nKDMpKTsKICAgIAkKICAgIAkvKioKICAgIAkgKiBGaW5kcyBhIGZpZWxkdHJlZSBjb250YWluaW5nIHRoaXMgb2JqZWN0LgogICAgCSAqLwogICAgCXRoYXQgPSAkKHRoaXMpOwogICAgCQogICAgCVNjb3BlID0gbnVsbDsKICAgIAkKICAgIAkkKCIuRmllbGRUcmVlRm9ybSIpLmVhY2goZnVuY3Rpb24oKXsKICAgIAkJaWYoJCh0aGlzKS5maW5kKHRoYXQpLmxlbmd0aCA9PSAxKQogICAgCQkJU2NvcGUgPSAkKHRoaXMpOwogICAgCX0pOwogICAgCWlmKFNjb3BlID09IG51bGwpCiAgICAJCXJldHVybjsKICAgIAkKICAgIAlEZWxldGVTYXZlZEZpZWxkcyhTY29wZSk7CiAgICAJCiAgICAJT3BlbkZpZWxkVHJlZSgkKHRoaXMpLCBTY29wZSwgZnVuY3Rpb24oKXt9LCBmYWxzZSk7CiAgICAJCiAgICB9KTsKICAgIAogICAgJCgnYS5MZXZlbDJPcGVuZXInKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCiAgICAJLyoqCiAgICAJICogSWYgU3ViamVjdCBpcyBub3Qgc2V0LCBmaWxscyBpdCBpbiB3aXRoIHRoZSBuYW1lIG9mIHNlbGVjdGVkIGZpZWxkdHJlZSBicmFuY2guCiAgICAJICovCiAgICAJaWYoJCgiZm9ybSBpbnB1dFtuYW1lPVN1YmplY3RdIikudmFsKCkgPT0gJycpCiAgICAJCSQoImZvcm0gaW5wdXRbbmFtZT1TdWJqZWN0XSIpLnZhbCgkKHRoaXMpLnRleHQoKS5zdWJzdHJpbmcoMykpOwogICAgCQogICAgCS8qKgogICAgCSAqIEZpbmRzIGEgZmllbGR0cmVlIGNvbnRhaW5pbmcgdGhpcyBvYmplY3QuCiAgICAJICovCiAgICAJdGhhdCA9ICQodGhpcyk7CiAgICAJCiAgICAJU2NvcGUgPSBudWxsOwogICAgCQogICAgCSQoIi5GaWVsZFRyZWVGb3JtIikuZWFjaChmdW5jdGlvbigpewogICAgCQlpZigkKHRoaXMpLmZpbmQodGhhdCkubGVuZ3RoID09IDEpCiAgICAJCQlTY29wZSA9ICQodGhpcyk7CiAgICAJfSk7CiAgICAJaWYoU2NvcGUgPT0gbnVsbCkKICAgIAkJcmV0dXJuOwogICAgCQogICAgCURlbGV0ZVNhdmVkRmllbGRzKFNjb3BlKTsKCQkKICAgIAlPcGVuRmllbGRUcmVlKCQodGhpcyksIFNjb3BlLCBmdW5jdGlvbigpe30sIGZhbHNlKTsKICAgIH0pOwogICAgCiAgICAkKCdhLkxldmVsM09wZW5lcicpLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkKICAgIAkvKioKICAgIAkgKiBJZiBTdWJqZWN0IGlzIG5vdCBzZXQsIGZpbGxzIGl0IGluIHdpdGggdGhlIG5hbWUgb2Ygc2VsZWN0ZWQgZmllbGR0cmVlIGJyYW5jaC4KICAgIAkgKi8KICAgIAlpZigkKCJmb3JtIGlucHV0W25hbWU9U3ViamVjdF0iKS52YWwoKSA9PSAnJykKICAgIAkJJCgiZm9ybSBpbnB1dFtuYW1lPVN1YmplY3RdIikudmFsKCQodGhpcykudGV4dCgpLnN1YnN0cmluZygzKSk7CiAgICAJCiAgICAJLyoqCiAgICAJICogRmluZHMgYSBmaWVsZHRyZWUgY29udGFpbmluZyB0aGlzIG9iamVjdC4KICAgIAkgKi8KICAgIAl0aGF0ID0gJCh0aGlzKTsKICAgIAkKICAgIAlTY29wZSA9IG51bGw7CiAgICAJCiAgICAJJCgiLkZpZWxkVHJlZUZvcm0iKS5lYWNoKGZ1bmN0aW9uKCl7CiAgICAJCWlmKCQodGhpcykuZmluZCh0aGF0KS5sZW5ndGggPT0gMSkKICAgIAkJCVNjb3BlID0gJCh0aGlzKTsKICAgIAl9KTsKICAgIAlpZihTY29wZSA9PSBudWxsKQogICAgCQlyZXR1cm47CiAgICAJCiAgICAJRGVsZXRlU2F2ZWRGaWVsZHMoU2NvcGUpOwoJCQogICAgCU9wZW5GaWVsZFRyZWUoJCh0aGlzKSwgU2NvcGUsIGZ1bmN0aW9uKCl7fSwgZmFsc2UpOwogICAgfSk7CiAgICAgCn0pOwoKLyoqCiAqIEZpbmFsbHksIGFmdGVyIGFsbCB0aGUgY29uZmlnIGlzIHNldCwgd2UgY2FuIGR5bmFtaWNseSBsb2FkIGZpZWxkdHJlZSBjb250ZW50IGZvciBwcmV2aWV3LgogKi8KCkNvcmUuQXBwLkZpbmFsbHkoZnVuY3Rpb24gKCkgewoKCSQoIi5GaWVsZFRyZWVQcmV2aWV3IikuZWFjaChmdW5jdGlvbigpewoJCQkKCQl2YXIgRHluYW1pY0ZpZWxkTmFtZSA9ICQodGhpcykuZmluZCgiLkZpZWxkVHJlZU5hbWUiKS5hdHRyKCduYW1lJyk7CgkJCgkJaWYoQ29yZS5Db25maWcuR2V0KCdBY3Rpb24nKS5zdWJzdHJpbmcoMCwgNSkgPT0gJ0FnZW50JykKCQkJdmFyIEFjdGlvbiA9ICdBZ2VudEZpZWxkVHJlZScKCQllbHNlCgkJCXZhciBBY3Rpb24gPSAnQ3VzdG9tZXJGaWVsZFRyZWUnOwoJCQoJCXRoYXQgPSAkKHRoaXMpOwoJCQoJCSQodGhpcykuZmluZCgiLkZpZWxkVHJlZUhvbGRlci1MZXZlbDIiKS5sb2FkKAoJCQlDb3JlLkNvbmZpZy5HZXQoJ0Jhc2VsaW5rJyksCgkJCXsKCQkJCSdBY3Rpb24nOiBBY3Rpb24sCgkJCQknU3ViYWN0aW9uJzogJ0FqYXhGaWVsZHMnLAoJCQkJJ0l0ZW1JRCc6ICQodGhpcykuZmluZCgiaW5wdXRbbmFtZT0iICsgRHluYW1pY0ZpZWxkTmFtZSArICJfRmllbGRUcmVlSURdIikudmFsKCksCgkJCQknRHluYW1pY0ZpZWxkTmFtZSc6IER5bmFtaWNGaWVsZE5hbWUsCgkJCQknVmFsdWVTZXRJRCc6ICQodGhpcykuZmluZCgiaW5wdXRbbmFtZT0iICsgRHluYW1pY0ZpZWxkTmFtZSArICJdIikudmFsKCksCgkJCQknRGlzYWJsZWQnOiAkKHRoaXMpLmZpbmQoImlucHV0W25hbWU9IiArIER5bmFtaWNGaWVsZE5hbWUgKyAiX1JlYWRPbmx5XSIpLnZhbCgpCgkJCX0sCgkJCWZ1bmN0aW9uKCl7CgkJCQl0aGF0LnNob3coKTsKCQkJfQoJCSk7CgkJCgl9KTsKCQoJJCgiLkZpZWxkVHJlZUZvcm0iKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCgkJZnVuY3Rpb24gTG9hZEZpZWxkVHJlZXMoU2NvcGUsIEZpZWxkVHJlZUxpc3QpCgkJewoJCQl2YXIgTGluayA9IFNjb3BlLmZpbmQoImEuTGV2ZWwxT3BlbmVyW3JlbD0iICsgRmllbGRUcmVlTGlzdFswXSArICJdLCBhLkxldmVsMk9wZW5lcltyZWw9IiArIEZpZWxkVHJlZUxpc3RbMF0gKyAiXSwgYS5MZXZlbDNPcGVuZXJbcmVsPSIgKyBGaWVsZFRyZWVMaXN0WzBdICsgIl0iKTsKCQoJCQlpZihMaW5rLmxlbmd0aCA9PSAxKQoJCQkJT3BlbkZpZWxkVHJlZShMaW5rLCBTY29wZSwgZnVuY3Rpb24oKXsKCQkJCQlpZihGaWVsZFRyZWVMaXN0Lmxlbmd0aCA+IDApCgkJCQkJCUxvYWRGaWVsZFRyZWVzKFNjb3BlLCBGaWVsZFRyZWVMaXN0LnNsaWNlKDEpKTsKCQkJCX0sIHRydWUpOwoJCX0KCQkKCQl2YXIgRHluYW1pY0ZpZWxkTmFtZSA9ICQodGhpcykuZmluZCgiLkZpZWxkVHJlZU5hbWUiKS5hdHRyKCduYW1lJyk7CgkJCgkJdmFyIEZpZWxkVHJlZXNUb09wZW4gPSAkKHRoaXMpLmZpbmQoImlucHV0W25hbWU9IiArIER5bmFtaWNGaWVsZE5hbWUgKyAiX0ZpZWxkVHJlZXNUb09wZW5dIikudmFsKCkuc3BsaXQoJywnKTsKCQkKCQlMb2FkRmllbGRUcmVlcygkKHRoaXMpLCBGaWVsZFRyZWVzVG9PcGVuKTsKCX0pOwp9KTsK</File>
        <File Location="var/httpd/htdocs/js/Tree.js" Permission="664" Encode="Base64">Ly8gQ29weXJpZ2h0IChjKSAyMDA2IFRhZmVsLCBGYWJpZW4gVGFmZWxtYWNoZXIKLy8KLy8gU2VlIGh0dHA6Ly9tZW1icmVzLmx5Y29zLmZyL3RhZmVsbWFrL2FyYnJlLnBocCBmb3IgbW9yZSBpbmZvCi8vIAovLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcKLy8gYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlCi8vICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcKLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLAovLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8KLy8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvCi8vIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKLy8gCi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlCi8vIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgovLwovLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwKLy8gRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GCi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5ECi8vIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUKLy8gTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTgovLyBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04KLy8gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCi8vCi8vIFRoaXMgaXMgZGlzdHJpYnV0ZWQgdW5kZXIgRnJlZS1CU0QgbGljZW5jZS4KCi8qCkB0b2RvCi0tLS0tLS0tLS0tLS0tLS0tLQpjaGVjay1yZXN0b3JlIGRlZmF1bHQKZ2VzdGlvbiB4bWwgKGxvYWQgKyBzYXZlKQptdWx0aWRyb3AKc2Nyb2xsZHJvcAoqLwoKCgoKCgovKioKICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICoJCQkJCQkJVGFmZWxUcmVlIENsYXNzCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqLwoKdmFyIFRBRkVMVFJFRV9XUk9OR19CUkFOQ0hfU1RSVUNUVVJFID0gIkxhIHN0cnVjdHVyZSBkZSBsYSBicmFuY2hlIG4nZXN0IHBhcyBjb3JyZWN0ZS4gSWwgZmF1dCBhdSBtb2lucyB1biBpZCBldCB1biB0ZXh0ZSI7CnZhciBUQUZFTFRSRUVfTk9fQk9EWV9UQUcgPSAiSWwgbid5IGEgcGFzIGRlIGJhbGlzZSBCT0RZISI7CnZhciBUQUZFTFRSRUVfREVCVUcgPSBmYWxzZTsKCnZhciBUYWZlbFRyZWUgPSBDbGFzcy5jcmVhdGUoKTsKCi8qKgogKiBGcmFnbWVudCBkZSBzY3JpcHQgcG91ciBzdXBwcmltZXIgbGVzIDx1bD48L3VsPiBsb3JzIGR1IGxvYWRGcm9tVUwoKQogKi8KLy9UYWZlbFRyZWUuc2NyaXB0RnJhZ21lbnQgPSAvKD86PHVsLio/PikoKFxufFxyfC4pKikqL2ltZzsKClRhZmVsVHJlZS52ZXJzaW9uID0gJzEuOS4xJzsKVGFmZWxUcmVlLmxhc3RVcGRhdGUgPSAnMjAwNy0wNy0yMSc7CgpUYWZlbFRyZWUuc2NyaXB0RnJhZ21lbnQgPSAvW1xzXSo8Wy9dP1t1bHxsaV0uKj4uKi9pZzsKClRhZmVsVHJlZS5kZWJ1Z1JldHVybiA9ICc8YnIgLz4nOwpUYWZlbFRyZWUuZGVidWdUYWIgPSAnJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7JzsKCi8qKgogKiBBdHRyaWJ1dHMgZGVzIExJCiAqLwpUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlID0gJ1QnOwpUYWZlbFRyZWUudGV4dEF0dHJpYnV0ZXMgPSBbCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ2ltZycsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ2ltZ29wZW4nLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdpbWdjbG9zZScsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ2ltZ3NlbGVjdCcsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ2ltZ3NlbGVjdG9wZW4nLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdpbWdzZWxlY3RjbG9zZScsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ3N0eWxlJywKCVRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUgKyAnZHJvcGxpbmsnLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdvcGVubGluaycsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ2VkaXRsaW5rJywKCVRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUgKyAndG9vbHRpcCcsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ3RpdGxlJwpdOwpUYWZlbFRyZWUubnVtZXJpY0F0dHJpYnV0ZXMgPSBbCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ2NhbmhhdmVjaGlsZHJlbicsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ2FjY2VwdGRyb3AnLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdkcmFnZ2FibGUnLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdlZGl0YWJsZScsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ29wZW4nLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdjaGVjaycsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ2NoZWNrYm94JywKCVRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUgKyAnc2VsZWN0JywKCVRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUgKyAnbGFzdCcKXTsKVGFmZWxUcmVlLmZ1bmN0aW9uQXR0cmlidXRlcyA9IFsKCVRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUgKyAnb25iZWZvcmVjaGVjaycsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ29uY2hlY2snLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdvbnJhZGlvJywKCVRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUgKyAnb25jbGljaycsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ29uZGJsY2xpY2snLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdvbmJlZm9yZW9wZW4nLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdvbm9wZW4nLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdvbmVkaXQnLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdvbmVkaXRhamF4JywKCVRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUgKyAnb25tb3VzZW92ZXInLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdvbm1vdXNlb3V0JywKCVRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUgKyAnb25tb3VzZWRvd24nLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdvbm1vdXNldXAnLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdvbmRyb3AnLAoJVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSArICdvbmRyYWdzdGFydGVmZmVjdCcsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ29uZHJhZ2VuZGVmZmVjdCcsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ29uZXJyb3JhamF4JywKCVRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUgKyAnb25kcm9wYWpheCcsCglUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlICsgJ29ub3BlbnBvcHVsYXRlJwpdOwoJCgoKLyoqCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqCQkJCQkJCVRhZmVsVHJlZSBzdGF0aWMgbWV0aG9kcwogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKi8KCi8qKgogKiBDb25zdHJ1Y3RldXIgZCd1biBub3V2ZWwgYXJicmUgdmlhIFVMCiAqCiAqIEBhY2Nlc3MJcHVibGljCiAqIEBwYXJhbQlzdHJpbmcJCQkJaWQJCQkJCQlMJ2lkIGRlIGwn77+9bO+/vW1lbnQgSFRNTCBjb250ZW5ldXIKICogQHBhcmFtCXN0cmluZwkJCQlpbWdCYXNlCQkJCQlMZSBwYXRoIHZlcnMgbGVzIGltYWdlcywgb3UgbGVzIG9wdGlvbnMKICogQHBhcmFtCWludGVnZXIJCQkJd2lkdGgJCQkJCUxhIGxhcmdldXIgZGUgbCdhcmJyZQogKiBAcGFyYW0JaW50ZWdlcgkJCQloZWlnaHQJCQkJCUxhIGhhdXRldXIgZGUgbCdhcmJyZQogKiBAcGFyYW0Jb2JqZWN0CQkJCW9wdGlvbnMJCQkJCUxlcyBvcHRpb25zIGRlIGfvv71u77+9cmF0aW9uCiAqIEByZXR1cm4JVGFmZWxUcmVlCQkJCQkJCQkJTCdhcmJyZSBjcu+/ve+/vSBzdXIgbGEgYmFzZSBkZXMgVUwgLSBMSQogKi8JClRhZmVsVHJlZS5sb2FkRnJvbVVMID0gZnVuY3Rpb24gKGlkLCBpbWdCYXNlLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zLCBkZWJ1ZykgewoJLy8gMjAwNi0xMS0yNSA6ICJvcHRpb25zIiBlc3QgbWFpbnRlbmFudCDvv70gbGEgcGxhY2UgZGUgImltZ0Jhc2UiCglpZiAodHlwZW9mKGltZ0Jhc2UpID09ICdvYmplY3QnKSB7CgkJb3B0aW9ucyA9IGltZ0Jhc2U7CgkJZGVidWcgPSB3aWR0aDsKCQlpbWdCYXNlID0gKG9wdGlvbnMuaW1nQmFzZSkgPyBvcHRpb25zLmltZ0Jhc2UgOiAnaW1ncy8nOwoJCXdpZHRoID0gKG9wdGlvbnMud2lkdGgpID8gb3B0aW9ucy53aWR0aCA6ICcxMDAlJzsKCQloZWlnaHQgPSAob3B0aW9ucy5oZWlnaHQpID8gb3B0aW9ucy5oZWlnaHQgOiAnYXV0byc7Cgl9CgoJLy8gU3VpdGUKCXZhciBvYmogPSAkKGlkKTsKCXZhciBsb2FkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7Cglsb2FkLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnbG9hZCcpOwoJbG9hZC5zZXRBdHRyaWJ1dGUoJ2FsdCcsICdsb2FkJyk7Cglsb2FkLnNyYyA9ICgoaW1nQmFzZSkgPyBpbWdCYXNlIDogJ2ltZ3MvJykgKyAnbG9hZC5naWYnOwoJb2JqLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGxvYWQsIG9iaik7CglFbGVtZW50LmhpZGUob2JqKTsKCQoJdmFyIHRhYiA9ICcnOwoJdmFyIHRhYk1vZGVsID0gKGRlYnVnKSA/IFRhZmVsVHJlZS5kZWJ1Z1RhYiA6ICcnOwoJdmFyIHJ0ID0gKGRlYnVnKSA/IFRhZmVsVHJlZS5kZWJ1Z1JldHVybiA6ICcnOwoJdmFyIHZpcmd1bGUgPSAnJzsKCXZhciBzdHIgPSAoZGVidWcpID8gJ3ZhciBzdHJ1Y3QgPSBbJyA6ICcoWyc7Cglmb3IgKHZhciBpID0gMDsgaSA8IG9iai5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CgkJaWYgKG9iai5jaGlsZE5vZGVzW2ldLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2xpJykgewoJCQlzdHIgKz0gdGhpcy5fbG9hZEZyb21VTChvYmouY2hpbGROb2Rlc1tpXSwgdmlyZ3VsZSwgcnQsIHRhYiwgdGFiTW9kZWwpOwoJCQl2aXJndWxlID0gJywnOwoJCX0KCX0KCXN0ciArPSBydCArICgoZGVidWcpID8gJ107JyA6ICddKScpOwoJCgl2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CglkaXYuaWQgPSBvYmouaWQ7CglvYmouaWQgKz0gJ19fX190b2RlbGV0ZSc7CglvYmoucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZGl2LCBvYmopOwoJaWYgKCFkZWJ1ZykgewoJCXZhciBtID0gVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZTsKCQl2YXIgc3RydWN0ID0gZXZhbChzdHIpOwoJCXZhciBfdHJlZSA9IG5ldyBUYWZlbFRyZWUoaWQsIHN0cnVjdCwgb3B0aW9ucyk7Cgl9IGVsc2UgewoJCWRpdi5pbm5lckhUTUwgPSBzdHIucmVwbGFjZSgvPC9pbWcsICcmbHQ7Jyk7CgkJdmFyIF90cmVlID0gc3RyOwoJfQoJb2JqLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobG9hZCk7CglvYmoucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvYmopOwoJcmV0dXJuIF90cmVlOwp9OwoKLyoqCiAqIE3vv710aG9kZSBy77+9Y3Vyc2l2ZSBxdWkgdmEgcu+/vWN1cO+/vXJlciBsZXMgaW5mb3MgZGUgdG91cyBsZXMgTEkKICoKICogQGFjY2Vzcwlwcml2YXRlCiAqIEBwYXJhbQlIVE1MTGlFbGVtZW50CQlvYmoJCQkJCQlMYSBMSSBjb3VyYW50ZQogKiBAcGFyYW0Jc3RyaW5nCQkJCXZpcmd1bGUJCQkJCUTvv710ZXJtaW5lIHMnaWwgeSBhIHVuZSB2aXJndWxlIGF2YW50IGwnYWNjb2xhZGUgb3V2cmFudGUKICogQHBhcmFtCXN0cmluZwkJCQlydAkJCQkJCVJldG91ciBkZSBsaWduZSAocG91ciBsZSBkZWJ1ZykKICogQHBhcmFtCXN0cmluZwkJCQl0YWIJCQkJCQlMYSB0YWJ1bGF0aW9uIGNvdXJhbnRlIChwb3VyIGxlIGRlYnVnKQogKiBAcGFyYW0Jc3RyaW5nCQkJCXRhYk1vZGVsCQkJCUxhIGdyYW5kZXVyIGQndW5lIHRhYnVsYXRpb24gKHBvdXIgbGUgZGVidWcpCiAqIEByZXR1cm4Jc3RyaW5nCQkJCQkJCQkJCUxhIHN0cmluZyBKU09OIGTvv71yaXbvv71lIGRlIGxhIHN0cnVjdHVyZSBVTCAtIExJCiAqLwpUYWZlbFRyZWUuX2xvYWRGcm9tVUwgPSBmdW5jdGlvbiAob2JqLCB2aXJndWxlLCBydCwgdGFiLCB0YWJNb2RlbCkgewoJdGFiICs9IHRhYk1vZGVsOwoJdmFyIGNvbnRlbnUgPSBUYWZlbFRyZWUudHJpbShvYmouaW5uZXJIVE1MLnJlcGxhY2UoVGFmZWxUcmVlLnNjcmlwdEZyYWdtZW50LCAnJykpOwoJdmFyIHN0ciA9IHZpcmd1bGUgKyBydCArIHRhYiArICd7JyArIHJ0OwoJLy8gRO+/vWZpbml0aW9uIGRlIHRvdXRlcyBsZXMgcHJvcHJp77+9dO+/vXMKCXN0ciArPSB0YWIgKyAiJ2lkJyA6ICciICsgb2JqLmlkICsgIiciOwoJaWYgKGNvbnRlbnUpIHsKCQlzdHIgKz0gIiwiICsgcnQgKyB0YWIgKyAiJ3R4dCcgOiAnIiArIGNvbnRlbnUgKyAiJyI7Cgl9CglUYWZlbFRyZWUudGV4dEF0dHJpYnV0ZXMuZWFjaChmdW5jdGlvbiAoYXR0cikgewoJCWlmIChvYmouZ2V0QXR0cmlidXRlKGF0dHIpKSBzdHIgKz0gIiwiICsgcnQgKyB0YWIgKyAiJyIgKyBhdHRyLnJlcGxhY2UoVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSwgJycpICsgIicgOiAnIiArIG9iai5nZXRBdHRyaWJ1dGUoYXR0cikgKyAiJyI7Cgl9KTsKCVRhZmVsVHJlZS5udW1lcmljQXR0cmlidXRlcy5lYWNoKGZ1bmN0aW9uIChhdHRyKSB7CgkJaWYgKG9iai5nZXRBdHRyaWJ1dGUoYXR0cikpIHN0ciArPSAiLCIgKyBydCArIHRhYiArICInIiArIGF0dHIucmVwbGFjZShUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlLCAnJykgKyAiJyA6ICIgKyBvYmouZ2V0QXR0cmlidXRlKGF0dHIpOwoJfSk7CglUYWZlbFRyZWUuZnVuY3Rpb25BdHRyaWJ1dGVzLmVhY2goZnVuY3Rpb24gKGF0dHIpIHsKCQlpZiAob2JqLmdldEF0dHJpYnV0ZShhdHRyKSkgc3RyICs9ICIsIiArIHJ0ICsgdGFiICsgIiciICsgYXR0ci5yZXBsYWNlKFRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUsICcnKSArICInIDogIiArIG9iai5nZXRBdHRyaWJ1dGUoYXR0cik7Cgl9KTsKCS8vIETvv71maW5pdGlvbiBkZXMgZW5mYW50cwoJZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykgewoJCWlmIChvYmouY2hpbGROb2Rlc1tpXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09ICd1bCcpIHsKCQkJdmlyZ3VsZSA9ICcnOwoJCQlzdHIgKz0gJywnICsgcnQgKyB0YWIgKyAiJ2l0ZW1zJyA6IFsiOwoJCQlmb3IgKHZhciBqID0gMDsgaiA8IG9iai5jaGlsZE5vZGVzW2ldLmNoaWxkTm9kZXMubGVuZ3RoOyBqKyspIHsKCQkJCWlmIChvYmouY2hpbGROb2Rlc1tpXS5jaGlsZE5vZGVzW2pdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2xpJykgewoJCQkJCXN0ciArPSB0aGlzLl9sb2FkRnJvbVVMKG9iai5jaGlsZE5vZGVzW2ldLmNoaWxkTm9kZXNbal0sIHZpcmd1bGUsIHJ0LCB0YWIsIHRhYk1vZGVsKTsKCQkJCQl2aXJndWxlID0gJywnOwoJCQkJfQoJCQl9CgkJCXN0ciArPSBydCArIHRhYiArICddJzsKCQl9CQkJCgl9CglzdHIgKz0gcnQgKyB0YWIgKyAnfSc7CglyZXR1cm4gc3RyOwp9OwoKVGFmZWxUcmVlLnRyaW0gPSBmdW5jdGlvbiAoc3RyaW5nKSB7CglyZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyheXHMqKXwoXHMqJCl8XG58XHJ8XHQvZywnJyk7Cn07CgoKCgovKioKICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICoJCQkJCQkJVGFmZWxUcmVlIENsYXNzIENvbnN0cnVjdG9yCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqLwoKVGFmZWxUcmVlLnByb3RvdHlwZSA9IHsKCS8qKgoJICogQ29uc3RydWN0ZXVyIGQndW4gbm91dmVsIGFyYnJlLiBTdXBwb3J0ZSBmYWNpbGVtZW50IDcwMCDvv71s77+9bWVudHMKCSAqCgkgKiAyMDA2LTExLTI1IDogY2hhbmdlbWVudCBkZXMgcGFyYW3vv710cmVzIGRhbnMgbGUgY29uc3RydWN0ZXVyLiBPbiBwZXV0IG1ldHRyZSBsZXMgb3B0aW9ucwoJICog77+9IGxhIHBsYWNlIGRlICJpbWdCYXNlIi4gTGVzIGF1dHJlcyBwYXJhbe+/vXRyZXMgcGV1dmVudCBtYWludGVuYW50IO+/vXRyZSBwYXNz77+9IHZpYQoJICogIm9wdGlvbnMiCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlzdHJpbmcJCQkJaWQJCQkJCQlMJ2lkIGRlIGwn77+9bO+/vW1lbnQgSFRNTCBjb250ZW5ldXIKCSAqIEBwYXJhbQlvYmplY3QJCQkJc3RydWN0CQkJCQlMYSBzdHJ1Y3R1cmUgZGUgbCdhcmJyZQoJICogQHBhcmFtCXN0cmluZwkJCQlpbWdCYXNlCQkJCQlMZSBwYXRoIHZlcnMgbGVzIGltYWdlcyAob3UgbGVzIG9wdGlvbnMpCgkgKiBAcGFyYW0JaW50ZWdlcgkJCQl3aWR0aAkJCQkJTGEgbGFyZ2V1ciBkZSBsJ2FyYnJlCgkgKiBAcGFyYW0JaW50ZWdlcgkJCQloZWlnaHQJCQkJCUxhIGhhdXRldXIgZGUgbCdhcmJyZQoJICogQHBhcmFtCW9iamVjdAkJCQlvcHRpb25zCQkJCQlMZXMgZm9uY3Rpb25zIGRlIGxvYWQgZXQgYXV0cmVzIGJpbnogZGUgZ++/vW7vv71yYXRpb24KCSAqLwkKCWluaXRpYWxpemUgOiBmdW5jdGlvbiAoaWQsIHN0cnVjdCwgaW1nQmFzZSwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykgewoJCS8vIDIwMDYtMTEtMjUgOiAib3B0aW9ucyIgZXN0IG1haW50ZW5hbnQg77+9IGxhIHBsYWNlIGRlICJpbWdCYXNlIgoJCWlmICh0eXBlb2YoaW1nQmFzZSkgPT0gJ29iamVjdCcpIHsKCQkJb3B0aW9ucyA9IGltZ0Jhc2U7CgkJCWltZ0Jhc2UgPSAob3B0aW9ucy5pbWdCYXNlKSA/IG9wdGlvbnMuaW1nQmFzZSA6ICdpbWdzLyc7CgkJCXdpZHRoID0gKG9wdGlvbnMud2lkdGgpID8gb3B0aW9ucy53aWR0aCA6ICcxMDAlJzsKCQkJaGVpZ2h0ID0gKG9wdGlvbnMuaGVpZ2h0KSA/IG9wdGlvbnMuaGVpZ2h0IDogJ2F1dG8nOwoJCX0KCQkvLyBWYXJpYWJsZXMgaW1hZ2VzCgkJdGhpcy5pbWdCYXNlID0gKGltZ0Jhc2UpID8gaW1nQmFzZSA6ICdpbWdzLyc7CgkJdGhpcy5zZXRMaW5lU3R5bGUoJ2xpbmUnKTsKCQl0aGlzLm9wdGlvbnMgPSAob3B0aW9ucykgPyBvcHRpb25zIDoge307CgkJdGhpcy5jb3B5TmFtZSA9ICcgKCVuKSc7CgkJdGhpcy5jb3B5TmFtZUJyZWFrID0gJ18nOwoJCQoJCS8vIFZhcmlhYmxlcyBDU1MKCQl0aGlzLmNsYXNzVHJlZSA9ICd0YWZlbFRyZWUnOwoJCXRoaXMuY2xhc3NUcmVlUm9vdCA9IHRoaXMuY2xhc3NUcmVlICsgJ19yb290JzsKCQl0aGlzLmNsYXNzVHJlZUJyYW5jaCA9IHRoaXMuY2xhc3NUcmVlICsgJ19yb3cnOwoJCXRoaXMuY2xhc3NDb3B5ID0gKHRoaXMub3B0aW9ucy5jb3B5Q1NTKSA/IHRoaXMub3B0aW9ucy5jb3B5Q1NTIDogbnVsbDsKCQl0aGlzLmNsYXNzQ3V0ID0gKHRoaXMub3B0aW9ucy5jdXRDU1MpID8gdGhpcy5vcHRpb25zLmN1dENTUyA6IG51bGw7CgkJdGhpcy5jbGFzc0RyYWcgPSAndGFmZWxUcmVlZHJhZyc7CgkJdGhpcy5jbGFzc1NlbGVjdGVkID0gJ3RhZmVsVHJlZXNlbGVjdGVkJzsKCQl0aGlzLmNsYXNzRWRpdGFibGUgPSAndGFmZWxUcmVlZWRpdGFibGUnOwoJCXRoaXMuY2xhc3NDb250ZW50ID0gJ3RhZmVsVHJlZWNvbnRlbnQnOwoJCXRoaXMuY2xhc3NDYW5ldmFzID0gJ3RhZmVsVHJlZWNhbmV2YXMnOwoJCXRoaXMuY2xhc3NEcmFnT3ZlciA9ICd0YWZlbFRyZWVkcmFnT3Zlcic7CgkJdGhpcy5jbGFzc1Rvb2x0aXAgPSAndGFmZWxUcmVldG9vbHRpcCc7CgkJdGhpcy5jbGFzc09wZW5hYmxlID0gJ3RhZmVsVHJlZW9wZW5hYmxlJzsKCgkJLy8gRGVmYXVsdCBzdHJ1Y3R1cmUKCQl0aGlzLmRlZmF1bHRTdHJ1Y3QgPSBbXTsKCQkvKmZvciAodmFyIGkgPSAwOyBpIDwgc3RydWN0Lmxlbmd0aDsgaSsrKSB7CgkJCXRoaXMuZGVmYXVsdFN0cnVjdC5wdXNoKE9iamVjdC5jbG9uZShzdHJ1Y3RbaV0pKTsKCQl9Ki8KCQkKCQkvLyBBdXRyZXMgdmFyaWFibGVzCgkJdGhpcy5pZFRyZWUgPSAwOwoJCXRoaXMuYmVoYXZpb3VyRHJvcCA9IDA7CgkJdGhpcy5kdXJhdGlvblRvb2x0aXBTaG93ID0gMTAwMDsKCQl0aGlzLmR1cmF0aW9uVG9vbHRpcEhpZGUgPSAxMDA7CgkJdGhpcy5iYXNlU3RydWN0ID0gc3RydWN0OwoJCXRoaXMud2lkdGggPSAod2lkdGgpID8gd2lkdGggOiAnMTAwJSc7CgkJdGhpcy5oZWlnaHQgPSAoaGVpZ2h0KSA/IGhlaWdodCA6ICdhdXRvJzsKCQl0aGlzLmRpdiA9ICQoaWQpOwoJCXRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aDsKCQl0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodDsKCQl0aGlzLmlkID0gdGhpcy5kaXYuaWQ7CgkJdGhpcy5pc1RyZWUgPSB0cnVlOwoJCXRoaXMuZHJvcEFMVCA9IHRydWU7CgkJdGhpcy5vcGVuQWxsID0gZmFsc2U7CgkJdGhpcy5jaGVja2JveE5hbWVQcmVmaXggPSAnRmllbGRUcmVlXyc7CgkJdGhpcy5jaGVja2JveElEUHJlZml4ID0gJ0ZpZWxkVHJlZV8nOwoJCXRoaXMucnRsTW9kZSA9IGZhbHNlOwoJCXRoaXMuZHJvcENUUkwgPSB0cnVlOwoJCXRoaXMubXVsdGlsaW5lID0gZmFsc2U7CgkJdGhpcy5jaGVja2JveGVzID0gZmFsc2U7CgkJdGhpcy5jaGVja2JveGVzRGlzYWJsZWQgPSBmYWxzZTsKCQl0aGlzLnJhZGlvcyA9IGZhbHNlOwoJCXRoaXMucmFkaW9zRGlzYWJsZWQgPSBmYWxzZTsKCQl0aGlzLnNlbGVjdGVkUmFkaW9JRCA9IG51bGwsCgkJdGhpcy5wcm9wYWdhdGlvbiA9IHRydWU7CgkJdGhpcy5kcmFnUmV2ZXJ0ID0gdHJ1ZTsKCQl0aGlzLmRyYWdHaG9zdGluZyA9IHRydWU7CgkJdGhpcy5iaWdUcmVlTG9hZGluZyA9IC0xOwoJCXRoaXMuZHJvcEFzU2libGluZyA9IHRydWU7CgkJdGhpcy5vbmx5T25lT3BlbmVkID0gZmFsc2U7CgkJdGhpcy5vcGVuZWRBZnRlckFkZCA9IHRydWU7CgkJdGhpcy5lZGl0YWJsZUJyYW5jaGVzID0gdHJ1ZTsKCQl0aGlzLnJlb3BlbkZyb21TZXJ2ZXIgPSB0cnVlOwoJCXRoaXMuc2VsZWN0ZWRCcmFuY2hTaG93ZWQgPSB0cnVlLAoJCXRoaXMuY2hlY2tib3hlc1RocmVlU3RhdGUgPSBmYWxzZTsKCQl0aGlzLnJvb3RzID0gW107CgkJdGhpcy5pY29ucyA9IFtudWxsLCBudWxsLCBudWxsXTsKCQl0aGlzLmljb25zU2VsZWN0ZWQgPSBbbnVsbCwgbnVsbCwgbnVsbF07CgkJdGhpcy5vdGhlclRyZWVzID0gW107CgkJdGhpcy5jdXR0ZWRCcmFuY2hlcyA9IFtdOwoJCXRoaXMuY29waWVkQnJhbmNoZXMgPSBbXTsKCQl0aGlzLmNoZWNrZWRCcmFuY2hlcyA9IFtdOwoJCXRoaXMuc2VsZWN0ZWRCcmFuY2hlcyA9IFtdOwoJCXRoaXMuaWRUcmVlQnJhbmNoID0gdGhpcy5jbGFzc1RyZWUgKyAnXycgKyB0aGlzLmlkICsgJ19pZF8nOwogICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7CgkJRWxlbWVudC5hZGRDbGFzc05hbWUodGhpcy5kaXYsIHRoaXMuY2xhc3NUcmVlKTsKCgkJLy8gQ29va2llCgkJdGhpcy51c2VDb29raWUgPSBmYWxzZTsKCQl0aGlzLmNvb2tpZVNlcGFyYXRvciA9ICd8JzsKCQl0aGlzLmNvb2tpZUNoZWNrU2VwYXJhdG9yID0gJ1tjaGVja10nOwoJCXRoaXMuY29va2llT3BlbmVkID0gbnVsbDsKCQl0aGlzLmNvb2tpZUNoZWNrZWQgPSBudWxsOwogICAgICAgIHRoaXMuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpOwoJCXZhciBmcm9tQ29va2llID0gdGhpcy5nZXRDb29raWUodGhpcy5jbGFzc1RyZWUgKyB0aGlzLmlkKTsKCQlpZiAoZnJvbUNvb2tpZSkgewoJCQl2YXIgYnJhbmNoZXMgPSBmcm9tQ29va2llLnNwbGl0KHRoaXMuY29va2llQ2hlY2tTZXBhcmF0b3IpOwoJCQkvLyBCcmFuY2hlcyBvdXZlcnRlcwoJCQl0aGlzLmNvb2tpZU9wZW5lZCA9IFtdOwoJCQl0aGlzLmNvb2tpZU9wZW5lZCA9IGJyYW5jaGVzWzBdLnNwbGl0KHRoaXMuY29va2llU2VwYXJhdG9yKTsKCQkJdGhpcy5jb29raWVPcGVuZWQuc2hpZnQoKTsKCQkJLy8gQnJhbmNoZXMgY2hlY2vvv71lcyAoYXZlYyBhbnRpLWJ1ZyBwb3VyIGxlcyBhbmNpZW5uZXMgdmVyc2lvbnMgZXQgYW5jaWVucyBjb29raWVzKQoJCQl0aGlzLmNvb2tpZUNoZWNrZWQgPSBbXTsKCQkJaWYgKGJyYW5jaGVzLmxlbmd0aCA+IDEpIHsKCQkJCXRoaXMuY29va2llQ2hlY2tlZCA9IGJyYW5jaGVzWzFdLnNwbGl0KHRoaXMuY29va2llU2VwYXJhdG9yKTsKCQkJfQoJCX0KCgkJLy8gSW5zdGFuY2UgZGUgZGVidWcKCQl0aGlzLmRlYnVnT2JqID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkJdGhpcy5kZWJ1Z09iai5zZXRBdHRyaWJ1dGUoJ2lkJywgdGhpcy5jbGFzc1RyZWUgKyAnX2RlYnVnJyk7CgkJRWxlbWVudC5oaWRlKHRoaXMuZGVidWdPYmopOwoJCXRoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMuZGVidWdPYmopOwoJCS8vIEluc3RhbmNlIEFqYXgKCQl0aGlzLmFqYXhPYmogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCQl0aGlzLmFqYXhPYmouc2V0QXR0cmlidXRlKCdpZCcsIHRoaXMuY2xhc3NUcmVlICsgJ19hamF4Jyk7CgkJRWxlbWVudC5oaWRlKHRoaXMuYWpheE9iaik7CgkJdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5hamF4T2JqKTsKCQlFdmVudC5vYnNlcnZlKHRoaXMuZGl2LCAnbW91c2Vkb3duJywgdGhpcy5ldnRfc2V0QXNDdXJyZW50LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksIGZhbHNlKTsKCQlFdmVudC5vYnNlcnZlKHRoaXMuZGl2LCAnZm9jdXMnLCB0aGlzLmV2dF9zZXRBc0N1cnJlbnQuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoJCS8vIGRvbid0IGdlbmVyYXRlIGlmIGNvb2tpZSBpcyBvbiBzZXJ2ZXIgc2lkZQogICAgICAgIGlmICghdGhpcy5zZXJ2ZXJDb29raWUpIHsKICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5nZW5lcmF0ZSkgewogICAgCQkJdGhpcy5nZW5lcmF0ZSgpOwogICAgCQl9CiAgICAJCWlmICh0aGlzLm9wdGlvbnMuZ2VuZXJhdGVCaWdUcmVlKSB7CiAgICAJCQl0aGlzLmdlbmVyYXRlKHRydWUpOwogICAgCQl9CiAgICAgICAgfQoJCVRhZmVsVHJlZU1hbmFnZXIuYWRkKHRoaXMpOwoJfSwKCgoJLyoqCgkgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJICoJCQkJCQkJVGFmZWxUcmVlIGdsb2JhbCBldmVudHMgbWFuYWdlbWVudAoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqLwoKCS8qKgoJICogU2V0IGwnYXJicmUgY29tbWUg77+9dGFudCBsJ2FyYnJlIGNvdXJhbnQKCSAqCgkgKiBUb3V0ZXMgbGVzIGFjdGlvbnMgY2xhdmllcnMgYXVyb250IGVmZmV0IHNldWxlbWVudCBzdXIgY2V0IGFyYnJlIGV0IG5vbiBzdXIgbGVzIGF1dHJlcyoKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCUV2ZW50CQkJZXYJCQkJCQlMJ++/vXbvv71uZW1lbnQgZO+/vWNsZW5jaGV1cgoJICogQHJldHVybgl2b2lkCgkgKi8KCWV2dF9zZXRBc0N1cnJlbnQgOiBmdW5jdGlvbiAoZXYpIHsKCQl2YXIgb2JqID0gRXZlbnQuZWxlbWVudChldik7CgkJVGFmZWxUcmVlTWFuYWdlci5zZXRDdXJyZW50VHJlZSh0aGlzKTsKCX0sCgkKCS8qKgoJICogUmV0b3VybmUgdW5lIGxpc3RlIGRlIGJyYW5jaGVzIG9yZHLvv71lIChlbiBmb25jdGlvbiBkZSBsZXVyIHBvc2l0aW9uIGRhbnMgbCdhcmJyZSkKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWFycmF5CQkJCWxpc3QJCQkJCVVuIHRhYmxlYXUgZGUgVGFmZWxUcmVlQnJhbmNoCgkgKiBAcmV0dXJuCWFycmF5CQkJCQkJCQkJCVVuIHRhYmxlYXUgb3Jkcu+/vSBkZSBUYWZlbFRyZWVCcmFuY2gKCSAqLwoJb3JkZXJMaXN0QnJhbmNoZXMgOiBmdW5jdGlvbiAobGlzdCkgewoJCXZhciBvcmRlcmVkID0gW107CgkJdmFyIGxldmVsID0gW107CgkJdmFyIG5pdm1pbiA9IDEwMDsKCQl2YXIgbml2bWF4ID0gMDsKCQkvLyBPbiBvcmRyZSBwYXIgbml2ZWF1CgkJdmFyIG5pdiA9IDA7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CgkJCW5pdiA9IGxpc3RbaV0uZ2V0TGV2ZWwoKTsKCQkJaWYgKHR5cGVvZihsZXZlbFtuaXZdKSA9PSAndW5kZWZpbmVkJykgewoJCQkJbGV2ZWxbbml2XSA9IFtdOwoJCQl9CgkJCWxldmVsW25pdl0ucHVzaChsaXN0W2ldKTsKCQkJaWYgKG5pdiA+IG5pdm1heCkgbml2bWF4ID0gbml2OwoJCQlpZiAobml2IDwgbml2bWluKSBuaXZtaW4gPSBuaXY7CgkJfQoJCS8vIE9uIGVubO+/vXZlIGxlIGNoZW5pIGRlIG0uLi4g77+9IGNhdXNlIGRlIGxhIGdlc3Rpb24gdGFibGVhdSBqYXZhc2NyaXB0CgkJZm9yICh2YXIgaSA9IG5pdm1pbjsgaSA8PSBuaXZtYXg7IGkrKykgewoJCQlpZiAobGV2ZWxbaV0pIHsKCQkJCW9yZGVyZWQucHVzaChsZXZlbFtpXSk7CgkJCX0KCQl9CgkJLy8gUG91ciBjaGFxdWUgbml2ZWF1LCBvbiBvcmRyZSBwYXIgcG9zaXRpb24gZGFucyBsJ2FyYnJlCgoJCS8vIE9uIG5lIHLvv71jdXDvv71yZSBxdWUgbGVzIDFlciBuaXZlYXV4LiBTJ2lsIHkgYSBkZXMgZW5mYW50cywgb24gbGVzIGlnbm9yZQoJCXJldHVybiBvcmRlcmVkOwoJfSwKCQoJLyoqCgkgKiBSZXRvdXJuZSBsZXMgYnJhbmNoZXMgY29wae+/vWVzIGRlIGwnYXJicmUsIG91IGQndW4gYXJicmUgbGnvv70KCSAqCgkgKiBTaSBsZSB0YWJsZWF1IG4nYSBwYXMgZGUgYnJhbmNoZXMsIGxhIG3vv710aG9kZSB2YSB2b2lyIGRhbnMgbGVzIGFyYnJlcyBsae+/vXMKCSAqIHBvdXIgcu+/vWN1cO+/vXJlciBsZXMgYnJhbmNoZXMgcXVpIHNlcmFpZW50IGNvcGnvv71lcyBkYW5zIGwnYXV0cmUgYXJicmUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglhcnJheQkJCQkJCQkJCUxlcyBicmFuY2hlcyBjb3Bp77+9ZXMKCSAqLwoJZ2V0Q29waWVkQnJhbmNoZXMgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGJyYW5jaGVzID0gdGhpcy5jb3BpZWRCcmFuY2hlczsKCQlpZiAoYnJhbmNoZXMubGVuZ3RoID09IDApIHsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm90aGVyVHJlZXMubGVuZ3RoOyBpKyspIHsKCQkJCWJyYW5jaGVzID0gdGhpcy5vdGhlclRyZWVzW2ldLmNvcGllZEJyYW5jaGVzOwoJCQkJaWYgKGJyYW5jaGVzLmxlbmd0aCA+IDApIGJyZWFrOwoJCQl9CgkJfQoJCXJldHVybiBicmFuY2hlczsKCX0sCgkKCS8qKgoJICogUmV0b3VybmUgbGVzIGJyYW5jaGVzIGNvdXDvv71lcyBkZSBsJ2FyYnJlLCBvdSBkJ3VuIGFyYnJlIGxp77+9CgkgKgoJICogU2kgbGUgdGFibGVhdSBuJ2EgcGFzIGRlIGJyYW5jaGVzLCBsYSBt77+9dGhvZGUgdmEgdm9pciBkYW5zIGxlcyBhcmJyZXMgbGnvv71zCgkgKiBwb3VyIHLvv71jdXDvv71yZXIgbGVzIGJyYW5jaGVzIHF1aSBzZXJhaWVudCBjb3Vw77+9ZXMgZGFucyBsJ2F1dHJlIGFyYnJlCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4JYXJyYXkJCQkJCQkJCQlMZXMgYnJhbmNoZXMgY291cO+/vWVzCgkgKi8KCWdldEN1dHRlZEJyYW5jaGVzIDogZnVuY3Rpb24gKCkgewoJCXZhciBicmFuY2hlcyA9IHRoaXMuY3V0dGVkQnJhbmNoZXM7CgkJaWYgKGJyYW5jaGVzLmxlbmd0aCA9PSAwKSB7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vdGhlclRyZWVzLmxlbmd0aDsgaSsrKSB7CgkJCQlicmFuY2hlcyA9IHRoaXMub3RoZXJUcmVlc1tpXS5jdXR0ZWRCcmFuY2hlczsKCQkJCWlmIChicmFuY2hlcy5sZW5ndGggPiAwKSBicmVhazsKCQkJfQoJCX0KCQlyZXR1cm4gYnJhbmNoZXM7Cgl9LAoJCgkvKioKCSAqIEZvbmN0aW9uIHF1aSBjb3VwZSBsYSBz77+9bGVjdGlvbiBldCBsYSBtZXQgZGFucyB1biBjYWNoZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCXJldHVybgkJCQkJCQkJCQlUcnVlIHNpIO+/vWEgY291cGUsIGZhbHNlIHNpbm9uCgkgKi8KCWN1dCA6IGZ1bmN0aW9uICgpIHsKCQl0aGlzLnVuc2V0Q3V0KCk7CgkJdGhpcy51bnNldENvcHkoKTsKCQl2YXIgbGV2ZWwgPSB0aGlzLm9yZGVyTGlzdEJyYW5jaGVzKHRoaXMuc2VsZWN0ZWRCcmFuY2hlcyk7CgkJLy90aGlzLmRlYnVnKGxldmVsKTsKCQl2YXIgc2VsID0gbnVsbDsKCQlmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsLmxlbmd0aDsgaSsrKSB7CgkJCWZvciAodmFyIGogPSAwOyBqIDwgbGV2ZWxbaV0ubGVuZ3RoOyBqKyspIHsKCQkJCXNlbCA9IGxldmVsW2ldW2pdOwoJCQkJdGhpcy5fY3V0KHNlbCk7CgkJCQl0aGlzLmN1dHRlZEJyYW5jaGVzLnB1c2goc2VsKTsKCQkJfQoJCX0KCQlyZXR1cm4gdHJ1ZTsKCX0sCgkKCS8qKgoJICogRm9uY3Rpb24gcXVpIGNvcGllIGxhIHPvv71sZWN0aW9uIGRhbnMgdW4gY2FjaGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglyZXR1cm4JCQkJCQkJCQkJVHJ1ZSBzaSDvv71hIGNvcGllLCBmYWxzZSBzaW5vbgoJICovCgljb3B5IDogZnVuY3Rpb24gKCkgewoJCXRoaXMudW5zZXRDdXQoKTsKCQl0aGlzLnVuc2V0Q29weSgpOwoJCXZhciBsZXZlbCA9IHRoaXMub3JkZXJMaXN0QnJhbmNoZXModGhpcy5zZWxlY3RlZEJyYW5jaGVzKTsKCQl2YXIgc2VsID0gbnVsbDsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRCcmFuY2hlcy5sZW5ndGg7IGkrKykgewoJCQlzZWwgPSB0aGlzLnNlbGVjdGVkQnJhbmNoZXNbaV07CgkJCXRoaXMuX2NvcHkoc2VsKTsKCQkJdGhpcy5jb3BpZWRCcmFuY2hlc1tpXSA9IHNlbDsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9LAoKCS8qKgoJICogRm9uY3Rpb24gcXVpIGNvbGxlIGxlIGNhY2hlIO+/vSBsJ2VuZHJvaXQgc++/vWxlY3Rpb25u77+9LiBJbCBuZSBkb2l0IHkgYXZvaXIgcXUndW5lIHPvv71sZWN0aW9uCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4JcmV0dXJuCQkJCQkJCQkJCVRydWUgc2kg77+9YSBjb2xsZSwgZmFsc2Ugc2lub24KCSAqLwoJcGFzdGUgOiBmdW5jdGlvbiAoKSB7CgkJaWYgKHRoaXMuc2VsZWN0ZWRCcmFuY2hlcy5sZW5ndGggIT0gMSkgcmV0dXJuIGZhbHNlOwoJCXZhciBicmFuY2ggPSB0aGlzLnNlbGVjdGVkQnJhbmNoZXNbMF07CgkJdmFyIGNvcGllZCA9IHRoaXMuZ2V0Q29waWVkQnJhbmNoZXMoKTsKCQl2YXIgY3V0dGVkID0gdGhpcy5nZXRDdXR0ZWRCcmFuY2hlcygpOwoJCXZhciBuYkNvcHkgPSBjb3BpZWQubGVuZ3RoOwoJCXZhciBuYkN1dCA9IGN1dHRlZC5sZW5ndGg7CgkJaWYgKG5iQ29weSA+IDApIHsKCQkJdmFyIGxpc3QgPSBjb3BpZWQ7CgkJCXZhciBiID0gbnVsbDsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CgkJCQlpZiAodGhpcy5fb2tGb3JQYXN0ZShicmFuY2gsIGxpc3QsIGkpKSB7CgkJCQkJYiA9IGJyYW5jaC5pbnNlcnRJbnRvTGFzdChsaXN0W2ldLmNsb25lKCkpOwoJCQkJfQoJCQl9CgkJfQoJCWlmIChuYkN1dCA+IDApIHsKCQkJdmFyIGxpc3QgPSBjdXR0ZWQ7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewoJCQkJaWYgKHRoaXMuX29rRm9yUGFzdGUoYnJhbmNoLCBsaXN0LCBpKSkgewoJCQkJCWxpc3RbaV0ubW92ZShicmFuY2gpOwoJCQkJfQoJCQl9CgkJfQoJCS8vdGhpcy51bnNldENvcHkoKTsKCQl0aGlzLnVuc2V0Q3V0KCk7CgkJcmV0dXJuIHRydWU7Cgl9LAoKCS8qKgoJICogRO+/vXRlcm1pbmUgc2kgb24gcGV1dCBjb2xsZXIgbGEgcGFydGllIGNvdXJhbnRlIGR1IGNhY2hlIG91IG5vbgoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHBhcmFtCVRhZmVsVHJlZUJyYW5jaAkJYnJhbmNoCQkJCQlMYSBicmFuY2hlIGRhbnMgbGFxdWVsbGUgb24gY29sbGUKCSAqIEBwYXJhbQlhcnJheQkJCQlsaXN0CQkJCQlMZSB0YWJsZWF1IGRlIGNhY2hlIG9yZHLvv70gcGFyIG5pdmVhdQoJICogQHBhcmFtCWludGVnZXIJCQkJaQkJCQkJCUxhIHBvc2l0aW9uIGNvdXJhbnRlIGRhbnMgbGUgY2FjaGUKCSAqIEByZXR1cm4JYm9vbGVhbgkJCQkJCQkJCQlUcnVlIHNpIG9uIHBldXQgY29sbGVyLCBmYWxzZSBzaW5vbgoJICovCglfb2tGb3JQYXN0ZSA6IGZ1bmN0aW9uIChicmFuY2gsIGxpc3QsIGkpIHsKCQl2YXIgb2sgPSB0cnVlOwoJCWlmICghYnJhbmNoLmlzQ2hpbGQobGlzdFtpXSkpIHsKCQkJZm9yICh2YXIgaiA9IDA7IGogPCBpOyBqKyspIHsKCQkJCWlmIChsaXN0W2ldLmlzQ2hpbGQobGlzdFtqXSkpIHsKCQkJCQlvayA9IGZhbHNlOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgkJfSBlbHNlIHsKCQkJb2sgPSBmYWxzZTsKCQl9CgkJcmV0dXJuIG9rOwoJfSwKCQoJdW5zZXRDdXQgOiBmdW5jdGlvbiAoKSB7CgkJLy8gT24gZW5s77+9dmUgbGVzIGJyYW5jaGVzIGNvdXDvv71lcyBkZXMgYXV0cmVzIGFyYnJlcyAoc3VwcHJlc3Npb24gZHUgInByZXNzZS1wYXBpZXIiKQoJCXZhciBfdHJlZSA9IG51bGw7CgkJdmFyIGJyYW5jaGVzID0gbnVsbDsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3RoZXJUcmVlcy5sZW5ndGg7IGkrKykgewoJCQlfdHJlZSA9IHRoaXMub3RoZXJUcmVlc1tpXTsKCQkJYnJhbmNoZXMgPSBfdHJlZS5jdXR0ZWRCcmFuY2hlczsKCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBicmFuY2hlcy5sZW5ndGg7IHQrKykgewoJCQkJX3RyZWUuX3Vuc2V0Q3V0KGJyYW5jaGVzW3RdKTsKCQkJfQoJCQlfdHJlZS5jdXR0ZWRCcmFuY2hlcyA9IFtdOwoJCX0KCQl2YXIgY3V0ID0gbnVsbDsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY3V0dGVkQnJhbmNoZXMubGVuZ3RoOyBpKyspIHsKCQkJY3V0ID0gdGhpcy5jdXR0ZWRCcmFuY2hlc1tpXTsKCQkJdGhpcy5fdW5zZXRDdXQoY3V0KTsKCQl9CgkJdGhpcy5jdXR0ZWRCcmFuY2hlcyA9IFtdOwoJfSwKCQoJdW5zZXRDb3B5IDogZnVuY3Rpb24gKCkgewoJCS8vIE9uIGVubO+/vXZlIGxlcyBicmFuY2hlcyBjb3Bp77+9ZXMgZGVzIGF1dHJlcyBhcmJyZXMgKHN1cHByZXNzaW9uIGR1ICJwcmVzc2UtcGFwaWVyIikKCQl2YXIgX3RyZWUgPSBudWxsOwoJCXZhciBicmFuY2hlcyA9IG51bGw7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm90aGVyVHJlZXMubGVuZ3RoOyBpKyspIHsKCQkJX3RyZWUgPSB0aGlzLm90aGVyVHJlZXNbaV07CgkJCWJyYW5jaGVzID0gX3RyZWUuY29waWVkQnJhbmNoZXM7CgkJCWZvciAodmFyIHQgPSAwOyB0IDwgYnJhbmNoZXMubGVuZ3RoOyB0KyspIHsKCQkJCV90cmVlLl91bnNldENvcHkoYnJhbmNoZXNbdF0pOwoJCQl9CgkJCV90cmVlLmNvcGllZEJyYW5jaGVzID0gW107CgkJfQoJCXZhciBjb3B5ID0gbnVsbDsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29waWVkQnJhbmNoZXMubGVuZ3RoOyBpKyspIHsKCQkJY29weSA9IHRoaXMuY29waWVkQnJhbmNoZXNbaV07CgkJCXRoaXMuX3Vuc2V0Q29weShjb3B5KTsKCQl9CQkKCQl0aGlzLmNvcGllZEJyYW5jaGVzID0gW107Cgl9LAoKCS8qKgoJICogQW5udWxlIGxlcyBbbl0gZGVybmnvv71yZXMgYWN0aW9ucyAodG9kby4uLikKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglib29sZWFuCQkJCQkJCQkJVHJ1ZSBzaSBxdWVscXVlIGNob3NlIGEg77+9dO+/vSBhbm51bO+/vQoJICovCgl1bmRvIDogZnVuY3Rpb24gKCkgewoKCX0sCgoKCS8qKgoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqCQkJCQkJCVRhZmVsVHJlZSBwcml2YXRlIGtleWJvYXJkIG1ldGhvZHMKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKi8KCgkvKioKCSAqIE3vv710aG9kZSBy77+9Y3Vyc2l2ZSBxdWkgZmFpdCBsJ2VmZmV0ICJjb3VwZXIiIHN1ciB0b3V0ZXMgbGVzIHNvdXMtYnJhbmNoZXMKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlUYWZlbFRyZWVCcmFuY2gJCWJyYW5jaAkJCQkJTGEgYnJhbmNoZSBjb3VyYW50ZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV9jdXQgOiBmdW5jdGlvbiAoYnJhbmNoKSB7CgkJaWYgKCF0aGlzLmNsYXNzQ3V0KSB7CgkJCW5ldyBFZmZlY3QuT3BhY2l0eShicmFuY2gudHh0LCB7CgkJCQlkdXJhdGlvbjogMC4xLCAKCQkJCXRyYW5zaXRpb246IEVmZmVjdC5UcmFuc2l0aW9ucy5saW5lYXIsIAoJCQkJZnJvbTogMS4wLCB0bzogMC40CgkJCX0pOwoJCQluZXcgRWZmZWN0Lk9wYWNpdHkoYnJhbmNoLmltZywgewoJCQkJZHVyYXRpb246IDAuMSwgCgkJCQl0cmFuc2l0aW9uOiBFZmZlY3QuVHJhbnNpdGlvbnMubGluZWFyLCAKCQkJCWZyb206IDEuMCwgdG86IDAuNAoJCQl9KTsKCQl9IGVsc2UgewoJCQlFbGVtZW50LmFkZENsYXNzTmFtZShicmFuY2gudHh0LCB0aGlzLmNsYXNzQ3V0KTsKCQkJRWxlbWVudC5hZGRDbGFzc05hbWUoYnJhbmNoLmltZywgdGhpcy5jbGFzc0N1dCk7CgkJfQoJCWlmIChicmFuY2guaGFzQ2hpbGRyZW4oKSkgewoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGJyYW5jaC5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQkJdGhpcy5fY3V0KGJyYW5jaC5jaGlsZHJlbltpXSk7CgkJCX0KCQl9Cgl9LAoKCS8qKgoJICogTe+/vXRob2RlIHLvv71jdXJzaXZlIHF1aSBlbmzvv712ZSBsJ2VmZmV0ICJjb3VwZXIiIHN1ciB0b3V0ZXMgbGVzIHNvdXMtYnJhbmNoZXMKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlUYWZlbFRyZWVCcmFuY2gJCWJyYW5jaAkJCQkJTGEgYnJhbmNoZSBjb3VyYW50ZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV91bnNldEN1dCA6IGZ1bmN0aW9uIChicmFuY2gpIHsKCQlpZiAoIXRoaXMuY2xhc3NDdXQpIHsKCQkJbmV3IEVmZmVjdC5PcGFjaXR5KGJyYW5jaC50eHQsIHsKCQkJCWR1cmF0aW9uOiAwLjEsIAoJCQkJdHJhbnNpdGlvbjogRWZmZWN0LlRyYW5zaXRpb25zLmxpbmVhciwgCgkJCQlmcm9tOiAwLjQsIHRvOiAxLjAKCQkJfSk7CgkJCW5ldyBFZmZlY3QuT3BhY2l0eShicmFuY2guaW1nLCB7CgkJCQlkdXJhdGlvbjogMC4xLCAKCQkJCXRyYW5zaXRpb246IEVmZmVjdC5UcmFuc2l0aW9ucy5saW5lYXIsIAoJCQkJZnJvbTogMC40LCB0bzogMS4wCgkJCX0pOwoJCX0gZWxzZSB7CgkJCUVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKGJyYW5jaC50eHQsIHRoaXMuY2xhc3NDdXQpOwoJCQlFbGVtZW50LnJlbW92ZUNsYXNzTmFtZShicmFuY2guaW1nLCB0aGlzLmNsYXNzQ3V0KTsKCQl9CgkJaWYgKGJyYW5jaC5oYXNDaGlsZHJlbigpKSB7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgYnJhbmNoLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CgkJCQl0aGlzLl91bnNldEN1dChicmFuY2guY2hpbGRyZW5baV0pOwoJCQl9CgkJfQoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBy77+9Y3Vyc2l2ZSBxdWkgZmFpdCBsJ2VmZmV0ICJjb3BpZXIiIHN1ciB0b3V0ZXMgbGVzIHNvdXMtYnJhbmNoZXMKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlUYWZlbFRyZWVCcmFuY2gJCWJyYW5jaAkJCQkJTGEgYnJhbmNoZSBjb3VyYW50ZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV9jb3B5IDogZnVuY3Rpb24gKGJyYW5jaCkgewoJCWlmICh0aGlzLmNsYXNzQ29weSkgewoJCQlFbGVtZW50LmFkZENsYXNzTmFtZShicmFuY2gudHh0LCB0aGlzLmNsYXNzQ29weSk7CgkJCUVsZW1lbnQuYWRkQ2xhc3NOYW1lKGJyYW5jaC5pbWcsIHRoaXMuY2xhc3NDb3B5KTsKCQl9CgkJaWYgKGJyYW5jaC5oYXNDaGlsZHJlbigpKSB7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgYnJhbmNoLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CgkJCQl0aGlzLl9jb3B5KGJyYW5jaC5jaGlsZHJlbltpXSk7CgkJCX0KCQl9Cgl9LAoKCS8qKgoJICogTe+/vXRob2RlIHLvv71jdXJzaXZlIHF1aSBlbmzvv712ZSBsJ2VmZmV0ICJjb3BpZXIiIHN1ciB0b3V0ZXMgbGVzIHNvdXMtYnJhbmNoZXMKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlUYWZlbFRyZWVCcmFuY2gJCWJyYW5jaAkJCQkJTGEgYnJhbmNoZSBjb3VyYW50ZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV91bnNldENvcHkgOiBmdW5jdGlvbiAoYnJhbmNoKSB7CgkJaWYgKHRoaXMuY2xhc3NDb3B5KSB7CgkJCUVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKGJyYW5jaC50eHQsIHRoaXMuY2xhc3NDb3B5KTsKCQkJRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoYnJhbmNoLmltZywgdGhpcy5jbGFzc0NvcHkpOwoJCX0KCQlpZiAoYnJhbmNoLmhhc0NoaWxkcmVuKCkpIHsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBicmFuY2guY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKCQkJCXRoaXMuX3Vuc2V0Q29weShicmFuY2guY2hpbGRyZW5baV0pOwoJCQl9CgkJfQoJfSwKCgkvKioKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKgkJCQkJCQlUYWZlbFRyZWUgZ2V0dGVycyBhbmQgc2V0dGVycyBtZXRob2RzCgkgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJICovCgkKCWVuYWJsZU11bHRpbGluZSA6IGZ1bmN0aW9uIChtdWx0aWxpbmUpIHsKCQl0aGlzLm11bHRpbGluZSA9IChtdWx0aWxpbmUpID8gdHJ1ZSA6IGZhbHNlOwoJfSwKCQoJZW5hYmxlUlRMIDogZnVuY3Rpb24gKHJ0bCkgewoJCXRoaXMucnRsTW9kZSA9IChydGwpID8gdHJ1ZSA6IGZhbHNlOwoJCWlmICh0aGlzLnJ0bE1vZGUpIHsKCQkJLy8gcGxhbnRlIHNvdXMgU2FmYXJpLi4uCiAgICAgICAgICAgIC8vdGhpcy5kaXYuc3R5bGUuZmxvYXQgPSAncmlnaHQnOwoJCQl0aGlzLmRpdi5zdHlsZS50ZXh0QWxpZ24gPSAncmlnaHQnOwoJCQl0aGlzLmRpdi5zdHlsZS5kaXJlY3Rpb24gPSAncnRsJzsKCQl9IGVsc2UgewogICAgICAgICAgICAvLyBwbGFudGUgc291cyBTYWZhcmkKCQkJLy90aGlzLmRpdi5zdHlsZS5mbG9hdCA9ICdsZWZ0JzsKCQkJdGhpcy5kaXYuc3R5bGUudGV4dEFsaWduID0gJ2xlZnQnOwoJCQl0aGlzLmRpdi5zdHlsZS5kaXJlY3Rpb24gPSAnbHRyJzsKCQl9CgkJdGhpcy5zZXRMaW5lU3R5bGUodGhpcy5saW5lU3R5bGUpOwoJfSwKCQoJaXNSVEwgOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIHRoaXMucnRsTW9kZTsKCX0sCgoJZGlzYWJsZURyb3BBTFQgOiBmdW5jdGlvbiAoYWx0KSB7CgkJdGhpcy5kcm9wQUxUID0gKGFsdCkgPyB0cnVlIDogZmFsc2U7Cgl9LAoJCglkaXNhYmxlRHJvcENUUkwgOiBmdW5jdGlvbiAoY29weSkgewoJCXRoaXMuZHJvcENUUkwgPSAoY29weSkgPyB0cnVlIDogZmFsc2U7Cgl9LAoKCWVuYWJsZUNoZWNrYm94ZXMgOiBmdW5jdGlvbiAoZW5hYmxlKSB7CgkJdGhpcy5jaGVja2JveGVzID0gKGVuYWJsZSkgPyB0cnVlIDogZmFsc2U7Cgl9LAoJZW5hYmxlQ2hlY2tib3hlc0Rpc2FibGVkIDogZnVuY3Rpb24gKGVuYWJsZSkgewoJCXRoaXMuY2hlY2tib3hlc0Rpc2FibGVkID0gKGVuYWJsZSkgPyB0cnVlIDogZmFsc2U7Cgl9LAoKCXNldFNlbGVjdGVkUmFkaW9JRCA6IGZ1bmN0aW9uIChpZCkgewoJCXRoaXMuc2VsZWN0ZWRSYWRpb0lEID0gaWQ7Cgl9LAoKCXNldENoZWNrYm94TmFtZVByZWZpeCA6IGZ1bmN0aW9uIChwcmVmaXgpIHsKCQl0aGlzLmNoZWNrYm94TmFtZVByZWZpeCA9IHByZWZpeDsKCX0sCglzZXRDaGVja2JveElEUHJlZml4IDogZnVuY3Rpb24gKHByZWZpeCkgewoJCXRoaXMuY2hlY2tib3hJRFByZWZpeCA9IHByZWZpeDsKCX0sCgoJZW5hYmxlUmFkaW9zIDogZnVuY3Rpb24gKGVuYWJsZSkgewoJCXRoaXMucmFkaW9zID0gKGVuYWJsZSkgPyBlbmFibGUgOiBmYWxzZTsKCX0sCgoJZW5hYmxlUmFkaW9zRGlzYWJsZWQgOiBmdW5jdGlvbiAoZW5hYmxlKSB7CgkJdGhpcy5yYWRpb3NEaXNhYmxlZCA9IChlbmFibGUpID8gZW5hYmxlIDogZmFsc2U7Cgl9LAoKCWVuYWJsZUNoZWNrYm94ZXNUaHJlZVN0YXRlIDogZnVuY3Rpb24gKGVuYWJsZSkgewoJCXRoaXMuZW5hYmxlQ2hlY2tib3hlcyhlbmFibGUpOwoJCXRoaXMuY2hlY2tib3hlc1RocmVlU3RhdGUgPSAoZW5hYmxlKSA/IHRydWUgOiBmYWxzZTsKCX0sCgkKCS8qKgoJICogUGVybWV0IGQndXRpbGlzZXIgbGVzIGNvb2tpZXMgb3Ugbm9uLiBMZSBz77+9cGFyYXRldXIgZXN0IG9wdGlvbm5lbCwgJ3wnIHBhciBk77+9ZmF1dAoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JYm9vbGVhbgkJCQllbmFibGUJCQkJCVRydWUgKHBhciBk77+9ZmF1dCkgcG91ciBn77+9cmVyIGxlcyBjb29raWVzCgkgKiBAcGFyYW0Jc3RyaW5nCQkJCXNlcGFyYXRvcgkJCQlMZSBz77+9cGFyYXRldXIgZGFucyBsZSBjb29raWUgKQoJICovCgllbmFibGVDb29raWVzIDogZnVuY3Rpb24gKGVuYWJsZSwgc2VwYXJhdG9yKSB7CgkJdGhpcy51c2VDb29raWUgPSAoZW5hYmxlKSA/IHRydWUgOiBmYWxzZTsKCQlpZiAodHlwZW9mKHNlcGFyYXRvcikgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJdGhpcy5jb29raWVTZXBhcmF0b3IgPSBzZXBhcmF0b3I7CgkJfQoJfSwKCglvcGVuT25lQXRPbmNlIDogZnVuY3Rpb24gKHllcykgewoJCXRoaXMub25seU9uZU9wZW5lZCA9ICh5ZXMpID8gdHJ1ZSA6IGZhbHNlOwoJfSwKCglvcGVuQWZ0ZXJBZGQgOiBmdW5jdGlvbiAoeWVzKSB7CgkJdGhpcy5vcGVuZWRBZnRlckFkZCA9ICh5ZXMpID8gdHJ1ZSA6IGZhbHNlOwoJfSwKCglyZW9wZW5Gcm9tU2VydmVyQWZ0ZXJMb2FkIDogZnVuY3Rpb24gKHllcykgewoJCXRoaXMucmVvcGVuRnJvbVNlcnZlciA9ICh5ZXMpID8gdHJ1ZSA6IGZhbHNlOwoJfSwKCQoJLyoqCgkgKiBGb25jdGlvbiBxdWkgc2V0IHBhciBk77+9ZmF1dCBsJ++/vXRhdCBkZXMgYnJhbmNoZXMgKG91dmVydCBvdSBmZXJt77+9KQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JYm9vbGVhbgkJCQlvcGVuCQkJCQlUcnVlIHBvdXIgdG91dCBvdXZyaXIsIGZhbHNlIHBvdXIgdG91dCBmZXJtZXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglvcGVuQXRMb2FkIDogZnVuY3Rpb24gKG9wZW4pIHsKCQl0aGlzLm9wZW5BbGwgPSAob3BlbikgPyB0cnVlIDogZmFsc2U7Cgl9LAoKCXNob3dTZWxlY3RlZEJyYW5jaCA6IGZ1bmN0aW9uIChzaG93KSB7CgkJdGhpcy5zZWxlY3RlZEJyYW5jaFNob3dlZCA9IChzaG93KSA/IHRydWUgOiBmYWxzZTsKCX0sCgkKCS8qKgoJICogUGVybWV0IGRlIGNob2lzaXIgcXVlbCBjb21wb3J0ZW1lbnQgcGFyIGRlZmF1dCBsZSBkcm9wIGF1cmEKCSAqCgkgKiBMJ2F1dHJlIGNvbXBvcnRlbWVudCBzJ29idGllbnQgZW4gZ2FyZGFudCBsYSB0b3VjaGUgQUxUIGFwcHV577+9ZSBldC9vdSBDVFJMCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlzdHJpbmcJCQlkZWYJCQkJCQkJJ3NpYmxpbmcnLCAnc2libGluZ2NvcHknLCAnY2hpbGQnIG91ICdjaGlsZGNvcHknCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0QmVoYXZpb3VyRHJvcCA6IGZ1bmN0aW9uIChkZWYpIHsKCQlzd2l0Y2ggKGRlZikgewoJCQljYXNlICdzaWJsaW5nJyA6IHRoaXMuYmVoYXZpb3VyRHJvcCA9IDE7IGJyZWFrOwoJCQljYXNlICdjaGlsZGNvcHknIDogdGhpcy5iZWhhdmlvdXJEcm9wID0gMjsgYnJlYWs7CgkJCWNhc2UgJ3NpYmxpbmdjb3B5JyA6IHRoaXMuYmVoYXZpb3VyRHJvcCA9IDM7IGJyZWFrOwoJCQljYXNlICdjaGlsZCcgOgoJCQlkZWZhdWx0IDoKCQkJCXRoaXMuYmVoYXZpb3VyRHJvcCA9IDA7CgkJfQoJfSwKCQoJLyoqCgkgKiBTZXQgbGVzIGlj77+9bmVzIHBhciBk77+9ZmF1dCBwb3VyIHRvdXRlcyBsZXMgYnJhbmNoZXMKCSAqCgkgKiBTaSBpbWdvcGVuIG4nZXN0IHBhcyBk77+9ZmluaSwgaWwgcHJlbmQgbGEgdmFsZXVyIGQnaW1nLiBQYXJlaWwgcG91ciBpbWdjbG9zZS4KCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCXN0cmluZwkJCQlpbWcJCQkJCQlMJ2ltYWdlIHF1YW5kIGxhIGJyYW5jaGUgbidhIHBhcyBkJ2VuZmFudHMKCSAqIEBwYXJhbQlzdHJpbmcJCQkJaW1nb3BlbgkJCQkJTCdpbWFnZSBxdWFuZCBsYSBicmFuY2hlIGRlcyBlbmZhbnRzIGV0IGVzdCBvdXZlcnRlCgkgKiBAcGFyYW0Jc3RyaW5nCQkJCWltZ2Nsb3NlCQkJCUwnaW1hZ2UgcXVhbmQgbGEgYnJhbmNoZSBhIGRlcyBlbmZhbnRzIGV0IGVzdCBmZXJt77+9ZQoJICogQHJldHVybgl2b2lkCgkgKi8KCXNldEljb25zIDogZnVuY3Rpb24gKGltZywgaW1nb3BlbiwgaW1nY2xvc2UpIHsKCQl0aGlzLmljb25zWzBdID0gaW1nOwoJCXRoaXMuaWNvbnNbMV0gPSAoaW1nb3BlbikgPyBpbWdvcGVuIDogaW1nOwoJCXRoaXMuaWNvbnNbMl0gPSAoaW1nY2xvc2UpID8gaW1nY2xvc2UgOiBpbWc7Cgl9LAoJCgkvKioKCSAqIFNldCBsZXMgaWPvv71uZXMgZGUgc++/vWxlY3Rpb24gcGFyIGTvv71mYXV0IHBvdXIgdG91dGVzIGxlcyBicmFuY2hlcwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0Jc3RyaW5nCQkJCWltZwkJCQkJCUwnaW1hZ2UgcXVhbmQgbGEgYnJhbmNoZSBuJ2EgcGFzIGQnZW5mYW50cwoJICogQHBhcmFtCXN0cmluZwkJCQlpbWdvcGVuCQkJCQlMJ2ltYWdlIHF1YW5kIGxhIGJyYW5jaGUgZGVzIGVuZmFudHMgZXQgZXN0IG91dmVydGUKCSAqIEBwYXJhbQlzdHJpbmcJCQkJaW1nY2xvc2UJCQkJTCdpbWFnZSBxdWFuZCBsYSBicmFuY2hlIGEgZGVzIGVuZmFudHMgZXQgZXN0IGZlcm3vv71lCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0SWNvbnNTZWxlY3RlZCA6IGZ1bmN0aW9uIChpbWcsIGltZ29wZW4sIGltZ2Nsb3NlKSB7CgkJdGhpcy5pY29uc1NlbGVjdGVkWzBdID0gaW1nOwoJCXRoaXMuaWNvbnNTZWxlY3RlZFsxXSA9IChpbWdvcGVuKSA/IGltZ29wZW4gOiBudWxsOwoJCXRoaXMuaWNvbnNTZWxlY3RlZFsyXSA9IChpbWdjbG9zZSkgPyBpbWdjbG9zZSA6IG51bGw7Cgl9LAoKCS8qKgoJICogRm9uY3Rpb24gcXVpIHBlcm1ldCBkZSBjaG9pc2lyIGxlIHN0eWxlIGRlcyBsaWduZXMgZW50cmUgbGVzIGJyYW5jaGVzCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlzdHJpbmcJCQkJc3R5bGUJCQkJCUxFIHN0eWxlIGRlcyBsaWduZXMsICdub25lJyBvdSAnbGluZScKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRMaW5lU3R5bGUgOiBmdW5jdGlvbiAoc3R5bGUpIHsKCQl0aGlzLmxpbmVTdHlsZSA9IHN0eWxlOwoJCXN3aXRjaCAoc3R5bGUpIHsKCQkJY2FzZSAnbm9uZScgOgoJCQkJdGhpcy5pbWdMaW5lMCA9ICdlbXB0eS5naWYnOyB0aGlzLmltZ0xpbmUxID0gJ2VtcHR5LmdpZic7IHRoaXMuaW1nTGluZTIgPSAnZW1wdHkuZ2lmJzsgCgkJCQl0aGlzLmltZ0xpbmUzID0gJ2VtcHR5LmdpZic7IHRoaXMuaW1nTGluZTQgPSAnZW1wdHkuZ2lmJzsgdGhpcy5pbWdMaW5lNSA9ICdlbXB0eS5naWYnOwoJCQkJdGhpcy5pbWdXYWl0ID0gJ3dhaXQuZ2lmJzsgdGhpcy5pbWdFbXB0eSA9ICdlbXB0eS5naWYnOwoJCQkJdGhpcy5pbWdNaW51czEgPSAnbWludXMwLmdpZic7IHRoaXMuaW1nTWludXMyID0gJ21pbnVzMC5naWYnOyB0aGlzLmltZ01pbnVzMyA9ICdtaW51czAuZ2lmJzsKCQkJCXRoaXMuaW1nTWludXM0ID0gJ21pbnVzMC5naWYnOyB0aGlzLmltZ01pbnVzNSA9ICdtaW51czAuZ2lmJzsKCQkJCXRoaXMuaW1nUGx1czEgPSAncGx1czAuZ2lmJzsgdGhpcy5pbWdQbHVzMiA9ICdwbHVzMC5naWYnOyB0aGlzLmltZ1BsdXMzID0gJ3BsdXMwLmdpZic7CgkJCQl0aGlzLmltZ1BsdXM0ID0gJ3BsdXMwLmdpZic7IHRoaXMuaW1nUGx1czUgPSAncGx1czAuZ2lmJzsKCQkJCXRoaXMuaW1nQ2hlY2sxID0gJ2NoZWNrMS5naWYnOyB0aGlzLmltZ0NoZWNrMiA9ICdjaGVjazIuZ2lmJzsgdGhpcy5pbWdDaGVjazMgPSAnY2hlY2szLmdpZic7CgkJCQkvLyBMZXMgMiBwcmVtaWVycyBzb250IGRlcyBub21zIGQnaW1hZ2VzLCBsZXMgMiBhdXRyZXMgZGUgY2xhc3NlcyBDU1MKCQkJCXRoaXMuaW1nTXVsdGkxID0gJ2VtcHR5LmdpZic7IHRoaXMuaW1nTXVsdGkyID0gJ2VtcHR5LmdpZic7CgkJCQl0aGlzLmltZ011bHRpMyA9ICcnOyB0aGlzLmltZ011bHRpNCA9ICcnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ2Z1bGwnIDoKCQkJCWlmICh0aGlzLmlzUlRMKCkpIHsKCQkJCXRoaXMuaW1nTGluZTAgPSAncnRsX2xpbmVmdWxsMC5naWYnOyB0aGlzLmltZ0xpbmUxID0gJ3J0bF9saW5lZnVsbDEuZ2lmJzsgdGhpcy5pbWdMaW5lMiA9ICdydGxfbGluZWZ1bGwyLmdpZic7CgkJCQl0aGlzLmltZ0xpbmUzID0gJ3J0bF9saW5lZnVsbDMuZ2lmJzsgdGhpcy5pbWdMaW5lNCA9ICdydGxfbGluZWZ1bGw0LmdpZic7IHRoaXMuaW1nTGluZTUgPSAncnRsX2xpbmVmdWxsNS5naWYnOwoJCQkJdGhpcy5pbWdXYWl0ID0gJ3dhaXQuZ2lmJzsgdGhpcy5pbWdFbXB0eSA9ICdlbXB0eS5naWYnOwoJCQkJdGhpcy5pbWdNaW51czEgPSAncnRsX21pbnVzZnVsbDEuZ2lmJzsgdGhpcy5pbWdNaW51czIgPSAncnRsX21pbnVzZnVsbDIuZ2lmJzsgdGhpcy5pbWdNaW51czMgPSAncnRsX21pbnVzZnVsbDMuZ2lmJzsKCQkJCXRoaXMuaW1nTWludXM0ID0gJ3J0bF9taW51c2Z1bGw0LmdpZic7IHRoaXMuaW1nTWludXM1ID0gJ3J0bF9taW51c2Z1bGw1LmdpZic7CgkJCQl0aGlzLmltZ1BsdXMxID0gJ3J0bF9wbHVzZnVsbDEuZ2lmJzsgdGhpcy5pbWdQbHVzMiA9ICdydGxfcGx1c2Z1bGwyLmdpZic7IHRoaXMuaW1nUGx1czMgPSAncnRsX3BsdXNmdWxsMy5naWYnOwoJCQkJdGhpcy5pbWdQbHVzNCA9ICdydGxfcGx1c2Z1bGw0LmdpZic7IHRoaXMuaW1nUGx1czUgPSAncnRsX3BsdXNmdWxsNS5naWYnOwoJCQkJdGhpcy5pbWdDaGVjazEgPSAnY2hlY2sxLmdpZic7IHRoaXMuaW1nQ2hlY2syID0gJ2NoZWNrMi5naWYnOyB0aGlzLmltZ0NoZWNrMyA9ICdjaGVjazMuZ2lmJzsKCQkJCS8vIExlcyAyIHByZW1pZXJzIHNvbnQgZGVzIG5vbXMgZCdpbWFnZXMsIGxlcyAyIGF1dHJlcyBkZSBjbGFzc2VzIENTUwoJCQkJdGhpcy5pbWdNdWx0aTEgPSAncnRsX2xpbmViZ2Z1bGwuZ2lmJzsgdGhpcy5pbWdNdWx0aTIgPSAncnRsX2xpbmViZ2Z1bGwyLmdpZic7CgkJCQl0aGlzLmltZ011bHRpMyA9ICdtdWx0aWxpbmUnOyB0aGlzLmltZ011bHRpNCA9ICdtdWx0aWxpbmUyJzsKCQkJCX0gZWxzZSB7CgkJCQl0aGlzLmltZ0xpbmUwID0gJ2xpbmVmdWxsMC5naWYnOyB0aGlzLmltZ0xpbmUxID0gJ2xpbmVmdWxsMS5naWYnOyB0aGlzLmltZ0xpbmUyID0gJ2xpbmVmdWxsMi5naWYnOwoJCQkJdGhpcy5pbWdMaW5lMyA9ICdsaW5lZnVsbDMuZ2lmJzsgdGhpcy5pbWdMaW5lNCA9ICdsaW5lZnVsbDQuZ2lmJzsgdGhpcy5pbWdMaW5lNSA9ICdsaW5lZnVsbDUuZ2lmJzsKCQkJCXRoaXMuaW1nV2FpdCA9ICd3YWl0LmdpZic7IHRoaXMuaW1nRW1wdHkgPSAnZW1wdHkuZ2lmJzsKCQkJCXRoaXMuaW1nTWludXMxID0gJ21pbnVzZnVsbDEuZ2lmJzsgdGhpcy5pbWdNaW51czIgPSAnbWludXNmdWxsMi5naWYnOyB0aGlzLmltZ01pbnVzMyA9ICdtaW51c2Z1bGwzLmdpZic7CgkJCQl0aGlzLmltZ01pbnVzNCA9ICdtaW51c2Z1bGw0LmdpZic7IHRoaXMuaW1nTWludXM1ID0gJ21pbnVzZnVsbDUuZ2lmJzsKCQkJCXRoaXMuaW1nUGx1czEgPSAncGx1c2Z1bGwxLmdpZic7IHRoaXMuaW1nUGx1czIgPSAncGx1c2Z1bGwyLmdpZic7IHRoaXMuaW1nUGx1czMgPSAncGx1c2Z1bGwzLmdpZic7CgkJCQl0aGlzLmltZ1BsdXM0ID0gJ3BsdXNmdWxsNC5naWYnOyB0aGlzLmltZ1BsdXM1ID0gJ3BsdXNmdWxsNS5naWYnOwoJCQkJdGhpcy5pbWdDaGVjazEgPSAnY2hlY2sxLmdpZic7IHRoaXMuaW1nQ2hlY2syID0gJ2NoZWNrMi5naWYnOyB0aGlzLmltZ0NoZWNrMyA9ICdjaGVjazMuZ2lmJzsKCQkJCS8vIExlcyAyIHByZW1pZXJzIHNvbnQgZGVzIG5vbXMgZCdpbWFnZXMsIGxlcyAyIGF1dHJlcyBkZSBjbGFzc2VzIENTUwoJCQkJdGhpcy5pbWdNdWx0aTEgPSAnbGluZWJnZnVsbC5naWYnOyB0aGlzLmltZ011bHRpMiA9ICdsaW5lYmdmdWxsMi5naWYnOwoJCQkJdGhpcy5pbWdNdWx0aTMgPSAnbXVsdGlsaW5lJzsgdGhpcy5pbWdNdWx0aTQgPSAnbXVsdGlsaW5lMic7CgkJCQl9CgkJCQlicmVhazsKCQkJY2FzZSAnbGluZScgOgoJCQlkZWZhdWx0IDoKCQkJCWlmICh0aGlzLmlzUlRMKCkpIHsKCQkJCXRoaXMuaW1nTGluZTAgPSAncnRsX2xpbmUwLmdpZic7IHRoaXMuaW1nTGluZTEgPSAncnRsX2xpbmUxLmdpZic7IHRoaXMuaW1nTGluZTIgPSAncnRsX2xpbmUyLmdpZic7CgkJCQl0aGlzLmltZ0xpbmUzID0gJ3J0bF9saW5lMy5naWYnOyB0aGlzLmltZ0xpbmU0ID0gJ3J0bF9saW5lNC5naWYnOyB0aGlzLmltZ0xpbmU1ID0gJ3J0bF9saW5lNS5naWYnOwoJCQkJdGhpcy5pbWdXYWl0ID0gJ3dhaXQuZ2lmJzsgdGhpcy5pbWdFbXB0eSA9ICdlbXB0eS5naWYnOwoJCQkJdGhpcy5pbWdNaW51czEgPSAncnRsX21pbnVzMS5naWYnOyB0aGlzLmltZ01pbnVzMiA9ICdydGxfbWludXMyLmdpZic7IHRoaXMuaW1nTWludXMzID0gJ3J0bF9taW51czMuZ2lmJzsKCQkJCXRoaXMuaW1nTWludXM0ID0gJ3J0bF9taW51czQuZ2lmJzsgdGhpcy5pbWdNaW51czUgPSAncnRsX21pbnVzNS5naWYnOwoJCQkJdGhpcy5pbWdQbHVzMSA9ICdydGxfcGx1czEuZ2lmJzsgdGhpcy5pbWdQbHVzMiA9ICdydGxfcGx1czIuZ2lmJzsgdGhpcy5pbWdQbHVzMyA9ICdydGxfcGx1czMuZ2lmJzsKCQkJCXRoaXMuaW1nUGx1czQgPSAncnRsX3BsdXM0LmdpZic7IHRoaXMuaW1nUGx1czUgPSAncnRsX3BsdXM1LmdpZic7CgkJCQl0aGlzLmltZ0NoZWNrMSA9ICdjaGVjazEuZ2lmJzsgdGhpcy5pbWdDaGVjazIgPSAnY2hlY2syLmdpZic7IHRoaXMuaW1nQ2hlY2szID0gJ2NoZWNrMy5naWYnOwoJCQkJLy8gTGVzIDIgcHJlbWllcnMgc29udCBkZXMgbm9tcyBkJ2ltYWdlcywgbGVzIDIgYXV0cmVzIGRlIGNsYXNzZXMgQ1NTCgkJCQl0aGlzLmltZ011bHRpMSA9ICdydGxfbGluZWJnLmdpZic7IHRoaXMuaW1nTXVsdGkyID0gJ3J0bF9saW5lYmcyLmdpZic7CgkJCQl0aGlzLmltZ011bHRpMyA9ICdtdWx0aWxpbmUnOyB0aGlzLmltZ011bHRpNCA9ICdtdWx0aWxpbmUyJzsKCQkJCX0gZWxzZSB7CgkJCQl0aGlzLmltZ0xpbmUwID0gJ2xpbmUwLmdpZic7IHRoaXMuaW1nTGluZTEgPSAnbGluZTEuZ2lmJzsgdGhpcy5pbWdMaW5lMiA9ICdsaW5lMi5naWYnOwoJCQkJdGhpcy5pbWdMaW5lMyA9ICdsaW5lMy5naWYnOyB0aGlzLmltZ0xpbmU0ID0gJ2xpbmU0LmdpZic7IHRoaXMuaW1nTGluZTUgPSAnbGluZTUuZ2lmJzsKCQkJCXRoaXMuaW1nV2FpdCA9ICd3YWl0LmdpZic7IHRoaXMuaW1nRW1wdHkgPSAnZW1wdHkuZ2lmJzsKCQkJCXRoaXMuaW1nTWludXMxID0gJ21pbnVzMS5naWYnOyB0aGlzLmltZ01pbnVzMiA9ICdtaW51czIuZ2lmJzsgdGhpcy5pbWdNaW51czMgPSAnbWludXMzLmdpZic7CgkJCQl0aGlzLmltZ01pbnVzNCA9ICdtaW51czQuZ2lmJzsgdGhpcy5pbWdNaW51czUgPSAnbWludXM1LmdpZic7CgkJCQl0aGlzLmltZ1BsdXMxID0gJ3BsdXMxLmdpZic7IHRoaXMuaW1nUGx1czIgPSAncGx1czIuZ2lmJzsgdGhpcy5pbWdQbHVzMyA9ICdwbHVzMy5naWYnOwoJCQkJdGhpcy5pbWdQbHVzNCA9ICdwbHVzNC5naWYnOyB0aGlzLmltZ1BsdXM1ID0gJ3BsdXM1LmdpZic7CgkJCQl0aGlzLmltZ0NoZWNrMSA9ICdjaGVjazEuZ2lmJzsgdGhpcy5pbWdDaGVjazIgPSAnY2hlY2syLmdpZic7IHRoaXMuaW1nQ2hlY2szID0gJ2NoZWNrMy5naWYnOwoJCQkJLy8gTGVzIDIgcHJlbWllcnMgc29udCBkZXMgbm9tcyBkJ2ltYWdlcywgbGVzIDIgYXV0cmVzIGRlIGNsYXNzZXMgQ1NTCgkJCQl0aGlzLmltZ011bHRpMSA9ICdsaW5lYmcuZ2lmJzsgdGhpcy5pbWdNdWx0aTIgPSAnbGluZWJnMi5naWYnOwoJCQkJdGhpcy5pbWdNdWx0aTMgPSAnbXVsdGlsaW5lJzsgdGhpcy5pbWdNdWx0aTQgPSAnbXVsdGlsaW5lMic7CgkJCQl9CgkJfQoJfSwKCQoJc2V0VG9vbHRpcER1cmF0aW9uIDogZnVuY3Rpb24gKHNob3csIGhpZGUpIHsKCQl0aGlzLmR1cmF0aW9uVG9vbHRpcFNob3cgPSBzaG93OwoJCXRoaXMuZHVyYXRpb25Ub29sdGlwSGlkZSA9IGhpZGU7Cgl9LAoKCS8qKgoJICogTe+/vXRob2RlIHF1aSBwZXJtZXQgZCdpbnRlcmRpciBsZXMgbW91dmVtZW50cyBkYW5zIGxhIGJyYW5jaGUgZHJhZ2d177+9ZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JYm9vbGVhbgkJCQlwcm9wYWdhdGVSZXN0aWN0aW9uCQlUcnVlIHBvdXIgaW50ZXJkaXIgbGUgbW91dmVtZW50IGRlcyBlbmZhbnRzIGRlIGxhIGJyYW5jaGUgZHJvcHDvv71lCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJcHJvcGFnYXRlUmVzdHJpY3Rpb24gOiBmdW5jdGlvbiAocHJvcGFnYXRlKSB7CgkJdGhpcy5wcm9wYWdhdGlvbiA9ICh0eXBlb2YocHJvcGFnYXRlKSA9PSAndW5kZWZpbmVkJykgPyB0cnVlIDogcHJvcGFnYXRlOwoJfSwKCQoJZ2V0U2VsZWN0ZWRCcmFuY2hlcyA6IGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gdGhpcy5zZWxlY3RlZEJyYW5jaGVzOwoJfSwKCglzZXRDb250ZXh0TWVudSA6IGZ1bmN0aW9uIChtZW51KSB7CgkJdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCWRpdi5pbm5lckhUTUwgPSBtZW51OwoJCXRoaXMuZGl2LmFwcGVuZENoaWxkKGRpdik7Cgl9LAoKCgkvKioKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKgkJCQkJCQlUYWZlbFRyZWUgcHVibGljIG1ldGhvZHMKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKi8KCQoJLyoqCgkgKiBGb25jdGlvbiBwb3VyIGfvv71u77+9cmVyIGwnYXJicmUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWJvb2xlYW4JCQkJYmlnVHJlZQkJCQkJVHJ1ZSBwb3VyIHNw77+9Y2lmaWVyIHF1ZSBjJ2VzdCB1biBncm9zIGFyYnJlCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJZ2VuZXJhdGUgOiBmdW5jdGlvbiAoYmlnVHJlZSkgewoJCWlmICghYmlnVHJlZSkgewoJCQl2YXIgaXNOb3RGaXJzdCA9IGZhbHNlOwoJCQl2YXIgaXNOb3RMYXN0ID0gZmFsc2U7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXNlU3RydWN0Lmxlbmd0aDsgaSsrKSB7CgkJCQlpc05vdEZpcnN0ID0gKGkgPiAwKSA/IHRydWUgOiBmYWxzZTsKCQkJCWlzTm90TGFzdCA9IChpIDwgdGhpcy5iYXNlU3RydWN0Lmxlbmd0aCAtIDEpID8gdHJ1ZSA6IGZhbHNlOwoJCQkJdGhpcy5yb290c1tpXSA9IG5ldyBUYWZlbFRyZWVSb290KHRoaXMsIHRoaXMuYmFzZVN0cnVjdFtpXSwgMCwgaXNOb3RGaXJzdCwgaXNOb3RMYXN0LCBpKTsKCQkJCXRoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMucm9vdHNbaV0ub2JqKTsKCQkJfQoJCQl0aGlzLmxvYWRDb21wbGV0ZSgpOwoJCX0gZWxzZSB7CgkJCXRoaXMuYmlnVHJlZUxvYWRpbmcgPSAwOwoJCQlzZXRUaW1lb3V0KHRoaXMuX2NoZWNrTG9hZC5iaW5kKHRoaXMpLCAxMDApOwoJCQlzZXRUaW1lb3V0KHRoaXMuX2dlbmVyYXRlQmlnVHJlZS5iaW5kKHRoaXMpLCAxMCk7CgkJfQoJfSwKCQoJLyoqCgkgKiBMYW5jZSBsZXMgZm9uY3Rpb25zIGfvv71u77+9cmFsZXMgZGUgbCdhcmJyZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0Jb2JqZWN0CQkJCW9wdGlvbnMJCQkJCUxlcyBmb25jdGlvbnMgZXQgYXV0cmVzIG91dmVydHVyZXMgYXV0b21hdGlxdWVzKgoJICogQHJldHVybgl2b2lkCgkgKi8KCXNldE9wdGlvbnMgOiBmdW5jdGlvbiAob3B0aW9ucykgewoJCS8vIEZvbmN0aW9ucyDvv71277+9bmVtZW50aWVsbGVzCgkJaWYgKG9wdGlvbnMub25Mb2FkKSB0aGlzLnNldE9uTG9hZChvcHRpb25zLm9uTG9hZCk7CgkJaWYgKG9wdGlvbnMub25EZWJ1ZykgdGhpcy5zZXRPbkRlYnVnKG9wdGlvbnMub25EZWJ1Zyk7CgkJaWYgKG9wdGlvbnMub25DaGVjaykgdGhpcy5zZXRPbkNoZWNrKG9wdGlvbnMub25DaGVjayk7CgkJaWYgKG9wdGlvbnMub25SYWRpbykgdGhpcy5zZXRPblJhZGlvKG9wdGlvbnMub25SYWRpbyk7CgkJaWYgKG9wdGlvbnMub25CZWZvcmVDaGVjaykgdGhpcy5zZXRPbkJlZm9yZUNoZWNrKG9wdGlvbnMub25CZWZvcmVDaGVjayk7CgkJaWYgKG9wdGlvbnMub25DbGljaykgdGhpcy5zZXRPbkNsaWNrKG9wdGlvbnMub25DbGljayk7CgkJaWYgKG9wdGlvbnMub25Nb3VzZURvd24pIHRoaXMuc2V0T25Nb3VzZURvd24ob3B0aW9ucy5vbk1vdXNlRG93bik7CgkJaWYgKG9wdGlvbnMub25Nb3VzZVVwKSB0aGlzLnNldE9uTW91c2VVcChvcHRpb25zLm9uTW91c2VVcCk7CgkJaWYgKG9wdGlvbnMub25EYmxDbGljaykgdGhpcy5zZXRPbkRibENsaWNrKG9wdGlvbnMub25EYmxDbGljayk7CgkJaWYgKG9wdGlvbnMub25CZWZvcmVPcGVuKSB0aGlzLnNldE9uQmVmb3JlT3BlbihvcHRpb25zLm9uQmVmb3JlT3Blbik7CgkJaWYgKG9wdGlvbnMub25PcGVuKSB0aGlzLnNldE9uT3BlbihvcHRpb25zLm9uT3Blbik7CgkJaWYgKG9wdGlvbnMub25Nb3VzZU92ZXIpIHRoaXMuc2V0T25Nb3VzZU92ZXIob3B0aW9ucy5vbk1vdXNlT3Zlcik7CgkJaWYgKG9wdGlvbnMub25Nb3VzZU91dCkgdGhpcy5zZXRPbk1vdXNlT3V0KG9wdGlvbnMub25Nb3VzZU91dCk7CgkJaWYgKG9wdGlvbnMub25Ecm9wKSB0aGlzLnNldE9uRHJvcChvcHRpb25zLm9uRHJvcCk7CgkJaWYgKG9wdGlvbnMub25EcmFnU3RhcnRFZmZlY3QpIHRoaXMuc2V0T25EcmFnU3RhcnRFZmZlY3Qob3B0aW9ucy5vbkRyYWdTdGFydEVmZmVjdCk7CgkJaWYgKG9wdGlvbnMub25EcmFnRW5kRWZmZWN0KSB0aGlzLnNldE9uRHJhZ0VuZEVmZmVjdChvcHRpb25zLm9uRHJhZ0VuZEVmZmVjdCk7IAoJCWlmIChvcHRpb25zLm9uRXJyb3JBamF4KSB0aGlzLnNldE9uRHJvcEFmdGVyKG9wdGlvbnMub25FcnJvckFqYXgpOwoJCWlmIChvcHRpb25zLm9uRWRpdCkgdGhpcy5zZXRPbkVkaXQob3B0aW9ucy5vbkVkaXQpOwoJCWlmIChvcHRpb25zLm9uRWRpdEFqYXgpIHRoaXMuc2V0T25FZGl0QWpheChvcHRpb25zLm9uRWRpdEFqYXhbMF0sIG9wdGlvbnMub25FZGl0QWpheFsxXSk7CgkJaWYgKG9wdGlvbnMub25Ecm9wQWpheCkgdGhpcy5zZXRPbkRyb3BBamF4KG9wdGlvbnMub25Ecm9wQWpheFswXSwgb3B0aW9ucy5vbkRyb3BBamF4WzFdKTsKCQlpZiAob3B0aW9ucy5vbk9wZW5Qb3B1bGF0ZSkgdGhpcy5zZXRPbk9wZW5Qb3B1bGF0ZShvcHRpb25zLm9uT3BlblBvcHVsYXRlWzBdLCBvcHRpb25zLm9uT3BlblBvcHVsYXRlWzFdKTsKCQkvLyBGb25jdGlvbnMgYXZhbmPvv71lcwoJCWlmICh0eXBlb2Yob3B0aW9ucy5ydGxNb2RlKSAhPSAndW5kZWZpbmVkJykgdGhpcy5lbmFibGVSVEwob3B0aW9ucy5ydGxNb2RlKTsKCQlpZiAodHlwZW9mKG9wdGlvbnMuZHJvcEFMVCkgIT0gJ3VuZGVmaW5lZCcpIHRoaXMuZGlzYWJsZURyb3BBTFQob3B0aW9ucy5kcm9wQUxUKTsKCQlpZiAodHlwZW9mKG9wdGlvbnMuZHJvcENUUkwpICE9ICd1bmRlZmluZWQnKSB0aGlzLmRpc2FibGVEcm9wQ1RSTChvcHRpb25zLmRyb3BDVFJMKTsKCQlpZiAodHlwZW9mKG9wdGlvbnMubXVsdGlsaW5lKSAhPSAndW5kZWZpbmVkJykgdGhpcy5lbmFibGVNdWx0aWxpbmUob3B0aW9ucy5tdWx0aWxpbmUpOwoJCWlmICh0eXBlb2Yob3B0aW9ucy5zZWxlY3RlZFJhZGlvSUQpICE9ICd1bmRlZmluZWQnKSB0aGlzLnNldFNlbGVjdGVkUmFkaW9JRChvcHRpb25zLnNlbGVjdGVkUmFkaW9JRCk7CgkJaWYgKHR5cGVvZihvcHRpb25zLmNoZWNrYm94ZXMpICE9ICd1bmRlZmluZWQnKSB0aGlzLmVuYWJsZUNoZWNrYm94ZXMob3B0aW9ucy5jaGVja2JveGVzKTsKCQlpZiAodHlwZW9mKG9wdGlvbnMuY2hlY2tib3hlc0Rpc2FibGVkKSAhPSAndW5kZWZpbmVkJykgdGhpcy5lbmFibGVDaGVja2JveGVzRGlzYWJsZWQob3B0aW9ucy5jaGVja2JveGVzRGlzYWJsZWQpOwoJCWlmICh0eXBlb2Yob3B0aW9ucy5jaGVja2JveElEUHJlZml4KSAhPSAndW5kZWZpbmVkJykgdGhpcy5zZXRDaGVja2JveElEUHJlZml4KG9wdGlvbnMuY2hlY2tib3hJRFByZWZpeCk7CgkJaWYgKHR5cGVvZihvcHRpb25zLmNoZWNrYm94TmFtZVByZWZpeCkgIT0gJ3VuZGVmaW5lZCcpIHRoaXMuc2V0Q2hlY2tib3hOYW1lUHJlZml4KG9wdGlvbnMuY2hlY2tib3hOYW1lUHJlZml4KTsKCQlpZiAodHlwZW9mKG9wdGlvbnMucmFkaW9zKSAhPSAndW5kZWZpbmVkJykgdGhpcy5lbmFibGVSYWRpb3Mob3B0aW9ucy5yYWRpb3MpOwoJCWlmICh0eXBlb2Yob3B0aW9ucy5yYWRpb3NEaXNhYmxlZCkgIT0gJ3VuZGVmaW5lZCcpIHRoaXMuZW5hYmxlUmFkaW9zRGlzYWJsZWQob3B0aW9ucy5yYWRpb3NEaXNhYmxlZCk7CgkJaWYgKHR5cGVvZihvcHRpb25zLmNoZWNrYm94ZXNUaHJlZVN0YXRlKSAhPSAndW5kZWZpbmVkJykgdGhpcy5lbmFibGVDaGVja2JveGVzVGhyZWVTdGF0ZShvcHRpb25zLmNoZWNrYm94ZXNUaHJlZVN0YXRlKTsJCQkJCgkJaWYgKHR5cGVvZihvcHRpb25zLmNvb2tpZXMpICE9ICd1bmRlZmluZWQnKSB0aGlzLmVuYWJsZUNvb2tpZXModGhpcy51c2VDb29raWUpOyAvLyBrYXJvbGlzCgkJaWYgKHR5cGVvZihvcHRpb25zLm9wZW5PbmVBdE9uY2UpICE9ICd1bmRlZmluZWQnKSB0aGlzLm9wZW5PbmVBdE9uY2Uob3B0aW9ucy5vcGVuT25lQXRPbmNlKTsKCQlpZiAodHlwZW9mKG9wdGlvbnMub3BlbkF0TG9hZCkgIT0gJ3VuZGVmaW5lZCcpIHRoaXMub3BlbkF0TG9hZChvcHRpb25zLm9wZW5BdExvYWQpOwoJCWlmICh0eXBlb2Yob3B0aW9ucy5vcGVuQWZ0ZXJBZGQpICE9ICd1bmRlZmluZWQnKSB0aGlzLm9wZW5BZnRlckFkZChvcHRpb25zLm9wZW5BZnRlckFkZCk7CgkJaWYgKHR5cGVvZihvcHRpb25zLnNob3dTZWxlY3RlZEJyYW5jaCkgIT0gJ3VuZGVmaW5lZCcpIHRoaXMuc2hvd1NlbGVjdGVkQnJhbmNoKG9wdGlvbnMuc2hvd1NlbGVjdGVkQnJhbmNoKTsKCQlpZiAodHlwZW9mKG9wdGlvbnMucmVvcGVuRnJvbVNlcnZlcikgIT0gJ3VuZGVmaW5lZCcpIHRoaXMucmVvcGVuRnJvbVNlcnZlckFmdGVyTG9hZChvcHRpb25zLnJlb3BlbkZyb21TZXJ2ZXIpOwoJCWlmICh0eXBlb2Yob3B0aW9ucy5wcm9wYWdhdGVSZXN0cmljdGlvbikgIT0gJ3VuZGVmaW5lZCcpIHRoaXMucHJvcGFnYXRlUmVzdHJpY3Rpb24ob3B0aW9ucy5wcm9wYWdhdGVSZXN0cmljdGlvbik7CgkJaWYgKG9wdGlvbnMubGluZVN0eWxlKSB0aGlzLnNldExpbmVTdHlsZShvcHRpb25zLmxpbmVTdHlsZSk7CgkJaWYgKG9wdGlvbnMuYmVoYXZpb3VyRHJvcCkgdGhpcy5zZXRCZWhhdmlvdXJEcm9wKG9wdGlvbnMuYmVoYXZpb3VyRHJvcCk7CgkJaWYgKG9wdGlvbnMuY29udGV4dE1lbnUpIHRoaXMuc2V0Q29udGV4dE1lbnUob3B0aW9ucy5jb250ZXh0TWVudSk7CgkJLy8gRm9uY3Rpb25zIGRpdmVyc2VzCgkJaWYgKG9wdGlvbnMuYmluZCkgewoJCQlmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMuYmluZC5sZW5ndGg7IGkrKykgewoJCQkJdGhpcy5iaW5kKG9wdGlvbnMuYmluZFtpXSk7CgkJCX0KCQl9CgkJaWYgKG9wdGlvbnMuYmluZEFzVW5pZGlyZWN0aW9uYWwpIHsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmJpbmRBc1VuaWRpcmVjdGlvbmFsLmxlbmd0aDsgaSsrKSB7CgkJCQl0aGlzLmJpbmQob3B0aW9ucy5iaW5kQXNVbmlkaXJlY3Rpb25hbFtpXSk7CgkJCX0KCQl9CgkJaWYgKG9wdGlvbnMuZGVmYXVsdEltZykgewoJCQl2YXIgaW1nb3BlbiA9IChvcHRpb25zLmRlZmF1bHRJbWdPcGVuKSA/IG9wdGlvbnMuZGVmYXVsdEltZ09wZW4gOiBvcHRpb25zLmRlZmF1bHRJbWc7CgkJCXZhciBpbWdjbG9zZSA9IChvcHRpb25zLmRlZmF1bHRJbWdDbG9zZSkgPyBvcHRpb25zLmRlZmF1bHRJbWdDbG9zZSA6IG9wdGlvbnMuZGVmYXVsdEltZzsKCQkJdGhpcy5zZXRJY29ucyhvcHRpb25zLmRlZmF1bHRJbWcsIGltZ29wZW4sIGltZ2Nsb3NlKTsKCQl9CgkJaWYgKG9wdGlvbnMuZGVmYXVsdEltZ1NlbGVjdGVkIHx8IG9wdGlvbnMuZGVmYXVsdEltZ09wZW5TZWxlY3RlZCB8fCBvcHRpb25zLmRlZmF1bHRJbWdDbG9zZVNlbGVjdGVkKSB7CgkJCXZhciBpbWcgPSAob3B0aW9ucy5kZWZhdWx0SW1nU2VsZWN0ZWQpID8gb3B0aW9ucy5kZWZhdWx0SW1nU2VsZWN0ZWQgOiBudWxsOwoJCQl2YXIgaW1nb3BlbiA9IChvcHRpb25zLmRlZmF1bHRJbWdPcGVuU2VsZWN0ZWQpID8gb3B0aW9ucy5kZWZhdWx0SW1nT3BlblNlbGVjdGVkIDogbnVsbDsKCQkJdmFyIGltZ2Nsb3NlID0gKG9wdGlvbnMuZGVmYXVsdEltZ0Nsb3NlU2VsZWN0ZWQpID8gb3B0aW9ucy5kZWZhdWx0SW1nQ2xvc2VTZWxlY3RlZCA6bnVsbDsKCQkJdGhpcy5zZXRJY29uc1NlbGVjdGVkKGltZywgaW1nb3BlbiwgaW1nY2xvc2UpOwoJCX0KICAgICAgICB0aGlzLnNlcnZlckNvb2tpZSA9IChvcHRpb25zLnNlcnZlckNvb2tpZSkgPyBvcHRpb25zLnNlcnZlckNvb2tpZSA6IGZhbHNlOwoJfSwKCglsb2FkQ29tcGxldGUgOiBmdW5jdGlvbiAoKSB7CgkJdGhpcy5fYWRqdXN0T3BlbmluZygpOwoJCXRoaXMuX2FkanVzdENoZWNrKCk7CQkKCQlpZiAodGhpcy51c2VDb29raWUpIHsgIC8vIGthcm9saXMKCQkgICAgdGhpcy5zZXRDb29raWUodGhpcy5jbGFzc1RyZWUgKyB0aGlzLmlkKTsKCQl9CiAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlOwoJCWlmICh0eXBlb2YodGhpcy5vbkxvYWQpID09ICdmdW5jdGlvbicpIHsKCQkJdGhpcy5vbkxvYWQoKTsKCQl9Cgl9LAoKCWxvYWRSdW5uaW5nIDogZnVuY3Rpb24gKGxvYWRlZCkgewoJCWlmICh0eXBlb2YodGhpcy5vbkxvYWRpbmcpID09ICdmdW5jdGlvbicpIHsKCQkJdGhpcy5vbkxvYWRpbmcobG9hZGVkKTsKCQl9Cgl9LAoKCXJlcGxhY2UgOiBmdW5jdGlvbiAobW9kZWxCcmFuY2gsIHJlcGxhY2VkQnJhbmNoLCBjb3B5KSB7CgkJdmFyIGJyYW5jaDEgPSB0aGlzLmdldEJyYW5jaEJ5SWQobW9kZWxCcmFuY2gpOwoJCWlmICghYnJhbmNoMSkgcmV0dXJuIGZhbHNlOwoJCXJldHVybiBicmFuY2gxLnJlcGxhY2UocmVwbGFjZWRCcmFuY2gsIGNvcHkpOwoJfSwKCglzd2l0Y2hCcmFuY2hlcyA6IGZ1bmN0aW9uIChicmFuY2gxLCBicmFuY2gyKSB7CgkJdmFyIGJyYW5jaDEgPSB0aGlzLmdldEJyYW5jaEJ5SWQoYnJhbmNoMSk7CgkJaWYgKCFicmFuY2gxKSByZXR1cm4gZmFsc2U7CgkJYnJhbmNoMS5zd2l0Y2hXaXRoKGJyYW5jaDIpOwoJfSwKCgkvKioKCSAqIFJlc3RhdXJlIGxlcyB2YWxldXJzIHBhciBk77+9ZmF1dCBkJ291dmVydHVyZSBldCBjaGVjayAoc2Vsb24gdHlwZSkKCSAqCgkgKiBMZSB0eXBlIHBldXQgcHJlbmRyZSBsYSB2YWxldXIgIm9wZW4iLCAiY2hlY2siIG91ICJhbGwiCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlzdHJpbmcJCQl0eXBlCQkJCQlMZSB0eXBlIGRlIGRlZmF1bHQgKG9wZW4sIGNoZWNrIG91IGFsbCkKCSAqIEByZXR1cm4Jdm9pZAoJICovCglyZXN0b3JlRGVmYXVsdCA6IGZ1bmN0aW9uICh0eXBlKSB7CgkJdmFyIHMgPSB0aGlzLmRlZmF1bHRTdHJ1Y3Q7CgkJdGhpcy5fcmVzdGF1cmVEZWZhdWx0KHMsIHR5cGUpOwoJfSwKCglfcmVzdGF1cmVEZWZhdWx0IDogZnVuY3Rpb24gKHMsIHR5cGUpIHsKCQl2YXIgYiA9IG51bGw7CgkJdmFyIG9wZW4gPSBmYWxzZTsKCQl2YXIgY2hlY2sgPSAwOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykgewoJCQliID0gdGhpcy5nZXRCcmFuY2hCeUlkKHNbaV0uaWQpOwoJCQlpZiAoYikgewoJCQkJb3BlbiA9IChzW2ldLm9wZW4pID8gdHJ1ZSA6IHRoaXMub3BlbkFsbDsKCQkJCWNoZWNrID0gKHNbaV0uY2hlY2sgPT0gMSkgPyAxIDogMDsKCQkJCXN3aXRjaCAodHlwZSkgewoJCQkJCWNhc2UgJ29wZW4nIDoKCQkJCQkJaWYgKGIuaGFzQ2hpbGRyZW4oKSkgewoJCQkJCQkJYi5vcGVuSXQob3Blbik7CgkJCQkJCX0KCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAnY2hlY2snIDoKCQkJCQkJYi5jaGVjayhjaGVjayk7CgkJCQkJCWIuX2FkanVzdFBhcmVudENoZWNrKCk7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgJ2FsbCcgOgoJCQkJCWRlZmF1bHQgOgoJCQkJCQlpZiAoYi5oYXNDaGlsZHJlbigpKSB7CgkJCQkJCQliLm9wZW5JdChvcGVuKTsKCQkJCQkJfQoJCQkJCQkvL2FsZXJ0KGIuZ2V0VGV4dCgpICsgJyA6ICcgKyBjaGVjayk7CgkJCQkJCWIuY2hlY2soY2hlY2spOwoJCQkJCQliLl9hZGp1c3RQYXJlbnRDaGVjaygpOwoJCQkJfQoJCQkJLy8gUydpbCB5IGEgZGVzIGVuZmFudHMsIG9uIHZhIGxlcyByZXN0YXVyZXIgYXVzc2kKCQkJCWlmICh0eXBlb2Yoc1tpXS5pdGVtcykgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCQl0aGlzLl9yZXN0YXVyZURlZmF1bHQoc1tpXS5pdGVtcywgdHlwZSk7CgkJCQl9CgkJCX0KCQl9Cgl9LAoJCgkvKioKCSAqIEZvbmN0aW9uIHF1aSBsaWUgZGVzIGFyYnJlcyBUYWZlbFRyZWUgZW50cmUgZXV4LCBiaWRpcmVjaXRvbm5lbGxlbWVudAoJICoKCSAqIE9uIGx1aSBwYXNzZSBhdXRhbnQgZGUgVGFmZWxUcmVlIHZvdWx1LCBlbiBsZXMgc++/vXBhcmFudCBwYXIgZGVzIHZpcmd1bGVzCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlUYWZlbFRyZWUJCQlhcmd1bWVudAkJCQlVbiBvdSBwbHVzaWV1cnMgVGFmZWxUcmVlCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJYmluZCA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgdHJlZXMgPSB0aGlzLmJpbmQuYXJndW1lbnRzOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgdHJlZXMubGVuZ3RoOyBpKyspIHsKCQkJaWYgKCF0aGlzLmlzQmluZGVkV2l0aCh0cmVlc1tpXSkpIHsKCQkJCXRoaXMub3RoZXJUcmVlcy5wdXNoKHRyZWVzW2ldKTsKCQkJCWlmICghdHJlZXNbaV0uaXNCaW5kZWRXaXRoKHRoaXMpKSB7CgkJCQkJdHJlZXNbaV0uYmluZCh0aGlzKTsKCQkJCX0KCQkJfQoJCX0KCX0sCgkKCS8qKgoJICogRm9uY3Rpb24gcXVpIGxpZSBkZXMgYXJicmVzIFRhZmVsVHJlZSBlbnRyZSBldXgsIG1haXMgdW5uaWRpcmVjaXRvbm5lbAoJICoKCSAqIE9uIGx1aSBwYXNzZSBhdXRhbnQgZGUgVGFmZWxUcmVlIHZvdWx1LCBlbiBsZXMgc++/vXBhcmFudCBwYXIgZGVzIHZpcmd1bGVzCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlUYWZlbFRyZWUJCQlhcmd1bWVudAkJCQlVbiBvdSBwbHVzaWV1cnMgVGFmZWxUcmVlCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJYmluZEFzVW5pZGlyZWN0aW9uYWwgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIHRyZWVzID0gdGhpcy5iaW5kQXNVbmlkaXJlY3Rpb25hbC5hcmd1bWVudHM7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlcy5sZW5ndGg7IGkrKykgewoJCQlpZiAoIXRoaXMuaXNCaW5kZWRXaXRoKHRyZWVzW2ldKSkgewoJCQkJdGhpcy5vdGhlclRyZWVzLnB1c2godHJlZXNbaV0pOwoJCQl9CgkJfQoJfSwKCglpc0JpbmRlZFdpdGggOiBmdW5jdGlvbiAoX3RyZWUpIHsKCQl2YXIgYmluZGVkID0gZmFsc2U7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm90aGVyVHJlZXMubGVuZ3RoOyBpKyspIHsKCQkJaWYgKHRoaXMub3RoZXJUcmVlc1tpXS5pZCA9PSBfdHJlZS5pZCkgewoJCQkJYmluZGVkID0gdHJ1ZTsKCQkJCWJyZWFrOwoJCQl9CgkJfQoJCXJldHVybiBiaW5kZWQ7Cgl9LAoJCgl1bnNlbGVjdCA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgYnJhbmNoID0gbnVsbDsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRCcmFuY2hlcy5sZW5ndGg7IGkrKykgewoJCQlicmFuY2ggPSB0aGlzLnNlbGVjdGVkQnJhbmNoZXNbaV07CgkJCUVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKGJyYW5jaC50eHQsIHRoaXMuY2xhc3NTZWxlY3RlZCk7CgkJCS8vIE9uIHNldCBsJ2lj77+9bmUgcydpbCBkb2l0IGNoYW5nZXIKCQkJaWYgKGJyYW5jaC5nZXRJY29uU2VsZWN0ZWQoKSB8fCBicmFuY2guZ2V0T3Blbkljb25TZWxlY3RlZCgpIHx8IGJyYW5jaC5nZXRDbG9zZUljb25TZWxlY3RlZCgpKSB7CgkJCQlpZiAoYnJhbmNoLmhhc0NoaWxkcmVuKCkpIHsKCQkJCQlicmFuY2guaW1nLnNyYyA9IChicmFuY2guaXNPcGVuZWQoKSkgPyBicmFuY2gudHJlZS5pbWdCYXNlICsgYnJhbmNoLnN0cnVjdC5pbWdvcGVuIDogYnJhbmNoLnRyZWUuaW1nQmFzZSArIGJyYW5jaC5zdHJ1Y3QuaW1nY2xvc2U7CgkJCQl9IGVsc2UgewoJCQkJCWJyYW5jaC5pbWcuc3JjID0gYnJhbmNoLnRyZWUuaW1nQmFzZSArIGJyYW5jaC5zdHJ1Y3QuaW1nOwoJCQkJfQoJCQl9CgkJfQoJCXRoaXMuc2VsZWN0ZWRCcmFuY2hlcyA9IFtdOwoJfSwKCgkvKioKCSAqIFJldG91cm5lIHRvdXRlcyBsZXMgYnJhbmNoZXMgY29udGVudWVzIGVudHJlIGRldXggZCdlbnRyZS1lbGxlcwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JVGFmZWxUcmVlQnJhbmNoCQlicmFuY2gxCQkJCUxhIHByZW1p77+9cmUgYm9ybmUKCSAqIEBwYXJhbQlUYWZlbFRyZWVCcmFuY2gJCWJyYW5jaDIJCQkJTGEgZGV1eGnvv71tZSBib3JuZQoJICogQHJldHVybglhcnJheQkJCQkJCQkJCVVuIHRhYmxlYXUgZGUgYnJhbmNoZSwgb3UgZmFsc2Ugc2kgcmllbiBuJ2Eg77+9dO+/vSB0cm91du+/vQoJICovCglnZXRCcmFuY2hlc0JldHdlZW4gOiBmdW5jdGlvbiAoYnJhbmNoMSwgYnJhbmNoMikgewoJCXZhciBicmFuY2gxID0gdGhpcy5nZXRCcmFuY2hCeUlkKGJyYW5jaDEpOwoJCXZhciBicmFuY2gyID0gdGhpcy5nZXRCcmFuY2hCeUlkKGJyYW5jaDIpOwoJCWlmICghYnJhbmNoMSB8fCAhYnJhbmNoMikgcmV0dXJuIGZhbHNlOwoJCS8vIE9uIHF1aXR0ZSBzaSBjZSBuJ2VzdCBwYXMgbGUgbe+/vW1lIGFyYnJlCgkJaWYgKGJyYW5jaDEudHJlZS5pZCAhPSBicmFuY2gyLnRyZWUuaWQpIHJldHVybiBmYWxzZTsKCQl2YXIgZm91bmQgPSBmYWxzZTsKCQl2YXIgc2VsZWN0ZWQgPSBbXTsKCQl2YXIgcG9zMSA9IGJyYW5jaDEuZ2V0V2l0aGluT2Zmc2V0KCk7CgkJdmFyIHBvczIgPSBicmFuY2gyLmdldFdpdGhpbk9mZnNldCgpOwoJCXZhciBuZXh0ID0gKHBvczFbMV0gPD0gcG9zMlsxXSkgPyB0cnVlIDogZmFsc2U7CgkJLy8gT24gdmEgY2hlcmNoZXIgbCdhdXRyZSBicmFuY2hlIHBsdXMgYmFzCgkJYnJhbmNoID0gKG5leHQpID8gYnJhbmNoMS5nZXROZXh0QnJhbmNoKCkgOiBicmFuY2gxLmdldFByZXZpb3VzQnJhbmNoKCk7CgkJd2hpbGUgKGJyYW5jaCkgewoJCQlzZWxlY3RlZC5wdXNoKGJyYW5jaCk7CgkJCWlmIChicmFuY2guZ2V0SWQoKSA9PSBicmFuY2gyLmdldElkKCkpIHsKCQkJCWZvdW5kID0gdHJ1ZTsKCQkJCWJyZWFrOwoJCQl9CgkJCWJyYW5jaCA9IChuZXh0KSA/IGJyYW5jaC5nZXROZXh0QnJhbmNoKCkgOiBicmFuY2guZ2V0UHJldmlvdXNCcmFuY2goKTsKCQl9CgkJcmV0dXJuIChmb3VuZCkgPyBzZWxlY3RlZCA6IGZhbHNlOwoJfSwKCgkvKioKCSAqIFJldG91cm5lIGxlIG5vbWJyZSBkZSBicmFuY2hlIGNvbXByaXNlcyBkYW5zIGwnYXJicmUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglpbnRlZ2VyCQkJCQkJCQkJCUxlIG5vbWJyZSBkZSBicmFuY2hlcwoJICovCgljb3VudEJyYW5jaGVzIDogZnVuY3Rpb24gKCkgewoJCXZhciBuYiA9IHRoaXMucm9vdHMubGVuZ3RoOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yb290cy5sZW5ndGg7IGkrKykgewoJCQluYiArPSB0aGlzLnJvb3RzW2ldLmNvdW50QnJhbmNoZXMoKTsKCQl9CgkJcmV0dXJuIG5iOwoJfSwKCQoJLyoqCgkgKiBSZXRvdXJuZSB0b3V0ZXMgbGVzIGJyYW5jaGVzIGRlIGwnYXJicmUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWZ1bmN0aW9uCQlmaWx0ZXIJCQkJCQlMZSBmaWx0cmUgZGVzIGJyYW5jaGVzCgkgKiBAcmV0dXJuCWFycmF5CQkJCQkJCQkJCVVuIHRhYmxlYXUgZGVzIGJyYW5jaGVzIGRlIGwnYXJicmUKCSAqLwoJZ2V0QnJhbmNoZXMgOiBmdW5jdGlvbiAoZmlsdGVyKSB7CgkJdmFyIGJyYW5jaGVzID0gW107CgkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvb3RzLmxlbmd0aDsgaSsrKSB7CgkJCWlmICh0eXBlb2YoZmlsdGVyKSA9PSAnZnVuY3Rpb24nKSB7CgkJCQlpZiAoZmlsdGVyKHRoaXMucm9vdHNbaV0pKSB7CgkJCQkJYnJhbmNoZXMucHVzaCh0aGlzLnJvb3RzW2ldKTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCWJyYW5jaGVzLnB1c2godGhpcy5yb290c1tpXSk7CgkJCX0KCQkJYnJhbmNoZXMgPSB0aGlzLnJvb3RzW2ldLmdldEJyYW5jaGVzKGZpbHRlciwgYnJhbmNoZXMpOwoJCX0KCQlyZXR1cm4gYnJhbmNoZXM7Cgl9LAoJCgkvKioKCSAqIFLvv71jdXDvv71yZSB0b3V0ZXMgbGVzIGJyYW5jaGVzIG91dmVydGVzCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4Jdm9pZAoJICovCglnZXRPcGVuZWRCcmFuY2hlcyA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgb3BlbmVkQnJhbmNoZXMgPSBbXTsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucm9vdHMubGVuZ3RoOyBpKyspIHsKCQkJaWYgKHRoaXMucm9vdHNbaV0uaXNPcGVuZWQoKSAmJiB0aGlzLnJvb3RzW2ldLmhhc0NoaWxkcmVuKCkpIHsKCQkJCW9wZW5lZEJyYW5jaGVzLnB1c2godGhpcy5yb290c1tpXSk7CgkJCX0KCQkJb3BlbmVkQnJhbmNoZXMgPSB0aGlzLnJvb3RzW2ldLmdldE9wZW5lZEJyYW5jaGVzKG9wZW5lZEJyYW5jaGVzKTsKCQl9CgkJcmV0dXJuIG9wZW5lZEJyYW5jaGVzOwoJfSwKCQoJLyoqCgkgKiBS77+9Y3Vw77+9cmUgdG91dGVzIGxlcyBicmFuY2hlcyBjaGVja++/vWVzCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4Jdm9pZAoJICovCglnZXRDaGVja2VkQnJhbmNoZXMgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGNoZWNrZWRCcmFuY2hlcyA9IFtdOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yb290cy5sZW5ndGg7IGkrKykgewoJCQlpZiAodGhpcy5yb290c1tpXS5pc0NoZWNrZWQoKSA9PSAxKSB7CgkJCQljaGVja2VkQnJhbmNoZXMucHVzaCh0aGlzLnJvb3RzW2ldKTsKCQkJfQoJCQljaGVja2VkQnJhbmNoZXMgPSB0aGlzLnJvb3RzW2ldLmdldENoZWNrZWRCcmFuY2hlcyhjaGVja2VkQnJhbmNoZXMpOwoJCX0KCQlyZXR1cm4gY2hlY2tlZEJyYW5jaGVzOwoJfSwKCQoJLyoqCgkgKiBS77+9Y3Vw77+9cmUgdG91dGVzIGxlcyBicmFuY2hlcyBub24gY2hlY2vvv71lcwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJZ2V0VW5DaGVja2VkQnJhbmNoZXMgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIHVuY2hlY2tlZEJyYW5jaGVzID0gW107CgkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvb3RzLmxlbmd0aDsgaSsrKSB7CgkJCWlmICh0aGlzLnJvb3RzW2ldLmlzQ2hlY2tlZCgpID09IDApIHsKCQkJCXVuY2hlY2tlZEJyYW5jaGVzLnB1c2godGhpcy5yb290c1tpXSk7CgkJCX0KCQkJdW5jaGVja2VkQnJhbmNoZXMgPSB0aGlzLnJvb3RzW2ldLmdldFVuQ2hlY2tlZEJyYW5jaGVzKHVuY2hlY2tlZEJyYW5jaGVzKTsKCQl9CgkJcmV0dXJuIHVuY2hlY2tlZEJyYW5jaGVzOwoJfSwKCQoJLyoqCgkgKiBS77+9Y3Vw77+9cmUgdG91dGVzIGxlcyBicmFuY2hlcyBwYXJ0aWVsbGVtZW50IGNoZWNr77+9ZXMKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybgl2b2lkCgkgKi8KCWdldFBhcnRDaGVja2VkQnJhbmNoZXMgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIHVuY2hlY2tlZEJyYW5jaGVzID0gW107CgkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvb3RzLmxlbmd0aDsgaSsrKSB7CgkJCWlmICh0aGlzLnJvb3RzW2ldLmlzQ2hlY2tlZCgpID09IC0xKSB7CgkJCQl1bmNoZWNrZWRCcmFuY2hlcy5wdXNoKHRoaXMucm9vdHNbaV0pOwoJCQl9CgkJCXVuY2hlY2tlZEJyYW5jaGVzID0gdGhpcy5yb290c1tpXS5nZXRQYXJ0Q2hlY2tlZEJyYW5jaGVzKHVuY2hlY2tlZEJyYW5jaGVzKTsKCQl9CgkJcmV0dXJuIHVuY2hlY2tlZEJyYW5jaGVzOwoJfSwKCglnZXRQYXJlbnRCcmFuY2hlcyA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgcGFyZW50cyA9IFtdOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yb290cy5sZW5ndGg7IGkrKykgewoJCQlpZiAodGhpcy5yb290c1tpXS5oYXNDaGlsZHJlbigpKSB7CgkJCQlwYXJlbnRzLnB1c2godGhpcy5yb290c1tpXSk7CgkJCX0KCQkJcGFyZW50cyA9IHRoaXMucm9vdHNbaV0uZ2V0UGFyZW50QnJhbmNoZXMocGFyZW50cyk7CgkJfQoJCXJldHVybiBwYXJlbnRzOwoJfSwKCglnZXRMZWFmQnJhbmNoZXMgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGxlYWZzID0gW107CgkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvb3RzLmxlbmd0aDsgaSsrKSB7CgkJCWlmICghdGhpcy5yb290c1tpXS5oYXNDaGlsZHJlbigpKSB7CgkJCQlsZWFmcy5wdXNoKHRoaXMucm9vdHNbaV0pOwoJCQl9CgkJCWxlYWZzID0gdGhpcy5yb290c1tpXS5nZXRMZWFmQnJhbmNoZXMobGVhZnMpOwoJCX0KCQlyZXR1cm4gbGVhZnM7Cgl9LAoKCS8qKgoJICogRm9uY3Rpb24gcXVpIG91dnJlIHRvdXQgbCdhcmJyZSBkJ3VuIGNvdXAKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybgl2b2lkCgkgKi8KCWV4cGVuZCA6IGZ1bmN0aW9uICgpIHsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucm9vdHMubGVuZ3RoOyBpKyspIHsKCQkJdGhpcy5yb290c1tpXS5leHBlbmQoKTsKCQl9Cgl9LAoKCS8qKgoJICogRm9uY3Rpb24gcXVpIGZlcm1lIHRvdXQgbCdhcmJyZSBkJ3VuIGNvdXAKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybgl2b2lkCgkgKi8KCWNvbGxhcHNlIDogZnVuY3Rpb24gKCkgewoJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yb290cy5sZW5ndGg7IGkrKykgewoJCQl0aGlzLnJvb3RzW2ldLmNvbGxhcHNlKCk7CgkJfQoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBwb3VyIHLvv71jdXDvv71yZXIgdW5lIGJyYW5jaGUgZW4gZm9uY3Rpb24gZGUgc29uIGlkCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlzdHJpbmcJCQkJcG9zaXRpb24JCQkJTCdpZCBkZSBsYSBicmFuY2hlIHNvZXVyIG91IHBhcmVudGUsIG91IGwnb2JqZXQKCSAqIEBwYXJhbQlvYmplY3QJCQkJaXRlbQkJCQkJTGEgbm91dmVsbGUgYnJhbmNoZQoJICogQHBhcmFtCWJvb2xlYW4JCQkJc2libGluZwkJCQkJVHJ1ZSBwb3VyICdzaWJsaW5nJywgZmFsc2UgcG91ciAnY2hpbGQnCgkgKiBAcGFyYW0JYm9vbGVhbgkJCQlpc0ZpcnN0CQkJCQlUcnVlIHBvdXIgbCdpbnPvv71yZXIsIHNvaXQgY29tbWUgMWVyIGVuZmFudCwgc29pdCBhdmFudCBsYSBzb2V1cgoJICogQHJldHVybgl2b2lkCgkgKi8KCWluc2VydEJyYW5jaCA6IGZ1bmN0aW9uIChwb3NpdGlvbiwgaXRlbSwgc2libGluZywgaXNGaXJzdCkgewoJCXZhciBwb3NpdGlvbiA9IHRoaXMuZ2V0QnJhbmNoQnlJZChwb3NpdGlvbik7CgkJaWYgKCFwb3NpdGlvbikgcmV0dXJuIGZhbHNlOwoJCWlmICghc2libGluZykgewoJCQlpZiAoIWlzRmlyc3QpIHsKCQkJCXBvc2l0aW9uLmluc2VydEludG9MYXN0KGl0ZW0pOwoJCQl9IGVsc2UgewoJCQkJcG9zaXRpb24uaW5zZXJ0SW50b0ZpcnN0KGl0ZW0pOwoJCQl9CgkJfSBlbHNlIHsKCQkJaWYgKCFpc0ZpcnN0KSB7CgkJCQlwb3NpdGlvbi5pbnNlcnRBZnRlcihpdGVtKTsKCQkJfSBlbHNlIHsKCQkJCXBvc2l0aW9uLmluc2VydEJlZm9yZShpdGVtKTsKCQkJfQoJCX0KCX0sCgoJbW92ZUJyYW5jaCA6IGZ1bmN0aW9uIChwb3NpdGlvbiwgaXRlbSwgc2libGluZywgaXNGaXJzdCkgewoJCXZhciBwb3NpdGlvbiA9IHRoaXMuZ2V0QnJhbmNoQnlJZChwb3NpdGlvbik7CgkJaWYgKCFwb3NpdGlvbikgcmV0dXJuIGZhbHNlOwoJCWlmICghc2libGluZykgewoJCQlpZiAoIWlzRmlyc3QpIHsKCQkJCXBvc2l0aW9uLm1vdmVJbnRvTGFzdChpdGVtKTsKCQkJfSBlbHNlIHsKCQkJCXBvc2l0aW9uLm1vdmVJbnRvRmlyc3QoaXRlbSk7CgkJCX0KCQl9IGVsc2UgewoJCQlpZiAoIWlzRmlyc3QpIHsKCQkJCXBvc2l0aW9uLm1vdmVBZnRlcihpdGVtKTsKCQkJfSBlbHNlIHsKCQkJCXBvc2l0aW9uLm1vdmVCZWZvcmUoaXRlbSk7CgkJCX0KCQl9Cgl9LAoKCS8qKgoJICogRm9uY3Rpb24gcXVpIGVmZmFjZSBsYSBicmFuY2hlCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4Jdm9pZAoJICovCglyZW1vdmVCcmFuY2ggOiBmdW5jdGlvbiAoYnJhbmNoKSB7CgkJdHJ5IHsKCQkJdmFyIGJyYW5jaCA9IHRoaXMuZ2V0QnJhbmNoQnlJZChicmFuY2gpOwoJCQlpZiAoIWJyYW5jaCkgcmV0dXJuIGZhbHNlOwoJCQkvLyBPbiBlbmzvv712ZSBsZSBkcmFnJmRyb3AKCQkJaWYgKGJyYW5jaC5vYmpEcmFnKSB7CgkJCQlicmFuY2gucmVtb3ZlRHJhZ0Ryb3AoKTsKCQkJfQoJCQlpZiAoIWJyYW5jaC5pc1Jvb3QpIHsKCQkJCS8vIE9uIHN1cHByaW1lIGxlIG5vZXVkIEhUTUwKCQkJCWJyYW5jaC5wYXJlbnQub2JqLnJlbW92ZUNoaWxkKGJyYW5jaC5vYmopOwoJCQkJLy8gT24gbCdlbmzvv712ZSBkZSBsYSBzdHJ1Y3R1cmUgSmF2YWNyaXB0CgkJCQlicmFuY2gucGFyZW50LmNoaWxkcmVuLnNwbGljZShicmFuY2gucG9zLCAxKTsKCQkJCWJyYW5jaC5wYXJlbnQuc3RydWN0Lml0ZW1zLnNwbGljZShicmFuY2gucG9zLCAxKTsKCQkJCWlmIChicmFuY2gucGFyZW50LmNoaWxkcmVuLmxlbmd0aCA9PSAwKSB7CgkJCQkJYnJhbmNoLnBhcmVudC5zZXRPcGVuYWJsZUljb24oZmFsc2UpOwoJCQkJCWlmIChicmFuY2gudHJlZS5tdWx0aWxpbmUpIHsKCQkJCQkJYnJhbmNoLl9tYW5hZ2VNdWx0aWxpbmUoYnJhbmNoLnBhcmVudC50ZEltZywgMiwgZmFsc2UpOwoJCQkJCX0KCQkJCX0KCQkJCS8vIE9uIHJlcG9zaXRpb25uZSBsYSBzdHJ1Y3R1cmUKCQkJCWJyYW5jaC5wYXJlbnQuX21hbmFnZUxpbmUoKTsKCQkJfSBlbHNlIHsKCQkJCS8vIE9uIHN1cHByaW1lIGxlIG5vZXVkIEhUTUwKCQkJCXRoaXMuZGl2LnJlbW92ZUNoaWxkKGJyYW5jaC5vYmopOwoJCQkJLy8gT24gbCdlbmzvv712ZSBkZSBsYSBzdHJ1Y3R1cmUgSmF2YWNyaXB0CgkJCQl0aGlzLnJvb3RzLnNwbGljZShicmFuY2gucG9zLCAxKTsKCQkJCWlmICh0aGlzLnJvb3RzW2JyYW5jaC5wb3MtMV0pIHsKCQkJCQl0aGlzLnJvb3RzW2JyYW5jaC5wb3MtMV0uX21hbmFnZUFmdGVyUm9vdEluc2VydCgpOwoJCQkJfQoJCQl9CgkJCWJyYW5jaCA9IG51bGw7CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXRocm93IG5ldyBFcnJvciAoJ3JlbW92ZShiYXNlKSA6ICcgKyBlcnIubWVzc2FnZSk7CgkJfQoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBwb3VyIHLvv71jdXDvv71yZXIgdW5lIGJyYW5jaGUgZW4gZm9uY3Rpb24gZGUgc29uIGlkIGfvv71u77+9cu+/vQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0Jc3RyaW5nCQkJCWlkCQkJCQkJTCdpZCBn77+9bu+/vXLvv70gZGUgbGEgYnJhbmNoZQoJICogQHJldHVybglUYWZlbEJyYW5jaAkJCQkJCQkJCUxhIGJyYW5jaGUgc++/vWxlY3Rpb25u77+9ZQoJICovCglnZXRCcmFuY2hCeUlkT2JqIDogZnVuY3Rpb24gKGlkKSB7CgkJdHJ5IHsKCQkJdmFyIG9iaiA9IG51bGw7CgkJCWZvciAodmFyIHIgPSAwOyByIDwgdGhpcy5yb290cy5sZW5ndGg7IHIrKykgewoJCQkJb2JqID0gdGhpcy5fZ2V0QnJhbmNoQnlJZE9iaihpZCwgdGhpcy5yb290c1tyXSk7CgkJCQlpZiAob2JqKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIG9iajsKCQl9IGNhdGNoIChlcnIpIHsKCQkJdGhyb3cgbmV3IEVycm9yICgnZ2V0QnJhbmNoQnlJZE9iaihmdW5jKSA6ICcgKyBlcnIubWVzc2FnZSk7CgkJfQoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBwb3VyIHLvv71jdXDvv71yZXIgdW5lIGJyYW5jaGUgZW4gZm9uY3Rpb24gZGUgc29uIGlkIHV0aWxpc2F0ZXVyCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlzdHJpbmcJCQkJaWQJCQkJCQlMJ2lkIHV0aWxpc2F0ZXVyIGRlIGxhIGJyYW5jaGUKCSAqIEByZXR1cm4JVGFmZWxCcmFuY2gJCQkJCQkJCQlMYSBicmFuY2hlIHPvv71sZWN0aW9ubu+/vWUKCSAqLwoJZ2V0QnJhbmNoQnlJZCA6IGZ1bmN0aW9uIChpZCkgewoJCXRyeSB7CgkJCWlmICh0eXBlb2YoaWQpID09ICdvYmplY3QnKSByZXR1cm4gaWQ7CgkJCXZhciBvYmogPSBudWxsOwoJCQlmb3IgKHZhciByID0gMDsgciA8IHRoaXMucm9vdHMubGVuZ3RoOyByKyspIHsKCQkJCW9iaiA9IHRoaXMuX2dldEJyYW5jaEJ5SWQoaWQsIHRoaXMucm9vdHNbcl0pOwoJCQkJaWYgKG9iaikgYnJlYWs7CgkJCX0KCQkJaWYgKCFvYmopIHsKCQkJCS8vIE9uIG1hZ291aWxsZSBhdmVjIGxlcyByb290cyBwb3VyIG5lIHBhcyBwYXNzZXIKCQkJCS8vIGRhbnMgdW5lIGJvdWNsZSBpbmZpbmllICjvv70gY2F1c2UgZHUgZ2V0QnJhbmNoQnlJZCkKCQkJCXZhciBybyA9IG51bGw7CgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3RoZXJUcmVlcy5sZW5ndGg7IGkrKykgewoJCQkJCXJvID0gdGhpcy5vdGhlclRyZWVzW2ldLnJvb3RzOwoJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgcm8ubGVuZ3RoOyByKyspIHsKCQkJCQkJb2JqID0gdGhpcy5vdGhlclRyZWVzW2ldLl9nZXRCcmFuY2hCeUlkKGlkLCByb1tyXSk7CgkJCQkJCWlmIChvYmopIGJyZWFrOwoJCQkJCX0KCQkJCQlpZiAob2JqKSBicmVhazsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gb2JqOwoJCX0gY2F0Y2ggKGVycikgewoJCQl0aHJvdyBuZXcgRXJyb3IgKCdnZXRCcmFuY2hCeUlkKGZ1bmMpIDogJyArIGVyci5tZXNzYWdlKTsKCQl9Cgl9LAoKCS8qKgoJICogTe+/vXRob2RlIGRlIGdlc3Rpb24gZGUgZGVidWcKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCXN0cmluZwkJCQlzdHIJCQkJCQlVbmUgc3RyaW5nIO+/vSBhZmZpY2hlciAob3B0aW9ubmVsKQoJICogQHJldHVybgl2b2lkCgkgKi8KCWRlYnVnIDogZnVuY3Rpb24gKHN0cikgewoJCXRyeSB7CgkJCXRoaXMuZGVidWdPYmouc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgkJCWlmICh0eXBlb2YodGhpcy5vbkRlYnVnKSA9PSAnZnVuY3Rpb24nKSB7CgkJCQl0aGlzLm9uRGVidWcodGhpcywgdGhpcy5kZWJ1Z09iaiwgKHN0cikgPyBzdHIgOiAnJyk7CgkJCX0gZWxzZSB7CgkJCQl0aGlzLmRlYnVnT2JqLmlubmVySFRNTCArPSBzdHI7CgkJCX0KCQl9IGNhdGNoIChlcnIpIHsKCQkJdGhyb3cgbmV3IEVycm9yICgnZGVidWcoZnVuYykgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCX0KCX0sCgoJLyoqCgkgKiBGb25jdGlvbiBwb3VyIGFmZmljaGVyIGwnb2piZXQgZGUgbWFuae+/vXJlIGNvb2wKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglzdHJpbmcJCQkJCQkJCQkJTGEgc3RyaW5nIGRlIGwnb2JqZXQKCSAqLwoJdG9TdHJpbmcgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIG9iaiA9IHsKCQkJJ2lkJyA6IHRoaXMuaWQsCgkJCSd3aWR0aCcgOiB0aGlzLmRpdi5vZmZzZXRXaWR0aCwKCQkJJ2hlaWdodCcgOiB0aGlzLmRpdi5vZmZzZXRIZWlnaHQsCgkJCSdpbWdQYXRoJyA6IHRoaXMuaW1nQmFzZSwKCQkJJ3Jvb3RzJyA6IHRoaXMucm9vdHMubGVuZ3RoCgkJfTsKCQl2YXIgc3RyID0gJ1RhZmVsVHJlZSB7JzsKCQlmb3IgKHZhciBpIGluIG9iaikgewoJCQlzdHIgKz0gVGFmZWxUcmVlLmRlYnVnUmV0dXJuICsgVGFmZWxUcmVlLmRlYnVnVGFiICsgaSArICcgOiAnICsgb2JqW2ldOwoJCX0KCQlzdHIgKz0gVGFmZWxUcmVlLmRlYnVnUmV0dXJuICsgJ30nOwoJCXJldHVybiBzdHI7Cgl9LAoKCS8qKgoJICogRm9uY3Rpb24gcXVpIHPvv71yaWFsaXNlIGwnYXJicmUgcG91ciBlbiBmYWlyZSB1bmUgc3RyaW5nIEpTT04KCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglzdHJpbmcJCQkJCQkJCQkJTGEgc3RyaW5nIGRlIGwnb2JqZXQKCSAqLwkKCXNlcmlhbGl6ZSA6IGZ1bmN0aW9uIChkZWJ1ZykgewoJCXZhciBydCA9IChkZWJ1ZykgPyBUYWZlbFRyZWUuZGVidWdSZXR1cm4gOiAnJzsKCQl2YXIgc3RyID0gKGRlYnVnKSA/ICdUYWZlbFRyZWUgKCcgKyB0aGlzLmlkICsgJykgWycgOiAnWyc7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvb3RzLmxlbmd0aDsgaSsrKSB7CgkJCXN0ciArPSB0aGlzLnJvb3RzW2ldLnNlcmlhbGl6ZShkZWJ1ZywgdHJ1ZSk7CgkJCWlmIChpIDwgdGhpcy5yb290cy5sZW5ndGggLSAxKSB7CgkJCQlzdHIgKz0gJywnOwoJCQl9CgkJfQoJCXN0ciArPSBydCArICgoZGVidWcpID8gJ107JyA6ICddJyk7CgkJaWYgKGRlYnVnKSB7CgkJCXJldHVybiBzdHI7CgkJfSBlbHNlIHsKCQkJcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpOwoJCX0KCX0sCgkKCS8qKgoJICogRm9uY3Rpb24gcXVpIHJlbnZvaWUgbGVzIHBhcmFt77+9dHJlcyBkZSBsJ1VSTAoJICoKCSAqIGlscyBzb250IHJlbnZvee+/vXMgc291cyBjZXR0ZSBmb3JtZSA6CgkJCXBhcmFtc1swXSA9IHsKCQkJCSduYW1lJyA6ICdwYXJhbU5hbWUnLAoJCQkJJ3ZhbHVlJzogJ3BhcmFtVmFsdWUnCgkJCX0KCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCXN0cmluZwkJCQl1cmwJCQkJCQlMJ3VybCDvv70gZGVjb21wb3NlcgoJICogQHJldHVybglhcnJheQkJCQkJCQkJCQlMZSB0YWJsZWF1IGRlIHBhcmFt77+9dHJlcwoJICovCglnZXRVUkxQYXJhbXMgOiBmdW5jdGlvbiAodXJsKSB7CgkJdmFyIHBhcmFtcyA9IFtdOwoJCWlmICh1cmwuaW5kZXhPZignPycpID4gLTEpIHsKCQkJdmFyIGExID0gdXJsLnNwbGl0KCc/Jyk7CgkJCXZhciBhMiA9IGExWzFdLnNwbGl0KCcmJyk7CgkJCXZhciBhMyA9ICcnOwoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGEyLmxlbmd0aDsgaSsrKSB7CgkJCQlhMyA9IGEyW2ldLnNwbGl0KCc9Jyk7CgkJCQlpZiAoYTMubGVuZ3RoID09IDIpIHsKCQkJCQlwYXJhbXMucHVzaCh7CgkJCQkJCSduYW1lJyA6IGEzWzBdLAoJCQkJCQkndmFsdWUnOiBhM1sxXQoJCQkJCX0pCgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuIHBhcmFtczsKCX0sCgoKCS8qKgoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqCQkJCQkJCVRhZmVsVHJlZSBwcml2YXRlIG1ldGhvZHMKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKi8KCglfZ2VuZXJhdGVCaWdUcmVlIDogZnVuY3Rpb24gKCkgewoJCXZhciBpID0gdGhpcy5iaWdUcmVlTG9hZGluZzsKCQl2YXIgaXNOb3RGaXJzdCA9IGZhbHNlOwoJCXZhciBpc05vdExhc3QgPSBmYWxzZTsKCQlpZiAoaSA8IHRoaXMuYmFzZVN0cnVjdC5sZW5ndGgpIHsKCQkJaXNOb3RGaXJzdCA9IChpID4gMCkgPyB0cnVlIDogZmFsc2U7CgkJCWlzTm90TGFzdCA9IChpIDwgdGhpcy5iYXNlU3RydWN0Lmxlbmd0aCAtIDEpID8gdHJ1ZSA6IGZhbHNlOwoJCQl0aGlzLnJvb3RzW2ldID0gbmV3IFRhZmVsVHJlZVJvb3QodGhpcywgdGhpcy5iYXNlU3RydWN0W2ldLCAwLCBpc05vdEZpcnN0LCBpc05vdExhc3QsIGkpOwoJCQl0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnJvb3RzW2ldLm9iaik7CgkJCXRoaXMubG9hZFJ1bm5pbmcodGhpcy5yb290c1tpXSk7CgkJCXRoaXMuYmlnVHJlZUxvYWRpbmcrKzsKCQkJc2V0VGltZW91dCh0aGlzLl9nZW5lcmF0ZUJpZ1RyZWUuYmluZCh0aGlzKSwgMTApOwoJCX0gZWxzZSB7CgkJCXRoaXMubG9hZGVkID0gdHJ1ZTsKCQl9Cgl9LAoKCV9jaGVja0xvYWQgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGNvbXBsZXRlID0gdHJ1ZTsKCQlpZiAodGhpcy5sb2FkZWQpIHsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvb3RzLmxlbmd0aDsgaSsrKSB7CgkJCQlpZiAoIXRoaXMucm9vdHNbaV0ubG9hZGVkIHx8ICF0aGlzLl9jaGVja0xvYWRDaGlsZHJlbih0aGlzLnJvb3RzW2ldKSkgewoJCQkJCWNvbXBsZXRlID0gZmFsc2U7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQl9IGVsc2UgewoJCQljb21wbGV0ZSA9IGZhbHNlOwoJCX0KCQlpZiAoIWNvbXBsZXRlKXsKCQkJc2V0VGltZW91dCh0aGlzLl9jaGVja0xvYWQuYmluZCh0aGlzKSwgMTAwKTsKCQl9IGVsc2UgewoJCQl0aGlzLmxvYWRDb21wbGV0ZSgpOwoJCX0KCX0sCgkKCV9jaGVja0xvYWRDaGlsZHJlbiA6IGZ1bmN0aW9uIChicmFuY2gpIHsKCQl2YXIgY29tcGxldGUgPSB0cnVlOwoJCWlmIChicmFuY2gubG9hZGVkKSB7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgYnJhbmNoLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CgkJCQlpZiAoIWJyYW5jaC5jaGlsZHJlbltpXS5sb2FkZWQgfHwgIXRoaXMuX2NoZWNrTG9hZENoaWxkcmVuKGJyYW5jaC5jaGlsZHJlbltpXSkpIHsKCQkJCQljb21wbGV0ZSA9IGZhbHNlOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgkJfSBlbHNlIHsKCQkJY29tcGxldGUgPSBmYWxzZTsKCQl9CgkJcmV0dXJuIGNvbXBsZXRlOwoJfSwKCQoJX2FkanVzdE9wZW5pbmcgOiBmdW5jdGlvbiAoKSB7CgkJLy8gU2kgb24gdXRpbGlzZSBsZXMgY29va2llcywgb24gcydlbiBzZXJ0IHBvdXIgb3V2cmlyIG91IGZlcm1lciBsZXMgYnJhbmNoZXMKCQlpZiAodGhpcy51c2VDb29raWUgJiYgdGhpcy5jb29raWVPcGVuZWQpIHsKCQkJdmFyIGJyYW5jaCA9IG51bGw7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb29raWVPcGVuZWQubGVuZ3RoOyBpKyspIHsKCQkJCWJyYW5jaCA9IHRoaXMuZ2V0QnJhbmNoQnlJZCh0aGlzLmNvb2tpZU9wZW5lZFtpXSk7CgkJCQlpZiAodHlwZW9mKGJyYW5jaCkgPT0gJ29iamVjdCcgJiYgYnJhbmNoLmhhc0NoaWxkcmVuKCkpIHsKCQkJCQlpZiAoYnJhbmNoLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKCQkJCQkJLy8gQ2V0dGUgYnJhbmNoZSBlc3QgdW5lIGJyYW5jaGUgbm9ybWFsZQoJCQkJCQlicmFuY2gub3Blbkl0KHRydWUpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCS8vIENldHRlIGJyYW5jaGUgZXN0IHVuZSBicmFuY2hlIHF1aSBhIHNlcyBlbmZhbnRzIHN1ciBsZSBzZXJ2ZXVyCgkJCQkJCS8vIE9uIHZhIGRvbmMgbGVzIHLvv71jdXDvv71yZXIKCQkJCQkJaWYgKHR5cGVvZihicmFuY2guc3RydWN0Lm9ub3BlbnBvcHVsYXRlKSA9PSAnZnVuY3Rpb24nICYmIGJyYW5jaC5ldmVudGFibGUpIHsKCQkJCQkJCWJyYW5jaC5fb3BlblBvcHVsYXRlKCk7CgkJCQkJCQlicmFuY2gub3Blbkl0KHRydWUpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJfSwKCglfYWRqdXN0Q2hlY2sgOiBmdW5jdGlvbiAoKSB7CgkJLy8gT24gYWp1c3RlIGxlcyBjaGVja3MgZCdhcHLvv71zIGxlcyBjb29raWVzCgkJdmFyIGJyYW5jaCA9IG51bGw7CgkJaWYgKHRoaXMuY2hlY2tib3hlcyAmJiB0aGlzLnVzZUNvb2tpZSAmJiB0aGlzLmNvb2tpZUNoZWNrZWQpIHsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvb2tpZUNoZWNrZWQubGVuZ3RoOyBpKyspIHsKCQkJCWJyYW5jaCA9IHRoaXMuZ2V0QnJhbmNoQnlJZCh0aGlzLmNvb2tpZUNoZWNrZWRbaV0pOwoJCQkJaWYgKHR5cGVvZihicmFuY2gpID09ICdvYmplY3QnKSB7CgkJCQkJYnJhbmNoLmNoZWNrKDEpOwoJCQkJfQoJCQl9CgkJfQoJCS8vIFNpIG9uIGEgZGVzIGNoZWNrYm94ZXMsIG9uIGNvcnJpZ2UgbGVzIGltYWdlcyBlbiBmb25jdGlvbiBkZXMgY2hlY2tzCgkJaWYgKHRoaXMuY2hlY2tib3hlcyAmJiB0aGlzLmNoZWNrYm94ZXNUaHJlZVN0YXRlKSB7CgkJCXZhciBjaGVja2VkID0gdGhpcy5nZXRDaGVja2VkQnJhbmNoZXMoKTsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVja2VkLmxlbmd0aDsgaSsrKSB7CgkJCQljaGVja2VkW2ldLl9hZGp1c3RQYXJlbnRDaGVjaygpOwoJCQl9CgkJfQoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBy77+9Y3Vyc2l2ZSBwb3VyIHLvv71jdXDvv71yZXIgdW5lIGJyYW5jaGUgZW4gZm9uY3Rpb24gZGUgc29uIGlkIGfvv71u77+9cu+/vQoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHBhcmFtCXN0cmluZwkJCQlpZAkJCQkJCUwnaWQgZ++/vW7vv71y77+9IGRlIGxhIGJyYW5jaGUgcmVjaGVyY2jvv71lCgkgKiBAcGFyYW0JVGFmZWxUcmVlQnJhbmNoCQlvYmoJCQkJCQlMYSBicmFuY2hlIGNvdXJhbnRlCgkgKiBAcmV0dXJuCVRhZmVsQnJhbmNoCQkJCQkJCQkJTGEgYnJhbmNoZSBz77+9bGVjdGlvbm7vv71lCgkgKi8KCV9nZXRCcmFuY2hCeUlkT2JqIDogZnVuY3Rpb24gKGlkLCBvYmopIHsKCQl0cnkgewoJCQl2YXIgb2IgPSAnJzsKCQkJaWYgKG9iai5pZE9iaiA9PSBpZCkgewoJCQkJcmV0dXJuIG9iajsKCQkJfQoJCQlpZiAodHlwZW9mKG9iai5jaGlsZHJlbikgPT0gJ29iamVjdCcpIHsKCQkJCWZvciAodmFyIGMgPSAwOyBjIDwgb2JqLmNoaWxkcmVuLmxlbmd0aDsgYysrKSB7CgkJCQkJb2IgPSB0aGlzLl9nZXRCcmFuY2hCeUlkT2JqKGlkLCBvYmouY2hpbGRyZW5bY10pOwoJCQkJCWlmIChvYikgewoJCQkJCQlyZXR1cm4gb2I7CgkJCQkJfQoJCQkJfQoJCQl9CgkJCXJldHVybiBvYjsKCQl9IGNhdGNoIChlcnIpIHsKCQkJdGhyb3cgbmV3IEVycm9yICgnX2dldEJyYW5jaEJ5SWRPYmooZnVuYykgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCX0KCX0sCgoJLyoqCgkgKiBN77+9dGhvZGUgcu+/vWN1cnNpdmUgcG91ciBy77+9Y3Vw77+9cmVyIHVuZSBicmFuY2hlIGVuIGZvbmN0aW9uIGRlIHNvbiBpZCB1dGlsaXNhdGV1cgoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHBhcmFtCXN0cmluZwkJCQlpZAkJCQkJCUwnaWQgdXRpbGlzYXRldXIgZGUgbGEgYnJhbmNoZSByZWNoZXJjaO+/vWUKCSAqIEBwYXJhbQlUYWZlbFRyZWVCcmFuY2gJCW9iagkJCQkJCUxhIGJyYW5jaGUgY291cmFudGUKCSAqIEByZXR1cm4JVGFmZWxCcmFuY2gJCQkJCQkJCQlMYSBicmFuY2hlIHPvv71sZWN0aW9ubu+/vWUKCSAqLwoJX2dldEJyYW5jaEJ5SWQgOiBmdW5jdGlvbiAoaWQsIG9iaikgewoJCXRyeSB7CgkJCXZhciBvYiA9ICcnOwoJCQlpZiAob2JqLmdldElkKCkgPT0gaWQpIHsKCQkJCXJldHVybiBvYmo7CgkJCX0KCQkJaWYgKHR5cGVvZihvYmouY2hpbGRyZW4pID09ICdvYmplY3QnKSB7CgkJCQlmb3IgKHZhciBjID0gMDsgYyA8IG9iai5jaGlsZHJlbi5sZW5ndGg7IGMrKykgewoJCQkJCW9iID0gdGhpcy5fZ2V0QnJhbmNoQnlJZChpZCwgb2JqLmNoaWxkcmVuW2NdKTsKCQkJCQlpZiAob2IpIHsKCQkJCQkJcmV0dXJuIG9iOwoJCQkJCX0KCQkJCX0KCQkJfQoJCQlyZXR1cm4gb2I7CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXRocm93IG5ldyBFcnJvciAoJ19nZXRCcmFuY2hCeUlkKGZ1bmMpIDogJyArIGVyci5tZXNzYWdlKTsKCQl9Cgl9LAoKCS8qKgoJICogRm9uY3Rpb24gcXVpIGNoYW5nZSBsYSBzdHJ1Y3R1cmUgZGUgbGEgYnJhbmNoZQoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHBhcmFtCVRhZmVsVHJlZUJyYW5jaAkJYnJhbmNoCQkJCQlMYSBub3V2ZWxsZSBzdHJ1Y3R1cmUKCSAqIEByZXR1cm4Jdm9pZAoJICovCglfY2hhbmdlU3RydWN0IDogZnVuY3Rpb24gKGJyYW5jaCkgewoJCXRyeSB7CgkJCXdoaWxlICh0eXBlb2YoYnJhbmNoLnBhcmVudCkgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCWJyYW5jaC5wYXJlbnQuc3RydWN0Lml0ZW1zLnNwbGljZShicmFuY2gucG9zLCAxLCBicmFuY2guc3RydWN0KTsKCQkJCWlmICh0eXBlb2YoYnJhbmNoLnBhcmVudCkgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCQlicmFuY2ggPSBicmFuY2gucGFyZW50OwoJCQkJfQoJCQl9CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXRocm93IG5ldyBFcnJvciAoJ19jaGFuZ2VTdHJ1Y3QoZnVuYykgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCX0KCX0sCgoJLyoqCgkgKiBN77+9dGhvZGUgcG91ciBham91dGVyIGwn77+9bO+/vW1lbnQgcHJpbmNpcGFsCgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcmV0dXJuCUhUTUxEaXZFbGVtZW50CQkJCQkJCQlMJ++/vWzvv71tZW50IERJViBjcu+/ve+/vQoJICovCglfYWRkVHJlZSA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkJZGl2LmNsYXNzTmFtZSA9IHRoaXMuY2xhc3NUcmVlOwoJCXJldHVybiBkaXY7Cgl9LAoKCgkvKioKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKgkJCQkJCQlUYWZlbFRyZWUgQ29va2llcyBNYW5hZ2VtZW50CgkgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJICovCgkKCS8qKgoJICogTe+/vXRob2RlIHF1aSBzYXV2ZSBsZSBjb250ZW51IGRhbnMgbGUgY29va2llLiBQcm9wcmUg77+9IGwnYXBwbGljYXRpb24KCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCXN0cmluZwkJCQluYW1lCQkJCQlOb20gZHUgY29va2llCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0Q29va2llIDogZnVuY3Rpb24gKG5hbWUpIHsKCQl0cnkgewoJCQl2YXIgc3RyID0gJ2Nvb2tpZWFjdGl2YXRlJyArIHRoaXMuY29va2llU2VwYXJhdG9yOwoJCQkvLyBMZXMgYnJhbmNoZXMgb3V2ZXJ0ZXMKCQkJdmFyIGFyciA9IHRoaXMuZ2V0T3BlbmVkQnJhbmNoZXMoKTsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKCQkJCXN0ciA9IHN0ciArIGFycltpXS5nZXRJZCgpICsgdGhpcy5jb29raWVTZXBhcmF0b3I7CgkJCX0KCQkJLy8gTGVzIGJyYW5jaGVzIGNoZWNr77+9ZXMKCQkJc3RyICs9IHRoaXMuY29va2llQ2hlY2tTZXBhcmF0b3I7CgkJCXZhciBhcnIgPSB0aGlzLmdldENoZWNrZWRCcmFuY2hlcygpOwoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewoJCQkJc3RyID0gc3RyICsgYXJyW2ldLmdldElkKCkgKyB0aGlzLmNvb2tpZVNlcGFyYXRvcjsKCQkJfQogICAgICAgICAgICBpZiAoIXRoaXMuc2VydmVyQ29va2llKSB7CiAgICAgICAgICAgICAgICB0aGlzLl9zYXZlQ29va2llKG5hbWUsIHN0ciwgJycsICcvJywgJycsICcnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIHNlbmQgY29va2llIHNlcnZlciBvbmx5IGlmIHRyZWUgaXMgbG9hZGVkIChvcHRpbWl6YXRpb24pCiAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2FkZWQpIHsKICAgICAgICAgICAgICAgICAgICBuZXcgQWpheC5SZXF1ZXN0KHRoaXMuc2VydmVyQ29va2llLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICdtZXRob2QnIDogJ3Bvc3QnLAogICAgICAgICAgICAgICAgICAgICAgICAncGFyYW1ldGVycycgOiAndHlwZT1zZXQmY29va2llU3RyaW5nPScgKyBzdHIsCiAgICAgICAgICAgICAgICAgICAgICAgICdvbkNvbXBsZXRlJyA6IHRoaXMuX2Nvb2tpZVNlbmQuYmluZCh0aGlzKSwKICAgICAgICAgICAgICAgICAgICAgICAgJ29uRmFpbHVyZScgOiB0aGlzLl9jb29raWVGYWlsdXJlLmJpbmQodGhpcykKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoJCX0gY2F0Y2ggKGVycikgewoJCQl0aHJvdyBuZXcgRXJyb3IgKCdzZXRDb29raWUoZnVuYykgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCX0KCX0sCgkKCS8qKgoJICogTe+/vXRob2RlIHF1aSBy77+9Y3Vw77+9cmUgbGUgY29udGVudSBkJ3VuIGNvb2tpZSBlbiBmb25jdGlvbiBkdSBub20KCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCXN0cmluZwkJCQluYW1lCQkJCQlOb20gZHUgY29va2llCgkgKiBAcmV0dXJuCXN0cmluZwkJCQkJCQkJCQlMZSBjb250ZW51IGR1IGNvb2tpZQoJICovCglnZXRDb29raWUgOiBmdW5jdGlvbiAobmFtZSkgewoJCXRyeSB7CiAgICAgICAgICAgIGlmICghdGhpcy5zZXJ2ZXJDb29raWUpIHsKICAgIAkJCWlmIChuYW1lICE9ICcnKXsKICAgIAkJCQl2YXIgc3RhcnQgPSBkb2N1bWVudC5jb29raWUuaW5kZXhPZihuYW1lICsgJz0nKTsKICAgIAkJCQl2YXIgbGVuID0gc3RhcnQgKyBuYW1lLmxlbmd0aCArIDE7CiAgICAJCQkJaWYgKCghc3RhcnQpICYmIChuYW1lICE9IGRvY3VtZW50LmNvb2tpZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGgpKSl7CiAgICAJCQkJCXJldHVybiBudWxsOwogICAgCQkJCX0KICAgIAkJCQlpZiAoIHN0YXJ0ID09IC0xICkgcmV0dXJuIG51bGw7CiAgICAJCQkJdmFyIGVuZCA9IGRvY3VtZW50LmNvb2tpZS5pbmRleE9mKCc7JywgbGVuKTsKICAgIAkJCQlpZiAoZW5kID09IC0xKXsKICAgIAkJCQkJZW5kID0gZG9jdW1lbnQuY29va2llLmxlbmd0aDsKICAgIAkJCQl9CiAgICAJCQkJcmV0dXJuIHVuZXNjYXBlKGRvY3VtZW50LmNvb2tpZS5zdWJzdHJpbmcobGVuLCBlbmQpKTsKICAgIAkJCX0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG5ldyBBamF4LlJlcXVlc3QodGhpcy5zZXJ2ZXJDb29raWUsIHsKICAgICAgICAgICAgICAgICAgICAnbWV0aG9kJyA6ICdwb3N0JywKICAgICAgICAgICAgICAgICAgICAncGFyYW1ldGVycycgOiAndHlwZT1nZXQnLAogICAgICAgICAgICAgICAgICAgICdvbkNvbXBsZXRlJyA6IHRoaXMuX2dldENvb2tpZUNvbXBsZXRlLmJpbmQodGhpcyksCiAgICAgICAgICAgICAgICAgICAgJ29uRmFpbHVyZScgOiB0aGlzLl9jb29raWVGYWlsdXJlLmJpbmQodGhpcykKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBudWxsOwoJCX0gY2F0Y2ggKGVycikgewoJCQl0aHJvdyBuZXcgRXJyb3IgKCdnZXRDb29raWUoZnVuYykgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCX0KCX0sCiAgICAKICAgIF9jb29raWVTZW5kIDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgYWxlcnQoJ29rJyk7CiAgICB9LAogICAgCiAgICBfZ2V0Q29va2llQ29tcGxldGUgOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZnJvbUNvb2tpZSA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKICAgICAgICBpZiAoZnJvbUNvb2tpZSkgewogICAgICAgICAgICB2YXIgYnJhbmNoZXMgPSBmcm9tQ29va2llLnNwbGl0KHRoaXMuY29va2llQ2hlY2tTZXBhcmF0b3IpOwogICAgICAgICAgICAvLyBCcmFuY2hlcyBvdXZlcnRlcwogICAgICAgICAgICB0aGlzLmNvb2tpZU9wZW5lZCA9IFtdOwogICAgICAgICAgICB0aGlzLmNvb2tpZU9wZW5lZCA9IGJyYW5jaGVzWzBdLnNwbGl0KHRoaXMuY29va2llU2VwYXJhdG9yKTsKICAgICAgICAgICAgdGhpcy5jb29raWVPcGVuZWQuc2hpZnQoKTsKICAgICAgICAgICAgLy8gQnJhbmNoZXMgY2hlY2vvv71lcyAoYXZlYyBhbnRpLWJ1ZyBwb3VyIGxlcyBhbmNpZW5uZXMgdmVyc2lvbnMgZXQgYW5jaWVucyBjb29raWVzKQogICAgICAgICAgICB0aGlzLmNvb2tpZUNoZWNrZWQgPSBbXTsKICAgICAgICAgICAgaWYgKGJyYW5jaGVzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgIHRoaXMuY29va2llQ2hlY2tlZCA9IGJyYW5jaGVzWzFdLnNwbGl0KHRoaXMuY29va2llU2VwYXJhdG9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0gICAgCiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5nZW5lcmF0ZSkgewoJCQl0aGlzLmdlbmVyYXRlKCk7CgkJfQoJCWlmICh0aGlzLm9wdGlvbnMuZ2VuZXJhdGVCaWdUcmVlKSB7CgkJCXRoaXMuZ2VuZXJhdGUodHJ1ZSk7CgkJfQogICAgfSwKICAgIAogICAgX2Nvb2tpZUZhaWx1cmUgOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBkbyBub3RoaW5nCiAgICB9LAoJCgkvKioKCSAqIE3vv710aG9kZSBxdWkgc3VwcHJpbWUgdW4gY29va2llLiBTZXVsIGxlIG5vbSBlc3Qgb2JsaWdhdG9pcmUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCXN0cmluZwkJCQluYW1lCQkJCQlOb20gZHUgY29va2llCgkgKiBAcGFyYW0Jc3RyaW5nCQkJCXBhdGgJCQkJCUxlIGNoZW1pbgoJICogQHBhcmFtCXN0cmluZwkJCQlkb21haW4JCQkJCUxlIGRvbWFpbmUKCSAqIEByZXR1cm4Jdm9pZAoJICovCglkZWxldGVDb29raWUgOiBmdW5jdGlvbiAobmFtZSwgcGF0aCwgZG9tYWluKSB7CgkJdHJ5IHsKCQkJaWYgKGdldF9jb29raWUobmFtZSkpIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPScgKwoJCQkoICggcGF0aCApID8gJztwYXRoPScgKyBwYXRoIDogIiIpICsKCQkJKCAoIGRvbWFpbiApID8gJztkb21haW49JyArIGRvbWFpbiA6ICcnKSArCgkJCSc7ZXhwaXJlcz1UaHUsIDAxLUphbi0xOTcwIDAwOjAwOjAxIEdNVCc7CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXRocm93IG5ldyBFcnJvciAoJ2RlbGV0ZUNvb2tpZShmdW5jKSA6ICcgKyBlcnIubWVzc2FnZSk7CgkJfQoJfSwKCQoJLyoqCgkgKiBN77+9dGhvZGUgcXVpIHNhdXZlIGxlIGNvbnRlbnUgZGFucyBsZSBjb29raWUuIFByb3ByZSDvv70gdG91dGUgYXBwbGljYXRpb24KCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlzdHJpbmcJCQkJbmFtZQkJCQkJTm9tIGR1IGNvb2tpZQoJICogQHBhcmFtCXN0cmluZwkJCQl2YWx1ZQkJCQkJTGEgdmFsZXVyIO+/vSBlbnJlZ2lzdHJlcgoJICogQHBhcmFtCWludGVnZXIJCQkJZXhwaXJlcwkJCQkJTGEgZHVy77+9ZSBkZSB2aWUgZHUgY29va2llLCBlbiBqb3VyCgkgKiBAcGFyYW0Jc3RyaW5nCQkJCXBhdGgJCQkJCUxlIGNoZW1pbgoJICogQHBhcmFtCXN0cmluZwkJCQlkb21haW4JCQkJCUxlIGRvbWFpbmUKCSAqIEBwYXJhbQlzdHJpbmcJCQkJc2VjdXJlCQkJCQk/CgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJX3NhdmVDb29raWUgOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7CgkJdHJ5IHsKCQkJLy8gc2V0IHRpbWUsIGl0J3MgaW4gbWlsbGlzZWNvbmRzCgkJCXZhciB0b2RheSA9IG5ldyBEYXRlKCk7CgkJCXRvZGF5LnNldFRpbWUodG9kYXkuZ2V0VGltZSgpKTsKCQkJaWYgKGV4cGlyZXMpewoJCQkJZXhwaXJlcyA9IGV4cGlyZXMgKiAxMDAwICogNjAgKiA2MCAqIDI0OwoJCQl9CgkJCXZhciBleHBpcmVzX2RhdGUgPSBuZXcgRGF0ZSh0b2RheS5nZXRUaW1lKCkgKyAoZXhwaXJlcykpOwoJCQkKCQkJZG9jdW1lbnQuY29va2llID0gbmFtZSArICc9JyArZXNjYXBlKHZhbHVlKSArCgkJCSggKCBleHBpcmVzICkgPyAnO2V4cGlyZXM9JyArIGV4cGlyZXNfZGF0ZS50b0dNVFN0cmluZygpIDogJycpICsgCgkJCSggKCBwYXRoICkgPyAnO3BhdGg9JyArIHBhdGggOiAnJykgKyAKCQkJKCAoIGRvbWFpbiApID8gJztkb21haW49JyArIGRvbWFpbiA6ICcnKSArCgkJCSggKCBzZWN1cmUgKSA/ICc7c2VjdXJlJyA6ICcnKTsKCQl9IGNhdGNoIChlcnIpIHsKCQkJdGhyb3cgbmV3IEVycm9yICgnX3NhdmVDb29raWUoZnVuYykgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCX0KCX0sCgoKCS8qKgoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqCQkJCQkJCVRhZmVsVHJlZSBFdmVudHMgTWFuYWdlbWVudAoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqLwoKCS8qKgoJICogTe+/vXRob2RlIHF1aSBhcHBlbGxlIGxhIG3vv710aG9kZSB1dGlsaXNhdGV1ciBhcHLvv71zIGxlIGxvYWQgZGUgbCdhcmJyZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JZnVuY3Rpb24JCQlmdW5jCQkJCQlMYSBmb25jdGlvbiB1dGlsaXNhdGV1cgoJICogQHJldHVybgl2b2lkCgkgKi8KCXNldE9uTG9hZCA6IGZ1bmN0aW9uIChmdW5jKSB7CgkJdGhpcy5vbkxvYWQgPSBldmFsKGZ1bmMpOwoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBxdWkgYXBwZWxsZSBsYSBt77+9dGhvZGUgdXRpbGlzYXRldXIgcGVuZGFudCBsZSBsb2FkIGRlIGwnYXJicmUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWZ1bmN0aW9uCQkJZnVuYwkJCQkJTGEgZm9uY3Rpb24gdXRpbGlzYXRldXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRPbkxvYWRpbmcgOiBmdW5jdGlvbiAoZnVuYykgewoJCXRoaXMub25Mb2FkaW5nID0gZXZhbChmdW5jKTsKCX0sCgoJLyoqCgkgKiBN77+9dGhvZGUgcXVpIGFwcGVsbGUgbGEgbe+/vXRob2RlIHV0aWxpc2F0ZXVyIGFwcu+/vXMgbCdvdXZlcnR1cmUgb3UgZmVybWV0dXJlIGQndW4gbm9ldWQKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWZ1bmN0aW9uCQkJZnVuYwkJCQkJTGEgZm9uY3Rpb24gdXRpbGlzYXRldXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRPbk9wZW4gOiBmdW5jdGlvbiAoZnVuYykgewoJCXRoaXMub25PcGVuID0gZXZhbChmdW5jKTsKCX0sCgoJLyoqCgkgKiBN77+9dGhvZGUgcXVpIGFwcGVsbGUgbGEgbe+/vXRob2RlIHV0aWxpc2F0ZXVyIGF2YW50IGwnb3V2ZXJ0dXJlIG91IGZlcm1ldHVyZSBkJ3VuIG5vZXVkCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlmdW5jdGlvbgkJCWZ1bmMJCQkJCUxhIGZvbmN0aW9uIHV0aWxpc2F0ZXVyCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0T25CZWZvcmVPcGVuIDogZnVuY3Rpb24gKGZ1bmMpIHsKCQl0aGlzLm9uQmVmb3JlT3BlbiA9IGV2YWwoZnVuYyk7Cgl9LAoKCS8qKgoJICogTe+/vXRob2RlIHF1aSBhcHBlbGxlIGxhIG3vv710aG9kZSB1dGlsaXNhdGV1ciBsb3JzcXVlIGxhIHNvdXJpcyBlc3Qgc3VyIHVuIG5vZXVkCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlmdW5jdGlvbgkJCWZ1bmMJCQkJCUxhIGZvbmN0aW9uIHV0aWxpc2F0ZXVyCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0T25Nb3VzZU92ZXIgOiBmdW5jdGlvbiAoZnVuYykgewoJCXRoaXMub25Nb3VzZU92ZXIgPSBldmFsKGZ1bmMpOwoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBxdWkgYXBwZWxsZSBsYSBt77+9dGhvZGUgdXRpbGlzYXRldXIgbG9yc3F1ZSBsYSBzb3VyaXMgcXVpdHRlIGxlIG5vZXVkCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlmdW5jdGlvbgkJCWZ1bmMJCQkJCUxhIGZvbmN0aW9uIHV0aWxpc2F0ZXVyCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0T25Nb3VzZU91dCA6IGZ1bmN0aW9uIChmdW5jKSB7CgkJdGhpcy5vbk1vdXNlT3V0ID0gZXZhbChmdW5jKTsKCX0sCgoJLyoqCgkgKiBN77+9dGhvZGUgcXVpIGFwcGVsbGUgbGEgbe+/vXRob2RlIHV0aWxpc2F0ZXVyIGFwcu+/vXMgdW4gY2xpYyBzdXIgdW4gbm9ldWQKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWZ1bmN0aW9uCQkJZnVuYwkJCQkJTGEgZm9uY3Rpb24gdXRpbGlzYXRldXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRPbkNsaWNrIDogZnVuY3Rpb24gKGZ1bmMpIHsKCQl0aGlzLm9uQ2xpY2sgPSBldmFsKGZ1bmMpOwoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBxdWkgYXBwZWxsZSBsYSBt77+9dGhvZGUgdXRpbGlzYXRldXIgYXBy77+9cyB1biBtb3VzZSBkb3duCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlmdW5jdGlvbgkJCWZ1bmMJCQkJCUxhIGZvbmN0aW9uIHV0aWxpc2F0ZXVyCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0T25Nb3VzZURvd24gOiBmdW5jdGlvbiAoZnVuYykgewoJCXRoaXMub25Nb3VzZURvd24gPSBldmFsKGZ1bmMpOwoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBxdWkgYXBwZWxsZSBsYSBt77+9dGhvZGUgdXRpbGlzYXRldXIgYXBy77+9cyB1biBtb3VzZSB1cAoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JZnVuY3Rpb24JCQlmdW5jCQkJCQlMYSBmb25jdGlvbiB1dGlsaXNhdGV1cgoJICogQHJldHVybgl2b2lkCgkgKi8KCXNldE9uTW91c2VVcCA6IGZ1bmN0aW9uIChmdW5jKSB7CgkJdGhpcy5vbk1vdXNlVXAgPSBldmFsKGZ1bmMpOwoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBxdWkgYXBwZWxsZSBsYSBt77+9dGhvZGUgdXRpbGlzYXRldXIgbG9ycyBkJ3VuIGRvdWJsZS1jbGljIHN1ciB1biBub2V1ZAoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JZnVuY3Rpb24JCQlmdW5jCQkJCQlMYSBmb25jdGlvbiB1dGlsaXNhdGV1cgoJICogQHJldHVybgl2b2lkCgkgKi8KCXNldE9uRGJsQ2xpY2sgOiBmdW5jdGlvbiAoZnVuYykgewoJCXRoaXMub25EYmxDbGljayA9IGV2YWwoZnVuYyk7Cgl9LAoKCS8qKgoJICogTe+/vXRob2RlIHF1aSBhcHBlbGxlIGxhIG3vv710aG9kZSB1dGlsaXNhdGV1ciBsb3JzIGRlIGxhIGZpbiBkZSBsJ++/vWRpdGlvbiBkJ3VuZSBicmFuY2hlCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlmdW5jdGlvbgkJCWZ1bmMJCQkJCUxhIGZvbmN0aW9uIHV0aWxpc2F0ZXVyCgkgKiBAcGFyYW0Jc3RyaW5nCQkJCWxpbmsJCQkJCUxlIGxpZW4gZGUgbGEgcGFnZSBhamF4CgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0T25FZGl0IDogZnVuY3Rpb24gKGZ1bmMsIGxpbmspIHsKCQlpZiAobGluaykgewoJCQl0aGlzLm9uRWRpdEFqYXggPSB7CgkJCQknZnVuYycgOiBldmFsKGZ1bmMpLAoJCQkJJ2xpbmsnIDogbGluawoJCQl9OwoJCX0gZWxzZSB7CgkJCXRoaXMub25FZGl0ID0gZXZhbChmdW5jKTsKCQl9CgkJdGhpcy5lZGl0YWJsZUJyYW5jaGVzID0gdHJ1ZTsKCX0sCgoJLyoqCgkgKiBN77+9dGhvZGUgcXVpIGFwcGVsbGUgbGEgbe+/vXRob2RlIHV0aWxpc2F0ZXVyIGxvcnNxdSdvbiBjbGlxdWUgc3VyIHVuZSBjaGVja2JveCwgYXZhbnQgcXVlIGNlbGxlLWNpIGNoYW5nZSBkZSBzdGF0dXMKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWZ1bmN0aW9uCQkJZnVuYwkJCQkJTGEgZm9uY3Rpb24gdXRpbGlzYXRldXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRPbkJlZm9yZUNoZWNrIDogZnVuY3Rpb24gKGZ1bmMpIHsKCQl0aGlzLm9uQmVmb3JlQ2hlY2sgPSBldmFsKGZ1bmMpOwoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBxdWkgYXBwZWxsZSBsYSBt77+9dGhvZGUgdXRpbGlzYXRldXIgbG9yc3F1J29uIGNsaXF1ZSBzdXIgdW5lIGNoZWNrYm94LCBhcHLvv71zIHF1J2VsbGUgYWl0IGNoYW5n77+9IGRlIHN0YXR1cwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JZnVuY3Rpb24JCQlmdW5jCQkJCQlMYSBmb25jdGlvbiB1dGlsaXNhdGV1cgoJICogQHJldHVybgl2b2lkCgkgKi8KCXNldE9uQ2hlY2sgOiBmdW5jdGlvbiAoZnVuYykgewoJCXRoaXMub25DaGVjayA9IGV2YWwoZnVuYyk7Cgl9LAoKCXNldE9uUmFkaW8gOiBmdW5jdGlvbiAoZnVuYykgewoJCXRoaXMub25SYWRpbyA9IGV2YWwoZnVuYyk7Cgl9LAoKCS8qKgoJICogTe+/vXRob2RlIHF1aSBhcHBlbGxlIGxhIG3vv710aG9kZSB1dGlsaXNhdGV1ciBsb3JzIGQndW4gZHJvcCBzdXIgdW4gbm9ldWQKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWZ1bmN0aW9uCQkJZnVuYwkJCQkJTGEgZm9uY3Rpb24gdXRpbGlzYXRldXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRPbkRyb3AgOiBmdW5jdGlvbiAoZnVuYykgewoJCXRoaXMub25Ecm9wID0gZXZhbChmdW5jKTsKCX0sCgoJLyoqCgkgKiBN77+9dGhvZGUgcXVpIGFwcGVsbGUgbGEgbe+/vXRob2RlIHV0aWxpc2F0ZXVyIGFwcu+/vXMgdW4gZHJvcCBzdXIgdW4gbm9ldWQKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWZ1bmN0aW9uCQkJZnVuYwkJCQkJTGEgZm9uY3Rpb24gdXRpbGlzYXRldXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRPbkRyb3BBZnRlciA6IGZ1bmN0aW9uIChmdW5jKSB7CgkJdGhpcy5vbkVycm9yQWpheCA9IGV2YWwoZnVuYyk7Cgl9LAoKCS8qKgoJICogTe+/vXRob2RlIHF1aSBhcHBlbGxlIGxhIG3vv710aG9kZSB1dGlsaXNhdGV1ciBsb3JzIGQndW4gZHJvcCBzdXIgdW4gbm9ldWQKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWZ1bmN0aW9uCQkJZnVuYwkJCQkJTGEgZm9uY3Rpb24gdXRpbGlzYXRldXIKCSAqIEBwYXJhbQlzdHJpbmcJCQkJbGluawkJCQkJTGUgbGllbiBkZSBsYSBwYWdlIGFqYXgKCSAqIEBwYXJhbQlib29sZWFuCQkJCXByb3BhZ2F0ZVJlc3RpY3Rpb24JCVRydWUgcG91ciBpbnRlcmRpciBsZSBtb3V2ZW1lbnQgZGVzIGVuZmFudHMgZGUgbGEgYnJhbmNoZSBkcm9wcO+/vWUKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRPbkRyb3BBamF4IDogZnVuY3Rpb24gKGZ1bmMsIGxpbmspIHsKCQl0aGlzLm9uRHJvcEFqYXggPSB7CgkJCSdmdW5jJyA6IGV2YWwoZnVuYyksCgkJCSdsaW5rJyA6IGxpbmsKCQl9OwoJfSwKCQoJLyoqCgkgKiBGb25jdGlvbiBhcHBlbO+/vWUgYXUgcmV0b3VyIGRlIGxhIHJlcXXvv710ZSBBamF4IGFwcu+/vXMgdW4gb3BlbiBkZSBsYSBicmFuY2hlCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlmdW5jdGlvbnxib29sZWFuCWZ1bmMJCQkJCUxhIGZvbmN0aW9uIHV0aWxpc2F0ZXVyIG91IHRydWUKCSAqIEBwYXJhbQlzdHJpbmcJCQkJbGluawkJCQkJTGUgbGllbiBkZSBsYSBwYWdlIGFqYXgKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRPbk9wZW5Qb3B1bGF0ZSA6IGZ1bmN0aW9uIChmdW5jLCBsaW5rKSB7CgkJdGhpcy5vbk9wZW5Qb3B1bGF0ZSA9IHsKCQkJJ2Z1bmMnIDogZXZhbChmdW5jKSwKCQkJJ2xpbmsnIDogbGluawoJCX07Cgl9LAoKCS8qKgoJICogTe+/vXRob2RlIHF1aSBhcHBlbGxlIGxhIG3vv710aG9kZSB1dGlsaXNhdGV1ciBsb3JzIGRlIGxhIGZpbiBkZSBsJ++/vWRpdGlvbiBkJ3VuZSBicmFuY2hlCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlmdW5jdGlvbgkJCWZ1bmMJCQkJCUxhIGZvbmN0aW9uIHV0aWxpc2F0ZXVyCgkgKiBAcGFyYW0Jc3RyaW5nCQkJCWxpbmsJCQkJCUxlIGxpZW4gZGUgbGEgcGFnZSBhamF4CgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0T25FZGl0QWpheCA6IGZ1bmN0aW9uIChmdW5jLCBsaW5rKSB7CgkJdGhpcy5vbkVkaXRBamF4ID0gewoJCQknZnVuYycgOiBldmFsKGZ1bmMpLAoJCQknbGluaycgOiBsaW5rCgkJfTsKCQl0aGlzLmVkaXRhYmxlQnJhbmNoZXMgPSB0cnVlOwoJfSwKCQoJc2V0T25EcmFnU3RhcnRFZmZlY3QgOiBmdW5jdGlvbiAoZnVuYykgewoJCXRoaXMub25EcmFnU3RhcnRFZmZlY3QgPSBldmFsKGZ1bmMpOwoJfSwKCQoJc2V0T25EcmFnRW5kRWZmZWN0IDogZnVuY3Rpb24gKGZ1bmMpIHsKCQl0aGlzLm9uRHJhZ0VuZEVmZmVjdCA9IGV2YWwoZnVuYyk7Cgl9IAp9OwoKCgoKCi8qKgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKgkJCQkJCQlBYnN0cmFjdCBUYWZlbFRyZWVCYXNlQnJhbmNoIENsYXNzCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqLwoKdmFyIFRhZmVsVHJlZUJhc2VCcmFuY2ggPSBDbGFzcy5jcmVhdGUoKTsKClRhZmVsVHJlZUJhc2VCcmFuY2gucHJvdG90eXBlID0gewoJCglpbml0aWFsaXplIDogZnVuY3Rpb24gKCkge30sCgoKCS8qKgoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqCQkJCQkJCVRhZmVsVHJlZUJhc2VCcmFuY2ggZ2V0dGVycyAmIHNldHRlcnMKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKi8KCQoJZ2V0SWQgOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIHRoaXMuc3RydWN0LmlkOwoJfSwKCQoJZ2V0VGV4dCA6IGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gdGhpcy5zdHJ1Y3QudHh0OwoJfSwKCQoJZ2V0TGV2ZWwgOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIHRoaXMubGV2ZWw7Cgl9LAoJCglnZXRUcmVlIDogZnVuY3Rpb24gKCkgewoJCXJldHVybiB0aGlzLnRyZWU7Cgl9LAoKCWdldFBhcmVudCA6IGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gKHRoaXMuaXNSb290KSA/IG51bGwgOiB0aGlzLnBhcmVudDsKCX0sCgoJLyoqCgkgKiBSZXRvdXJuZSBsYSByYWNpbmUgcGFyZW50ZSwgbnVsbCBzJ2lsIG4neSBlbiBhIHBhcwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCVRhZmVsVHJlZVJvb3QJCQkJCQkJTGEgcmFjaW5lIHBhcmVudGUKCSAqLwoJZ2V0QW5jZXN0b3IgOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuICh0aGlzLmlzUm9vdCkgPyBudWxsIDogdGhpcy5yb290OwoJfSwKCgkvKioKCSAqIFJldG91cm5lIHRvdXMgbGVzIHBhcmVudHMsIHJhY2luZSBjb21wcmlzZS4KCSAqCgkgKiBMZSAxZXIg77+9bO+/vW1lbnQgZHUgdGFibGVhdSBlc3QgbGUgcGFyZW50IGRpcmVjdCwgbGUgZGVybmllciDvv710YW50CgkgKiBsYSByYWNpbmUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglhcnJheQkJCQkJCQkJCUxlcyBwYXJlbnRzCgkgKi8KCWdldFBhcmVudHMgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIHBhcmVudHMgPSBbXTsKCQl2YXIgYnJhbmNoID0gdGhpczsKCQl3aGlsZSAoYnJhbmNoLnBhcmVudCkgewoJCQlwYXJlbnRzLnB1c2goYnJhbmNoLnBhcmVudCk7CgkJCWJyYW5jaCA9IGJyYW5jaC5wYXJlbnQ7CgkJfQoJCXJldHVybiBwYXJlbnRzOwoJfSwKCQoJZ2V0Q2hpbGRyZW4gOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIHRoaXMuY2hpbGRyZW47Cgl9LAoJCglnZXRJY29uIDogZnVuY3Rpb24gKCkgewoJCXJldHVybiB0aGlzLnN0cnVjdC5pbWc7Cgl9LAoJCglnZXRPcGVuSWNvbiA6IGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gdGhpcy5zdHJ1Y3QuaW1nb3BlbjsKCX0sCgkKCWdldENsb3NlSWNvbiA6IGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gdGhpcy5zdHJ1Y3QuaW1nY2xvc2U7Cgl9LAoJCglnZXRJY29uU2VsZWN0ZWQgOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIHRoaXMuc3RydWN0LmltZ3NlbGVjdGVkOwoJfSwKCQoJZ2V0T3Blbkljb25TZWxlY3RlZCA6IGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gdGhpcy5zdHJ1Y3QuaW1nb3BlbnNlbGVjdGVkOwoJfSwKCQoJZ2V0Q2xvc2VJY29uU2VsZWN0ZWQgOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIHRoaXMuc3RydWN0LmltZ2Nsb3Nlc2VsZWN0ZWQ7Cgl9LAoJCglnZXRDdXJyZW50SWNvbiA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgaW1nID0gdGhpcy5fZ2V0SW1nSW5mbyh0aGlzLmltZyk7CgkJcmV0dXJuIGltZy5mdWxsTmFtZTsKCX0sCgkKCXNldFRleHQgOiBmdW5jdGlvbiAodGV4dCkgewoJCXRoaXMuc3RydWN0LnR4dCA9IHRleHQ7CgkJdGhpcy50eHQuaW5uZXJIVE1MID0gdGV4dDsKCX0sCgkKCXNldEljb25zIDogZnVuY3Rpb24gKGljb24sIGljb25PcGVuLCBpY29uQ2xvc2UpIHsKCQl0aGlzLnN0cnVjdC5pbWcgPSBpY29uOwoJCXRoaXMuc3RydWN0LmltZ29wZW4gPSAoaWNvbk9wZW4pID8gaWNvbk9wZW4gOiBpY29uOwoJCXRoaXMuc3RydWN0LmltZ2Nsb3NlID0gKGljb25DbG9zZSkgPyBpY29uQ2xvc2UgOiBpY29uOwoJCWlmICh0aGlzLmhhc0NoaWxkcmVuKCkpIHsKCQkJdGhpcy5pbWcuc3JjID0gKHRoaXMuaXNPcGVuZWQoKSkgPyB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuc3RydWN0LmltZ29wZW4gOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuc3RydWN0LmltZ2Nsb3NlOwoJCX0gZWxzZSB7CgkJCXRoaXMuaW1nLnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy5zdHJ1Y3QuaW1nOwoJCX0KCX0sCgkKCXNldEljb25zU2VsZWN0ZWQgOiBmdW5jdGlvbiAoaWNvbiwgaWNvbk9wZW4sIGljb25DbG9zZSkgewoJCXRoaXMuc3RydWN0LmltZ3NlbGVjdGVkID0gaWNvbjsKCQl0aGlzLnN0cnVjdC5pbWdvcGVuc2VsZWN0ZWQgPSAoaWNvbk9wZW4pID8gaWNvbk9wZW4gOiBudWxsOwoJCXRoaXMuc3RydWN0LmltZ2Nsb3Nlc2VsZWN0ZWQgPSAoaWNvbkNsb3NlKSA/IGljb25DbG9zZSA6IG51bGw7CgkJaWYgKHRoaXMuaXNTZWxlY3RlZCgpKSB7CgkJCWlmICh0aGlzLmhhc0NoaWxkcmVuKCkpIHsKCQkJCXRoaXMuaW1nLnNyYyA9ICh0aGlzLmlzT3BlbmVkKCkpID8gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnN0cnVjdC5pbWdvcGVuc2VsZWN0ZWQgOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuc3RydWN0LmltZ2Nsb3Nlc2VsZWN0ZWQ7CgkJCX0gZWxzZSB7CgkJCQl0aGlzLmltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuc3RydWN0LmltZ3NlbGVjdGVkOwoJCQl9CgkJfQoJfSwKCQoJLyoqCgkgKiBN77+9dGhvZGUgcXVpIGNoYW5nZSBsJ2lkIGRlIGwn77+9bO+/vW1lbnQuIEEgdXRpbGlzZXIgYXZlYyBwYXJjaW1vbmllCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlzdHJpbmcJCQluZXdJZAkJCQkJTGUgbm91dmVsIGlkCgkgKiBAcmV0dXJuCWJvb2xlYW4JCQkJCQkJCQlUcnVlIHNpIHRvdXQgZXN0IG9rLCBmYWxzZSBzaSBsJ2lkIGV4aXN0ZSBk77+9au+/vSBkYW5zIGwnYXJicmUKCSAqLwoJY2hhbmdlSWQgOiBmdW5jdGlvbiAobmV3SWQpIHsKCQl2YXIgdXNlZCA9IHRoaXMudHJlZS5nZXRCcmFuY2hCeUlkKG5ld0lkKTsKCQlpZiAoIXVzZWQpIHsKCQkJdGhpcy5zdHJ1Y3QuaWQgPSBuZXdJZDsKCQkJdGhpcy50cmVlLl9jaGFuZ2VTdHJ1Y3QodGhpcyk7CgkJCXJldHVybiB0cnVlOwoJCX0gZWxzZSB7CgkJCXJldHVybiBmYWxzZTsKCQl9Cgl9LAoJCgkvKioKCSAqIE3vv710aG9kZSBxdWkgZO+/vXRlcm1pbmUgc2kgbCfvv71s77+9bWVudCBhIGRlcyBlbmZhbnRzIG91IG5vbioKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglib29sZWFuCQkJCQkJCQkJVHJ1ZSBzJ2lsIGEgZGVzIGVuZmFudHMsIGZhbHNlIHNpbm9uCgkgKi8KCWhhc0NoaWxkcmVuIDogZnVuY3Rpb24gKCkgewoJCXJldHVybiAodGhpcy5zdHJ1Y3QuaXRlbXMubGVuZ3RoID4gMCB8fCB0aGlzLnN0cnVjdC5jYW5oYXZlY2hpbGRyZW4pID8gdHJ1ZSA6IGZhbHNlOwoJfSwKCglpc09wZW5lZCA6IGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gKHRoaXMuc3RydWN0Lm9wZW4pID8gdHJ1ZSA6IGZhbHNlOwoJfSwKCglpc0Fsd2F5c0xhc3QgOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuICh0aGlzLnN0cnVjdC5sYXN0KSA/IHRydWUgOiBmYWxzZTsKCX0sCgoJaXNPcGVuZWRJbkNvb2tpZSA6IGZ1bmN0aW9uICgpIHsKCQlpZiAodGhpcy50cmVlLnVzZUNvb2tpZSAmJiB0aGlzLnRyZWUuY29va2llT3BlbmVkKSB7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50cmVlLmNvb2tpZU9wZW5lZC5sZW5ndGg7IGkrKykgewoJCQkJaWYgKHRoaXMuZ2V0SWQoKSA9PSB0aGlzLnRyZWUuY29va2llT3BlbmVkW2ldKSByZXR1cm4gdHJ1ZTsKCQkJfQoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9LAoKCS8qKgoJICogUmV0b3VybmUgdHJ1ZSBzaSBsYSBicmFuY2hlIGVzdCB2aXNpYmxlCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4JYm9vbGVhbgkJCQkJCQkJCVRydWUgc2kgbGEgYnJhbmNoZSBlc3QgdmlzaWJsZSwgZmFsc2Ugc2lub24KCSAqLwoJaXNWaXNpYmxlIDogZnVuY3Rpb24gKCkgewoJCXZhciB2aXNpYmxlID0gdHJ1ZTsKCQl2YXIgYnJhbmNoID0gdGhpczsKCQl3aGlsZSAoYnJhbmNoLnBhcmVudCkgewoJCQlpZiAoYnJhbmNoLnBhcmVudC5pc09wZW5lZCgpKSB7CgkJCQlicmFuY2ggPSBicmFuY2gucGFyZW50OwoJCQl9IGVsc2UgewoJCQkJdmlzaWJsZSA9IGZhbHNlOwoJCQkJYnJlYWs7CgkJCX0KCQl9CgkJcmV0dXJuIHZpc2libGU7Cgl9LAoKCS8qKgoJICogUmV0b3VybmUgVFJVRSBzaSBsYSBicmFuY2hlIGVzdCBz77+9bGVjdGlvbm7vv71lCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4JYm9vbGVhbgkJCQkJCQkJCQlUcnVlIHNpIGxhIGJyYW5jaGUgZXN0IHPvv71sZWN0aW9ubu+/vWUsIGZhbHNlIHNpbm9uCgkgKi8KCWlzU2VsZWN0ZWQgOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIChFbGVtZW50Lmhhc0NsYXNzTmFtZSh0aGlzLnR4dCwgdGhpcy50cmVlLmNsYXNzU2VsZWN0ZWQpKSA/IHRydWUgOiBmYWxzZTsKCX0sCgoKCS8qKgoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqCQkJCQkJCVRhZmVsVHJlZUJhc2VCcmFuY2ggcHVibGljIGZ1bmN0aW9ucwoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqLwoKCS8qKgoJICogUmFmcmFpY2hpdCBsZXMgZW5mYW50cyBkZSBsYSBicmFuY2hlIGVuIGZvbmN0aW9uIGRlIGNlIHF1J2lsIHkgYSBzdXIgbGUgc2VydmV1cgoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJcmVmcmVzaENoaWxkcmVuIDogZnVuY3Rpb24gKCkgewoJCXRoaXMucmVtb3ZlQ2hpbGRyZW4oKTsKCQl0aGlzLl9vcGVuUG9wdWxhdGUoKTsKCX0sCgkKCS8qKgoJICogQ2xvbmUgdG91dGUgbGEgc3RydWN0dXJlIGRlIGxhIGJyYW5jaGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYyoKCSAqIEBwYXJhbQlib29sZWFuCQkJd2l0aERlZmF1bHRGdW5jCQkJVHJ1ZSBwb3VyIGNvcGllciBsZXMgZm9uY3Rpb25zIHBhciBkZWZhdXQgZGUgbCdhcmJyZQoJICogQHJldHVybglvYmplY3QJCQkJCQkJCQlMYSBzdHJ1Y3R1cmUgSlNPTiBkZSBsYSBicmFuY2hlCgkgKi8KCWNsb25lIDogZnVuY3Rpb24gKHdpdGhEZWZhdWx0RnVuYykgewoJCXZhciBzdHJ1Y3QgPSB7fTsKCQlmb3IgKHZhciBwcm9wZXJ0eSBpbiB0aGlzLnN0cnVjdCkgewoJCQlpZiAocHJvcGVydHkgIT0gJ2l0ZW1zJykgewoJCQkJLy8gT24gcHJlbmQgbGVzIGZvbmN0aW9ucyBzZXVsZW1lbnQgc2kgZWxsZXMgc29udCBk77+9ZmluaWVzIHBvdXIgbGEgYnJhbmNoZQoJCQkJaWYgKCF3aXRoRGVmYXVsdEZ1bmMgJiYgdHlwZW9mKHRoaXMuc3RydWN0W3Byb3BlcnR5XSkgPT0gJ2Z1bmN0aW9uJykgewoJCQkJCWlmICghZXZhbCgndGhpcy4nICsgcHJvcGVydHkgKyAnRGVmYXVsdCcpKSB7CgkJCQkJCXN0cnVjdFtwcm9wZXJ0eV0gPSB0aGlzLnN0cnVjdFtwcm9wZXJ0eV07CgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQlzdHJ1Y3RbcHJvcGVydHldID0gdGhpcy5zdHJ1Y3RbcHJvcGVydHldOwoJCQkJfQoJCQl9CgkJfQoJCWlmICh0aGlzLmhhc0NoaWxkcmVuKCkpIHsKCQkJc3RydWN0Lml0ZW1zID0gW107CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQkJc3RydWN0Lml0ZW1zLnB1c2godGhpcy5jaGlsZHJlbltpXS5jbG9uZSh3aXRoRGVmYXVsdEZ1bmMpKTsgCgkJCX0KCQl9CgkJdGhpcy5jb3BpZWRUaW1lcysrOwoJCXN0cnVjdC5pZCA9IHN0cnVjdC5pZCArIHRoaXMudHJlZS5jb3B5TmFtZUJyZWFrICsgdGhpcy50cmVlLmlkVHJlZTsKCQlzdHJ1Y3QudHh0ID0gc3RydWN0LnR4dCArIHRoaXMudHJlZS5jb3B5TmFtZS5yZXBsYWNlKCclbicsIHRoaXMuY29waWVkVGltZXMpOwoJCXJldHVybiBzdHJ1Y3Q7Cgl9LAoKCS8qKgoJICogUmV0b3VybmUgbGUgcHJlbWllciBlbmZhbnQgZGUgbGEgYnJhbmNoZSwgb3UgbnVsbCBzJ2lsIHkgZW4gYSBwYXMKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglUYWZlbFRyZWVCcmFuY2gJCQkJCQkJCUxlIHByZW1pZXIgZW5mYW50IGRlIGxhIGJyYW5jaGUKCSAqLwoJZ2V0Rmlyc3RCcmFuY2ggOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDApID8gdGhpcy5jaGlsZHJlblswXSA6IG51bGw7Cgl9LAoKCS8qKgoJICogUmV0b3VybmUgbGUgZGVybmllciBlbmZhbnQgZGUgbGEgYnJhbmNoZSwgb3UgbnVsbCBzJ2lsIHkgZW4gYSBwYXMKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglUYWZlbFRyZWVCcmFuY2gJCQkJCQkJCUxlIGRlcm5pZXIgZW5mYW50IGRlIGxhIGJyYW5jaGUKCSAqLwoJZ2V0TGFzdEJyYW5jaCA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgcG9zID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOwoJCXJldHVybiAocG9zID49IDApID8gdGhpcy5jaGlsZHJlbltwb3NdIDogbnVsbDsKCX0sCgkKCS8qKgoJICogRm9uY3Rpb24gcXVpIHLvv71jdXDvv71yZSBsYSBicmFuY2hlIHBy77+9Y++/vWRlbnRlIGR1IG3vv71tZSBuaXZlYXUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglUYWZlbFRyZWVCcmFuY2gJCQkJCQkJCUxhIGJyYW5jaGUgc2kgZWxsZSBleGlzdGUsIG51bGwgc2lub24KCSAqLwoJZ2V0UHJldmlvdXNTaWJsaW5nIDogZnVuY3Rpb24gKCkgewoJCXZhciBwb3MgPSB0aGlzLnBvcyAtIDE7CgkJdmFyIGJyYW5jaCA9IG51bGw7CgkJaWYgKHRoaXMuaXNSb290KSB7CgkJCWlmIChwb3MgPj0gMCkgYnJhbmNoID0gdGhpcy50cmVlLnJvb3RzW3Bvc107CgkJfSBlbHNlIHsKCQkJaWYgKHBvcyA+PSAwKSBicmFuY2ggPSB0aGlzLnBhcmVudC5jaGlsZHJlbltwb3NdOwoJCX0KCQlyZXR1cm4gYnJhbmNoOwoJfSwKCQoJLyoqCgkgKiBGb25jdGlvbiBxdWkgcu+/vWN1cO+/vXJlIGxhIGJyYW5jaGUgc3VpdmFudGUgZHUgbe+/vW1lIG5pdmVhdQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCVRhZmVsVHJlZUJyYW5jaAkJCQkJCQkJTGEgYnJhbmNoZSBzaSBlbGxlIGV4aXN0ZSwgbnVsbCBzaW5vbgoJICovCglnZXROZXh0U2libGluZyA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgcG9zID0gdGhpcy5wb3MgKyAxOwoJCXZhciBicmFuY2ggPSBudWxsOwoJCWlmICh0aGlzLmlzUm9vdCkgewoJCQlpZiAocG9zIDwgdGhpcy50cmVlLnJvb3RzLmxlbmd0aCkgYnJhbmNoID0gdGhpcy50cmVlLnJvb3RzW3Bvc107CgkJfSBlbHNlIHsKCQkJaWYgKHBvcyA8IHRoaXMucGFyZW50LmNoaWxkcmVuLmxlbmd0aCkgYnJhbmNoID0gdGhpcy5wYXJlbnQuY2hpbGRyZW5bcG9zXTsKCQl9CgkJcmV0dXJuIGJyYW5jaDsKCX0sCgoJLyoqCgkgKiBSZXRvdXJuZSBsYSBicmFuY2hlIHBy77+9Y++/vWRlbnRlIGRhbnMgbCdhcmJyZSwgcGFzIGZvcmPvv71tZW50IGRlIG3vv71tZSBuaXZlYXUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglUYWZlbFRyZWVCcmFuY2gJCQkJCQkJCUxhIGJyYW5jaGUgcHLvv71j77+9ZGVudGUsIG51bGwgcydpbCBuJ3kgZW4gYSBwYXMKCSAqLwoJZ2V0UHJldmlvdXNCcmFuY2ggOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGJyYW5jaCA9IG51bGw7CgkJdmFyIHByZXZpb3VzID0gdGhpcy5nZXRQcmV2aW91c1NpYmxpbmcoKTsKCQkvLyBTaSBlbGxlIGEgdW5lIHNvZXVyIHBy77+9Y++/vWRlbnRlCgkJaWYgKHByZXZpb3VzKSB7CgkJCS8vIE9uIHJlZ2FyZGUgc2kgZWxsZSBhIGRlcyBlbmZhbnRzIGV0IGVzdCBvdXZlcnRlCgkJCWlmIChwcmV2aW91cy5oYXNDaGlsZHJlbigpKSB7CgkJCQkvLyBTaSBvdWksIG9uIHByZW5kIHNvbiBkZXJuaWVyIGVuZmFudAoJCQkJd2hpbGUgKHByZXZpb3VzLmhhc0NoaWxkcmVuKCkpIHsKCQkJCQlwcmV2aW91cyA9IHByZXZpb3VzLmdldExhc3RCcmFuY2goKTsKCQkJCX0KCQkJCWJyYW5jaCA9IHByZXZpb3VzOwoJCQl9IGVsc2UgewoJCQkJLy8gU2kgY2Ugbidlc3QgcGFzIGxlIGNhcywgb24gbGEgcHJlbmQgZWxsZQoJCQkJYnJhbmNoID0gcHJldmlvdXM7CgkJCX0KCQl9IGVsc2UgewoJCQkvLyBTaSBlbGxlIG4nYSBwYXMgZGUgc29ldXIgcHLvv71j77+9ZGVudGUsIG9uIHByZW5kIGxlIHBhcmVudCAocydpbCBleGlzdGUpCgkJCWlmICh0aGlzLnBhcmVudCkgewoJCQkJYnJhbmNoID0gdGhpcy5wYXJlbnQ7CgkJCX0KCQl9CgkJcmV0dXJuIGJyYW5jaDsKCX0sCgoJLyoqCgkgKiBSZXRvdXJuZSBsYSBicmFuY2hlIHN1aXZhbnRlIGRhbnMgbCdhcmJyZSwgcGFzIGZvcmPvv71tZW50IGRlIG3vv71tZSBuaXZlYXUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglUYWZlbFRyZWVCcmFuY2gJCQkJCQkJCUxhIGJyYW5jaGUgc3VpdmFudGUsIG51bGwgcydpbCBuJ3kgZW4gYSBwYXMKCSAqLwoJZ2V0TmV4dEJyYW5jaCA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgYnJhbmNoID0gbnVsbDsKCQkvLyBS77+9Y3Vw77+9cmUgbGUgcHJlbWllciBlbmZhbnQsIHMnaWwgeSBlbiBhIHVuCgkJYnJhbmNoID0gdGhpcy5nZXRGaXJzdEJyYW5jaCgpOwoJCWlmICghYnJhbmNoKSB7CgkJCS8vIFLvv71jdXDvv71yZSBzYSBwcm9jaGFpbmUgc29ldXIKCQkJYnJhbmNoID0gdGhpcy5nZXROZXh0U2libGluZygpOwoJCQlpZiAoIWJyYW5jaCkgewoJCQkJLy8gUu+/vWN1cO+/vXJlIGxhIHNvZXVyIGR1IHBhcmVudCBvdSB0b3V0IGR1IG1vaW5zIGQndW4gYW5j77+9dHJlCgkJCQl2YXIgYiA9IG51bGw7CgkJCQlicmFuY2ggPSB0aGlzLnBhcmVudDsKCQkJCXdoaWxlICghYiAmJiBicmFuY2gpIHsKCQkJCQliID0gYnJhbmNoLmdldE5leHRTaWJsaW5nKCk7CgkJCQkJYnJhbmNoID0gYnJhbmNoLnBhcmVudDsKCQkJCX0KCQkJCWJyYW5jaCA9IGI7CgkJCX0KCQl9CgkJcmV0dXJuIGJyYW5jaDsKCX0sCgkKCS8qKgoJICogUmV0b3VybmUgbGEgYnJhbmNoIG91dmVydGUgcHLvv71j77+9ZGVudGUgKHBhcyBmb3Jj77+9bWVudCBkdSBt77+9bWUgbml2ZWF1KQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCVRhZmVsVHJlZUJyYW5jaAkJCQkJCQkJTGEgYnJhbmNoZSBwcu+/vWPvv71kZW50ZSBvdXZlcnRlLCBudWxsIHMnaWwgbid5IGVuIGEgcGFzCgkgKi8KCWdldFByZXZpb3VzT3BlbmVkQnJhbmNoIDogZnVuY3Rpb24gKCkgewoJCXZhciBicmFuY2ggPSBudWxsOwoJCXZhciBwcmV2aW91cyA9IHRoaXMuZ2V0UHJldmlvdXNTaWJsaW5nKCk7CgkJLy8gU2kgZWxsZSBhIHVuZSBzb2V1ciBwcu+/vWPvv71kZW50ZQoJCWlmIChwcmV2aW91cykgewoJCQkvLyBPbiByZWdhcmRlIHNpIGVsbGUgYSBkZXMgZW5mYW50cyBldCBlc3Qgb3V2ZXJ0ZQoJCQlpZiAocHJldmlvdXMuaGFzQ2hpbGRyZW4oKSAmJiBwcmV2aW91cy5pc09wZW5lZCgpKSB7CgkJCQkvLyBTaSBvdWksIG9uIHByZW5kIHNvbiBkZXJuaWVyIGVuZmFudAoJCQkJd2hpbGUgKHByZXZpb3VzLmhhc0NoaWxkcmVuKCkgJiYgcHJldmlvdXMuaXNPcGVuZWQoKSkgewoJCQkJCXByZXZpb3VzID0gcHJldmlvdXMuZ2V0TGFzdEJyYW5jaCgpOwoJCQkJfQoJCQkJYnJhbmNoID0gcHJldmlvdXM7CgkJCX0gZWxzZSB7CgkJCQkvLyBTaSBjZSBuJ2VzdCBwYXMgbGUgY2FzLCBvbiBsYSBwcmVuZCBlbGxlCgkJCQlicmFuY2ggPSBwcmV2aW91czsKCQkJfQoJCX0gZWxzZSB7CgkJCS8vIFNpIGVsbGUgbidhIHBhcyBkZSBzb2V1ciBwcu+/vWPvv71kZW50ZSwgb24gcHJlbmQgbGUgcGFyZW50IChzJ2lsIGV4aXN0ZSkKCQkJaWYgKHRoaXMucGFyZW50KSB7CgkJCQlicmFuY2ggPSB0aGlzLnBhcmVudDsKCQkJfQoJCX0KCQlyZXR1cm4gYnJhbmNoOwoJfSwKCQoJLyoqCgkgKiBSZXRvdXJuZSBsYSBicmFuY2ggb3V2ZXJ0ZSBzdWl2YW50ZSAocGFzIGZvcmPvv71tZW50IGR1IG3vv71tZSBuaXZlYXUpCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4JVGFmZWxUcmVlQnJhbmNoCQkJCQkJCQlMYSBicmFuY2hlIHN1aXZhbnRlIG91dmVydGUsIG51bGwgcydpbCBuJ3kgZW4gYSBwYXMKCSAqLwoJZ2V0TmV4dE9wZW5lZEJyYW5jaCA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgYnJhbmNoID0gbnVsbDsKCQkvLyBTaSBlbGxlIGEgZGVzIGVuZmFudHMgZXQgcXUnZWxsZSBlc3Qgb3V2ZXJ0ZSwgb24gcHJlbmQgbGUgMWVyCgkJaWYgKHRoaXMuaGFzQ2hpbGRyZW4oKSAmJiB0aGlzLmlzT3BlbmVkKCkpIHsKCQkJYnJhbmNoID0gdGhpcy5nZXRGaXJzdEJyYW5jaCgpOwoJCX0gZWxzZSB7CgkJCS8vIFNpIGVsbGUgYSBwYXMgZCdlbmZhbnRzLCBvbiBwcmVuZCBzYSBwcm9jaGFpbmUgc29ldXIKCQkJdmFyIG5leHQgPSB0aGlzOwoJCQl3aGlsZSAoIWJyYW5jaCkgewoJCQkJYnJhbmNoID0gbmV4dC5nZXROZXh0U2libGluZygpOwoJCQkJbmV4dCA9IG5leHQucGFyZW50OwoJCQkJaWYgKCFuZXh0KSBicmVhazsKCQkJfQoJCX0KCQlyZXR1cm4gYnJhbmNoOwoJfSwKCgkvKioKCSAqIEZvbmN0aW9uIHF1aSBzdXBwcmltZSB0b3VzIGxlcyBlbmZhbnRzCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4JYm9vbGVhbgkJCQkJCQkJCQlUcnVlIHNpIGxhIGJyYW5jaGUgZXN0IHVuIGVuZmFudCBkZSBlbGVtCgkgKi8KCXJlbW92ZUNoaWxkcmVuIDogZnVuY3Rpb24gKCkgewoJCS8vIE9uIHV0aWxpc2UgY29uY2F0KCkgcG91ciBuZSBwYXMgZmFpcmUgZGUgcu+/vWbvv71yZW5jZSBzdXIgdGhpcy5jaGlsZHJlbgoJCXZhciBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4uY29uY2F0KCk7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQl0aGlzLnRyZWUucmVtb3ZlQnJhbmNoKGNoaWxkcmVuW2ldKTsKCQl9Cgl9LAoKCS8qKgoJICogRm9uY3Rpb24gcXVpIGTvv710ZXJtaW5lIHNpIGxhIGJyYW5jaGUgZXN0IGVuZmFudCBkZSBlbGVtCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlUYWZlbFRyZWVCcmFuY2gJCWVsZW0JCQkJCUxhIGJyYW5jaGUgZG9udCBvbiB2ZXV0IHNhdm9pciBzaSBlbGxlIGVzdCB1biBhbmPvv710cmUKCSAqIEByZXR1cm4JYm9vbGVhbgkJCQkJCQkJCQlUcnVlIHNpIGxhIGJyYW5jaGUgZXN0IHVuIGVuZmFudCBkZSBlbGVtCgkgKi8KCWlzQ2hpbGQgOiBmdW5jdGlvbiAoZWxlbSkgewoJCXZhciBlbGVtID0gdGhpcy50cmVlLmdldEJyYW5jaEJ5SWQoZWxlbSk7CgkJaWYgKCFlbGVtKSByZXR1cm4gZmFsc2U7CgkJcmV0dXJuIHRoaXMuX2lzQ2hpbGQodGhpcywgZWxlbSk7Cgl9LAoKCS8qKgoJICogRm9uY3Rpb24gcXVpIG91dnJlIG91IGZlcm1lIGxhIGJyYW5jaGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWJvb2xlYW4JCQkJb3BlbgkJCQkJVHJ1ZSBwb3VyIG91dnJpciBsYSBicmFuY2hlCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJb3Blbkl0IDogZnVuY3Rpb24gKG9wZW4pIHsKCQl0cnkgewoJCQlpZiAoIW9wZW4pIHsKCQkJCXRoaXMuX2Nsb3NlQ2hpbGQoKTsKCQkJCWlmICh0aGlzLnRyZWUubXVsdGlsaW5lKSB7CgkJCQkJdGhpcy5fbWFuYWdlTXVsdGlsaW5lKHRoaXMudGRJbWcsIDIsIGZhbHNlKTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCWlmICh0aGlzLnRyZWUub25seU9uZU9wZW5lZCkgewoJCQkJCXRoaXMuY2xvc2VTaWJsaW5ncygpOwoJCQkJfQoJCQkJdGhpcy5fb3BlbkNoaWxkKCk7CgkJCQlpZiAodGhpcy50cmVlLm11bHRpbGluZSkgewoJCQkJCXRoaXMuX21hbmFnZU11bHRpbGluZSh0aGlzLnRkSW1nLCAyLCB0cnVlKTsKCQkJCX0KCQkJfQoJCQlpZiAodGhpcy50cmVlLnVzZUNvb2tpZSkgewoJCQkJdGhpcy50cmVlLnNldENvb2tpZSh0aGlzLnRyZWUuY2xhc3NUcmVlICsgdGhpcy50cmVlLmlkKTsKCQkJfQoJCX0gY2F0Y2ggKGVycikgewoJCQl0aHJvdyBuZXcgRXJyb3IgKCdvcGVuSXQoYmFzZSkgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCX0KCX0sCgoJLyoqCgkgKiBGb25jdGlvbiBxdWkgaW5z77+9cmUgdW5lIGJyYW5jaGUgY29tbWUgZW5mYW50LCBlbiBmaW4gZGUgbGlzdGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCW9iamVjdAkJCQlpdGVtCQkJCQlMYSBub3V2ZWxsZSBicmFuY2hlCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJaW5zZXJ0IDogZnVuY3Rpb24gKGl0ZW0pIHsKCQlyZXR1cm4gdGhpcy5pbnNlcnRJbnRvTGFzdChpdGVtKTsKCX0sCglpbnNlcnRJbnRvTGFzdCA6IGZ1bmN0aW9uIChpdGVtKSB7CgkJdmFyIHBvcyA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOwoJCXZhciBpc05vdEZpcnN0ID0gKHRoaXMuaGFzQ2hpbGRyZW4oKSkgPyB0cnVlIDogZmFsc2U7CgkJdGhpcy5jaGlsZHJlbltwb3NdID0gbmV3IFRhZmVsVHJlZUJyYW5jaCgodGhpcy5pc1Jvb3QpID8gdGhpcyA6IHRoaXMucm9vdCwgdGhpcywgaXRlbSwgdGhpcy5sZXZlbCArIDEsIGlzTm90Rmlyc3QsIGZhbHNlLCBwb3MpOwoJCXRoaXMuc3RydWN0Lml0ZW1zW3Bvc10gPSBpdGVtOwoJCXRoaXMub2JqLmFwcGVuZENoaWxkKHRoaXMuY2hpbGRyZW5bcG9zXS5vYmopOwoJCXRoaXMuX21hbmFnZUFmdGVySW5zZXJ0KHBvcyk7CgkJcmV0dXJuIHRoaXMuY2hpbGRyZW5bcG9zXTsKCX0sCgoJaW5zZXJ0SW50b0ZpcnN0IDogZnVuY3Rpb24gKGl0ZW0pIHsKCQl2YXIgcG9zID0gMDsKCQl2YXIgcG9zQmVmb3JlID0gMTsKCQl2YXIgaXNOb3RMYXN0ID0gKHRoaXMuaGFzQ2hpbGRyZW4oKSkgPyBmYWxzZSA6IHRydWU7CgkJdGhpcy5fbW92ZVBhcnRTdHJ1Y3QocG9zKTsKCQl0aGlzLnN0cnVjdC5pdGVtc1twb3NdID0gaXRlbTsKCQl0aGlzLmNoaWxkcmVuW3Bvc10gPSBuZXcgVGFmZWxUcmVlQnJhbmNoKCh0aGlzLmlzUm9vdCkgPyB0aGlzIDogdGhpcy5yb290LCB0aGlzLCBpdGVtLCB0aGlzLmxldmVsICsgMSwgZmFsc2UsIGlzTm90TGFzdCwgcG9zKTsKCQl0cnkgewoJCQl0aGlzLm9iai5pbnNlcnRCZWZvcmUodGhpcy5jaGlsZHJlbltwb3NdLm9iaiwgdGhpcy5jaGlsZHJlbltwb3NCZWZvcmVdLm9iaik7CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXRoaXMub2JqLmFwcGVuZENoaWxkKHRoaXMuY2hpbGRyZW5bcG9zXS5vYmopOwoJCX0KCQl0aGlzLl9tYW5hZ2VBZnRlckluc2VydChwb3MpOwoJCXJldHVybiB0aGlzLmNoaWxkcmVuW3Bvc107Cgl9LAoJCgkvKioKCSAqIEZvbmN0aW9uIHF1aSBmZXJtZSB0b3V0ZXMgbGVzIGJyYW5jaGVzIHNvZXVycwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJY2xvc2VTaWJsaW5ncyA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgb2JqID0gbnVsbDsKCQlpZiAodGhpcy5wYXJlbnQpIHsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQkJb2JqID0gdGhpcy5wYXJlbnQuY2hpbGRyZW5baV07CgkJCQlpZiAob2JqLmlkT2JqICE9IHRoaXMuaWRPYmogJiYgb2JqLmhhc0NoaWxkcmVuKCkpIHsKCQkJCQlvYmoub3Blbkl0KGZhbHNlKTsKCQkJCX0KCQkJfQoJCX0gZWxzZSBpZiAodGhpcy5pc1Jvb3QpIHsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyZWUucm9vdHMubGVuZ3RoOyBpKyspIHsKCQkJCW9iaiA9IHRoaXMudHJlZS5yb290c1tpXTsKCQkJCWlmIChvYmouaWRPYmogIT0gdGhpcy5pZE9iaiAmJiBvYmouaGFzQ2hpbGRyZW4oKSkgewoJCQkJCW9iai5vcGVuSXQoZmFsc2UpOwoJCQkJfQoJCQl9CgkJfQoJfSwKCQoJLyoqCgkgKiBBam91dGUgdW5lIGNsYXNzZSBDU1MgYXUgdGV4dGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCXN0cmluZwkJCXN0eWxlCQkJCQlMZSBzdHlsZSBDU1Mg77+9IGFqb3V0ZXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglhZGRDbGFzcyA6IGZ1bmN0aW9uIChzdHlsZSkgewoJCUVsZW1lbnQuYWRkQ2xhc3NOYW1lKHRoaXMudHh0LCBzdHlsZSk7Cgl9LAoJCgkvKioKCSAqIFJldGlyZSB1bmUgY2xhc3NlIENTUyBkdSB0ZXh0ZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0Jc3RyaW5nCQkJc3R5bGUJCQkJCUxlIHN0eWxlIENTUyDvv70gZW5sZXZlcgoJICogQHJldHVybgl2b2lkCgkgKi8KCXJlbW92ZUNsYXNzIDogZnVuY3Rpb24gKHN0eWxlKSB7CgkJRWxlbWVudC5yZW1vdmVDbGFzc05hbWUodGhpcy50eHQsIHN0eWxlKTsKCX0sCgoJLyoqCgkgKiBSZXRvdXJuZSB1biBvYmpldCBhbm9ueW1lIHJlcHLvv71zZW50YW50IGwnaW1hZ2UgcHLvv71j77+9ZGFudCBsJ2lj77+9bmUgKHVuIHBsdXMsIHBhciBleC4pCgkgKgoJICogTCdvYmpldCBhIGNldHRlIHN0cnVjdHVyZSA6CgkJdmFyIG9iaiA9IHsKCQkJJ2ltZycgICAgIDogSFRNTGltZ0VsZW1lbnQsCgkJCSdudW1iZXInICA6IExlIG51be+/vXJvIGRlIGwnaW1hZ2UgKGp1c3RlIGF2YW50IGwnZXh0ZW5zaW9uKSwKCQkJJ3R5cGUnICAgIDogbGUgbm9tIGRlIGwnaW1hZ2Ugc2FucyBsZSBudW3vv71ybyBldCBzYW5zIGwnZXh0ZW5zaW9uCgkJCSduYW1lJyAgICA6IExlIG5vbSBkZSBsJ2ltYWdlIHNhbnMgbCdleHRlbnNpb24sCgkJCSdmdWxsTmFtZSc6IExlIG5vbSBkZSBsJ2ltYWdlIGF2ZWMgbCdleHRlbnNpb24KCQl9OwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCW9iamVjdAkJCQkJCQkJCQlMJ29iamV0IGFub255bWUgZGUgbCdpbWFnZQoJICovCglnZXRJbWdCZWZvcmVJY29uIDogZnVuY3Rpb24gKCkgewoJCXRyeSB7CgkJCXZhciBpbWcgPSB0aGlzLmJlZm9yZUljb24uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpWzBdOwoJCQlyZXR1cm4gdGhpcy5fZ2V0SW1nSW5mbyhpbWcpOwoJCX0gY2F0Y2ggKGVycikgewoJCQl0aHJvdyBuZXcgRXJyb3IgKCdnZXRJbWdCZWZvcmVJY29uKGJhc2UpIDogJyArIGVyci5tZXNzYWdlKTsKCQl9Cgl9LAoJCgkvKioKCSAqIEZvbmN0aW9uIGNoYW5nZSBsJ2lj77+9bmUgZW4gZm9uY3Rpb24gZGVzIGVuZmFudHMsIHMnaWwgeSBlbiBhIG91IHBhcwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JYm9vbGVhbgkJCW9wZW5hYmxlCQkJCQlUcnVlIHBvdXIgbWV0dHJlIGwnaWNvbmUgZCdvdXZlcnR1cmUKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRPcGVuYWJsZUljb24gOiBmdW5jdGlvbiAob3BlbmFibGUpIHsKCQl2YXIgaW0gPSB0aGlzLmdldEltZ0JlZm9yZUljb24oKTsKCQl2YXIgaW1nID0gaW0uaW1nOwoJCWlmIChvcGVuYWJsZSkgewoJCQl0aGlzLnN0cnVjdC5vcGVuID0gdHJ1ZTsKCQkJdGhpcy5pbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnN0cnVjdC5pbWdvcGVuOwoJCQlpZiAoIXRoaXMuaXNSb290KSB7CgkJCQlpbWcuc3JjID0gKHRoaXMuaGFzU2libGluZ3NBZnRlcikgPyB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdNaW51czMgOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdNaW51czI7CgkJCX0gZWxzZSB7CgkJCQlpZiAodGhpcy5oYXNTaWJsaW5nc0JlZm9yZSkgewoJCQkJCWltZy5zcmMgPSAodGhpcy5oYXNTaWJsaW5nc0FmdGVyKSA/IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy50cmVlLmltZ01pbnVzMyA6IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy50cmVlLmltZ01pbnVzMjsKCQkJCX0gZWxzZSB7CgkJCQkJaW1nLnNyYyA9ICh0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpID8gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nTWludXM0IDogdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nTWludXM1OwoJCQkJfQoJCQl9CgkJCUV2ZW50Lm9ic2VydmUoaW1nLCAnY2xpY2snLCB0aGlzLnNldE9wZW4uYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoJCQlFdmVudC5vYnNlcnZlKGltZywgJ21vdXNlb3ZlcicsIHRoaXMuZXZ0X29wZW5Nb3VzZU92ZXIuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoJCQlFdmVudC5vYnNlcnZlKGltZywgJ21vdXNlb3V0JywgdGhpcy5ldnRfb3Blbk1vdXNlT3V0LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksIGZhbHNlKTsKCQl9IGVsc2UgewoJCQl0aGlzLnN0cnVjdC5vcGVuID0gZmFsc2U7CgkJCXRoaXMuc3RydWN0LmNhbmhhdmVjaGlsZHJlbiA9IGZhbHNlOwoJCQl0aGlzLmltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuc3RydWN0LmltZzsKCQkJdmFyIHRkID0gaW1nLnBhcmVudE5vZGU7CgkJCXZhciBuZXdJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKCQkJdGQucmVtb3ZlQ2hpbGQoaW1nKTsKCQkJaWYgKCF0aGlzLmlzUm9vdCkgewoJCQkJbmV3SW1nLnNyYyA9ICh0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpID8gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nTGluZTMgOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdMaW5lMjsKCQkJfSBlbHNlIHsKCQkJCWlmICh0aGlzLmhhc1NpYmxpbmdzQmVmb3JlKSB7CgkJCQkJbmV3SW1nLnNyYyA9ICh0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpID8gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nTGluZTMgOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdMaW5lMjsKCQkJCX0gZWxzZSB7CgkJCQkJbmV3SW1nLnNyYyA9ICh0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpID8gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nTGluZTQgOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdMaW5lNTsKCQkJCX0KCQkJfQoJCQl0ZC5hcHBlbmRDaGlsZChuZXdJbWcpOwoJCX0KCX0sCgoJLyoqCgkgKiBGb25jdGlvbiBxdWkgYWZmaWNoZSBsYSBicmFuY2hlIGRlIG1hbmnvv71yZSBjb29sCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4Jc3RyaW5nCQkJCQkJCQkJCUxhIHN0cmluZyDvv70gYWZmaWNoZXIKCSAqLwoJdG9TdHJpbmcgOiBmdW5jdGlvbiAoKSB7CQkKCQl2YXIgc3RyID0gKHRoaXMuaXNSb290KSA/ICdUYWZlbFRyZWVSb290IHsnIDogJ1RhZmVsVHJlZUJyYW5jaCB7JzsKCQkvLyBE77+9ZmluaXRpb24gZGUgdG91dGVzIGxlcyBwcm9wcmnvv71077+9cwoJCXZhciBzdHJTYXZlID0gJyc7CgkJZm9yICh2YXIgYXR0ciBpbiB0aGlzLnN0cnVjdCkgewoJCQlpZiAoYXR0ciAhPSAnaXRlbXMnKSB7CgkJCQlzdHJTYXZlID0gKHR5cGVvZih0aGlzLnN0cnVjdFthdHRyXSkgIT0gJ2Z1bmN0aW9uJykgPyB0aGlzLnN0cnVjdFthdHRyXSA6IHRydWU7CgkJCQlzdHIgKz0gVGFmZWxUcmVlLmRlYnVnUmV0dXJuICsgVGFmZWxUcmVlLmRlYnVnVGFiICsgYXR0ciArICcgOiAnICsgc3RyU2F2ZTsKCQkJfQoJCX0KCQlzdHIgKz0gVGFmZWxUcmVlLmRlYnVnUmV0dXJuICsgVGFmZWxUcmVlLmRlYnVnVGFiICsgJ2NoaWxkcmVuIDogJyArIHRoaXMuY2hpbGRyZW4ubGVuZ3RoOwoJCXN0ciArPSBUYWZlbFRyZWUuZGVidWdSZXR1cm4gKyAnfSc7CgkJcmV0dXJuIHN0cjsKCX0sCgkKCWlzQ2hlY2tlZCA6IGZ1bmN0aW9uIChkYmcpIHsKCQlpZiAodGhpcy50cmVlLmNoZWNrYm94ZXMgJiYgdGhpcy5jaGVja2JveCkgewoJCQl2YXIgaW1nID0gdGhpcy5fZ2V0SW1nSW5mbyh0aGlzLmNoZWNrYm94KTsKCQkJaWYgKGltZy5mdWxsTmFtZS5yZXBsYWNlKCdfb3ZlcicsICcnKSA9PSB0aGlzLnRyZWUuaW1nQ2hlY2syKSB7CgkJCQlyZXR1cm4gMTsKCQkJfQoJCQlpZiAoaW1nLmZ1bGxOYW1lLnJlcGxhY2UoJ19vdmVyJywgJycpID09IHRoaXMudHJlZS5pbWdDaGVjazMpIHsKCQkJCXJldHVybiAtMTsKCQkJfQoJCQlyZXR1cm4gMDsKCQl9CgkJcmV0dXJuIDA7Cgl9LAoKCWdldENoZWNrYm94IDogZnVuY3Rpb24gKCkgewoJCXJldHVybiAodGhpcy5jaGVja2JveCkgPyB0aGlzLmNoZWNrYm94IDogZmFsc2U7Cgl9LAoJCgljaGVjayA6IGZ1bmN0aW9uIChjaGVja2VkKSB7CgkJaWYgKHRoaXMuY2hlY2tib3gpIHsKCQkJaWYgKGNoZWNrZWQgPT0gLTEpIHsKCQkJCXRoaXMuY2hlY2tib3guc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nQ2hlY2szOwoJCQkJdGhpcy5zdHJ1Y3QuY2hlY2sgPSAtMTsKCQkJfSBlbHNlIGlmIChjaGVja2VkKSB7CgkJCQl0aGlzLmNoZWNrYm94LnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy50cmVlLmltZ0NoZWNrMjsKCQkJCXRoaXMuc3RydWN0LmNoZWNrID0gMTsKCQkJCWlmICh0aGlzLnRyZWUudXNlQ29va2llKSB7CgkJCQkJdGhpcy50cmVlLnNldENvb2tpZSh0aGlzLnRyZWUuY2xhc3NUcmVlICsgdGhpcy50cmVlLmlkKTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCXRoaXMuY2hlY2tib3guc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nQ2hlY2sxOwoJCQkJdGhpcy5zdHJ1Y3QuY2hlY2sgPSAwOwoJCQkJaWYgKHRoaXMudHJlZS51c2VDb29raWUpIHsKCQkJCQl0aGlzLnRyZWUuc2V0Q29va2llKHRoaXMudHJlZS5jbGFzc1RyZWUgKyB0aGlzLnRyZWUuaWQpOwoJCQkJfQoJCQl9CgkJfQoJfSwKCQoJLyoqCgkgKiBGb25jdGlvbiBxdWkgcmV0b3VybmUgMSBzaSB0b3VzIGxlcyBlbmZhbnRzIHNvbnQgY2hlY2vvv71zLCAwIHNpIGF1Y3VuIGV0IC0xIHNpIHF1ZWxxdWVzIHVucwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCWludGVnZXIJCQkJCQkJCQkJMSBzaSB0b3V0IGNoZWNrLCAwIHNpIGF1Y3VuLCAtMSBzaSBwYXMgdG91cwoJICovCgloYXNBbGxDaGlsZHJlbkNoZWNrZWQgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGFsbENoZWNrZWQgPSBmYWxzZTsKCQl2YXIgYW55Q2hlY2tlZCA9IGZhbHNlOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQlpZiAodGhpcy5jaGlsZHJlbltpXS5pc0NoZWNrZWQoKSA9PSAtMSkgewoJCQkJYWxsQ2hlY2tlZCA9IHRydWU7CgkJCQlhbnlDaGVja2VkID0gdHJ1ZTsKCQkJCWJyZWFrOwoJCQl9CgkJCWlmICh0aGlzLmNoaWxkcmVuW2ldLmlzQ2hlY2tlZCgpID09IDEpIGFsbENoZWNrZWQgPSB0cnVlOwoJCQllbHNlIGFueUNoZWNrZWQgPSB0cnVlOwoJCX0KCQlpZiAoYWxsQ2hlY2tlZCAmJiBhbnlDaGVja2VkKSByZXR1cm4gLTE7CgkJaWYgKGFsbENoZWNrZWQpIHJldHVybiAxOwoJCWVsc2UgcmV0dXJuIDA7Cgl9LAoKCS8qKgoJICogUGVybWV0IGQnaW50ZXJ2ZXJ0aXIgbGVzIGRldXggYnJhbmNoZXMuIEVsbGVzIGNvbnNlcnZlcm9udCB0b3V0ZXMgbGV1cnMKCSAqIGNhcmFjdO+/vXJpc3RpcXVlcyAoaGV1cmV1c2VtZW50KQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JVGFmZWxUcmVlQnJhbmNoCQlicmFuY2hJZAkJCUwnaWQgZGUgbCdhdXRyZSBicmFuY2hlIG91IGwnYXV0cmUgYnJhbmNoZSBlbGxlLW3vv71tZQoJICogQHJldHVybgl2b2lkCgkgKi8KCXN3aXRjaFdpdGggOiBmdW5jdGlvbiAoYnJhbmNoSWQpIHsKCQl2YXIgYnJhbmNoID0gdGhpcy50cmVlLmdldEJyYW5jaEJ5SWQoYnJhbmNoSWQpOwoJCWlmICghYnJhbmNoKSByZXR1cm4gZmFsc2U7CgoJCXZhciBjb3B5VGhpcyA9IHRoaXMuY29waWVkVGltZXM7CgkJdmFyIG5ld1RoaXMgPSB0aGlzLmNsb25lKCk7CgkJdmFyIHR4dFRoaXMgPSB0aGlzLmdldFRleHQoKTsKCQl2YXIgaWRUaGlzID0gdGhpcy5nZXRJZCgpOwoJCXZhciBjb3B5QmFuY2ggPSBicmFuY2guY29waWVkVGltZXM7CgkJdmFyIG5ld0JyYW5jaCA9IGJyYW5jaC5jbG9uZSgpOwoJCXZhciB0eHRCcmFuY2ggPSBicmFuY2guZ2V0VGV4dCgpOwoJCXZhciBpZEJyYW5jaCA9IGJyYW5jaC5nZXRJZCgpOwoJCS8vIE9uIGNoYW5nZSBsJ2lkIGRlIGxhIGJyYW5jaGUgY291cmFudGUKCQl0aGlzLmNoYW5nZUlkKCd0ZW1wX3N3aXRjaF9jaGFuZ2VfJyArIHRoaXMudHJlZS5pZFRyZWUpOwoJCS8vIEludmVyc2lvbiBkZXMgYnJhbmNoZXMKCQl2YXIgbjEgPSBicmFuY2guaW5zZXJ0QmVmb3JlKG5ld1RoaXMpOwoJCXRoaXMudHJlZS5yZW1vdmVCcmFuY2goYnJhbmNoKTsKCQluMS5zZXRUZXh0KHR4dFRoaXMpOwoJCW4xLmNoYW5nZUlkKGlkVGhpcyk7CgkJbjEuY29waWVkVGltZXMgPSBjb3B5VGhpczsKCQl2YXIgbjIgPSB0aGlzLmluc2VydEJlZm9yZShuZXdCcmFuY2gpOwoJCXRoaXMudHJlZS5yZW1vdmVCcmFuY2godGhpcyk7CgkJbjIuc2V0VGV4dCh0eHRCcmFuY2gpOwoJCW4yLmNoYW5nZUlkKGlkQnJhbmNoKTsKCQluMi5jb3BpZWRUaW1lcyA9IGNvcHlCcmFuY2g7Cgl9LAoKCS8qKgoJICogUmVtcGxhY2UgbGEgYnJhbmNoZSBwYXNz77+9ZSBlbiBwYXJhbe+/vXRyZSBwYXIgbCdhdXRyZS4KCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCVRhZmVsVHJlZUJyYW5jaAkJYnJhbmNoSWQJCQlMJ2lkIGRlIGxhIGJyYW5jaGUg77+9IHJlbXBsYWNlciBvdSBsJ29iamV0IGx1aS1t77+9bWUKCSAqIEBwYXJhbQlib29sZWFuCQkJCWNvcHkJCQkJVHJ1ZSBwb3VyIGZhaXJlIHVuZSBjb3BpZSBkZSBsYSBicmFuY2hlIHF1aSByZW1wbGFjZQoJICogQHJldHVybglUYWZlbFRyZWVCcmFuY2gJCQkJCQkJTGEgYnJhbmNoZSByZW1wbGFj77+9ZQoJICovCglyZXBsYWNlIDogZnVuY3Rpb24gKGJyYW5jaElkLCBjb3B5KSB7CgkJdmFyIGJyYW5jaCA9IHRoaXMudHJlZS5nZXRCcmFuY2hCeUlkKGJyYW5jaElkKTsKCQlpZiAoIWJyYW5jaCkgcmV0dXJuIGZhbHNlOwoKCQkvLyBQcu+/vXBhcmF0aW9uIGR1IHJlbXBsYWNlbWVudAoJCXZhciBjb3B5VGhpcyA9IHRoaXMuY29waWVkVGltZXM7CgkJdmFyIG5ld1RoaXMgPSB0aGlzLmNsb25lKCk7CgkJdmFyIG4xID0gYnJhbmNoLmluc2VydEJlZm9yZShuZXdUaGlzKTsKCQl0aGlzLnRyZWUucmVtb3ZlQnJhbmNoKGJyYW5jaCk7CgkJaWYgKCFjb3B5KSB7CgkJCXZhciBpZFRoaXMgPSB0aGlzLmdldElkKCk7CgkJCW4xLnNldFRleHQodGhpcy5nZXRUZXh0KCkpCgkJCXRoaXMudHJlZS5yZW1vdmVCcmFuY2godGhpcyk7CgkJCW4xLmNoYW5nZUlkKGlkVGhpcyk7CgkJCW4xLmNvcGllZFRpbWVzID0gY29weVRoaXM7CgkJfQoJCXJldHVybiBuMTsKCX0sCgoJLyoqCgkgKiBN77+9dGhvZGUgcu+/vWN1cnNpdmUgcXVpIG91dnJlIGxhIGJyYW5jaGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybgl2b2lkCgkgKi8KCWV4cGVuZCA6IGZ1bmN0aW9uICgpIHsKCQlpZiAodGhpcy5pc09wZW5lZCgpICE9IHRydWUgJiYgdGhpcy5oYXNDaGlsZHJlbigpKSB7CgkJCXRoaXMub3Blbkl0KHRydWUpOwoJCX0KCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKCQkJdGhpcy5jaGlsZHJlbltpXS5leHBlbmQoKTsKCQl9Cgl9LAoJCgkvKioKCSAqIE3vv710aG9kZSBy77+9Y3Vyc2l2ZSBxdWkgZmVybWUgbGEgYnJhbmNoZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJY29sbGFwc2UgOiBmdW5jdGlvbiAoKSB7CgkJaWYgKHRoaXMuaXNPcGVuZWQoKSAhPSBmYWxzZSAmJiB0aGlzLmhhc0NoaWxkcmVuKCkpIHsKCQkJdGhpcy5vcGVuSXQoZmFsc2UpOwoJCX0KCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKCQkJdGhpcy5jaGlsZHJlbltpXS5jb2xsYXBzZSgpOwoJCX0KCX0sCgkKCS8qKgoJICogUmV0b3VybmUgdG91dGVzIGxlcyBicmFuY2hlcyBkZSBsJ2FyYnJlCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlmdW5jdGlvbgkJZmlsdGVyCQkJCQlMZSBmaWx0cmUgZGVzIGJyYW5jaGVzCgkgKiBAcGFyYW0JYXJyYXkJCQlbYnJhbmNoZXNdCQkJCU9wdGlvbm5lbCwgbGUgdGFibGVhdSBkZXMgYnJhbmNoZXMgaW5jb21wbGV0CgkgKiBAcmV0dXJuCWFycmF5CQkJCQkJCQkJVW4gdGFibGVhdSBkZXMgYnJhbmNoZXMgZGUgbCdhcmJyZQoJICovCglnZXRCcmFuY2hlcyA6IGZ1bmN0aW9uIChmaWx0ZXIsIGJyYW5jaGVzKSB7CgkJaWYgKCFicmFuY2hlcykgYnJhbmNoZXMgPSBbXTsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKCQkJaWYgKHR5cGVvZihmaWx0ZXIpID09ICdmdW5jdGlvbicpIHsKCQkJCWlmIChmaWx0ZXIodGhpcy5jaGlsZHJlbltpXSkpIHsKCQkJCQlicmFuY2hlcy5wdXNoKHRoaXMuY2hpbGRyZW5baV0pOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJYnJhbmNoZXMucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTsKCQkJfQoJCQlicmFuY2hlcyA9IHRoaXMuY2hpbGRyZW5baV0uZ2V0QnJhbmNoZXMoZmlsdGVyLCBicmFuY2hlcyk7CgkJfQoJCXJldHVybiBicmFuY2hlczsKCX0sCgoJLyoqCgkgKiBSZXRvdXJuZSBsZXMgYnJhbmNoZXMgcGFyZW50ZXMgKHF1aSBvbnQgZGVzIGVuZmFudHMpCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlhcnJheQkJCVtwYXJlbnRdCQkJCU9wdGlvbm5lbCwgbGUgdGFibGVhdSBkZXMgYnJhbmNoZXMgcGFyZW50ZXMgaW5jb21wbGV0CgkgKiBAcmV0dXJuCWFycmF5CQkJCQkJCQkJTGUgdGFibGVhdSBkZXMgYnJhbmNoZXMgcGFyZW50ZXMgY29tcGxldAoJICovCglnZXRQYXJlbnRCcmFuY2hlcyA6IGZ1bmN0aW9uIChwYXJlbnRzKSB7CgkJaWYgKCFwYXJlbnRzKSBwYXJlbnRzID0gW107CgkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CgkJCWlmICh0aGlzLmNoaWxkcmVuW2ldLmhhc0NoaWxkcmVuKCkpIHsKCQkJCXBhcmVudHMucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTsKCQkJfQoJCQlwYXJlbnRzID0gdGhpcy5jaGlsZHJlbltpXS5nZXRQYXJlbnRCcmFuY2hlcyhwYXJlbnRzKTsKCQl9CgkJcmV0dXJuIHBhcmVudHM7Cgl9LAoKCS8qKgoJICogUmV0b3VybmUgbGVzIGJyYW5jaGVzIHF1aSBuJ29udCBwYXMgZCdlbmZhbnRzCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlhcnJheQkJCVtsZWFmc10JCQkJCU9wdGlvbm5lbCwgbGUgdGFibGVhdSBkZXMgYnJhbmNoZXMgaW5jb21wbGV0CgkgKiBAcmV0dXJuCWFycmF5CQkJCQkJCQkJTGUgdGFibGVhdSBkZXMgYnJhbmNoZXMgY29tcGxldAoJICovCglnZXRMZWFmQnJhbmNoZXMgOiBmdW5jdGlvbiAobGVhZnMpIHsKCQlpZiAoIWxlYWZzKSBsZWFmcyA9IFtdOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQlpZiAoIXRoaXMuY2hpbGRyZW5baV0uaGFzQ2hpbGRyZW4oKSkgewoJCQkJbGVhZnMucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTsKCQkJfQoJCQlsZWFmcyA9IHRoaXMuY2hpbGRyZW5baV0uZ2V0TGVhZkJyYW5jaGVzKGxlYWZzKTsKCQl9CgkJcmV0dXJuIGxlYWZzOwoJfSwKCgkvKioKCSAqIFJldG91cm5lIGxlIG5vbWJyZSBkZSBicmFuY2hlIGNvbXByaXNlcyBkYW5zIGxhIGJyYW5jaGUgY291cmFudGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglpbnRlZ2VyCQkJCQkJCQkJCUxlIG5vbWJyZSBkZSBicmFuY2hlcwoJICovCgljb3VudEJyYW5jaGVzIDogZnVuY3Rpb24gKCkgewoJCXZhciBuYiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQluYiArPSB0aGlzLmNoaWxkcmVuW2ldLmNvdW50QnJhbmNoZXMoKTsKCQl9CgkJcmV0dXJuIG5iOwoJfSwKCQoJLyoqCgkgKiBN77+9dGhvZGUgcu+/vWN1cnNpdmUgcXVpIGTvv710ZXJtaW5lIHNpIGxhIGJyYW5jaGUgZXN0IG91dmVydGUgb3Ugbm9uCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlhcnJheQkJCQlvcGVuZWRCcmFuY2hlcwkJCUxlIHRhYmxlYXUgZGVzIGJyYW5jaGVzIG91dmVydGVzCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJZ2V0T3BlbmVkQnJhbmNoZXMgOiBmdW5jdGlvbiAob3BlbmVkQnJhbmNoZXMpIHsKCQlpZiAoIW9wZW5lZEJyYW5jaGVzKSBvcGVuZWRCcmFuY2hlcyA9IFtdOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQlpZiAodGhpcy5jaGlsZHJlbltpXS5pc09wZW5lZCgpICYmIHRoaXMuY2hpbGRyZW5baV0uaGFzQ2hpbGRyZW4oKSkgewoJCQkJb3BlbmVkQnJhbmNoZXMucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTsKCQkJfQoJCQlvcGVuZWRCcmFuY2hlcyA9IHRoaXMuY2hpbGRyZW5baV0uZ2V0T3BlbmVkQnJhbmNoZXMob3BlbmVkQnJhbmNoZXMpOwoJCX0KCQlyZXR1cm4gb3BlbmVkQnJhbmNoZXM7Cgl9LAoJCgkvKioKCSAqIE3vv710aG9kZSBy77+9Y3Vyc2l2ZSBxdWkgZO+/vXRlcm1pbmUgc2kgbGEgYnJhbmNoZSBlc3QgY2hlY2vvv71lCgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcGFyYW0JYXJyYXkJCQkJY2hlY2tlZEJyYW5jaGVzCQkJTGUgdGFibGVhdSBkZXMgYnJhbmNoZXMgY2hlY2vvv71lcwoJICogQHJldHVybgl2b2lkCgkgKi8KCWdldENoZWNrZWRCcmFuY2hlcyA6IGZ1bmN0aW9uIChjaGVja2VkQnJhbmNoZXMpIHsKCQlyZXR1cm4gdGhpcy5fZ2V0Q2hlY2tlZEJyYW5jaGVzKGNoZWNrZWRCcmFuY2hlcywgMSk7Cgl9LAoJCgkvKioKCSAqIE3vv710aG9kZSBy77+9Y3Vyc2l2ZSBxdWkgZO+/vXRlcm1pbmUgc2kgbGEgYnJhbmNoZSBlc3QgY2hlY2vvv71lCgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcGFyYW0JYXJyYXkJCQkJY2hlY2tlZEJyYW5jaGVzCQkJTGUgdGFibGVhdSBkZXMgYnJhbmNoZXMgY2hlY2vvv71lcwoJICogQHJldHVybgl2b2lkCgkgKi8KCWdldFVuQ2hlY2tlZEJyYW5jaGVzIDogZnVuY3Rpb24gKGNoZWNrZWRCcmFuY2hlcykgewoJCXJldHVybiB0aGlzLl9nZXRDaGVja2VkQnJhbmNoZXMoY2hlY2tlZEJyYW5jaGVzLCAwKTsKCX0sCgkKCS8qKgoJICogTe+/vXRob2RlIHLvv71jdXJzaXZlIHF1aSBk77+9dGVybWluZSBzaSBsYSBicmFuY2hlIGVzdCBjaGVja++/vWUKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlhcnJheQkJCQljaGVja2VkQnJhbmNoZXMJCQlMZSB0YWJsZWF1IGRlcyBicmFuY2hlcyBjaGVja++/vWVzCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJZ2V0UGFydENoZWNrZWRCcmFuY2hlcyA6IGZ1bmN0aW9uIChjaGVja2VkQnJhbmNoZXMpIHsKCQlyZXR1cm4gdGhpcy5fZ2V0Q2hlY2tlZEJyYW5jaGVzKGNoZWNrZWRCcmFuY2hlcywgLTEpOwoJfSwKCgkvKioKCSAqIFPvv71sZWN0aW9ubmUgbGEgYnJhbmNoZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JRXZlbnQJCQlldgkJCQkJCQlMJ++/vXbvv71uZW1lbnQgZO+/vWNsZW5jaGV1cgoJICogQHJldHVybgl2b2lkCgkgKi8KCXNlbGVjdCA6IGZ1bmN0aW9uIChldikgewoJCXZhciBjdHJsID0gKGV2KSA/IFRhZmVsVHJlZU1hbmFnZXIuY3RybE9uKGV2KSA6IGZhbHNlOwoJCXZhciBzaGlmdCA9IChldikgPyBUYWZlbFRyZWVNYW5hZ2VyLnNoaWZ0T24oZXYpIDogZmFsc2U7CgkJaWYgKGN0cmwpIHsKCQkJdGhpcy50cmVlLnNlbGVjdGVkQnJhbmNoZXMucHVzaCh0aGlzKTsKCQl9IGVsc2UgaWYgKHNoaWZ0ICYmIHRoaXMudHJlZS5zZWxlY3RlZEJyYW5jaGVzLmxlbmd0aCA+IDApIHsKCQkJdmFyIGxhc3QgPSB0aGlzLnRyZWUuc2VsZWN0ZWRCcmFuY2hlcy5sZW5ndGggLSAxOwoJCQl2YXIgc2VsID0gdGhpcy50cmVlLmdldEJyYW5jaGVzQmV0d2Vlbih0aGlzLnRyZWUuc2VsZWN0ZWRCcmFuY2hlc1tsYXN0XSwgdGhpcyk7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgc2VsLmxlbmd0aDsgaSsrKSB7CgkJCQl0aGlzLnRyZWUuc2VsZWN0ZWRCcmFuY2hlcy5wdXNoKHNlbFtpXSk7CgkJCQlFbGVtZW50LmFkZENsYXNzTmFtZShzZWxbaV0udHh0LCB0aGlzLnRyZWUuY2xhc3NTZWxlY3RlZCk7CgkJCX0KCQl9IGVsc2UgewoJCQl0aGlzLnRyZWUudW5zZWxlY3QoKTsKCQkJdGhpcy50cmVlLnNlbGVjdGVkQnJhbmNoZXMucHVzaCh0aGlzKTsKCQl9CgkJRWxlbWVudC5hZGRDbGFzc05hbWUodGhpcy50eHQsIHRoaXMudHJlZS5jbGFzc1NlbGVjdGVkKTsKCQkvLyBPbiBzZXQgbCdpY++/vW5lIHMnaWwgZG9pdCBjaGFuZ2VyCgkJaWYgKHRoaXMuaXNPcGVuZWQoKSAmJiB0aGlzLmhhc0NoaWxkcmVuKCkgJiYgdGhpcy5nZXRPcGVuSWNvblNlbGVjdGVkKCkpIHsKCQkJdGhpcy5pbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLmdldE9wZW5JY29uU2VsZWN0ZWQoKTsKCQl9IGVsc2UgaWYgKCF0aGlzLmlzT3BlbmVkKCkgJiYgdGhpcy5oYXNDaGlsZHJlbigpICYmIHRoaXMuZ2V0Q2xvc2VJY29uU2VsZWN0ZWQoKSkgewoJCQl0aGlzLmltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuZ2V0Q2xvc2VJY29uU2VsZWN0ZWQoKTsKCQl9IGVsc2UgaWYgKCF0aGlzLmhhc0NoaWxkcmVuKCkgJiYgdGhpcy5nZXRJY29uU2VsZWN0ZWQoKSkgewoJCQl0aGlzLmltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuZ2V0SWNvblNlbGVjdGVkKCk7CgkJfQoJCWlmIChldikgRXZlbnQuc3RvcChldik7Cgl9LAoKCS8qKgoJICogRO+/vXPvv71sZWN0aW9ubmUgbGEgYnJhbmNoZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCWJvb2xlYW4JCQkJCQkJCQkJCVRydWUgc2kgbGEgYnJhbmNoZSBhIHB1IO+/vXRyZSBk77+9c2VsZWN0aW9ubu+/vWUsIGZhbHNlIHNpbm9uCgkgKi8KCXVuc2VsZWN0IDogZnVuY3Rpb24gKCkgewoJCXZhciBsbiA9IHRoaXMudHJlZS5zZWxlY3RlZEJyYW5jaGVzLmxlbmd0aDsKCQlpZiAobG4gPiAwKSB7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgbG47IGkrKykgewoJCQkJaWYgKHRoaXMudHJlZS5zZWxlY3RlZEJyYW5jaGVzW2ldLmdldElkKCkgPT0gdGhpcy5nZXRJZCgpKSB7CgkJCQkJdGhpcy50cmVlLnNlbGVjdGVkQnJhbmNoZXMuc3BsaWNlKGksIDEpOwoJCQkJCUVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKHRoaXMudHh0LCB0aGlzLnRyZWUuY2xhc3NTZWxlY3RlZCk7CgkJCQkJLy8gT24gc2V0IGwnaWPvv71uZSBzJ2lsIGRvaXQgY2hhbmdlcgoJCQkJCWlmICh0aGlzLmhhc0NoaWxkcmVuKCkpIHsKCQkJCQkJdGhpcy5pbWcuc3JjID0gKHRoaXMuaXNPcGVuZWQoKSkgPyB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuc3RydWN0LmltZ29wZW4gOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuc3RydWN0LmltZ2Nsb3NlOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXRoaXMuaW1nLnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy5zdHJ1Y3QuaW1nOwoJCQkJCX0KCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCX0KCQkJfQoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9LAoJCgkvKiogCgkgKiBDYWxjdWxlIGxhIHBvc2l0aW9uIGRlIGxhIGJyYW5jaGUg77+9IGwnaW5077+9cmlldXIgZGUgbCdhcmJyZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCWFycmF5CQkJCQkJCQkJWzBdIExlZnQgcG9zLCBbMV0gVG9wIHBvcwoJICovCglnZXRXaXRoaW5PZmZzZXQgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIHJlYWxQb3MgPSBQb3NpdGlvbi5wb3NpdGlvbmVkT2Zmc2V0KHRoaXMudHh0KTsKCQl2YXIgcG9zVHJlZSA9IFBvc2l0aW9uLnBvc2l0aW9uZWRPZmZzZXQodGhpcy50cmVlLmRpdik7CgkJdmFyIHBvcyA9IFsKCQkJcmVhbFBvc1swXSAtIHBvc1RyZWVbMF0sCgkJCXJlYWxQb3NbMV0gLSBwb3NUcmVlWzFdCgkJXTsKCQlyZXR1cm4gcG9zOwoJfSwKCQoJLyoqIAoJICogQ2FsY3VsZSBsYSBwb3NpdGlvbiBkZSBsYSBicmFuY2hlIGRhbnMgbCfvv71jcmFuCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4JYXJyYXkJCQkJCQkJCQlbMF0gTGVmdCBwb3MsIFsxXSBUb3AgcG9zCgkgKi8KCWdldEFic29sdXRlT2Zmc2V0IDogZnVuY3Rpb24gKCkgewoJCXJldHVybiBQb3NpdGlvbi5wb3NpdGlvbmVkT2Zmc2V0KHRoaXMudHh0KTsKCX0sCQoJCgkvKioKCSAqIFBlcm1ldCBkZSBz77+9cmlhbGlzZXIgbGEgYnJhbmNoZSwgcG91ciBlbiBmYWlyZSB1bmUgc3RyaW5nIGF1IGZvcm1hdCBKU09OCgkgKgoJICogTGVzIGZvbmN0aW9ucyBuZSBzb250IHBhcyBlbmNvZO+/vWVzIGRhbnMgbGEgc3RyaW5nIChjb21tZSBvbm9wZW4sIG9uY2xpY2ssIGV0Yy4pLiBQYXIgY29udHJlLCBvbiBpbmRpcXVlCgkgKiB0cnVlIHNpIGxhIGZvbmN0aW9uIGV4aXN0ZSBiZWwgZXQgYmllbiBwb3VyIGxhIGJyYW5jaGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCWJvb2xlYW4JCQkJZGVidWcJCQkJCVRydWUgcG91ciBhZmZpY2hlciBsZSBkZWJ1ZyBkZSBsYSBzdHJpbmcKCSAqIEBwYXJhbQlib29sZWFuCQkJCW5vRW5jb2RpbmcJCQkJVHJ1ZSBwb3VyIG5lIHBhcyBlbmNvZGVyIGxhIHN0cmluZyBhdXRvbWF0aXF1ZW1lbnQKCSAqIEByZXR1cm4Jc3RyaW5nCQkJCQkJCQkJCUxhIHN0cmluZyBKU09OIGRlIGxhIGJyYW5jaGUKCSAqLwoJc2VyaWFsaXplIDogZnVuY3Rpb24gKGRlYnVnLCBub0VuY29kaW5nKSB7CgkJdmFyIHRhYiA9ICcnOwoJCXZhciBydCA9ICcnOwoJCWlmIChkZWJ1ZykgewoJCQlydCA9IFRhZmVsVHJlZS5kZWJ1Z1JldHVybjsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxldmVsOyBpKyspIHsKCQkJCXRhYiArPSBUYWZlbFRyZWUuZGVidWdUYWI7CgkJCX0KCQl9CgkJdmFyIHN0clNhdmUgPSAnJzsKCQl2YXIgc3RyID0gcnQgKyB0YWIgKyAneycgKyBydDsKCQkvLyBE77+9ZmluaXRpb24gZGUgdG91dGVzIGxlcyBwcm9wcmnvv71077+9cwoJCXN0ciArPSB0YWIgKyAnImlkIjoiJyArIHRoaXMuX2VuY29kZSh0aGlzLnN0cnVjdC5pZCkgKyAnIic7CgkJZm9yICh2YXIgYXR0ciBpbiB0aGlzLnN0cnVjdCkgewoJCQlpZiAoYXR0ciAhPSAnaXRlbXMnICYmIGF0dHIgIT0gJ2lkJykgewoJCQkJc3RyU2F2ZSA9ICh0eXBlb2YodGhpcy5zdHJ1Y3RbYXR0cl0pICE9ICdmdW5jdGlvbicpID8gdGhpcy5zdHJ1Y3RbYXR0cl0gOiB0cnVlOwoJCQkJaWYgKHRoaXMuaXNCb29sKHN0clNhdmUpKSB7CgkJCQkJc3RyICs9ICIsIiArIHJ0ICsgdGFiICsgJyInICsgYXR0ciArICciOicgKyB0aGlzLl9lbmNvZGUoc3RyU2F2ZSk7CgkJCQl9IGVsc2UgewoJCQkJCXN0ciArPSAiLCIgKyBydCArIHRhYiArICciJyArIGF0dHIgKyAnIjoiJyArIHRoaXMuX2VuY29kZShzdHJTYXZlKSArICciJzsKCQkJCX0KCQkJfQoJCX0KCQkvLyBE77+9ZmluaXRpb24gZGVzIGVuZmFudHMKCQlpZiAodGhpcy5oYXNDaGlsZHJlbigpKSB7CgkJCXN0ciArPSAnLCcgKyBydCArIHRhYiArICciaXRlbXMiOlsnOwoJCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKCQkJCXN0ciArPSB0aGlzLmNoaWxkcmVuW2ldLnNlcmlhbGl6ZShkZWJ1ZywgdHJ1ZSk7CgkJCQlpZiAoaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSkgewoJCQkJCXN0ciArPSAnLCc7CgkJCQl9CgkJCX0KCQkJc3RyICs9IHJ0ICsgdGFiICsgJ10nOwoJCX0KCQlzdHIgKz0gcnQgKyB0YWIgKyAnfSc7CgkJaWYgKCFub0VuY29kaW5nKSB7CgkJCXJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gc3RyOwoJCX0KCX0sCgoJaXNCb29sIDogZnVuY3Rpb24gKHN0cikgewoJCXN3aXRjaCAoc3RyKSB7CgkJCWNhc2UgJ3RydWUnOgljYXNlICdmYWxzZSc6CgkJCWNhc2UgdHJ1ZToJCWNhc2UgZmFsc2U6CgkJCWNhc2UgJzEnOgkJY2FzZSAnMCcgOgoJCQljYXNlIDE6CQkJY2FzZSAwIDoKCQkJCXJldHVybiB0cnVlOwoJCQlkZWZhdWx0IDoKCQkJCXJldHVybiBmYWxzZTsKCQl9Cgl9LAoJCglzaG93VG9vbHRpcCA6IGZ1bmN0aW9uICgpIHsKCQlpZiAodGhpcy5kaXNwbGF5VG9vbHRpcCkgewoJCQl0aGlzLnRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgkJfQoJfSwKCQoJaGlkZVRvb2x0aXAgOiBmdW5jdGlvbiAoKSB7CgkJaWYgKCF0aGlzLmRpc3BsYXlUb29sdGlwKSB7CgkJCUVsZW1lbnQuaGlkZSh0aGlzLnRvb2x0aXApOwoJCX0KCX0sCgoJLyoqCgkgKiBGb25jdGlvbiBy77+9Y3Vyc2l2ZSBxdWkgc3VwcHJpbWUgbGVzIGxpZW5zIGF2ZWMgRHJvcHBhYmxlcyBldCBEcmFnZ2FibGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCVRhZmVsVHJlZUJyYW5jaAkJCW9iagkJCQkJTGEgYnJhbmNoZSBjb3VyYW50ZQoJICogQHJldHVybgl2b2lkCgkgKi8KCXJlbW92ZURyYWdEcm9wIDogZnVuY3Rpb24gKCkgewoJCWlmICh0aGlzLm9iakRyYWcpIHsKCQkJdGhpcy5vYmpEcmFnLmRlc3Ryb3koKTsKCQl9CgkJRHJvcHBhYmxlcy5yZW1vdmUodGhpcy50eHQpOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQl0aGlzLmNoaWxkcmVuW2ldLnJlbW92ZURyYWdEcm9wKCk7CgkJfQoJfSwKCQoJCgkvKioKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKgkJCQkJCQlUYWZlbFRyZWVCYXNlQnJhbmNoIHByaXZhdGUgbWV0aG9kcwoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqLwoJCgkvKioKCSAqIEZvbmN0aW9uIHF1aSBtZXQg77+9IGpvdXIgbCfvv71s77+9bWVudCBlbiB0ZXJtZSBkZSBtdWx0aWxpbmUKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlIVE1MRWxlbWVudAkJZWxlbWVudAkJCQkJTCfvv71s77+9bWVudCBIVE1MIGluY3JpbWlu77+9CgkgKiBAcGFyYW0JaW50ZWdlcgkJCXR5cGUJCQkJCTEgb3UgMiAoc3VpdmFudCBsZSB0eXBlIGRlIGxpZ25lKQoJICogQHBhcmFtCWJvb2xlYW4JCQlhZGQJCQkJCQlUcnVlIHNpIG9uIGFqb3V0ZSBsZSBtdWx0aWxpbmUsIGZhbHNlIHNpIG9uIGwnZW5s77+9dmUKCSAqIEByZXR1cm4Jdm9pZAoJICovCglfbWFuYWdlTXVsdGlsaW5lIDogZnVuY3Rpb24gKGVsZW1lbnQsIHR5cGUsIGFkZCkgewoJCXN3aXRjaCAodHlwZSkgewoJCQljYXNlIDIgOgoJCQkJaWYgKCFhZGQpIHsKCQkJCQlFbGVtZW50LnJlbW92ZUNsYXNzTmFtZShlbGVtZW50LCB0aGlzLnRyZWUuaW1nTXVsdGk0KTsKCQkJCQllbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZSc7CgkJCQl9IGVsc2UgewoJCQkJCUVsZW1lbnQuYWRkQ2xhc3NOYW1lKGVsZW1lbnQsIHRoaXMudHJlZS5pbWdNdWx0aTQpOwoJCQkJCWVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICd1cmwoIicgKyB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdNdWx0aTIgKyAnIiknOwoJCQkJCWVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9ICdyZXBlYXQteSc7CgkJCQl9CgkJCQlicmVhazsKCQkJY2FzZSAxIDoKCQkJZGVmYXVsdCA6CgkJCQlpZiAoIWFkZCkgewoJCQkJCUVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKGVsZW1lbnQsIHRoaXMudHJlZS5pbWdNdWx0aTMpOwoJCQkJCWVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICdub25lJzsKCQkJCX0gZWxzZSB7CgkJCQkJRWxlbWVudC5hZGRDbGFzc05hbWUoZWxlbWVudCwgdGhpcy50cmVlLmltZ011bHRpMyk7CgkJCQkJZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3VybCgiJyArIHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy50cmVlLmltZ011bHRpMSArICciKSc7CgkJCQkJZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gJ3JlcGVhdC15JzsKCQkJCX0KCQl9Cgl9LAoJCglfY3JlYXRlVG9vbHRpcCA6IGZ1bmN0aW9uICgpIHsKCQl2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkJZGl2LmNsYXNzTmFtZSA9IHRoaXMudHJlZS5jbGFzc1Rvb2x0aXA7CgkJZGl2LmlubmVySFRNTCA9ICh0aGlzLnN0cnVjdC50b29sdGlwKSA/IHRoaXMuc3RydWN0LnRvb2x0aXAgOiAnJm5ic3A7JzsKCQlFdmVudC5vYnNlcnZlKGRpdiwgJ21vdXNlb3ZlcicsIHRoaXMuc2hvd1Rvb2x0aXAuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoJCXJldHVybiBkaXY7Cgl9LAoKCV9tYW5hZ2VBZnRlckluc2VydCA6IGZ1bmN0aW9uIChwb3MpIHsKCQl0aGlzLnRyZWUuX2NoYW5nZVN0cnVjdCh0aGlzKTsKCQl0aGlzLl9tYW5hZ2VMaW5lKCk7CgkJLy8gU2kgb24gYSBkZXMgY2hlY2tib3hlcywgb24gY29ycmlnZSBsZXMgaW1hZ2VzIGVuIGZvbmN0aW9uIGRlcyBjaGVja3MgcGFyIGTvv71mYXV0CgkJaWYgKHRoaXMudHJlZS5jaGVja2JveGVzICYmIHRoaXMudHJlZS5jaGVja2JveGVzVGhyZWVTdGF0ZSkgewoJCQl0aGlzLmNoaWxkcmVuW3Bvc10uX2FkanVzdFBhcmVudENoZWNrKCk7CgkJfQoJCWlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PSAxICYmICF0aGlzLnN0cnVjdC5jYW5oYXZlY2hpbGRyZW4pIHsKCQkJdGhpcy5zZXRPcGVuYWJsZUljb24odHJ1ZSk7CgkJfQoJCXRoaXMub3Blbkl0KCghdGhpcy50cmVlLm9wZW5lZEFmdGVyQWRkICYmICF0aGlzLmlzT3BlbmVkKCkpID8gZmFsc2UgOiB0cnVlKTsKCX0sCgkKCV9tb3ZlUGFydFN0cnVjdCA6IGZ1bmN0aW9uIChwb3MpIHsKCQl2YXIgbmIgPSB0aGlzLnN0cnVjdC5pdGVtcy5sZW5ndGggLSAxOwoJCXZhciBuZXdQb3MgPSAwOwoJCWZvciAodmFyIGkgPSBuYjsgaSA+PSBwb3M7IGktLSkgewoJCQluZXdQb3MgPSBpICsgMTsKCQkJdGhpcy5zdHJ1Y3QuaXRlbXNbbmV3UG9zXSA9IHRoaXMuc3RydWN0Lml0ZW1zW2ldOwoJCQl0aGlzLmNoaWxkcmVuW25ld1Bvc10gPSB0aGlzLmNoaWxkcmVuW2ldOwoJCQl0aGlzLmNoaWxkcmVuW25ld1Bvc10ucG9zID0gbmV3UG9zOwoJCX0KCX0sCgoJLyoqCgkgKiBN77+9dGhvZGUgcu+/vWN1cnNpdmUgcXVpIGTvv710ZXJtaW5lIHNpIGxhIGJyYW5jaGUgZXN0IGNoZWNr77+9ZSBvdSBub24KCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlhcnJheQkJCQljaGVja2VkQnJhbmNoZXMJCQlMZSB0YWJsZWF1IGRlcyBicmFuY2hlcyBjaGVja++/vWVzCgkgKiBAcGFyYW0JYm9vbGVhbgkJCQljaGVja2VkCQkJCQkxIHBvdXIgcu+/vWN1cO+/vXJlciBsZXMgYnJhbmNoZXMgY2hlY2vvv71lcwoJICogQHJldHVybgl2b2lkCgkgKi8KCSBfZ2V0Q2hlY2tlZEJyYW5jaGVzIDogZnVuY3Rpb24gKGNoZWNrZWRCcmFuY2hlcywgY2hlY2tlZCkgewoJCWlmICghY2hlY2tlZEJyYW5jaGVzKSBjaGVja2VkQnJhbmNoZXMgPSBbXTsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKCQkJaWYgKHRoaXMuY2hpbGRyZW5baV0uaXNDaGVja2VkKCkgPT0gY2hlY2tlZCkgewoJCQkJY2hlY2tlZEJyYW5jaGVzLnB1c2godGhpcy5jaGlsZHJlbltpXSk7CgkJCX0KCQkJY2hlY2tlZEJyYW5jaGVzID0gdGhpcy5jaGlsZHJlbltpXS5fZ2V0Q2hlY2tlZEJyYW5jaGVzKGNoZWNrZWRCcmFuY2hlcywgY2hlY2tlZCk7CgkJfQoJCXJldHVybiBjaGVja2VkQnJhbmNoZXM7CgkgfSwKCglfZ2VuZXJhdGUgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGkgPSB0aGlzLmJpZ1RyZWVMb2FkaW5nOwoJCWlmIChpIDwgdGhpcy5zdHJ1Y3QuaXRlbXMubGVuZ3RoKSB7CgkJCWlmICh0aGlzLnRyZWUuY2hlY2tib3hlc1RocmVlU3RhdGUgJiYgdGhpcy5zdHJ1Y3QuY2hlY2sgJiYgdHlwZW9mKHRoaXMuc3RydWN0Lml0ZW1zW2ldLmNoZWNrKSA9PSAndW5kZWZpbmVkJykgewoJCQkJdGhpcy5zdHJ1Y3QuaXRlbXNbaV0uY2hlY2sgPSAxOwoJCQl9CgkJCWlzTm90Rmlyc3QgPSAoaSA+IDApID8gdHJ1ZSA6IGZhbHNlOwoJCQlpc05vdExhc3QgPSAoaSA8IHRoaXMuc3RydWN0Lml0ZW1zLmxlbmd0aCAtIDEpID8gdHJ1ZSA6IGZhbHNlOwoJCQl0aGlzLmNoaWxkcmVuW2ldID0gbmV3IFRhZmVsVHJlZUJyYW5jaCgodGhpcy5pc1Jvb3QpID8gdGhpcyA6IHRoaXMucm9vdCwgdGhpcywgdGhpcy5zdHJ1Y3QuaXRlbXNbaV0sIHRoaXMubGV2ZWwgKyAxLCBpc05vdEZpcnN0LCBpc05vdExhc3QsIGkpOwoJCQl0aGlzLm9iai5hcHBlbmRDaGlsZCh0aGlzLmNoaWxkcmVuW2ldLm9iaik7CgkJCXRoaXMub3Blbkl0KCh0aGlzLnRyZWUudXNlQ29va2llKSA/ICB0aGlzLmlzT3BlbmVkSW5Db29raWUgOiB0aGlzLnN0cnVjdC5vcGVuKTsKCQkJdGhpcy50cmVlLmxvYWRSdW5uaW5nKHRoaXMuY2hpbGRyZW5baV0pOwoJCQl0aGlzLmJpZ1RyZWVMb2FkaW5nKys7CgkJCXNldFRpbWVvdXQodGhpcy5fZ2VuZXJhdGUuYmluZCh0aGlzKSwgMTApOwoJCX0gZWxzZSB7CgkJCXRoaXMubG9hZGVkID0gdHJ1ZTsKCQl9Cgl9LAoJCglfZ2V0UG9zIDogZnVuY3Rpb24gKCkgewoJCXBvcyA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQlpZiAodGhpcy5jaGlsZHJlbltpXS5pc0Fsd2F5c0xhc3QoKSkgewoJCQkJcG9zLS07CgkJCX0KCQl9CgkJaWYgKHBvcyA8IDAgKSBwb3MgPSAwOwoJCXJldHVybiBwb3M7Cgl9LAoJCgkvKioKCSAqIEZvbmN0aW9uIHF1aSBhanVzdGUgbGUgY2hlY2sgZGVzIHBhcmVudCBkZSBsYSBicmFuY2hlLCBzdWl0ZSDvv70gdW4gY2hhbmdlbWVudAoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHBhcmFtCWJvb2xlYW4JCQlmcm9tQnJhbmNoCQkJCVRydWUgcG91ciBjb21tZW5jZXIgbCdhanVzdGVtZW50IGRlcHVpcyBsYSBicmFuY2hlIG3vv71tZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV9hZGp1c3RQYXJlbnRDaGVjayA6IGZ1bmN0aW9uIChmcm9tQnJhbmNoKSB7CgkJaWYgKHRoaXMucGFyZW50KSB7CgkJCXZhciBicmFuY2ggPSAoIWZyb21CcmFuY2gpID8gdGhpcy5wYXJlbnQgOiB0aGlzOwoJCQl3aGlsZSAoYnJhbmNoICYmIGJyYW5jaC5jaGVja2JveCkgewoJCQkgICAgJChicmFuY2gudHJlZS5jaGVja2JveElEUHJlZml4KyBicmFuY2guc3RydWN0LmlkKS52YWx1ZSA9IChicmFuY2guaGFzQWxsQ2hpbGRyZW5DaGVja2VkKCkgPT0gMCkgPyAwIDogMTsgIC8vIGthcm9saXMgZWRpdAoJCQkKCQkJCWJyYW5jaC5jaGVjayhicmFuY2guaGFzQWxsQ2hpbGRyZW5DaGVja2VkKCkpOwoJCQkJYnJhbmNoID0gYnJhbmNoLnBhcmVudDsKCQkJfQoJCX0KCX0sCgkKCS8qKgoJICogRm9uY3Rpb24gcu+/vWN1cnNpdmUgcXVpIHZhIGNoYW5nZXIgbGUgc3RhdHVzIGRlcyBjaGVja2JveGVzIGVuZmFudHMKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlUYWZlbFRyZWVCcmFuY2gJCWJyYW5jaAkJCQkJTGEgYnJhbmNoZSBjb3VyYW50ZQoJICogQHBhcmFtCWJvb2xlYW4JCQkJY2hlY2tlZAkJCQkJVHJ1ZSBvdSBmYWxzZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV9tYW5hZ2VDaGVja1RocmVlU3RhdGUgOiBmdW5jdGlvbiAoYnJhbmNoLCBjaGVja2VkKSB7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCBicmFuY2guY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKCQkJaWYgKGJyYW5jaC50cmVlLmNoZWNrYm94ZXMgJiYgYnJhbmNoLmNoaWxkcmVuW2ldLmNoZWNrYm94KSB7CgkJCSAgICAkKGJyYW5jaC50cmVlLmNoZWNrYm94SURQcmVmaXgrIGJyYW5jaC5jaGlsZHJlbltpXS5zdHJ1Y3QuaWQpLnZhbHVlID0gY2hlY2tlZDsgIC8vIGthcm9saXMgZWRpdAoJCQkKCQkJCWJyYW5jaC5jaGlsZHJlbltpXS5jaGVjayhjaGVja2VkKTsKCQkJCWJyYW5jaC5fbWFuYWdlQ2hlY2tUaHJlZVN0YXRlKGJyYW5jaC5jaGlsZHJlbltpXSwgY2hlY2tlZCk7CgkJCX0KCQl9Cgl9LAoJCglfZ2V0SW1nSW5mbyA6IGZ1bmN0aW9uIChpbWcpIHsKCQl2YXIgdXJsID0gaW1nLnNyYy5zcGxpdCgnLycpOwoJCXZhciBuYW1lID0gdXJsW3VybC5sZW5ndGgtMV0uc3BsaXQoJy4nKTsKCQl2YXIgb2JqID0gewoJCQknaW1nJzogaW1nLAoJCQknbnVtYmVyJzogbmFtZVswXS5jaGFyQXQobmFtZVswXS5sZW5ndGgtMSksCgkJCSd0eXBlJzogbmFtZVswXS5zdWJzdHIoMCwgbmFtZVswXS5sZW5ndGgtMSksCgkJCSduYW1lJzogbmFtZVswXSwKCQkJJ2Z1bGxOYW1lJzogdXJsW3VybC5sZW5ndGgtMV0KCQl9OwoJCXJldHVybiBvYmo7Cgl9LAoJCgkvKioKCSAqIFBlcm1ldCBkJ2VuY29kZXIgbGEgc3RyaW5nIGF2YW50IGwnZW52b2kgZW4gSlNPTgoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHBhcmFtCXN0cmluZwkJCQlzdHIJCQkJCQlMYSBzdHJpbmcgY29ycmVzcG9uZGFudCDvv70gbGEgcHJvcHJp77+9dO+/vSAodGhpcy5zdHJ1Y3QuKikKCSAqIEByZXR1cm4Jc3RyaW5nCQkJCQkJCQkJCUxhIHZhbGV1ciBkZSBsYSBwcm9wcmnvv71077+9IGVuY29k77+9ZQoJICovCglfZW5jb2RlIDogZnVuY3Rpb24gKHN0cikgewoJCS8vdmFyIG9iaiA9IGV2YWwoc3RyKTsKCQl2YXIgb2JqID0gKHN0ciA9PT0gbnVsbCkgPyAnJyA6IHN0cjsKCQlyZXR1cm4gb2JqLnRvU3RyaW5nKCkucmVwbGFjZSgvXCIvZywgJ1xcIicpOwoJfSwKCQoJX2Nsb3NlQ2hpbGQgOiBmdW5jdGlvbiAoaW1nKSB7CgkJdHJ5IHsKCQkJaW1nID0gdGhpcy5nZXRJbWdCZWZvcmVJY29uKCkuaW1nOwoJCQl0aGlzLnN0cnVjdC5vcGVuID0gZmFsc2U7CgkJCWlmICh0aGlzLmlzU2VsZWN0ZWQoKSAmJiB0aGlzLmdldENsb3NlSWNvblNlbGVjdGVkKCkpIHsKCQkJCXRoaXMuaW1nLnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy5nZXRDbG9zZUljb25TZWxlY3RlZCgpOwoJCQl9IGVsc2UgewoJCQkJdGhpcy5pbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnN0cnVjdC5pbWdjbG9zZTsKCQkJfQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JqLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHsKCQkJCWlmICh0aGlzLm9iai5jaGlsZE5vZGVzW2ldLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2RpdicpIHsKCQkJCQlFbGVtZW50LmhpZGUodGhpcy5vYmouY2hpbGROb2Rlc1tpXSk7CgkJCQl9CgkJCX0KCQkJaWYgKCF0aGlzLmlzUm9vdCkgewoJCQkJaW1nLnNyYyA9ICh0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpID8gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nUGx1czMgOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdQbHVzMjsKCQkJfSBlbHNlIHsKCQkJCWlmICh0aGlzLmhhc1NpYmxpbmdzQmVmb3JlKSB7CgkJCQkJaW1nLnNyYyA9ICh0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpID8gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nUGx1czMgOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdQbHVzMjsKCQkJCX0gZWxzZSB7CgkJCQkJaW1nLnNyYyA9ICh0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpID8gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nUGx1czQgOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdQbHVzNTsKCQkJCX0KCQkJfQoJCX0gY2F0Y2ggKGVycikgewoJCQl0aHJvdyBuZXcgRXJyb3IgKCdfY2xvc2VDaGlsZChiYXNlKSA6ICcgKyBlcnIubWVzc2FnZSk7CgkJfQoJfSwKCQoJX29wZW5DaGlsZCA6IGZ1bmN0aW9uIChpbWcpIHsKCQl0cnkgewoJCQlpbWcgPSB0aGlzLmdldEltZ0JlZm9yZUljb24oKS5pbWc7CgkJCXRoaXMuc3RydWN0Lm9wZW4gPSB0cnVlOwoJCQlpZiAodGhpcy5pc1NlbGVjdGVkKCkgJiYgdGhpcy5nZXRPcGVuSWNvblNlbGVjdGVkKCkpIHsKCQkJCXRoaXMuaW1nLnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy5nZXRPcGVuSWNvblNlbGVjdGVkKCk7CgkJCX0gZWxzZSB7CgkJCQl0aGlzLmltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuc3RydWN0LmltZ29wZW47CgkJCX0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9iai5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CgkJCQlpZiAodGhpcy5vYmouY2hpbGROb2Rlc1tpXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09ICdkaXYnKSB7CgkJCQkJdGhpcy5vYmouY2hpbGROb2Rlc1tpXS5zdHlsZS5kaXNwbGF5ID0gJyc7CgkJCQl9CgkJCX0KCQkJaWYgKCF0aGlzLmlzUm9vdCkgewoJCQkJaW1nLnNyYyA9ICh0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpID8gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nTWludXMzIDogdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nTWludXMyOwoJCQl9IGVsc2UgewoJCQkJaWYgKHRoaXMuaGFzU2libGluZ3NCZWZvcmUpIHsKCQkJCQlpbWcuc3JjID0gKHRoaXMuaGFzU2libGluZ3NBZnRlcikgPyB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdNaW51czMgOiB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdNaW51czI7CgkJCQl9IGVsc2UgewoJCQkJCWltZy5zcmMgPSAodGhpcy5oYXNTaWJsaW5nc0FmdGVyKSA/IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy50cmVlLmltZ01pbnVzNCA6IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy50cmVlLmltZ01pbnVzNTsKCQkJCX0KCQkJfQoJCX0gY2F0Y2ggKGVycikgewoJCQl0aHJvdyBuZXcgRXJyb3IgKCdfb3BlbkNoaWxkKGJhc2UpIDogJyArIGVyci5tZXNzYWdlKTsKCQl9Cgl9LAoJCgkvKioKCSAqIEZvbmN0aW9uIHF1aSBn77+9cmUgbGVzIGxpZ25lcyB2ZXJ0aWNhbGVzIGFwcu+/vXMgdW4gZHJhZyBhbmQgZHJvcAoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV9tYW5hZ2VMaW5lIDogZnVuY3Rpb24gKCkgewoJCXRyeSB7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQkJdGhpcy5jaGlsZHJlbltpXS5wb3MgPSBpOwoJCQkJLy8gU2kgb24gZXN0IGF1IGRlcm5pZXIgZW5mYW50IGV0IHF1ZSBjZWx1aS1jaSBuJ++/vXRhaXQgcGFzIGxlIGRlcm5pZXIgYXZhbnQgbGUgcmVtb3ZlCgkJCQlpZiAoaSA9PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEgJiYgdGhpcy5jaGlsZHJlbltpXS5oYXNTaWJsaW5nc0FmdGVyKSB7CgkJCQkJdGhpcy5jaGlsZHJlbltpXS5oYXNTaWJsaW5nc0FmdGVyID0gZmFsc2U7CgkJCQkJdGhpcy5fbWFuYWdlTXVsdGlsaW5lKHRoaXMuY2hpbGRyZW5baV0uYmVmb3JlSWNvbiwgMSwgZmFsc2UpOwoJCQkJCXRoaXMuX2NsZWFyTGluZSh0aGlzLmNoaWxkcmVuW2ldLCB0aGlzLmxldmVsKTsKCQkJCX0KCQkJCS8vIFNpIG9uIG4nZXN0IHBhcyBhdSBkZXJuaWVyIGVuZmFudCBldCBxdWUgY2VsdWktY2kg77+9dGFpdCBsZSBkZXJuaWVyIGF2YW50IGxlIHJlbW92ZQoJCQkJaWYgKGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEgJiYgIXRoaXMuY2hpbGRyZW5baV0uaGFzU2libGluZ3NBZnRlcikgewoJCQkJCXRoaXMuY2hpbGRyZW5baV0uaGFzU2libGluZ3NBZnRlciA9IHRydWU7CgkJCQkJdGhpcy5fbWFuYWdlTXVsdGlsaW5lKHRoaXMuY2hpbGRyZW5baV0uYmVmb3JlSWNvbiwgMSwgdHJ1ZSk7CgkJCQkJdGhpcy5fYWRkTGluZSh0aGlzLmNoaWxkcmVuW2ldLCB0aGlzLmxldmVsKTsKCQkJCX0KCQkJfQoJCQl0aGlzLnRyZWUuX2NoYW5nZVN0cnVjdCh0aGlzKTsKCQl9IGNhdGNoIChlcnIpIHsKCQkJdGhyb3cgbmV3IEVycm9yICgnX21hbmFnZUxpbmUoYmFzZSkgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCX0JCQkKCX0sCgkKCV9tYW5hZ2VMaW5lRm9yUm9vdCA6IGZ1bmN0aW9uIChhZGQpIHsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKCQkJdGhpcy5jaGlsZHJlbltpXS5fbWFuYWdlTGluZUZvclJvb3QoYWRkKTsKCQl9CgkJdmFyIHRkID0gdGhpcy50YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKVswXTsKCQl2YXIgaW1nID0gdGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpWzBdOwoJCWlmIChhZGQpIHsKCQkJaW1nLnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy50cmVlLmltZ0xpbmUxOwoJCX0gZWxzZSB7CgkJCWltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdFbXB0eTsKCQl9Cgl9LAoJCgkvKioKCSAqIEZvbmN0aW9uIHF1aSBzdXBwcmltZSBkZXMgbGlnbmVzIGF1IGJvbiBlbmRyb2l0KgoJICoKCSAqIEBwYXJhbQlUYWZlbFRyZWVCcmFuY2gJCW9iagkJCQkJCUxhIGJyYW5jaGUgY291cmFudGUKCSAqIEBwYXJhbQlpbnRlZ2VyCQkJCWxldmVsCQkJCQlMZSBuaXZlYXUgb++/vSBzdXBwcmltZXIgZGVzIGxpZ25lcwoJICogQHBhcmFtCWJvb2xlYW4JCQkJb2sJCQkJCQlGYWxzZSBwb3VyIGxlIDFlciBuaXZlYXUgZGUgYnJhbmNoZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV9jbGVhckxpbmUgOiBmdW5jdGlvbiAob2JqLCBsZXZlbCwgb2spIHsKCQl0cnkgewoJCQlmb3IgKHZhciBpID0gMDsgaSA8IG9iai5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQkJdGhpcy5fY2xlYXJMaW5lKG9iai5jaGlsZHJlbltpXSwgbGV2ZWwsIHRydWUpOwoJCQl9CgkJCS8vIE9uIHLvv71jdXDvv71yZSBsYSBib25uZSBURCBldCBsYSBib25uZSBpbWFnZQoJCQl2YXIgaW1nID0gb2JqLnRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKVtsZXZlbCsxXTsKCQkJaWYgKG9rKSB7CgkJCQlpbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nRW1wdHk7CgkJCQlpZiAodGhpcy50cmVlLm11bHRpbGluZSkgewoJCQkJCXRoaXMuX21hbmFnZU11bHRpbGluZShpbWcucGFyZW50Tm9kZSwgMSwgZmFsc2UpOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJdmFyIG9sZCA9IG9iai5nZXRJbWdCZWZvcmVJY29uKCk7CgkJCQlzd2l0Y2ggKG9sZC5mdWxsTmFtZS5yZXBsYWNlKCdfb3ZlcicsICcnKSkgewoJCQkJCWNhc2UgdGhpcy50cmVlLmltZ0xpbmUxIDoKCQkJCQljYXNlIHRoaXMudHJlZS5pbWdMaW5lMyA6IG5ld0ltZyA9IHRoaXMudHJlZS5pbWdMaW5lMjsgYnJlYWs7CgkJCQkJY2FzZSB0aGlzLnRyZWUuaW1nUGx1czEgOgoJCQkJCWNhc2UgdGhpcy50cmVlLmltZ1BsdXMzIDogbmV3SW1nID0gdGhpcy50cmVlLmltZ1BsdXMyOyBicmVhazsKCQkJCQljYXNlIHRoaXMudHJlZS5pbWdNaW51czE6CgkJCQkJY2FzZSB0aGlzLnRyZWUuaW1nTWludXMzOiBuZXdJbWcgPSB0aGlzLnRyZWUuaW1nTWludXMyOyBicmVhazsKCQkJCQlkZWZhdWx0OgoJCQkJCQluZXdJbWcgPSBvYmouZnVsbE5hbWU7CgkJCQl9CgkJCQlpbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyBuZXdJbWc7CgkJCX0KCQl9IGNhdGNoIChlcnIpIHsKCQkJdGhyb3cgbmV3IEVycm9yICgnX2NsZWFyTGluZShiYXNlKSA6ICcgKyBlcnIubWVzc2FnZSk7CgkJfQkJCQoJfSwKCQoJLyoqCgkgKiBGb25jdGlvbiBxdWkgYWpvdXRlIGRlcyBsaWduZXMgYXUgYm9uIGVuZHJvaXQqCgkgKgoJICogQHBhcmFtCVRhZmVsVHJlZUJyYW5jaAkJb2JqCQkJCQkJTGEgYnJhbmNoZSBjb3VyYW50ZQoJICogQHBhcmFtCWludGVnZXIJCQkJbGV2ZWwJCQkJCUxlIG5pdmVhdSBv77+9IGFqb3V0ZXIgZGVzIGxpZ25lcwoJICogQHBhcmFtCWJvb2xlYW4JCQkJb2sJCQkJCQlGYWxzZSBwb3VyIGxlIDFlciBuaXZlYXUgZGUgYnJhbmNoZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV9hZGRMaW5lIDogZnVuY3Rpb24gKG9iaiwgbGV2ZWwsIG9rKSB7CgkJdHJ5IHsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKCQkJCXRoaXMuX2FkZExpbmUob2JqLmNoaWxkcmVuW2ldLCBsZXZlbCwgdHJ1ZSk7CgkJCX0KCQkJLy8gT24gcu+/vWN1cO+/vXJlIGxhIGJvbm5lIFREIGV0IGxhIGJvbm5lIGltYWdlCgkJCXZhciBpbWcgPSBvYmoudGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpW2xldmVsKzFdOwoJCQlpZiAob2spIHsKCQkJCWltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdMaW5lMTsKCQkJCWlmICh0aGlzLnRyZWUubXVsdGlsaW5lKSB7CgkJCQkJdGhpcy5fbWFuYWdlTXVsdGlsaW5lKGltZy5wYXJlbnROb2RlLCAxLCB0cnVlKTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCXZhciBvbGQgPSBvYmouZ2V0SW1nQmVmb3JlSWNvbigpOwoJCQkJc3dpdGNoIChvbGQuZnVsbE5hbWUucmVwbGFjZSgnX292ZXInLCAnJykpIHsKCQkJCQljYXNlIHRoaXMudHJlZS5pbWdMaW5lMSA6CgkJCQkJY2FzZSB0aGlzLnRyZWUuaW1nTGluZTIgOiBuZXdJbWcgPSB0aGlzLnRyZWUuaW1nTGluZTM7IGJyZWFrOwoJCQkJCWNhc2UgdGhpcy50cmVlLmltZ1BsdXMxIDoKCQkJCQljYXNlIHRoaXMudHJlZS5pbWdQbHVzMiA6IG5ld0ltZyA9IHRoaXMudHJlZS5pbWdQbHVzMzsgYnJlYWs7CgkJCQkJY2FzZSB0aGlzLnRyZWUuaW1nTWludXMxOgoJCQkJCWNhc2UgdGhpcy50cmVlLmltZ01pbnVzMjogbmV3SW1nID0gdGhpcy50cmVlLmltZ01pbnVzMzsgYnJlYWs7CgkJCQkJZGVmYXVsdDoKCQkJCQkJbmV3SW1nID0gb2JqLmZ1bGxOYW1lOwoJCQkJfQoJCQkJaW1nLnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgbmV3SW1nOwoJCQl9CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXRocm93IG5ldyBFcnJvciAoJ19hZGRMaW5lKGJhc2UpIDogJyArIGVyci5tZXNzYWdlKTsKCQl9CQkJCgl9LAoJCglfaXNDaGlsZCA6IGZ1bmN0aW9uIChjaGlsZCwgcGFyZW50KSB7CgkJdHJ5IHsKCQkJaWYgKHBhcmVudC5pZE9iaiA9PSBjaGlsZC5pZE9iaikgcmV0dXJuIHRydWU7CgkJCWlmIChjaGlsZC5wYXJlbnQpIHsKCQkJCXJldHVybiB0aGlzLl9pc0NoaWxkKGNoaWxkLnBhcmVudCwgcGFyZW50KTsKCQkJfQoJCQlyZXR1cm4gZmFsc2U7CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXRocm93IG5ldyBFcnJvciAoJ19pc0NoaWxkKGJhc2UpIDogJyArIGVyci5tZXNzYWdlKTsKCQl9CQoJfSwKCgkvKioKCSAqIFNldCBsZXMgcHJvcHJp77+9dO+/vXMgdXRpbGlzYXRldXIgZGUgbGEgYnJhbmNoZSwgb3UgY2VsbGVzIHBhciBk77+9ZmF1dAoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV9zZXRQcm9wZXJ0aWVzIDogZnVuY3Rpb24gKCkgewoJCS8vIEltYWdlcwoJCWlmICgodHlwZW9mKHRoaXMuc3RydWN0LmltZykgPT0gJ3VuZGVmaW5lZCcpKSB7CgkJCXRoaXMuc3RydWN0LmltZyA9ICh0aGlzLnRyZWUuaWNvbnNbMF0pID8gdGhpcy50cmVlLmljb25zWzBdIDogdGhpcy50cmVlLmltZ0xpbmUwOwoJCX0KCQlpZiAoKHR5cGVvZih0aGlzLnN0cnVjdC5pbWdvcGVuKSA9PSAndW5kZWZpbmVkJykpIHsKCQkJdGhpcy5zdHJ1Y3QuaW1nb3BlbiA9ICh0aGlzLnRyZWUuaWNvbnNbMV0pID8gdGhpcy50cmVlLmljb25zWzFdIDogdGhpcy5zdHJ1Y3QuaW1nOwoJCX0KCQlpZiAoKHR5cGVvZih0aGlzLnN0cnVjdC5pbWdjbG9zZSkgPT0gJ3VuZGVmaW5lZCcpKSB7CgkJCXRoaXMuc3RydWN0LmltZ2Nsb3NlID0gKHRoaXMudHJlZS5pY29uc1syXSkgPyB0aGlzLnRyZWUuaWNvbnNbMl0gOiB0aGlzLnN0cnVjdC5pbWc7CgkJfQoJCWlmICgodHlwZW9mKHRoaXMuc3RydWN0LmltZ3NlbGVjdGVkKSA9PSAndW5kZWZpbmVkJykpIHsKCQkJdGhpcy5zdHJ1Y3QuaW1nc2VsZWN0ZWQgPSAodGhpcy50cmVlLmljb25zU2VsZWN0ZWRbMF0pID8gdGhpcy50cmVlLmljb25zU2VsZWN0ZWRbMF0gOiBudWxsOwoJCX0KCQlpZiAoKHR5cGVvZih0aGlzLnN0cnVjdC5pbWdvcGVuc2VsZWN0ZWQpID09ICd1bmRlZmluZWQnKSkgewoJCQl0aGlzLnN0cnVjdC5pbWdvcGVuc2VsZWN0ZWQgPSAodGhpcy50cmVlLmljb25zU2VsZWN0ZWRbMV0pID8gdGhpcy50cmVlLmljb25zU2VsZWN0ZWRbMV0gOiBudWxsOwoJCX0KCQlpZiAoKHR5cGVvZih0aGlzLnN0cnVjdC5pbWdjbG9zZXNlbGVjdGVkKSA9PSAndW5kZWZpbmVkJykpIHsKCQkJdGhpcy5zdHJ1Y3QuaW1nY2xvc2VzZWxlY3RlZCA9ICh0aGlzLnRyZWUuaWNvbnNTZWxlY3RlZFsyXSkgPyB0aGlzLnRyZWUuaWNvbnNTZWxlY3RlZFsyXSA6IG51bGw7CgkJfQoJCS8vIEZvbmN0aW9ucwoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub3BlbikgPT0gJ3VuZGVmaW5lZCcpIHsKCQkJdGhpcy5zdHJ1Y3Qub3BlbiA9ICh0aGlzLnRyZWUudXNlQ29va2llICYmIHRoaXMudHJlZS5jb29raWVPcGVuZWQpID8gZmFsc2UgOiB0aGlzLnRyZWUub3BlbkFsbDsKCQl9IGVsc2UgaWYgKHRoaXMudHJlZS51c2VDb29raWUgJiYgdGhpcy50cmVlLmNvb2tpZU9wZW5lZCkgewoJCQl0aGlzLnN0cnVjdC5vcGVuID0gZmFsc2U7CgkJfQoJCQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3QuY2hlY2spID09ICd1bmRlZmluZWQnIHx8ICh0aGlzLnRyZWUudXNlQ29va2llICYmIHRoaXMudHJlZS5jb29raWVDaGVja2VkKSkgdGhpcy5zdHJ1Y3QuY2hlY2sgPSAwOwoKCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lml0ZW1zKSA9PSAndW5kZWZpbmVkJykgewoJCQl0aGlzLnN0cnVjdC5pdGVtcyA9IFtdOwoJCX0KCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0LmNhbmhhdmVjaGlsZHJlbikgPT0gJ3VuZGVmaW5lZCcpIHRoaXMuc3RydWN0LmNhbmhhdmVjaGlsZHJlbiA9IGZhbHNlOwoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3QuaWQpID09ICd1bmRlZmluZWQnKSB0aGlzLnN0cnVjdC5pZCA9IHRoaXMuaWRPYmo7CgkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5hY2NlcHRkcm9wKSA9PSAndW5kZWZpbmVkJykgdGhpcy5zdHJ1Y3QuYWNjZXB0ZHJvcCA9IHRydWU7CgkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5sYXN0KSA9PSAndW5kZWZpbmVkJykgdGhpcy5zdHJ1Y3QubGFzdCA9IGZhbHNlOwoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3QuZWRpdGFibGUpID09ICd1bmRlZmluZWQnKSB0aGlzLnN0cnVjdC5lZGl0YWJsZSA9IHRoaXMudHJlZS5lZGl0YWJsZUJyYW5jaGVzOwoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3QuY2hlY2tib3gpID09ICd1bmRlZmluZWQnKSB0aGlzLnN0cnVjdC5jaGVja2JveCA9IHRydWU7Cgl9LAoKCS8qKgoJICogU2V0IGxlcyBmb25jdGlvbnMgdXRpbGlzYXRldXIgZXQgbGVzIGZvbmN0aW9ucyBwYXIgZO+/vWZhdXQsIHMnaWwgeSBlbiBhCgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJX3NldEZ1bmN0aW9ucyA6IGZ1bmN0aW9uICgpIHsKCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9uZHJhZ3N0YXJ0ZWZmZWN0KSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodHlwZW9mKHRoaXMudHJlZS5vbkRyYWdTdGFydEVmZmVjdCkgPT0gJ2Z1bmN0aW9uJykgewoJCQkJdGhpcy5zdHJ1Y3Qub25kcmFnc3RhcnRlZmZlY3QgPSB0aGlzLnRyZWUub25EcmFnU3RhcnRFZmZlY3Q7CgkJCQl0aGlzLm9uZHJhZ3N0YXJ0ZWZmZWN0RGVmYXVsdCA9IHRydWU7CgkJCX0KCQl9IGVsc2Uge3RoaXMuc3RydWN0Lm9uZHJhZ3N0YXJ0ZWZmZWN0ID0gZXZhbCh0aGlzLnN0cnVjdC5vbmRyYWdzdGFydGVmZmVjdCk7fQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25kcmFnZW5kZWZmZWN0KSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodHlwZW9mKHRoaXMudHJlZS5vbkRyYWdFbmRFZmZlY3QpID09ICdmdW5jdGlvbicpIHsKCQkJCXRoaXMuc3RydWN0Lm9uZHJhZ2VuZGVmZmVjdCA9IHRoaXMudHJlZS5vbkRyYWdFbmRFZmZlY3Q7CgkJCQl0aGlzLm9uZHJhZ2VuZGVmZmVjdERlZmF1bHQgPSB0cnVlOwoJCQl9CgkJfSBlbHNlIHt0aGlzLnN0cnVjdC5vbmRyYWdlbmRlZmZlY3QgPSBldmFsKHRoaXMuc3RydWN0Lm9uZHJhZ2VuZGVmZmVjdCk7fQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25lcnJvcmFqYXgpID09ICd1bmRlZmluZWQnKSB7CgkJCWlmICh0eXBlb2YodGhpcy50cmVlLm9uRXJyb3JBamF4KSA9PSAnZnVuY3Rpb24nKSB7CgkJCQl0aGlzLnN0cnVjdC5vbmVycm9yYWpheCA9IHRoaXMudHJlZS5vbkVycm9yQWpheDsKCQkJCXRoaXMub25lcnJvcmFqYXhEZWZhdWx0ID0gdHJ1ZTsKCQkJfQoJCX0gZWxzZSB7dGhpcy5zdHJ1Y3Qub25lcnJvcmFqYXggPSBldmFsKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KTt9CgkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5vbmVkaXRhamF4KSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodGhpcy50cmVlLm9uRWRpdEFqYXggJiYgdHlwZW9mKHRoaXMudHJlZS5vbkVkaXRBamF4LmZ1bmMpID09ICdmdW5jdGlvbicpIHsKCQkJCXRoaXMuc3RydWN0Lm9uZWRpdGFqYXggPSB0aGlzLnRyZWUub25FZGl0QWpheC5mdW5jOwoJCQkJdGhpcy5zdHJ1Y3QuZWRpdGxpbmsgPSB0aGlzLnRyZWUub25FZGl0QWpheC5saW5rOwoJCQkJdGhpcy5vbmVkaXRhamF4RGVmYXVsdCA9IHRydWU7CgkJCX0KCQl9IGVsc2Uge3RoaXMuc3RydWN0Lm9uZWRpdGFqYXggPSBldmFsKHRoaXMuc3RydWN0Lm9uZWRpdGFqYXgpO30KCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9ub3BlbnBvcHVsYXRlKSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodGhpcy50cmVlLm9uT3BlblBvcHVsYXRlICYmIHR5cGVvZih0aGlzLnRyZWUub25PcGVuUG9wdWxhdGUuZnVuYykgPT0gJ2Z1bmN0aW9uJykgewoJCQkJdGhpcy5zdHJ1Y3Qub25vcGVucG9wdWxhdGUgPSB0aGlzLnRyZWUub25PcGVuUG9wdWxhdGUuZnVuYzsKCQkJCXRoaXMuc3RydWN0Lm9wZW5saW5rID0gdGhpcy50cmVlLm9uT3BlblBvcHVsYXRlLmxpbms7CgkJCQl0aGlzLm9ub3BlbnBvcHVsYXRlRGVmYXVsdCA9IHRydWU7CgkJCX0KCQl9IGVsc2Uge3RoaXMuc3RydWN0Lm9ub3BlbnBvcHVsYXRlID0gZXZhbCh0aGlzLnN0cnVjdC5vbm9wZW5wb3B1bGF0ZSk7fQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25lZGl0KSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodHlwZW9mKHRoaXMudHJlZS5vbkVkaXQpID09ICdmdW5jdGlvbicpIHsKCQkJCXRoaXMuc3RydWN0Lm9uZWRpdCA9IHRoaXMudHJlZS5vbkVkaXQ7CgkJCQl0aGlzLm9uZWRpdERlZmF1bHQgPSB0cnVlOwoJCQl9CgkJfSBlbHNlIHt0aGlzLnN0cnVjdC5vbmVkaXQgPSBldmFsKHRoaXMuc3RydWN0Lm9uZWRpdCk7fQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25jaGVjaykgPT0gJ3VuZGVmaW5lZCcpIHsKCQkJaWYgKHR5cGVvZih0aGlzLnRyZWUub25DaGVjaykgPT0gJ2Z1bmN0aW9uJykgewoJCQkJdGhpcy5zdHJ1Y3Qub25jaGVjayA9IHRoaXMudHJlZS5vbkNoZWNrOwoJCQkJdGhpcy5vbmNoZWNrRGVmYXVsdCA9IHRydWU7CgkJCX0KCQl9IGVsc2Uge3RoaXMuc3RydWN0Lm9uY2hlY2sgPSBldmFsKHRoaXMuc3RydWN0Lm9uY2hlY2spO30KCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9ucmFkaW8pID09ICd1bmRlZmluZWQnKSB7CgkJCWlmICh0eXBlb2YodGhpcy50cmVlLm9uUmFkaW8pID09ICdmdW5jdGlvbicpIHsKCQkJCXRoaXMuc3RydWN0Lm9ucmFkaW8gPSB0aGlzLnRyZWUub25SYWRpbzsKCQkJCXRoaXMub25yYWRpb0RlZmF1bHQgPSB0cnVlOwoJCQl9CgkJfSBlbHNlIHt0aGlzLnN0cnVjdC5vbmNoZWNrID0gZXZhbCh0aGlzLnN0cnVjdC5vbmNoZWNrKTt9CgkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5vbmJlZm9yZWNoZWNrKSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodHlwZW9mKHRoaXMudHJlZS5vbkJlZm9yZUNoZWNrKSA9PSAnZnVuY3Rpb24nKSB7CgkJCQl0aGlzLnN0cnVjdC5vbmJlZm9yZWNoZWNrID0gdGhpcy50cmVlLm9uQmVmb3JlQ2hlY2s7CgkJCQl0aGlzLm9uYmVmb3JlY2hlY2tEZWZhdWx0ID0gdHJ1ZTsKCQkJfQoJCX0gZWxzZSB7dGhpcy5zdHJ1Y3Qub25iZWZvcmVjaGVjayA9IGV2YWwodGhpcy5zdHJ1Y3Qub25iZWZvcmVjaGVjayk7fQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25vcGVuKSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodHlwZW9mKHRoaXMudHJlZS5vbk9wZW4pID09ICdmdW5jdGlvbicpIHsKCQkJCXRoaXMuc3RydWN0Lm9ub3BlbiA9IHRoaXMudHJlZS5vbk9wZW47CgkJCQl0aGlzLm9ub3BlbkRlZmF1bHQgPSB0cnVlOwoJCQl9CgkJfSBlbHNlIHt0aGlzLnN0cnVjdC5vbm9wZW4gPSBldmFsKHRoaXMuc3RydWN0Lm9ub3Blbik7fQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25iZWZvcmVvcGVuKSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodHlwZW9mKHRoaXMudHJlZS5vbkJlZm9yZU9wZW4pID09ICdmdW5jdGlvbicpIHsKCQkJCXRoaXMuc3RydWN0Lm9uYmVmb3Jlb3BlbiA9IHRoaXMudHJlZS5vbkJlZm9yZU9wZW47CgkJCQl0aGlzLm9uYmVmb3Jlb3BlbkRlZmF1bHQgPSB0cnVlOwoJCQl9CgkJfSBlbHNlIHt0aGlzLnN0cnVjdC5vbmJlZm9yZW9wZW4gPSBldmFsKHRoaXMuc3RydWN0Lm9uYmVmb3Jlb3Blbik7fQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25tb3VzZW92ZXIpID09ICd1bmRlZmluZWQnKSB7CgkJCWlmICh0eXBlb2YodGhpcy50cmVlLm9uTW91c2VPdmVyKSA9PSAnZnVuY3Rpb24nKSB7CgkJCQl0aGlzLnN0cnVjdC5vbm1vdXNlb3ZlciA9IHRoaXMudHJlZS5vbk1vdXNlT3ZlcjsKCQkJCXRoaXMub25tb3VzZW92ZXJEZWZhdWx0ID0gdHJ1ZTsKCQkJfQoJCX0gZWxzZSB7dGhpcy5zdHJ1Y3Qub25tb3VzZW92ZXIgPSBldmFsKHRoaXMuc3RydWN0Lm9ubW91c2VvdmVyKTt9CgkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5vbm1vdXNlb3V0KSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodHlwZW9mKHRoaXMudHJlZS5vbk1vdXNlT3V0KSA9PSAnZnVuY3Rpb24nKSB7CgkJCQl0aGlzLnN0cnVjdC5vbm1vdXNlb3V0ID0gdGhpcy50cmVlLm9uTW91c2VPdXQ7CgkJCQl0aGlzLm9ubW91c2VvdXREZWZhdWx0ID0gdHJ1ZTsKCQkJfQoJCX0gZWxzZSB7dGhpcy5zdHJ1Y3Qub25tb3VzZW91dCA9IGV2YWwodGhpcy5zdHJ1Y3Qub25tb3VzZW91dCk7fQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25tb3VzZWRvd24pID09ICd1bmRlZmluZWQnKSB7CgkJCWlmICh0eXBlb2YodGhpcy50cmVlLm9uTW91c2VEb3duKSA9PSAnZnVuY3Rpb24nKSB7CgkJCQl0aGlzLnN0cnVjdC5vbm1vdXNlZG93biA9IHRoaXMudHJlZS5vbk1vdXNlRG93bjsKCQkJCXRoaXMub25tb3VzZWRvd25EZWZhdWx0ID0gdHJ1ZTsKCQkJfQoJCX0gZWxzZSB7dGhpcy5zdHJ1Y3Qub25tb3VzZWRvd24gPSBldmFsKHRoaXMuc3RydWN0Lm9ubW91c2Vkb3duKTt9CgkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5vbm1vdXNldXApID09ICd1bmRlZmluZWQnKSB7CgkJCWlmICh0eXBlb2YodGhpcy50cmVlLm9uTW91c2VVcCkgPT0gJ2Z1bmN0aW9uJykgewoJCQkJdGhpcy5zdHJ1Y3Qub25tb3VzZXVwID0gdGhpcy50cmVlLm9uTW91c2VVcDsKCQkJCXRoaXMub25tb3VzZXVwRGVmYXVsdCA9IHRydWU7CgkJCX0KCQl9IGVsc2Uge3RoaXMuc3RydWN0Lm9ubW91c2V1cCA9IGV2YWwodGhpcy5zdHJ1Y3Qub25tb3VzZXVwKTt9CgkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5vbmNsaWNrKSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodHlwZW9mKHRoaXMudHJlZS5vbkNsaWNrKSA9PSAnZnVuY3Rpb24nKSB7CgkJCQl0aGlzLnN0cnVjdC5vbmNsaWNrID0gdGhpcy50cmVlLm9uQ2xpY2s7CgkJCQl0aGlzLm9uY2xpY2tEZWZhdWx0ID0gdHJ1ZTsKCQkJfQoJCX0gZWxzZSB7dGhpcy5zdHJ1Y3Qub25jbGljayA9IGV2YWwodGhpcy5zdHJ1Y3Qub25jbGljayk7fQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25kYmxjbGljaykgPT0gJ3VuZGVmaW5lZCcpIHsKCQkJaWYgKHR5cGVvZih0aGlzLnRyZWUub25EYmxDbGljaykgPT0gJ2Z1bmN0aW9uJykgewoJCQkJdGhpcy5zdHJ1Y3Qub25kYmxjbGljayA9IHRoaXMudHJlZS5vbkRibENsaWNrOwoJCQkJdGhpcy5vbmRibGNsaWNrRGVmYXVsdCA9IHRydWU7CgkJCX0KCQl9IGVsc2Uge3RoaXMuc3RydWN0Lm9uZGJsY2xpY2sgPSBldmFsKHRoaXMuc3RydWN0Lm9uZGJsY2xpY2spO30KCX0sCgkKCS8qKgoJICogU2V0IGFjdGlvbnMgbGlrZSBzZWxlY3Rpbmcgbm9kZQoJICoKCSAqIEBhY2Nlc3MgcHJpdmF0ZQoJICogQHJldHVybiB2b2lkCgkgKi8KCV9zZXRBY3Rpb25zIDogZnVuY3Rpb24gKCkgewoJCWlmICh0aGlzLnN0cnVjdC5zZWxlY3QpIHsKCQkJdGhpcy5zZWxlY3QoKTsKCQl9Cgl9LAoJCgkvKioKCSAqIEZvbmN0aW9uIHF1aSBzZXQgbGVzIGRpdmVycyDvv71277+9bmVtZW50cyBlbiBmb25jdGlvbiBkZXMgZG9ubu+/vWVzIHV0aWxpc2F0ZXVyCgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcGFyYW0JSFRNTFRkRWxlbWVudAkJZXZlbnQJCQkJCUxhIGNlbGx1bGUgcXVpIGNvbnRpZW50IGxlIHRleHRlCgkgKiBAcGFyYW0JSFRNTFRkRWxlbWVudAkJdGRJbWcJCQkJCUxhIGNlbGx1bGUgcXVpIGNvbnRpZW50IGwnaWPvv71uZQoJICogQHJldHVybgl2b2lkCgkgKi8KCV9zZXRFdmVudHMgOiBmdW5jdGlvbiAoZXZlbnQsIHRkSW1nKSB7CgkJLy8gTGUgb25jbGljayBzZSBmYWl0IGRlIHRvdXRlcyBmYe+/vW9uCgkJRXZlbnQub2JzZXJ2ZSh0aGlzLnR4dCwgJ21vdXNlZG93bicsIHRoaXMuc2V0TW91c2VEb3duLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksIGZhbHNlKTsKCQlFdmVudC5vYnNlcnZlKHRoaXMudHh0LCAnbW91c2V1cCcsIHRoaXMuc2V0TW91c2VVcC5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLCBmYWxzZSk7CgkJLy8gT24gc2V0IGxlcyDvv71277+9bmVtZW50cwoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25jbGljaykgPT0gJ2Z1bmN0aW9uJykgewoJCQlFdmVudC5vYnNlcnZlKGV2ZW50LCAnY2xpY2snLCB0aGlzLnNldENsaWNrLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksIGZhbHNlKTsKCQl9CgkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5vbmRibGNsaWNrKSA9PSAnZnVuY3Rpb24nIHx8IHRoaXMuc3RydWN0LmVkaXRhYmxlKSB7CgkJCUV2ZW50Lm9ic2VydmUoZXZlbnQsICdkYmxjbGljaycsIHRoaXMuc2V0RGJsQ2xpY2suYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoJCX0KCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9ubW91c2VvdmVyKSA9PSAnZnVuY3Rpb24nKSB7CgkJCUV2ZW50Lm9ic2VydmUoZXZlbnQsICdtb3VzZW92ZXInLCB0aGlzLnNldE1vdXNlT3Zlci5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLCBmYWxzZSk7CgkJfQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25tb3VzZW91dCkgPT0gJ2Z1bmN0aW9uJykgewoJCQlFdmVudC5vYnNlcnZlKGV2ZW50LCAnbW91c2VvdXQnLCB0aGlzLnNldE1vdXNlT3V0LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksIGZhbHNlKTsKCQl9CgkJaWYgKHRoaXMuc3RydWN0LmVkaXRhYmxlICYmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25lZGl0KSA9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZih0aGlzLnN0cnVjdC5vbmVkaXRhamF4KSA9PSAnZnVuY3Rpb24nKSkgewoJCQl0aGlzLmVkaXRhYmxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwoJCQl0aGlzLmVkaXRhYmxlSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTsKCQkJdGhpcy5lZGl0YWJsZUlucHV0LnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpOwoJCQl0aGlzLmVkaXRhYmxlSW5wdXQuY2xhc3NOYW1lID0gdGhpcy50cmVlLmNsYXNzRWRpdGFibGU7CgkJCWV2ZW50LmFwcGVuZENoaWxkKHRoaXMuZWRpdGFibGVJbnB1dCk7CgkJCUV2ZW50Lm9ic2VydmUodGhpcy5lZGl0YWJsZUlucHV0LCAnYmx1cicsIHRoaXMuaGlkZUVkaXRhYmxlLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksIGZhbHNlKTsKCQl9CgkJLy8gT24gc2V0IGwnb3B0aW9uIGRyYWcgYW5kIGRyb3AKCQlpZiAoIXRoaXMuaXNSb290KSB7CgkJCWlmICh0aGlzLnN0cnVjdC5kcmFnZ2FibGUgJiYgKHR5cGVvZih0aGlzLnN0cnVjdC5vbmRyb3ApID09ICdmdW5jdGlvbicgfHwgdHlwZW9mKHRoaXMuc3RydWN0Lm9uZHJvcGFqYXgpID09ICdmdW5jdGlvbicpKSB7CgkJCQkvL3RoaXMub2JqRHJhZyA9IG5ldyBEcmFnZ2FibGUodGhpcy50eHQsIHtyZXZlcnQ6IHRoaXMudHJlZS5kcmFnUmV2ZXJ0LCBzY3JvbGw6IHRoaXMudHJlZS5kaXYsIGdob3N0aW5nOiB0aGlzLnRyZWUuZHJhZ0dob3N0aW5nfSk7CgkJCQl0aGlzLm9iakRyYWcgPSBuZXcgRHJhZ2dhYmxlKHRoaXMudHh0LCB7CgkJCQkJcmV2ZXJ0OiB0aGlzLnRyZWUuZHJhZ1JldmVydCwKCQkJCQlzdGFydGVmZmVjdDp0aGlzLm9uZHJhZ3N0YXJ0ZWZmZWN0LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksCgkJCQkJZW5kZWZmZWN0OnRoaXMub25kcmFnZW5kZWZmZWN0LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcykKCQkJCX0pOyAKCQkJCUVsZW1lbnQuYWRkQ2xhc3NOYW1lKHRoaXMudHh0LCB0aGlzLnRyZWUuY2xhc3NEcmFnKTsKCQkJfQoJCX0KLy8JCWlmICh0aGlzLnN0cnVjdC5hY2NlcHRkcm9wKSB7Ci8vCQkJRHJvcHBhYmxlcy5hZGQodGhpcy50eHQsIHtob3ZlcmNsYXNzOiB0aGlzLnRyZWUuY2xhc3NEcmFnT3Zlciwgb25Ecm9wOiB0aGlzLnNldERyb3AuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKX0pOwovLwkJfQoJCWlmICh0aGlzLnN0cnVjdC50b29sdGlwKSB7CgkJCUV2ZW50Lm9ic2VydmUoZXZlbnQsICdtb3VzZW92ZXInLCB0aGlzLmV2dF9zaG93VG9vbHRpcC5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLCBmYWxzZSk7CgkJCUV2ZW50Lm9ic2VydmUoZXZlbnQsICdtb3VzZW91dCcsIHRoaXMuZXZ0X2hpZGVUb29sdGlwLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksIGZhbHNlKTsKCQl9CgkJLy8gT24gcydvY2N1cGUgZGVzIGNoZWNrYm94ZXMsIGxlIGNhcyDvv71jaO+/vWFudAoJCWlmICh0aGlzLnRyZWUuY2hlY2tib3hlcyAmJiB0aGlzLnN0cnVjdC5jaGVja2JveCkgewoJCQlpZiAodGhpcy5zdHJ1Y3QuY2hlY2sgPT0gMSkgaW1nYyA9IHRoaXMudHJlZS5pbWdDaGVjazI7CgkJCWVsc2UgaWYgKHRoaXMuc3RydWN0LmNoZWNrID09IC0xKSBpbWdjID0gdGhpcy50cmVlLmltZ0NoZWNrMzsKCQkJZWxzZSBpbWdjID0gdGhpcy50cmVlLmltZ0NoZWNrMTsKCQkJdGhpcy5jaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwoJCQlpZiAodGhpcy50cmVlLmNoZWNrYm94ZXNEaXNhYmxlZCkgewoJCQkJaWYodGhpcy5zdHJ1Y3QuY2hlY2sgPT0gMSkgaW1nYyA9IHRoaXMudHJlZS5pbWdDaGVjazM7CgkJCQllbHNlCgkJCQlpbWdjID0gdGhpcy50cmVlLmltZ0NoZWNrMTsKCQkJfQoJCQl0aGlzLmNoZWNrYm94LnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgaW1nYzsKCQkJdGRJbWcuYXBwZW5kQ2hpbGQodGhpcy5jaGVja2JveCk7CgkJCWlmICghdGhpcy50cmVlLmNoZWNrYm94ZXNEaXNhYmxlZCkKCQkJCUV2ZW50Lm9ic2VydmUodGhpcy5jaGVja2JveCwgJ2NsaWNrJywgdGhpcy5jaGVja09uQ2xpY2suYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoJCQlFdmVudC5vYnNlcnZlKHRoaXMuY2hlY2tib3gsICdtb3VzZW92ZXInLCB0aGlzLmV2dF9vcGVuTW91c2VPdmVyLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksIGZhbHNlKTsKCQkJRXZlbnQub2JzZXJ2ZSh0aGlzLmNoZWNrYm94LCAnbW91c2VvdXQnLCB0aGlzLmV2dF9vcGVuTW91c2VPdXQuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoKCQkJdmFyIHZpZHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwoJCQl2aWR4LnR5cGU9ImhpZGRlbiI7CgkJCXZpZHguY2xhc3NOYW1lID0gImhpZGRlbi1jaGVja2JveC12YWx1ZSI7CgkJCXZpZHgubmFtZT10aGlzLnRyZWUuY2hlY2tib3hOYW1lUHJlZml4K3RoaXMuc3RydWN0LmlkOwoJCQl2aWR4LmlkPXRoaXMudHJlZS5jaGVja2JveElEUHJlZml4K3RoaXMuc3RydWN0LmlkOwoJCQl2aWR4LnZhbHVlID0gKHRoaXMuc3RydWN0LmNoZWNrID09IDEpID8gJzEnIDogJyc7CgkJCXRkSW1nLmFwcGVuZENoaWxkKHZpZHgpOwoJCX0gZWxzZSBpZiAodGhpcy50cmVlLmNoZWNrYm94ZXMpIHsKCQkJLy8gT24gbWV0IO+/vXZlbnR1ZWxsZW1lbnQgdW5lIGltYWdlIHZpZGUgYXUgbGlldSBkZSBsYSBjaGVja2JveAoJCQl2YXIgdmlkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwoJCQl2aWRlLnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy50cmVlLmltZ0VtcHR5OwoJCQl0ZEltZy5hcHBlbmRDaGlsZCh2aWRlKTsKCQl9CgkJCgkJaWYgKHRoaXMudHJlZS5yYWRpb3MgJiYgIXRoaXMuc3RydWN0LmNhbmhhdmVjaGlsZHJlbikgewoJCQkvLyBPbiBtZXQg77+9dmVudHVlbGxlbWVudCB1bmUgaW1hZ2UgdmlkZSBhdSBsaWV1IGRlIGxhIGNoZWNrYm94CgkJCQoJCQl2YXIgdmlkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CgkJCUV2ZW50Lm9ic2VydmUodmlkZSwgJ2NsaWNrJywgdGhpcy5yYWRpb09uQ2xpY2suYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoJCQl2aWRlLnR5cGU9InJhZGlvIjsKCQkJdmlkZS5uYW1lPXRoaXMudHJlZS5yYWRpb3M7CgkJCXZpZGUuY2hlY2tlZCA9ICh0aGlzLnRyZWUuc2VsZWN0ZWRSYWRpb0lEID09IHRoaXMuc3RydWN0LmlkKTsKCQkJdmlkZS5hZGRDbGFzc05hbWUodGhpcy50cmVlLnJhZGlvcyk7IC8vIEpVU1RJTkFTOiBUaGlzIHdpbGwgbm90IHdvcmsgZm9yIElOc2FuZSBJRSBGSVhNRQoJCQl2aWRlLmFkZENsYXNzTmFtZSgndmFsaWRhdGUtb25lLXJlcXVpcmVkJyk7IAoJCQl2aWRlLnZhbHVlID0gdGhpcy5zdHJ1Y3QuaWQ7CgkJCWlmICh0aGlzLnRyZWUucmFkaW9zRGlzYWJsZWQpCgkJCQl2aWRlLmRpc2FibGVkID0gMTsKCQkJCgkJCXRoaXMucmFkaW9FbGVtZW50ID0gdmlkZTsKCgoJCQl0ZEltZy5hcHBlbmRDaGlsZCh2aWRlKTsKCQl9Cgl9LAoJCglfZ2V0SW1nQmVmb3JlSWNvbiA6IGZ1bmN0aW9uICgpIHsKCQl0cnkgewoJCQl2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpOwoJCQl2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CgkJCUVsZW1lbnQuYWRkQ2xhc3NOYW1lKGltZywgdGhpcy50cmVlLmNsYXNzT3BlbmFibGUpOwoJCQkvLyBPbiBk77+9dGVybWluZSBzJ2lsIHkgYSBkZXMgZnLvv71yZXMKCQkJaWYgKHRoaXMuaGFzU2libGluZ3NBZnRlcikgewoJCQkJLy8gT24gZO+/vXRlcm1pbmUgcydpbCB5IGEgZGVzIGVuZmFudHMKCQkJCWlmICghdGhpcy5oYXNDaGlsZHJlbigpKSB7CgkJCQkJaWYgKHRoaXMuaXNSb290KSB7CgkJCQkJCWltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArICgodGhpcy5oYXNTaWJsaW5nc0JlZm9yZSkgPyB0aGlzLnRyZWUuaW1nTGluZTMgOiB0aGlzLnRyZWUuaW1nTGluZTQpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdMaW5lMzsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCUV2ZW50Lm9ic2VydmUoaW1nLCAnY2xpY2snLCB0aGlzLnNldE9wZW4uYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoJCQkJCUV2ZW50Lm9ic2VydmUoaW1nLCAnbW91c2VvdmVyJywgdGhpcy5ldnRfb3Blbk1vdXNlT3Zlci5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLCBmYWxzZSk7CgkJCQkJRXZlbnQub2JzZXJ2ZShpbWcsICdtb3VzZW91dCcsIHRoaXMuZXZ0X29wZW5Nb3VzZU91dC5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLCBmYWxzZSk7CgkJCQkJaWYgKHRoaXMuaXNSb290KSB7CgkJCQkJCWltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArICgodGhpcy5oYXNTaWJsaW5nc0JlZm9yZSkgPyB0aGlzLnRyZWUuaW1nTWludXMzIDogdGhpcy50cmVlLmltZ01pbnVzNCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJaW1nLnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy50cmVlLmltZ01pbnVzMzsKCQkJCQl9CgkJCQl9CgkJCQlpZiAodGhpcy50cmVlLm11bHRpbGluZSkgewoJCQkJCXRoaXMuX21hbmFnZU11bHRpbGluZSh0ZCwgKHRoaXMuaXNSb290ID8gMiA6IDEpLCB0cnVlKTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCS8vIE9uIGTvv710ZXJtaW5lIHMnaWwgeSBhIGRlcyBlbmZhbnRzCgkJCQlpZiAoIXRoaXMuaGFzQ2hpbGRyZW4oKSkgewoJCQkJCWlmICh0aGlzLmlzUm9vdCkgewoJCQkJCQlpbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyAoKHRoaXMuaGFzU2libGluZ3NCZWZvcmUpID8gdGhpcy50cmVlLmltZ0xpbmUyIDogdGhpcy50cmVlLmltZ0VtcHR5KTsKCQkJCQl9IGVsc2UgewoJCQkJCQlpbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nTGluZTI7CgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQlFdmVudC5vYnNlcnZlKGltZywgJ2NsaWNrJywgdGhpcy5zZXRPcGVuLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksIGZhbHNlKTsKCQkJCQlFdmVudC5vYnNlcnZlKGltZywgJ21vdXNlb3ZlcicsIHRoaXMuZXZ0X29wZW5Nb3VzZU92ZXIuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoJCQkJCUV2ZW50Lm9ic2VydmUoaW1nLCAnbW91c2VvdXQnLCB0aGlzLmV2dF9vcGVuTW91c2VPdXQuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwoJCQkJCWlmICh0aGlzLmlzUm9vdCkgewoJCQkJCQlpbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyAoKHRoaXMuaGFzU2libGluZ3NCZWZvcmUpID8gdGhpcy50cmVlLmltZ01pbnVzMiA6IHRoaXMudHJlZS5pbWdNaW51czUpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdNaW51czI7CgkJCQkJfQoJCQkJfQoJCQl9CgkJCXRkLmFwcGVuZENoaWxkKGltZyk7CgkJCXJldHVybiB0ZDsKCQl9IGNhdGNoIChlcnIpIHsKCQkJdGhyb3cgbmV3IEVycm9yICgnX2dldEltZ0JlZm9yZUljb24oYmFzZSkgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCX0JCQkKCX0sCgoJLyoqCgkgKiBJbnPvv71yZSBsZXMgZW5mYW50cyBkZSBsYSBicmFuY2hlCgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcGFyYW0JVGFmZWxUcmVlUm9vdAlyb290CQkJCQlMJ++/vWzvv71tZW50IHJhY2luZSBwYXJlbnQKCSAqIEByZXR1cm4Jdm9pZAoJICovCglfc2V0Q2hpbGRyZW4gOiBmdW5jdGlvbiAocm9vdCkgewoJCWlmICh0aGlzLmhhc0NoaWxkcmVuKCkpIHsKCQkJaWYgKHRoaXMudHJlZS5iaWdUcmVlTG9hZGluZyA+PSAwKSB7CgkJCQl0aGlzLmxvYWRlZCA9IGZhbHNlOwoJCQkJdGhpcy5iaWdUcmVlTG9hZGluZyA9IDA7CgkJCQlzZXRUaW1lb3V0KHRoaXMuX2dlbmVyYXRlLmJpbmQodGhpcyksIDEwKTsKCQkJfSBlbHNlIHsKCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdHJ1Y3QuaXRlbXMubGVuZ3RoOyBpKyspIHsKCQkJCQlpZiAodGhpcy50cmVlLmNoZWNrYm94ZXNUaHJlZVN0YXRlICYmIHRoaXMuc3RydWN0LmNoZWNrICYmIHR5cGVvZih0aGlzLnN0cnVjdC5pdGVtc1tpXS5jaGVjaykgPT0gJ3VuZGVmaW5lZCcpIHsKCQkJCQkJdGhpcy5zdHJ1Y3QuaXRlbXNbaV0uY2hlY2sgPSAxOwoJCQkJCX0KCQkJCQlpc05vdEZpcnN0ID0gKGkgPiAwKSA/IHRydWUgOiBmYWxzZTsKCQkJCQlpc05vdExhc3QgPSAoaSA8IHRoaXMuc3RydWN0Lml0ZW1zLmxlbmd0aCAtIDEpID8gdHJ1ZSA6IGZhbHNlOwoJCQkJCXRoaXMuY2hpbGRyZW5baV0gPSBuZXcgVGFmZWxUcmVlQnJhbmNoKHJvb3QsIHRoaXMsIHRoaXMuc3RydWN0Lml0ZW1zW2ldLCB0aGlzLmxldmVsICsgMSwgaXNOb3RGaXJzdCwgaXNOb3RMYXN0LCBpKTsKCQkJCQl0aGlzLm9iai5hcHBlbmRDaGlsZCh0aGlzLmNoaWxkcmVuW2ldLm9iaik7CgkJCQl9CgkJCQl0aGlzLm9wZW5JdCh0aGlzLnN0cnVjdC5vcGVuKTsKCQkJfQoJCX0KCX0sCgkKCS8qKgoJICogU2V0IGwnaW1hZ2UgZGUgbGEgYnJhbmNoZSDvv70gd2FpdCBhaW5zaSBxdWUgc2VzIGVuZmFudHMKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlUYWZlbFRyZWVCcmFuY2gJCWJyYW5jaAkJCQkJTGEgYnJhbmNoZSBjb3VyYW50ZQoJICogQHBhcmFtCWJvb2xlYW4JCQkJd2FpdAkJCQkJVHJ1ZSBwb3VyIGFmZmljaGVyIGwnaW1hZ2UgZCdhdHRlbnRlCgkgKiBAcGFyYW0JYm9vbGVhbgkJCQlsb2NhbFByb3BhZ2F0aW9uU3RvcAlUcnVlIHBvdXIgbmUgcGFzIGF2b2lyIGRlIHByb3BhZ2F0aW9uLCBmYWxzZSBwYXIgZO+/vWZhdXQKCSAqIEByZXR1cm4Jdm9pZAoJICovCglfc2V0V2FpdEltZyA6IGZ1bmN0aW9uIChicmFuY2gsIHdhaXQsIGxvY2FsUHJvcGFnYXRpb25TdG9wKSB7CgkJdHJ5IHsKCQkJdGhpcy5pblByb2Nlc3MgPSB3YWl0OwoJCQlpZiAod2FpdCkgewoJCQkJYnJhbmNoLm9sZEltZ1NyYyA9IGJyYW5jaC5pbWcuc3JjOwoJCQkJYnJhbmNoLmltZy5zcmMgPSBicmFuY2gudHJlZS5pbWdCYXNlICsgYnJhbmNoLnRyZWUuaW1nV2FpdDsKCQkJCWJyYW5jaC5ldmVudGFibGUgPSBmYWxzZTsKCQkJfSBlbHNlIHsKCQkJCWJyYW5jaC5ldmVudGFibGUgPSB0cnVlOwoJCQkJYnJhbmNoLmltZy5zcmMgPSBicmFuY2gub2xkSW1nU3JjOwoJCQl9CgkJCWlmICh0aGlzLnRyZWUucHJvcGFnYXRpb24gJiYgIWxvY2FsUHJvcGFnYXRpb25TdG9wKSB7CgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGJyYW5jaC5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewoJCQkJCXRoaXMuX3NldFdhaXRJbWcoYnJhbmNoLmNoaWxkcmVuW2ldLCB3YWl0KTsKCQkJCX0KCQkJfQoJCX0gY2F0Y2ggKGVycikgewoJCQl0aHJvdyBuZXcgRXJyb3IgKCdfc2V0V2FpdEltZyhiYXNlKSA6ICcgKyBlcnIubWVzc2FnZSk7CgkJfQoJfSwKCQoJLyoqCgkgKiBFbnZvaSBkJ3VuZSByZXF177+9dGUgQWpheCBzdWl0ZSDvv70gdW5lIG91dmVydHVyZSBkZSBicmFuY2hlCgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJX29wZW5Qb3B1bGF0ZSA6IGZ1bmN0aW9uIChldikgewoJCXRyeSB7CgkJCXRoaXMuX3NldFdhaXRJbWcodGhpcywgdHJ1ZSk7CgkJCXZhciBwYXJhbXMgPSAnYnJhbmNoPScgKyB0aGlzLnNlcmlhbGl6ZSgpICsgJyZicmFuY2hfaWQ9JyArIHRoaXMuZ2V0SWQoKSArICcmdHJlZV9pZD0nICsgdGhpcy50cmVlLmlkOwoJCQl2YXIgb3RoZXJQYXJhbXMgPSB0aGlzLnRyZWUuZ2V0VVJMUGFyYW1zKHRoaXMuc3RydWN0Lm9wZW5saW5rKTsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBvdGhlclBhcmFtcy5sZW5ndGg7IGkrKykgewoJCQkJcGFyYW1zICs9ICcmJyArIG90aGVyUGFyYW1zW2ldLm5hbWUgKyAnPScgKyBvdGhlclBhcmFtc1tpXS52YWx1ZTsKCQkJfQoJCQluZXcgQWpheC5VcGRhdGVyICgKCQkJCXRoaXMudHJlZS5hamF4T2JqLAoJCQkJdGhpcy5zdHJ1Y3Qub3BlbmxpbmssCgkJCQl7CgkJCQkJJ21ldGhvZCcgICAgIDogJ3Bvc3QnLAoJCQkJCSdwYXJhbWV0ZXJzJyA6IHBhcmFtcywKCQkJCQknZXZhbFNjcmlwdHMnOiB0cnVlLAoJCQkJCSdvbkNvbXBsZXRlJyA6IGZ1bmN0aW9uKGV2ZW50KXt0aGlzLl9jb21wbGV0ZU9wZW5Qb3B1bGF0ZShldmVudCk7fS5iaW5kKHRoaXMpLAoJCQkJCSdvbkZhaWx1cmUnIDogZnVuY3Rpb24oZXZlbnQpe3RoaXMuX2ZhaWx1cmVPcGVuUG9wdWxhdGUoZXZlbnQpO30uYmluZCh0aGlzKQoJCQkJfQoJCQkpOwoJCX0gY2F0Y2ggKGVycikgewoJCQl0aGlzLl9zZXRXYWl0SW1nKHRoaXMsIGZhbHNlKTsKCQkJdGhyb3cgKCdfb3BlblBvcHVsYXRlKGJhc2UpIDogJyArIGVyci5tZXNzYWdlKTsKCQl9Cgl9LAoJCglfZmFpbHVyZU9wZW5Qb3B1bGF0ZSA6IGZ1bmN0aW9uICgpIHsKCQl0aGlzLl9zZXRXYWl0SW1nKHRoaXMsIGZhbHNlKTsKCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KSA9PSAnZnVuY3Rpb24nKSB7CgkJCXRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KCdvcGVuJywgJ2ZhaWx1cmUgcmVxdWVzdCcsIHRoaXMpOwoJCX0KCX0sCgkKCS8qKgoJICogTe+/vXRob2RlIGFwcGVs77+9ZSBsb3JzcXVlIGxlIHJldG91ciBhamF4IGVzdCBlZmZlY3R177+9CgkgKgoJICogUG91ciBwYWlsbGVyIGF1eCDvv712ZW50dWFsaXTvv71zIDogc3RyLm1hdGNoKC8oPzpcKFxbKSgoXG58XHJ8LikqPykoPzpcXVwpKS8pWzBdCgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcGFyYW0JWE1MaHR0cFJlc3F1ZXN0CQlyZXNwb25zZQkJCQlMJ29iamV0IEFqYXgKCSAqIEByZXR1cm4Jdm9pZAoJICovCglfY29tcGxldGVPcGVuUG9wdWxhdGUgOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKCQl0cnkgewoJCQl0aGlzLl9zZXRXYWl0SW1nKHRoaXMsIGZhbHNlKTsKCQkJdmFyIHJlcCA9IHRoaXMuc3RydWN0Lm9ub3BlbnBvcHVsYXRlKHRoaXMsIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CgkJCWlmIChyZXApIHsKCQkJCXJlcCA9IChyZXAgPT09IHRydWUpID8gcmVzcG9uc2UucmVzcG9uc2VUZXh0IDogcmVwOwoJCQkJdmFyIGl0ZW1zID0gZXZhbChyZXApOwoJCQkJaWYgKGl0ZW1zKSB7CgkJCQkJdmFyIG9rID0gW107CgkJCQkJZm9yICh2YXIgaSA9IDAgOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5pY2l0eSB0ZXN0CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZChpdGVtc1tpXS5pZCkpIGNvbnRpbnVlOyAKCQkJCQkJaWYgKHR5cGVvZihpdGVtc1tpXS5pZCkgPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mKGl0ZW1zW2ldLnR4dCkgPT0gJ3VuZGVmaW5lZCcpIHsKCQkJCQkJCXRocm93IG5ldyBFcnJvciAoVEFGRUxUUkVFX1dST05HX0JSQU5DSF9TVFJVQ1RVUkUpOwoJCQkJCQl9CgkJCQkJCW9rLnB1c2godGhpcy5pbnNlcnRJbnRvTGFzdChpdGVtc1tpXSkpOwoJCQkJCX0KCQkJCQkvLyBQZXJtZXQgZCdvdXZyaXIgbGVzIGJyYW5jaGVzIHF1aSB2aWVubmVudCBkdSBzZXJ2ZXVyIGF1IGxvYWQgZGUgbGEgcGFnZQoJCQkJCWlmICh0aGlzLnRyZWUudXNlQ29va2llICYmIHRoaXMudHJlZS5jb29raWVPcGVuZWQgJiYgdGhpcy50cmVlLnJlb3BlbkZyb21TZXJ2ZXIpIHsKCQkJCQkJdmFyIG9rYXkgPSBmYWxzZTsKCQkJCQkJZm9yICh2YXIgbyA9IDA7IG8gPCBvay5sZW5ndGg7IG8rKykgewoJCQkJCQkJb2theSA9IGZhbHNlOwoJCQkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyZWUuY29va2llT3BlbmVkLmxlbmd0aDsgaSsrKSB7CgkJCQkJCQkJaWYgKHRoaXMudHJlZS5jb29raWVPcGVuZWRbaV0gPT0gb2tbb10uZ2V0SWQoKSkgewoJCQkJCQkJCQlva2F5ID0gdHJ1ZTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQkJaWYgKG9rYXkpIHsKCQkJCQkJCQlpZiAodHlwZW9mKG9rW29dLnN0cnVjdC5vbm9wZW5wb3B1bGF0ZSkgPT0gJ2Z1bmN0aW9uJyAmJiBva1tvXS5ldmVudGFibGUpIHsKCQkJCQkJCQkJb2tbb10uX29wZW5Qb3B1bGF0ZSgpOwoJCQkJCQkJCQlva1tvXS5vcGVuSXQodHJ1ZSk7CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXRoaXMuX3NldFdhaXRJbWcodGhpcywgZmFsc2UpOwoJCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KSA9PSAnZnVuY3Rpb24nKSB7CgkJCQl0aGlzLnN0cnVjdC5vbmVycm9yYWpheCgnb3BlbicsIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCwgdGhpcyk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCAoJ19jb21wbGV0ZU9wZW5Qb3B1bGF0ZSgnICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0ICsgJykgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCQl9CgkJfQoJfSwKCQoJLyoqCgkgKiBFbnZvaSBkJ3VuZSByZXF177+9dGUgQWpheCBzdWl0ZSDvv70gdW4gZHJvcAoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHBhcmFtCVRhZmVsVHJlZUJyYW5jaAkJbmV3UGFyZW50T2JqCQkJTGUgbm91dmVhdSBwYXJlbnQKCSAqIEBwYXJhbQlib29sZWFuCQkJCWFzU2libGluZwkJCQlUcnVlIHBvdXIgZHJvcHBlciBsJ++/vWzvv71tZW50IGNvbW1lIGZy77+9cmUKCSAqIEBwYXJhbQlib29sZWFuCQkJCWNvcHlkcmFnCQkJCVRydWUgc2kgb24gZmFpdCB1biBjb3B5LWRyYWcKCSAqIEByZXR1cm4Jdm9pZAoJICovCglfc2V0RHJvcEFqYXggOiBmdW5jdGlvbiAobmV3UGFyZW50T2JqLCBhc1NpYmxpbmcsIGNvcHlkcmFnLCBldikgewoJCXRyeSB7CgkJCXRoaXMuX3NldFdhaXRJbWcodGhpcywgdHJ1ZSk7CgkJCXZhciBzaWJsaW5nID0gKGFzU2libGluZykgPyAxIDogMDsKCQkJdmFyIGNkcmFnID0gKGNvcHlkcmFnKSA/IDEgOiAwOwoJCQl2YXIgcGFyYW1zID0gJ2RyYWc9JyArIHRoaXMuc2VyaWFsaXplKCkgKyAnJmRyYWdfaWQ9JyArIHRoaXMuZ2V0SWQoKSArICcmZHJvcD0nICsgbmV3UGFyZW50T2JqLnNlcmlhbGl6ZSgpICsgJyZkcm9wX2lkPScgKyBuZXdQYXJlbnRPYmouZ2V0SWQoKTsKCQkJcGFyYW1zICs9ICcmdHJlZWRyYWdfaWQ9JyArIHRoaXMudHJlZS5pZCArICcmdHJlZWRyb3BfaWQ9JyArIG5ld1BhcmVudE9iai50cmVlLmlkICsgJyZzaWJsaW5nPScgKyBzaWJsaW5nICsgJyZjb3B5ZHJhZz0nICsgY2RyYWc7CgkJCS8vIE9uIHBhc3NlIGxlIGZ1dHVyIGlkIGRlIGwn77+9bO+/vW1lbnQgY29wae+/vSBzJ2lsIHMnYWdpdCBkJ3VuZSBjb3BpZQoJCQlpZiAoY2RyYWcpIHsKCQkJCXZhciBjZHJhZ0lkID0gdGhpcy5pZCArIHRoaXMudHJlZS5jb3B5TmFtZUJyZWFrICsgdGhpcy50cmVlLmlkVHJlZTsKCQkJCXBhcmFtcyArPSAnJmNvcHlkcmFnX2lkPScgKyBjZHJhZ0lkOwoJCQl9CgkJCXZhciBvdGhlclBhcmFtcyA9IHRoaXMudHJlZS5nZXRVUkxQYXJhbXModGhpcy5zdHJ1Y3QuZHJvcGxpbmspOwoJCQlmb3IgKHZhciBpID0gMDsgaSA8IG90aGVyUGFyYW1zLmxlbmd0aDsgaSsrKSB7CgkJCQlwYXJhbXMgKz0gJyYnICsgb3RoZXJQYXJhbXNbaV0ubmFtZSArICc9JyArIG90aGVyUGFyYW1zW2ldLnZhbHVlOwoJCQl9CgkJCXRoaXMubmV3UGFyZW50ID0gbmV3UGFyZW50T2JqOwoJCQl0aGlzLmFzU2libGluZyA9IGFzU2libGluZzsKCQkJdGhpcy5jb3B5RHJhZyA9IGNkcmFnOwoJCQluZXcgQWpheC5VcGRhdGVyICgKCQkJCXRoaXMudHJlZS5hamF4T2JqLAoJCQkJdGhpcy5zdHJ1Y3QuZHJvcGxpbmssCgkJCQl7CgkJCQkJJ21ldGhvZCcgICAgIDogJ3Bvc3QnLAoJCQkJCSdwYXJhbWV0ZXJzJyA6IHBhcmFtcywKCQkJCQknZXZhbFNjcmlwdHMnOiB0cnVlLAoJCQkJCSdvbkNvbXBsZXRlJyA6IGZ1bmN0aW9uKGV2ZW50KXt0aGlzLl9jb21wbGV0ZURyb3BBamF4KGV2ZW50KTt9LmJpbmQodGhpcyksCgkJCQkJJ29uRmFpbHVyZScgOiBmdW5jdGlvbihldmVudCl7dGhpcy5fZmFpbHVyZURyb3BBamF4KGV2ZW50KTt9LmJpbmQodGhpcykKCQkJCX0KCQkJKTsKCQl9IGNhdGNoIChlcnIpIHsKCQkJdGhpcy5fc2V0V2FpdEltZyh0aGlzLCBmYWxzZSk7CgkJCXRocm93ICgnX3NldERyb3BBamF4KGJhc2UpIDogJyArIGVyci5tZXNzYWdlKTsKCQl9Cgl9LAoJCglfZmFpbHVyZURyb3BBamF4IDogZnVuY3Rpb24gKCkgewoJCXRoaXMuX3NldFdhaXRJbWcodGhpcywgZmFsc2UpOwoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25lcnJvcmFqYXgpID09ICdmdW5jdGlvbicpIHsKCQkJdGhpcy5zdHJ1Y3Qub25lcnJvcmFqYXgoJ2Ryb3AnLCAnZmFpbHVyZSByZXF1ZXN0JywgdGhpcywgdGhpcy5uZXdQYXJlbnQpOwoJCX0KCX0sCgkKCS8qKgoJICogTe+/vXRob2RlIGFwcGVs77+9ZSBsb3JzcXVlIGxlIHJldG91ciBhamF4IGVzdCBlZmZlY3R177+9CgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcGFyYW0JWE1MaHR0cFJlc3F1ZXN0CQlyZXNwb25zZQkJCQlMJ29iamV0IEFqYXgKCSAqIEByZXR1cm4Jdm9pZAoJICovCglfY29tcGxldGVEcm9wQWpheCA6IGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCXRyeSB7CgkJCWlmICh0aGlzLnN0cnVjdC5vbmRyb3BhamF4KHRoaXMsIHRoaXMubmV3UGFyZW50LCByZXNwb25zZS5yZXNwb25zZVRleHQsIGZhbHNlLCBudWxsKSkgewoJCQkJdmFyIG5ld0JyYW5jaCA9IG51bGw7CgkJCQlpZiAoIXRoaXMuYXNTaWJsaW5nKSB7CgkJCQkJaWYgKCF0aGlzLmNvcHlEcmFnKSB7CgkJCQkJCXRoaXMubW92ZSh0aGlzLm5ld1BhcmVudCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJbmV3QnJhbmNoID0gdGhpcy5uZXdQYXJlbnQuaW5zZXJ0SW50b0xhc3QodGhpcy5jbG9uZSgpKTsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCWlmICghdGhpcy5jb3B5RHJhZykgewoJCQkJCQl0aGlzLm1vdmVCZWZvcmUodGhpcy5uZXdQYXJlbnQpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCW5ld0JyYW5jaCA9IHRoaXMubmV3UGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLmNsb25lKCkpOwoJCQkJCX0KCQkJCX0KCQkJCXRoaXMuc3RydWN0Lm9uZHJvcGFqYXgodGhpcywgdGhpcy5uZXdQYXJlbnQsIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCwgdHJ1ZSwgbmV3QnJhbmNoKTsKCQkJfQoJCQl0aGlzLl9zZXRXYWl0SW1nKHRoaXMsIGZhbHNlKTsKCQl9IGNhdGNoIChlcnIpIHsKCQkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5vbmVycm9yYWpheCkgPT0gJ2Z1bmN0aW9uJykgewoJCQkJdGhpcy5zdHJ1Y3Qub25lcnJvcmFqYXgoJ2Ryb3AnLCByZXNwb25zZS5yZXNwb25zZVRleHQsIHRoaXMsIHRoaXMubmV3UGFyZW50KTsKCQkJfSBlbHNlIHsKCQkJCWFsZXJ0ICgnX2NvbXBsZXRlRHJvcEFqYXgoYmFzZSkgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCQl9CgkJfQoJfSwKCQoJLyoqCgkgKiBFbnZvaSBkJ3VuZSByZXF177+9dGUgQWpheCBzdWl0ZSDvv70gdW5lIO+/vWRpdGlvbiBkZSBicmFuY2hlCgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJX2VkaXRBamF4IDogZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSwgZXYpIHsKCQl0cnkgewoJCQl0aGlzLl9zZXRXYWl0SW1nKHRoaXMsIHRydWUsIHRydWUpOwoJCQl2YXIgcGFyYW1zID0gJ2JyYW5jaD0nICsgdGhpcy5zZXJpYWxpemUoKSArICcmYnJhbmNoX2lkPScgKyB0aGlzLmdldElkKCkgKyAnJnRyZWVfaWQ9JyArIHRoaXMudHJlZS5pZDsKCQkJcGFyYW1zICs9ICcmbmV3X3ZhbHVlPScgKyBuZXdWYWx1ZSArICcmb2xkX3ZhbHVlPScgKyBvbGRWYWx1ZTsKCQkJdmFyIG90aGVyUGFyYW1zID0gdGhpcy50cmVlLmdldFVSTFBhcmFtcyh0aGlzLnN0cnVjdC5lZGl0bGluayk7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJQYXJhbXMubGVuZ3RoOyBpKyspIHsKCQkJCXBhcmFtcyArPSAnJicgKyBvdGhlclBhcmFtc1tpXS5uYW1lICsgJz0nICsgb3RoZXJQYXJhbXNbaV0udmFsdWU7CgkJCX0KCQkJbmV3IEFqYXguVXBkYXRlciAoCgkJCQl0aGlzLnRyZWUuYWpheE9iaiwKCQkJCXRoaXMuc3RydWN0LmVkaXRsaW5rLAoJCQkJewoJCQkJCSdtZXRob2QnICAgICA6ICdwb3N0JywKCQkJCQkncGFyYW1ldGVycycgOiBwYXJhbXMsCgkJCQkJJ2V2YWxTY3JpcHRzJzogdHJ1ZSwKCQkJCQknb25Db21wbGV0ZScgOiBmdW5jdGlvbihldmVudCl7dGhpcy5fY29tcGxldGVFZGl0QWpheChldmVudCk7fS5iaW5kKHRoaXMpLAoJCQkJCSdvbkZhaWx1cmUnIDogZnVuY3Rpb24oZXZlbnQpe3RoaXMuX2ZhaWx1cmVFZGl0QWpheChldmVudCk7fS5iaW5kKHRoaXMpCgkJCQl9CgkJCSk7CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXRoaXMuX3NldFdhaXRJbWcodGhpcywgZmFsc2UsIHRydWUpOwoJCQl0aHJvdyAoJ19lZGl0QWpheChiYXNlKSA6ICcgKyBlcnIubWVzc2FnZSk7CgkJfQoJfSwKCQoJX2ZhaWx1cmVFZGl0QWpheCA6IGZ1bmN0aW9uICgpIHsKCQl0aGlzLl9zZXRXYWl0SW1nKHRoaXMsIGZhbHNlKTsKCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KSA9PSAnZnVuY3Rpb24nKSB7CgkJCXRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KCdlZGl0JywgJ2ZhaWx1cmUgcmVxdWVzdCcsIHRoaXMpOwoJCX0KCX0sCgkKCS8qKgoJICogTe+/vXRob2RlIGFwcGVs77+9ZSBsb3JzcXVlIGxlIHJldG91ciBhamF4IGVzdCBlZmZlY3R177+9CgkgKgoJICogQGFjY2Vzcwlwcml2YXRlCgkgKiBAcGFyYW0JWE1MaHR0cFJlc3F1ZXN0CQlyZXNwb25zZQkJCQlMJ29iamV0IEFqYXgKCSAqIEByZXR1cm4Jdm9pZAoJICovCglfY29tcGxldGVFZGl0QWpheCA6IGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCXRyeSB7CgkJCXRoaXMuX3NldFdhaXRJbWcodGhpcywgZmFsc2UsIHRydWUpOwoJCQl2YXIgcmVwID0gdGhpcy5zdHJ1Y3Qub25lZGl0YWpheCh0aGlzLCByZXNwb25zZS5yZXNwb25zZVRleHQsIHRoaXMudHh0LmlubmVySFRNTCk7CgkJCWlmIChyZXApIHsKCQkJCXRoaXMuc2V0VGV4dCgocmVwID09PSB0cnVlID8gcmVzcG9uc2UucmVzcG9uc2VUZXh0IDogcmVwKSk7CgkJCX0KCQkJdGhpcy5oaWRlRWRpdGFibGVFbGVtZW50KCk7CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXRoaXMuX3NldFdhaXRJbWcodGhpcywgZmFsc2UsIHRydWUpOwoJCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KSA9PSAnZnVuY3Rpb24nKSB7CgkJCQl0aGlzLnN0cnVjdC5vbmVycm9yYWpheCgnZWRpdCcsIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCwgdGhpcyk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCAoJ19jb21wbGV0ZU9wZW5Qb3B1bGF0ZSgnICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0ICsgJykgOiAnICsgZXJyLm1lc3NhZ2UpOwoJCQl9CgkJfQoJfSwKCQoJCgkvKioKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKgkJCQkJCQlUYWZlbFRyZWVCYXNlQnJhbmNoIEV2ZW50cyBNYW5hZ2VtZW50CgkgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJICovCgkKCWV2dF9vcGVuTW91c2VPdmVyIDogZnVuY3Rpb24gKGV2KSB7CgkJaWYgKEV2ZW50LmVsZW1lbnQpIHsKCQkJdmFyIG9iaiA9IEV2ZW50LmVsZW1lbnQoZXYpOwoJCQl2YXIgaW1nID0gdGhpcy5fZ2V0SW1nSW5mbyhvYmopOwoJCQlvYmouc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyBpbWcudHlwZSArICdfb3ZlcicgKyBpbWcubnVtYmVyICsgJy5naWYnOwoJCX0KCX0sCgkKCWV2dF9vcGVuTW91c2VPdXQgOiBmdW5jdGlvbiAoZXYpIHsKCQlpZiAoRXZlbnQuZWxlbWVudCkgewoJCQl2YXIgb2JqID0gRXZlbnQuZWxlbWVudChldik7CgkJCXZhciBpbWcgPSB0aGlzLl9nZXRJbWdJbmZvKG9iaik7CgkJCW9iai5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIGltZy50eXBlLnJlcGxhY2UoL19vdmVyL2csICcnKSArIGltZy5udW1iZXIgKyAnLmdpZic7CgkJfQoJfSwKCQoJZXZ0X3Nob3dUb29sdGlwIDogZnVuY3Rpb24gKGV2KSB7CgkJdGhpcy5kaXNwbGF5VG9vbHRpcCA9IHRydWU7CgkJc2V0VGltZW91dCh0aGlzLnNob3dUb29sdGlwLmJpbmQodGhpcyksIHRoaXMudHJlZS5kdXJhdGlvblRvb2x0aXBTaG93KTsKCX0sCgkKCWV2dF9oaWRlVG9vbHRpcCA6IGZ1bmN0aW9uIChldikgewoJCXRoaXMuZGlzcGxheVRvb2x0aXAgPSBmYWxzZTsKCQlzZXRUaW1lb3V0KHRoaXMuaGlkZVRvb2x0aXAuYmluZCh0aGlzKSwgdGhpcy50cmVlLmR1cmF0aW9uVG9vbHRpcEhpZGUpOwoJfSwKCQoJLyoqCgkgKiBN77+9dGhvZGUgYXBwZWzvv71lIGxvcnNxdWUgbGEgc291cmlzIHBhc3NlIHN1ciBsZSBub2V1ZAoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JRWxlbWVudAkJCQlldgkJCQkJCUwn77+9bO+/vW1lbnQgZO+/vWNsZW5jaGV1cgoJICogQHJldHVybglib29sZWFuCQkJCQkJCQkJCVRydWUgc2kgbGUgY2hhbmdlbWVudCBzJ2VzdCBmYWl0LCBmYWxzZSBzaW5vbgoJICovCglzZXRNb3VzZU92ZXIgOiBmdW5jdGlvbiAoZXYpIHsKCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9ubW91c2VvdmVyKSA9PSAnZnVuY3Rpb24nKSB7CgkJCXJldHVybiB0aGlzLnN0cnVjdC5vbm1vdXNlb3Zlcih0aGlzLCBldik7CgkJfQoJfSwKCQoJLyoqCgkgKiBN77+9dGhvZGUgYXBwZWzvv71lIGxvcnNxdSdvbiBjbGljIHN1ciBsZSBub2V1ZAoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JRWxlbWVudAkJCQlldgkJCQkJCUwn77+9bO+/vW1lbnQgZO+/vWNsZW5jaGV1cgoJICogQHJldHVybglib29sZWFuCQkJCQkJCQkJCVRydWUgc2kgbGUgY2hhbmdlbWVudCBzJ2VzdCBmYWl0LCBmYWxzZSBzaW5vbgoJICovCglzZXRNb3VzZU91dCA6IGZ1bmN0aW9uIChldikgewoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25tb3VzZW91dCkgPT0gJ2Z1bmN0aW9uJykgewoJCQlyZXR1cm4gdGhpcy5zdHJ1Y3Qub25tb3VzZW91dCh0aGlzLCBldik7CgkJfQoJfSwKCQoJLyoqCgkgKiBN77+9dGhvZGUgYXBwZWzvv71lIGxvcnNxdSdvbiBjbGlxdWUgc3VyIGxlIG5vZXVkIChtb3VzZWRvd24pCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlFbGVtZW50CQkJCWV2CQkJCQkJTCfvv71s77+9bWVudCBk77+9Y2xlbmNoZXVyCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0TW91c2VEb3duIDogZnVuY3Rpb24gKGV2KSB7CgkJLy8gUG91ciB1bmUgcmFpc29uIG91IHVuZSBhdXRyZSwgbGUgbW91c2Vkb3duIGR1IGRpdiBwcmluY2lwYWwgbidlc3QgcGFzIGFwcGVs77+9Li4uCgkJdGhpcy50cmVlLmV2dF9zZXRBc0N1cnJlbnQoZXYpOwoJCWlmICh0aGlzLnRyZWUuc2VsZWN0ZWRCcmFuY2hTaG93ZWQpIHsKCQkJaWYgKCF0aGlzLmlzU2VsZWN0ZWQoKSkgewoJCQkJdGhpcy5zZWxlY3QoZXYpOwoJCQkJdGhpcy5va2F5Rm9yVW5zZWxlY3QgPSBmYWxzZTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMub2theUZvclVuc2VsZWN0ID0gdHJ1ZTsKCQkJfQoJCX0KCQlpZiAodGhpcy50b29sdGlwKSB7CgkJCXRoaXMuZGlzcGxheVRvb2x0aXAgPSBmYWxzZTsKCQkJdGhpcy5oaWRlVG9vbHRpcCgpOwoJCX0KCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9ubW91c2Vkb3duKSA9PSAnZnVuY3Rpb24nKSB7CgkJCXRoaXMuc3RydWN0Lm9ubW91c2Vkb3duKHRoaXMsIGV2KTsKCQl9Cgl9LAoJCgkvKioKCSAqIE3vv710aG9kZSBhcHBlbO+/vWUgbG9yc3F1J29uICJk77+9Y2xpcXVlIgoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JRWxlbWVudAkJCQlldgkJCQkJCUwn77+9bO+/vW1lbnQgZO+/vWNsZW5jaGV1cgoJICogQHJldHVybgl2b2lkCgkgKi8KCXNldE1vdXNlVXAgOiBmdW5jdGlvbiAoZXYpIHsKCQlpZiAodGhpcy50cmVlLmxhc3RFZGl0ZWQpIHsKCQkJdGhpcy50cmVlLmxhc3RFZGl0ZWQuaGlkZUVkaXRhYmxlKGV2KTsKCQl9CgkJLy8gU2kgbGEgYnJhbmNoZSBlc3QgZO+/vWrvv70gc++/vWxlY3Rpb25u77+9ZSwgb24gbGEgZO+/vXNlbGVjdGlvbm5lCgkJaWYgKHRoaXMuaXNTZWxlY3RlZCgpICYmIHRoaXMub2theUZvclVuc2VsZWN0KSB7CgkJCS8vdGhpcy51bnNlbGVjdCgpOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJdGhpcy5va2F5Rm9yVW5zZWxlY3QgPSB0cnVlOwoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25tb3VzZXVwKSA9PSAnZnVuY3Rpb24nKSB7CgkJCXRoaXMuc3RydWN0Lm9ubW91c2V1cCh0aGlzLCBldik7CgkJfQoJfSwKCQoJLyoqCgkgKiBN77+9dGhvZGUgYXBwZWzvv71lIGxvcnNxdSdvbiBjbGlxdWUgc3VyIGxlIG5vZXVkCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlFbGVtZW50CQkJCWV2CQkJCQkJTCfvv71s77+9bWVudCBk77+9Y2xlbmNoZXVyCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJc2V0Q2xpY2sgOiBmdW5jdGlvbiAoZXYpIHsKCQlpZiAodGhpcy50cmVlLmxhc3RFZGl0ZWQpIHJldHVybiBmYWxzZTsKCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9uY2xpY2spID09ICdmdW5jdGlvbicpIHsKCQkJcmV0dXJuIHRoaXMuc3RydWN0Lm9uY2xpY2sodGhpcywgZXYpOwoJCX0KCX0sCgkKCS8qKgoJICogRm9uY3Rpb24gYXBwZWzvv71lIGxvcnNxdSdvbiBjbGlxdWUgc3VyIHVuZSBjaGVja2JveAoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JSFRNTGltZ0VsZW1lbnQJCWV2CQkJCQkJTCfvv71s77+9bWVudCBk77+9Y2xlbmNoZXVyCgkgKiBAcmV0dXJuCWJvb2xlYW4JCQkJCQkJCQkJVHJ1ZSBzaSBsZSBjaGFuZ2VtZW50IHMnZXN0IGZhaXQsIGZhbHNlIHNpbm9uCgkgKi8KCWNoZWNrT25DbGljayA6IGZ1bmN0aW9uIChldikgewoJCWlmICh0aGlzLnRyZWUuY2hlY2tib3hlcyAmJiB0aGlzLmNoZWNrYm94KSB7CgkJCXZhciBjaGVja2VkID0gKHRoaXMuaXNDaGVja2VkKCkgPiAwKSA/IDAgOiAxOwoJCQkKCQkJJCh0aGlzLnRyZWUuY2hlY2tib3hJRFByZWZpeCsgdGhpcy5zdHJ1Y3QuaWQpLnZhbHVlID0gY2hlY2tlZDsKCQkJCgkJCXZhciBvayA9IHRydWU7CgkJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25iZWZvcmVjaGVjaykgPT0gJ2Z1bmN0aW9uJykgewoJCQkJb2sgPSB0aGlzLnN0cnVjdC5vbmJlZm9yZWNoZWNrKHRoaXMsIGNoZWNrZWQsIGV2KTsKCQkJfQoJCQlpZiAob2spIHsKCQkJCXRoaXMuY2hlY2soY2hlY2tlZCk7CgkJCQlpZiAodGhpcy50cmVlLmNoZWNrYm94ZXNUaHJlZVN0YXRlKSB7CgkJCQkJdGhpcy5fbWFuYWdlQ2hlY2tUaHJlZVN0YXRlKHRoaXMsIGNoZWNrZWQpOwoJCQkJCXRoaXMuX2FkanVzdFBhcmVudENoZWNrKCk7CgkJCQl9CgkJCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9uY2hlY2spID09ICdmdW5jdGlvbicpIHsKCQkJCQl0aGlzLnN0cnVjdC5vbmNoZWNrKHRoaXMsIGNoZWNrZWQsIGV2KTsKCQkJCX0KCQkJfQoJCX0KCX0sCgkvKioKCSAqIEZvbmN0aW9uIGFwcGVs77+9ZSBsb3JzcXUnb24gY2xpcXVlIHN1ciB1bmUgY2hlY2tib3gKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCUhUTUxpbWdFbGVtZW50CQlldgkJCQkJCUwn77+9bO+/vW1lbnQgZO+/vWNsZW5jaGV1cgoJICogQHJldHVybglib29sZWFuCQkJCQkJCQkJCVRydWUgc2kgbGUgY2hhbmdlbWVudCBzJ2VzdCBmYWl0LCBmYWxzZSBzaW5vbgoJICovCglyYWRpb09uQ2xpY2sgOiBmdW5jdGlvbiAoZXYpIHsKCQkkJCgiaW5wdXRbbmFtZT0iK2V2LnRhcmdldC5uYW1lKyJdIikuZWFjaChmdW5jdGlvbihvKSB7CgkJCW8uY2hlY2tlZCA9ICcnOwoJCX0pOyAKCQlldi50YXJnZXQuY2hlY2tlZCA9ICdjaGVja2VkJzsKCQkKCQlpZiAodGhpcy50cmVlLnJhZGlvcykgewoJCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9ucmFkaW8pID09ICdmdW5jdGlvbicpIHsKCQkJCXRoaXMuc3RydWN0Lm9ucmFkaW8odGhpcyAsZXYpOwoJCQl9CgkJCWNoZWNrZWQgPSAiY2hlY2tlZCI7CgkJfQoJfSwKCQoJLyoqCgkgKiBN77+9dGhvZGUgYXBwZWzvv71lIGxvcnMgZGUgbCdvdXZlcnR1cmUgb3UgZmVybWV0dXJlIGQndW4gbm9ldWQKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCUhUTUxpbWdFbGVtZW50CQlldgkJCQkJCUwn77+9bO+/vW1lbnQgZO+/vWNsZW5jaGV1cgoJICogQHJldHVybglib29sZWFuCQkJCQkJCQkJCVRydWUgc2kgbGUgY2hhbmdlbWVudCBzJ2VzdCBmYWl0LCBmYWxzZSBzaW5vbgoJICovCglzZXRPcGVuIDogZnVuY3Rpb24gKGV2KSB7CgkJaWYgKCF0aGlzLmhhc0NoaWxkcmVuKCkpIHJldHVybiBmYWxzZTsKCQl2YXIgb2sgPSB0cnVlOwoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25iZWZvcmVvcGVuKSA9PSAnZnVuY3Rpb24nKSB7CgkJCW9rID0gdGhpcy5zdHJ1Y3Qub25iZWZvcmVvcGVuKHRoaXMsIHRoaXMuc3RydWN0Lm9wZW4sIGV2KTsKCQl9CgkJaWYgKCFvaykgcmV0dXJuIGZhbHNlOwoJCS8vIE9uIG5lIHBldXQgcGFzIGZlcm1lciBsYSBicmFuY2hlIHNpIGVsbGUgc3ViaXQgdW4g77+9du+/vW5lbWVudCBkJ291dmVydHVyZQoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25vcGVucG9wdWxhdGUpID09ICdmdW5jdGlvbicgJiYgIXRoaXMuZXZlbnRhYmxlKSByZXR1cm4gZmFsc2U7CgkJdGhpcy5vcGVuSXQoKHRoaXMuaXNPcGVuZWQoKSkgPyBmYWxzZSA6IHRydWUpOwoJCWlmICh0eXBlb2YodGhpcy5zdHJ1Y3Qub25vcGVuKSA9PSAnZnVuY3Rpb24nKSB7CgkJCXJldHVybiB0aGlzLnN0cnVjdC5vbm9wZW4odGhpcywgdGhpcy5zdHJ1Y3Qub3BlbiwgZXYpOwoJCX0gZWxzZSBpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9ub3BlbnBvcHVsYXRlKSA9PSAnZnVuY3Rpb24nICYmIHRoaXMuaXNPcGVuZWQoKSAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PSAwKSB7CgkJCWlmICghdGhpcy5ldmVudGFibGUpIHJldHVybiBmYWxzZTsKCQkJcmV0dXJuIHRoaXMuX29wZW5Qb3B1bGF0ZShldik7CgkJfQoJCXJldHVybiB0cnVlOwoJfSwKCQoJLyoqCgkgKiBBam91dGUgdW5lIGZvbmN0aW9uIHV0aWxpc2F0ZXVyIGF1IHN0YXJ0IGR1IGRyYWcKCSAqCgkgKiBAYWNjZXNzIHB1YmxpYwoJICogQGF1dGhvciBjb3Vjb3Vkb20KCSAqIEBwYXJhbSBIVE1MT2JqZWN0IGRyYWcgbCdvYmpldCBkcmFnZ++/vQoJICogQHBhcmFtIEhUTUxPYmplY3QgZHJhZ2JpcwoJICovCglvbmRyYWdzdGFydGVmZmVjdCA6IGZ1bmN0aW9uIChkcmFnLCBkcmFnYmlzKSB7CgkJdmFyIGRyYWdPYmogPSB0aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZE9iaihkcmFnLmlkKTsKCQlpZiAoIWRyYWdPYmopIHsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyZWUub3RoZXJUcmVlcy5sZW5ndGg7IGkrKykgewoJCQkJZHJhZ09iaiA9IHRoaXMudHJlZS5vdGhlclRyZWVzW2ldLmdldEJyYW5jaEJ5SWRPYmooZHJhZy5pZCk7CgkJCQlpZiAoZHJhZ09iaikgYnJlYWs7CgkJCX0KCQkJaWYgKCFkcmFnT2JqKSByZXR1cm4gZmFsc2U7CgkJfQoJCS8vIGFwcGVsIGRlIGxhIGZ1bmN0aW9uIHVzZXIKCQlpZiAodHlwZW9mKGRyYWdPYmouc3RydWN0Lm9uZHJhZ3N0YXJ0ZWZmZWN0KSA9PSAnZnVuY3Rpb24nKSB7CgkJCXZhciBvayA9IGRyYWdPYmouc3RydWN0Lm9uZHJhZ3N0YXJ0ZWZmZWN0KGRyYWdPYmopOwoJCX0KCX0sCgkKCS8qKgoJICogQWpvdXRlIHVuZSBmb25jdGlvbiB1dGlsaXNhdGV1ciBhdSBlbmQgZHUgZHJhZwoJICoKCSAqIEBhY2Nlc3MgcHVibGljCgkgKiBAYXV0aG9yIGNvdWNvdWRvbQoJICogQHBhcmFtIEhUTUxPYmplY3QgZHJhZyBsJ29iamV0IGRyYWdn77+9CgkgKiBAcGFyYW0gSFRNTE9iamVjdCBkcmFnYmlzCgkgKi8KCW9uZHJhZ2VuZGVmZmVjdCA6IGZ1bmN0aW9uIChkcmFnLCBkcmFnYmlzKSB7CgkJdmFyIGRyYWdPYmogPSB0aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZE9iaihkcmFnLmlkKTsKCQlpZiAoIWRyYWdPYmopIHsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyZWUub3RoZXJUcmVlcy5sZW5ndGg7IGkrKykgewoJCQkJZHJhZ09iaiA9IHRoaXMudHJlZS5vdGhlclRyZWVzW2ldLmdldEJyYW5jaEJ5SWRPYmooZHJhZy5pZCk7CgkJCQlpZiAoZHJhZ09iaikgYnJlYWs7CgkJCX0KCQkJaWYgKCFkcmFnT2JqKSByZXR1cm4gZmFsc2U7CgkJfQoJCS8vIGFwcGVsIGRlIGxhIGZ1bmN0aW9uIHVzZXIKCQlpZiAodHlwZW9mKGRyYWdPYmouc3RydWN0Lm9uZHJhZ2VuZGVmZmVjdCkgPT0gJ2Z1bmN0aW9uJykgewoJCQl2YXIgb2sgPSBkcmFnT2JqLnN0cnVjdC5vbmRyYWdlbmRlZmZlY3QoZHJhZ09iaik7CgkJfQoJfSwKCQoJLyoqCgkgKiBN77+9dGhvZGUgYXBwZWzvv71lIGxvcnNxdSdvbiBkcm9wIHN1ciBsZSBub2V1ZAoJICoKCSAqIEljaSwgbGUgdGhpcyBjb3JyZXNwb25kIO+/vSBsJ29iamV0IHF1aSBy77+9Y2VwdGlvbm5lIGxlIGRyYWcKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCUhUTUxFbGVtZW50CQkJZHJhZwkJCQkJTCfvv71s77+9bWVudCBkcmFnZ3Xvv70KCSAqIEByZXR1cm4JYm9vbGVhbgkJCQkJCQkJCQlUcnVlIHNpIGxlIGNoYW5nZW1lbnQgcydlc3QgZmFpdCwgZmFsc2Ugc2lub24KCSAqLwoJc2V0RHJvcCA6IGZ1bmN0aW9uIChkcmFnLCBodG1sLCBodG1sMiwgZXYpIHsKCQl2YXIgZHJhZ09iaiA9IHRoaXMudHJlZS5nZXRCcmFuY2hCeUlkT2JqKGRyYWcuaWQpOwoJCS8vIFNpIGwnb2JqZXQgbidlc3QgcGFzIGRhbnMgbCdhcmJyZSBjb3VyYW50LCBvbiB2YSBjaGVyY2hlciBkYW5zIGxlcyBhdXRyZXMgbGnvv71zCgkJaWYgKCFkcmFnT2JqKSB7CgkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50cmVlLm90aGVyVHJlZXMubGVuZ3RoOyBpKyspIHsKCQkJCWRyYWdPYmogPSB0aGlzLnRyZWUub3RoZXJUcmVlc1tpXS5nZXRCcmFuY2hCeUlkT2JqKGRyYWcuaWQpOwoJCQkJaWYgKGRyYWdPYmopIGJyZWFrOwoJCQl9CgkJCWlmICghZHJhZ09iaikgcmV0dXJuIGZhbHNlOwoJCX0KCQl2YXIgYWx0ID0gKGRyYWdPYmoudHJlZS5kcm9wQUxUKSA/IFRhZmVsVHJlZU1hbmFnZXIuYWx0T24oZXYpIDogZmFsc2U7CgkJdmFyIGN0cmwgPSAoZHJhZ09iai50cmVlLmRyb3BDVFJMKSA/IFRhZmVsVHJlZU1hbmFnZXIuY3RybE9uKGV2KSB8fCBUYWZlbFRyZWVNYW5hZ2VyLm1ldGFPbihldikgOiBmYWxzZTsKCQl2YXIgb2sgPSB0cnVlOwoJCWlmICgodGhpcy50cmVlLmlkID09IGRyYWdPYmoudHJlZS5pZCAmJiB0aGlzLmlzQ2hpbGQoZHJhZ09iaikpIHx8ICFkcmFnT2JqLmV2ZW50YWJsZSB8fCAhdGhpcy5ldmVudGFibGUpIHJldHVybiBmYWxzZTsKCQkvLyBGb25jdGlvbiB1dGlsaXNhdGV1ciBhdmFudCBsZSBkcm9wCgkJaWYgKHR5cGVvZihkcmFnT2JqLnN0cnVjdC5vbmRyb3ApID09ICdmdW5jdGlvbicpIHsKCQkJb2sgPSBkcmFnT2JqLnN0cnVjdC5vbmRyb3AoZHJhZ09iaiwgdGhpcywgZmFsc2UsIG51bGwsIGV2KTsKCQl9CgkJaWYgKG9rKSB7CgkJCXZhciBhc1NpYmxpbmcgPSAoKGRyYWdPYmoudHJlZS5iZWhhdmlvdXJEcm9wID09IDEgfHwgZHJhZ09iai50cmVlLmJlaGF2aW91ckRyb3AgPT0gMykgJiYgIWFsdCB8fCAoZHJhZ09iai50cmVlLmJlaGF2aW91ckRyb3AgPT0gMCB8fCBkcmFnT2JqLnRyZWUuYmVoYXZpb3VyRHJvcCA9PSAyKSAmJiBhbHQpID8gdHJ1ZSA6IGZhbHNlOwoJCQl2YXIgY29weURyYWcgPSAoKGRyYWdPYmoudHJlZS5iZWhhdmlvdXJEcm9wID09IDIgfHwgZHJhZ09iai50cmVlLmJlaGF2aW91ckRyb3AgPT0gMykgJiYgIWN0cmwgfHwgKGRyYWdPYmoudHJlZS5iZWhhdmlvdXJEcm9wID09IDAgfHwgZHJhZ09iai50cmVlLmJlaGF2aW91ckRyb3AgPT0gMSkgJiYgY3RybCkgPyB0cnVlIDogZmFsc2U7CgkJCS8vIE9uIHZhIGNoZXJjaGVyIGxlcyBub2V1ZHMgc3VyIGxlIHNlcnZldXIgcydpbCB5IGVuIGEKCQkJaWYgKCFhc1NpYmxpbmcgJiYgdHlwZW9mKHRoaXMuc3RydWN0Lm9ub3BlbnBvcHVsYXRlKSA9PSAnZnVuY3Rpb24nICYmICF0aGlzLmlzT3BlbmVkKCkgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPT0gMCkgewoJCQkJdGhpcy5fb3BlblBvcHVsYXRlKGV2KTsKCQkJfQoJCQlpZiAodHlwZW9mKGRyYWdPYmouc3RydWN0Lm9uZHJvcGFqYXgpID09ICdmdW5jdGlvbicpIHsKCQkJCWRyYWdPYmouX3NldERyb3BBamF4KHRoaXMsIGFzU2libGluZywgY29weURyYWcsIGV2KTsKCQkJfSBlbHNlIHsKCQkJCS8vIERyb3Agbm9ybWFsCgkJCQl2YXIgbmV3QnJhbmNoID0gbnVsbDsKCQkJCWlmICghYXNTaWJsaW5nKSB7CgkJCQkJaWYgKCFjb3B5RHJhZykgewoJCQkJCQlkcmFnT2JqLm1vdmUodGhpcyk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJbmV3QnJhbmNoID0gdGhpcy5pbnNlcnRJbnRvTGFzdChkcmFnT2JqLmNsb25lKCkpOwoJCQkJCX0KCQkJCX0gZWxzZSB7CgkJCQkJaWYgKCFjb3B5RHJhZykgewoJCQkJCQlkcmFnT2JqLm1vdmVCZWZvcmUodGhpcyk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJbmV3QnJhbmNoID0gdGhpcy5pbnNlcnRCZWZvcmUoZHJhZ09iai5jbG9uZSgpKTsKCQkJCQl9CgkJCQl9CgkJCQkvLyBGb25jdGlvbiB1dGlsaXNhdGV1ciBhcHLvv71zIGxlIGRyb3AKCQkJCWlmICh0eXBlb2YoZHJhZ09iai5zdHJ1Y3Qub25kcm9wKSA9PSAnZnVuY3Rpb24nKSB7CgkJCQkJb2sgPSBkcmFnT2JqLnN0cnVjdC5vbmRyb3AoZHJhZ09iaiwgdGhpcywgdHJ1ZSwgbmV3QnJhbmNoLCBldik7CgkJCQl9CQkJCQoJCQl9CgkJfQoJfSwKCQoJLyoqCgkgKiBN77+9dGhvZGUgYXBwZWzvv71lIGxvcnNxdSdvbiBkb3VibGUtY2xpYyBzdXIgbGUgbm9ldWQKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCUVsZW1lbnQJCQkJZXYJCQkJCQlMJ++/vWzvv71tZW50IGTvv71jbGVuY2hldXIKCSAqIEByZXR1cm4JYm9vbGVhbgkJCQkJCQkJCQlUcnVlIHNpIGxlIGNoYW5nZW1lbnQgcydlc3QgZmFpdCwgZmFsc2Ugc2lub24KCSAqLwoJc2V0RGJsQ2xpY2sgOiBmdW5jdGlvbiAoZXYpIHsKCQlpZiAodGhpcy50cmVlLmxhc3RFZGl0ZWQpIHJldHVybiBmYWxzZTsKCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9uZGJsY2xpY2spID09ICdmdW5jdGlvbicpIHsKCQkJdGhpcy5zdHJ1Y3Qub25kYmxjbGljayh0aGlzLCBldik7CgkJfQoJCWlmICh0aGlzLnN0cnVjdC5lZGl0YWJsZSAmJiB0aGlzLmVkaXRhYmxlSW5wdXQpIHsKCQkJaWYgKCF0aGlzLnRyZWUubGFzdEVkaXRlZCB8fCB0aGlzLnRyZWUubGFzdEVkaXRlZC5nZXRJZCgpICE9IHRoaXMuZ2V0SWQoKSkgewoJCQkJdGhpcy5lZGl0YWJsZUlucHV0LnN0eWxlLndpZHRoID0gKHRoaXMudHh0Lm9mZnNldFdpZHRoICsgMjApICsgJ3B4JzsKCQkJfQoJCQlFbGVtZW50LmhpZGUodGhpcy50eHQpOwoJCQl0aGlzLmVkaXRhYmxlSW5wdXQudmFsdWUgPSB0aGlzLnR4dC5pbm5lckhUTUw7CgkJCXRoaXMuZWRpdGFibGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCQkJdGhpcy5lZGl0YWJsZUlucHV0LmZvY3VzKCk7CgkJCXRoaXMudHJlZS5sYXN0RWRpdGVkID0gdGhpczsKCQl9Cgl9LAoJCgkvKioKCSAqIEVubO+/vXZlIGwn77+9ZGl0aW9uIGRlIGxhIGJyYW5jaGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCUV2ZW50CQkJZXYJCQkJCQlMJ++/vXbvv71uZW1lbnQgZO+/vWNsZW5jaGV1cgoJICogQHJldHVybglib29sZWFuCQkJCQkJCQkJVHJ1ZSBzaSBsJ++/vWzvv71tZW50IGEg77+9dO+/vSBjYWNo77+9LCBmYWxzZSBzaW5vbgoJICovCgloaWRlRWRpdGFibGUgOiBmdW5jdGlvbiAoZXYpIHsKCQlpZiAodGhpcy5lZGl0YWJsZUlucHV0ICYmIHRoaXMuc3RydWN0LmVkaXRhYmxlKSB7CgkJCXZhciBvYmogPSB0aGlzLmVkaXRhYmxlSW5wdXQ7CgkJCXZhciB2YWx1ZSA9IG9iai52YWx1ZTsKCQkJaWYgKHRoaXMuc3RydWN0Lm9uZWRpdGFqYXgpIHsKCQkJCWlmICghdGhpcy5ldmVudGFibGUpIHJldHVybiBmYWxzZTsKCQkJCXRoaXMuX2VkaXRBamF4KG9iai52YWx1ZSwgdGhpcy50eHQuaW5uZXJIVE1MLCBldik7CgkJCX0gZWxzZSB7CgkJCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0Lm9uZWRpdCkgPT0gJ2Z1bmN0aW9uJykgewoJCQkJCXZhbHVlID0gdGhpcy5zdHJ1Y3Qub25lZGl0KHRoaXMsIG9iai52YWx1ZSwgdGhpcy50eHQuaW5uZXJIVE1MLCBldik7CgkJCQl9CgkJCQl0aGlzLnNldFRleHQodmFsdWUpOwoJCQkJdGhpcy5oaWRlRWRpdGFibGVFbGVtZW50KCk7CgkJCX0KCQkJcmV0dXJuIHRydWU7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0sCgkKCWhpZGVFZGl0YWJsZUVsZW1lbnQgOiBmdW5jdGlvbiAoKSB7CgkJRWxlbWVudC5oaWRlKHRoaXMuZWRpdGFibGVJbnB1dCk7CgkJdGhpcy5lZGl0YWJsZUlucHV0LnZhbHVlID0gdGhpcy5nZXRUZXh0KCk7CgkJdGhpcy50eHQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgkJdGhpcy50cmVlLmxhc3RFZGl0ZWQgPSBudWxsOwoJfQp9OwoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi8qKgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKgkJCQkJCQlUYWZlbFRyZWVSb290IENsYXNzCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqLwoKdmFyIFRhZmVsVHJlZVJvb3QgPSBDbGFzcy5jcmVhdGUoKTsKClRhZmVsVHJlZVJvb3QucHJvdG90eXBlID0gT2JqZWN0LmV4dGVuZChuZXcgVGFmZWxUcmVlQmFzZUJyYW5jaCwgewoJLyoqCgkgKiBDb25zdHJ1Y3RldXIgZCd1biDvv71s77+9bWVudCByYWNpbmUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCVRhZmVsVHJlZQkJCXRyZWUJCQkJCUwnb2JqZXQgVGFmZWxUcmVlIGNvdXJhbnQKCSAqIEBwYXJhbQlvYmplY3QJCQkJc3RydWN0CQkJCQlMZXMgaW5mb3MgY29uY2VybmFudCBsYSByYWNpbmUgZXN0IHNlcyBlbmZhbnRzCgkgKiBAcGFyYW0JaW50ZWdlcgkJCQlsZXZlbAkJCQkJTGUgbml2ZWF1IGR1IG5vZXVkICgwIHBvdXIgbGEgcmFjaW5lKQoJICogQHBhcmFtCWJvb2xlYW4JCQkJYmVmb3JlCQkJCQlUcnVlIHMnaWwgeSBhIGRlcyBub2V1ZHMgYXZhbnQKCSAqIEBwYXJhbQlib29sZWFuCQkJCWFmdGVyCQkJCQlUcnVlIHMnaWwgeSBhIGRlcyBub2V1ZHMgYXBy77+9cwoJICovCglpbml0aWFsaXplIDogZnVuY3Rpb24gKHRyZWUsIHN0cnVjdCwgbGV2ZWwsIGJlZm9yZSwgYWZ0ZXIsIHBvcykgewoJCXRoaXMuaXNSb290ID0gdHJ1ZTsKCQl0aGlzLnRyZWUgPSB0cmVlOwoJCXRoaXMucG9zID0gcG9zOwoJCXRoaXMubGV2ZWwgPSBsZXZlbDsKCQl0aGlzLnN0cnVjdCA9IHN0cnVjdDsKCQl0aGlzLnRyZWUuaWRUcmVlKys7CgkJdGhpcy5pZE9iaiA9IHRoaXMudHJlZS5pZFRyZWVCcmFuY2ggKyB0aGlzLnRyZWUuaWRUcmVlOwoJCXRoaXMuaGFzU2libGluZ3NCZWZvcmUgPSBiZWZvcmU7CgkJdGhpcy5oYXNTaWJsaW5nc0FmdGVyID0gYWZ0ZXI7CgkJdGhpcy5ldmVudGFibGUgPSB0cnVlOwoJCXRoaXMubG9hZGVkID0gdHJ1ZTsKCQl0aGlzLmNoaWxkcmVuID0gW107CgkJdGhpcy5jb3BpZWRUaW1lcyA9IDA7CgoJCXRoaXMuX3NldFByb3BlcnRpZXMoKTsKCQl0aGlzLl9zZXRGdW5jdGlvbnMoKTsKCQkKCQl0aGlzLm9iaiA9IHRoaXMuX2FkZFJvb3QoKTsKCQl0aGlzLmNvbnRlbnQgPSB0aGlzLl9hZGRDb250ZW50KCk7CgkJdGhpcy5vYmouYXBwZW5kQ2hpbGQodGhpcy50YWJsZSk7CgkJdGhpcy5fc2V0Q2hpbGRyZW4odGhpcyk7CgkJdGhpcy5fc2V0QWN0aW9ucygpOwoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBxdWkgaW5z77+9cmUgdW5lIGJyYW5jaGUgYXZhbnQgY2VsbGUgY291cmFudGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCW9iamVjdAkJCQlpdGVtCQkJCQlVbiBvYmpldCBhdSBmb3JtYXQgVGFmZWxUcmVlQnJhbmNoCgkgKiBAcmV0dXJuCVRhZmVsVHJlZVJvb3QJCQkJCQkJCUxhIG5vdXZlbGxlIHJhY2luZSBpbnPvv71y77+9ZQoJICovCglpbnNlcnRCZWZvcmUgOiBmdW5jdGlvbiAoaXRlbSkgewoJCWlmICh0aGlzLnBhcmVudCkgcmV0dXJuIGZhbHNlOwoJCXZhciBwb3MgPSB0aGlzLnBvczsKCQl2YXIgcG9zQmVmb3JlID0gcG9zICsgMTsKCQl2YXIgaXNOb3RGaXJzdCA9IChwb3MgPT0gMCkgPyBmYWxzZSA6IHRydWU7CgkJdGhpcy5fbW92ZVBhcnRTdHJ1Y3RSb290KHBvcyk7CgkJdGhpcy50cmVlLnJvb3RzW3Bvc10gPSBuZXcgVGFmZWxUcmVlUm9vdCh0aGlzLnRyZWUsIGl0ZW0sIHRoaXMubGV2ZWwsIGlzTm90Rmlyc3QsIHRydWUsIHBvcyk7CgkJdGhpcy50cmVlLmRpdi5pbnNlcnRCZWZvcmUodGhpcy50cmVlLnJvb3RzW3Bvc10ub2JqLCB0aGlzLm9iaik7CgkJdGhpcy5fbWFuYWdlQWZ0ZXJSb290SW5zZXJ0KHBvcyk7CgkJcmV0dXJuIHRoaXMudHJlZS5yb290c1twb3NdOwoJfSwKCgkvKioKCSAqIE3vv710aG9kZSBxdWkgaW5z77+9cmUgdW5lIGJyYW5jaGUgYXBy77+9cyBjZWxsZSBjb3VyYW50ZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0Jb2JqZWN0CQkJCWl0ZW0JCQkJCVVuIG9iamV0IGF1IGZvcm1hdCBUYWZlbFRyZWVCcmFuY2gKCSAqIEByZXR1cm4JVGFmZWxUcmVlUm9vdAkJCQkJCQkJTGEgbm91dmVsbGUgcmFjaW5lIGluc++/vXLvv71lCgkgKi8KCWluc2VydEFmdGVyIDogZnVuY3Rpb24gKGl0ZW0pIHsKCQlpZiAodGhpcy5wYXJlbnQpIHJldHVybiBmYWxzZTsKCQl2YXIgcG9zID0gdGhpcy5wb3MgKyAxOwoJCXZhciBwb3NCZWZvcmUgPSBwb3MgKyAxOwoJCXZhciBpc05vdExhc3QgPSAocG9zID09IHRoaXMudHJlZS5yb290cy5sZW5ndGgpID8gZmFsc2UgOiB0cnVlOwoJCXRoaXMuX21vdmVQYXJ0U3RydWN0Um9vdChwb3MpOwoJCXRoaXMudHJlZS5yb290c1twb3NdID0gbmV3IFRhZmVsVHJlZVJvb3QodGhpcy50cmVlLCBpdGVtLCB0aGlzLmxldmVsLCB0cnVlLCBpc05vdExhc3QsIHBvcyk7CgkJdHJ5IHsKCQkJdGhpcy50cmVlLmRpdi5pbnNlcnRCZWZvcmUodGhpcy50cmVlLnJvb3RzW3Bvc10ub2JqLCB0aGlzLnRyZWUucm9vdHNbcG9zQmVmb3JlXS5vYmopOwoJCX0gY2F0Y2ggKGVycikgewoJCQl0aGlzLnRyZWUuZGl2LmFwcGVuZENoaWxkKHRoaXMudHJlZS5yb290c1twb3NdLm9iaik7CgkJfQoJCXRoaXMuX21hbmFnZUFmdGVyUm9vdEluc2VydChwb3MpOwoJCXJldHVybiB0aGlzLnRyZWUucm9vdHNbcG9zXTsKCX0sCgoKCS8qKgoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqCQkJCQkJCVRhZmVsVHJlZVJvb3QgcHJpdmF0ZSBtZXRob2RzCgkgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJICovCgkKCV9tYW5hZ2VBZnRlclJvb3RJbnNlcnQgOiBmdW5jdGlvbiAocG9zKSB7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyZWUucm9vdHMubGVuZ3RoOyBpKyspIHsKCQkJaWYgKGkgPCB0aGlzLnRyZWUucm9vdHMubGVuZ3RoIC0gMSkgewoJCQkJdGhpcy50cmVlLnJvb3RzW2ldLmhhc1NpYmxpbmdzQWZ0ZXIgPSB0cnVlOwoJCQl9CgkJCWlmIChpID4gMCkgewoJCQkJdGhpcy50cmVlLnJvb3RzW2ldLmhhc1NpYmxpbmdzQmVmb3JlID0gdHJ1ZTsKCQkJfQoJCX0KCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKCQkJdGhpcy5jaGlsZHJlbltpXS5fbWFuYWdlTGluZUZvclJvb3QodGhpcy5oYXNTaWJsaW5nc0FmdGVyKTsKCQl9Cgl9LAoJCglfbW92ZVBhcnRTdHJ1Y3RSb290IDogZnVuY3Rpb24gKHBvcykgewoJCXZhciBuYiA9IHRoaXMudHJlZS5yb290cy5sZW5ndGggLSAxOwoJCXZhciBuZXdQb3MgPSAwOwoJCWZvciAodmFyIGkgPSBuYjsgaSA+PSBwb3M7IGktLSkgewoJCQluZXdQb3MgPSBpICsgMTsKCQkJdGhpcy50cmVlLnJvb3RzW25ld1Bvc10gPSB0aGlzLnRyZWUucm9vdHNbaV07CgkJCXRoaXMudHJlZS5yb290c1tuZXdQb3NdLnBvcyA9IG5ld1BvczsKCQl9Cgl9LAoJCgkvKioKCSAqIE3vv710aG9kZSBwb3VyIGFqb3V0ZXIgbCfvv71s77+9bWVudCBwcmluY2lwYWwKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEByZXR1cm4JSFRNTERpdkVsZW1lbnQJCQkJCQkJCUwn77+9bO+/vW1lbnQgRElWIGNy77+977+9CgkgKi8KCV9hZGRSb290IDogZnVuY3Rpb24gKCkgewoJCXZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCQlkaXYuY2xhc3NOYW1lID0gdGhpcy50cmVlLmNsYXNzVHJlZVJvb3Q7CgkJcmV0dXJuIGRpdjsKCX0sCgkKCS8qKgoJICogTe+/vXRob2RlIHBvdXIgYWpvdXRlciBsZSBjb250ZW51IGRlIGwn77+9bO+/vW1lbnQgKGltYWdlcyArIHRleHRlcykKCSAqCgkgKiBDcu+/ve+/vSB1bmUgc3RydWN0dXJlIGNvbW1lIHN1aXQgOgoJICoJPHRhYmxlPjx0Ym9keT48dHI+CgkgKgkJPHRkPjxpbWcgLz48L3RkPgoJICoJCTx0ZD48IVstLSBDREFUQSAtLV0+PC90ZD4KCSAqCTwvdHI+PC90Ym9keT48L3RhYmxlPgoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHJldHVybglIVE1MVGJvZHlFbGVtZW50CQkJCQkJCUwn77+9bO+/vW1lbnQgVEJPRFkgY3Lvv73vv70KCSAqLwoJX2FkZENvbnRlbnQgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTsKCQl2YXIgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpOwoJCXZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7CgkJdmFyIHRkSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTsKCQl2YXIgdGRUeHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpOwoJCXZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKCQl2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCXZhciB0eHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0eHQpOwoJCWltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMuc3RydWN0LmltZzsKCQlzcGFuLmlubmVySFRNTCA9IHRoaXMuc3RydWN0LnR4dDsKCQkvLyBBam91dCBkdSB0aXRsZSAoZGUgTm9pc2V0dGVQcm9kKQoJCWlmICh0aGlzLnN0cnVjdC50aXRsZSkgewoJCQlzcGFuLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aGlzLnN0cnVjdC50aXRsZSk7CgkJfQoJCS8vIEZpbiBham91dCBkdSB0aXRsZQoJCXNwYW4uc2V0QXR0cmlidXRlKCdpZCcsIHRoaXMuaWRPYmopOwoJCUVsZW1lbnQuYWRkQ2xhc3NOYW1lKHNwYW4sIHRoaXMudHJlZS5jbGFzc0NvbnRlbnQpOwoJCUVsZW1lbnQuYWRkQ2xhc3NOYW1lKHRkVHh0LCB0aGlzLnRyZWUuY2xhc3NDYW5ldmFzKTsKCQl0ZFR4dC5hcHBlbmRDaGlsZChzcGFuKTsKCQl0ZEltZy5hcHBlbmRDaGlsZChpbWcpOwoJCS8vIEluc2VydGlvbiBkdSB0b29sdGlwLCBzJ2lsIGV4aXN0ZQoJCWlmICh0aGlzLnN0cnVjdC50b29sdGlwKSB7CgkJCXRoaXMudG9vbHRpcCA9IHRoaXMuX2NyZWF0ZVRvb2x0aXAoKTsKCQkJdGRUeHQuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwKTsKCQl9CgkJLy8gSW5zZXJ0aW9uIGRlIGwnaW1hZ2UgYXZhbnQgbCdpY++/vW5lCgkJdGhpcy50ZEltZyA9IHRkSW1nOwoJCXRoaXMuYmVmb3JlSWNvbiA9IHRoaXMuX2dldEltZ0JlZm9yZUljb24oKTsKCQl0ci5hcHBlbmRDaGlsZCh0aGlzLmJlZm9yZUljb24pOwoJCXRyLmFwcGVuZENoaWxkKHRkSW1nKTsKCQl0ci5hcHBlbmRDaGlsZCh0ZFR4dCk7CgkJdGJvZHkuYXBwZW5kQ2hpbGQodHIpOwoJCXRhYmxlLmFwcGVuZENoaWxkKHRib2R5KTsKCQlpZiAodGhpcy50cmVlLm11bHRpbGluZSkgewoJCQl0ZFR4dC5zdHlsZS53aGl0ZVNwYWNlID0gJ25vcm1hbCc7CgkJCWlmICh0aGlzLmhhc0NoaWxkcmVuKCkpIHRoaXMuX21hbmFnZU11bHRpbGluZSh0aGlzLnRkSW1nLCAyLCB0cnVlKTsKCQl9CgkJaWYgKHRoaXMuc3RydWN0LnN0eWxlKSB7CgkJCUVsZW1lbnQuYWRkQ2xhc3NOYW1lKHRkVHh0LCB0aGlzLnN0cnVjdC5zdHlsZSk7CgkJfQoJCXRoaXMudHh0ID0gc3BhbjsKCQl0aGlzLmltZyA9IGltZzsKCQl0aGlzLnRhYmxlID0gdGFibGU7CgkJdGhpcy5fc2V0RXZlbnRzKHRkVHh0LCB0ZEltZyk7CgkJcmV0dXJuIHRib2R5OwoJfQp9KTsKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgovKioKICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICoJCQkJCQkJVGFmZWxUcmVlQnJhbmNoIENsYXNzCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqLwoKLyoqClByb3BlcnRpZXMgZGVzY3JpcHRpb24KCnRoaXMudHJlZSAgICAgOiBsJ2FyYnJlIGRlIGxhIGJyYW5jaGUKdGhpcy5yb290ICAgICA6IGxhIHJhY2luZSBkZSBsYSBicmFuY2hlCnRoaXMucGFyZW50ICAgOiBsZSBwYXJlbnQgZGUgbGEgYnJhbmNoZSAocGV1dCDvv710cmUgdGhpcy5yb290KQp0aGlzLmxldmVsICAgIDogbGUgbml2ZWF1IGRlIGxhIGJyYW5jaGUuIExlIDFlciBuaXZlYXUgc291cyBsYSByYWNpbmUgZXN0IGxlIDEKdGhpcy5wb3MgICAgICA6IGxhIHBvc2l0aW9uIGRlIGxhIGJyYW5jaGUgYXUgc2VpbiBkZXMgZW5mYW50cyBkdSBwYXJlbnQKdGhpcy5pZE9iaiAgICA6IGwnaWQgYXR0cmlide+/vSBhdXRvbWF0aXF1ZW1lbnQuIE5lIHBhcyBzZSBiYXNlciBkZXNzdXMgcG91ciBsZXMgZGV2ZWxvcHBlbWVudHMgZXh0ZXJuZXMKdGhpcy5jaGlsZHJlbiA6IGxlcyBlbmZhbnRzIGRlIGxhIGJyYW5jaGUKdGhpcy5vYmpEcmFnICA6IEwnb2JqZXQgRHJhZ2dhYmxlCgp0aGlzLnN0cnVjdCAgICAgICAgICAgOiBsYSBzdHJ1Y3R1cmUgZGUgbGEgYnJhbmNoZSBhdmVjIHRvdXRlcyBsZXMgaW5mb3MgdXRpbGlzYXRldXIKCnRoaXMuZXZlbnRhYmxlIDoKRO+/vXRlcm1pbmUgc2kgbGEgYnJhbmNoZSBwZXV0IO+/vXRyZSBkcmFnIG4nIGRyb3Bw77+9ZSBvdSBub24uClV0aWxpc++/vSB1bmlxdWVtZW50IGxvcnMgZHUgZHJhZ25kcm9wIGFqYXggZXQgb3BlbiBhamF4LgoKdGhpcy5vYmogICAgICAgIDogSFRNTERpdkVsZW1lbnQgcXVpIHN5bWJvbGlzZSBsYSBicmFuY2hlCnRoaXMuY29udGVudCAgICA6IEhUTUxUQm9keUVsZW1lbnQgcXVpIHN5bWJvbGlzZSBsZSBjb250ZW51IGRlIGxhIGJyYW5jaGUKdGhpcy5iZWZvcmVJY29uIDogSFRNTFRkRWxlbWVudCBxdWkgc3ltYm9saXNlIGxhIFREIGNvbnRlbmFudCBsZSBwaWN0byBhdmFudCBsJ2lj77+9bmUKdGhpcy5pbWcgICAgICAgIDogSFRNTEltZ0VsZW1lbnQgcXVpIHJlcHLvv71zZW50ZSBsJ2lj77+9bmUgYXZhbnQgbGUgdGV4dGUKdGhpcy50eHQgICAgICAgIDogSFRNTFRleHROb2RlRWxlbWVudCBxdWkgcmVwcu+/vXNlbnRlIGxlIHRleHRlIGRlIGxhIGJyYW5jaGUKdGhpcy50YWJsZSAgICAgIDogSFRNTFRhYmxlRWxlbWVudCBxdWkgZXN0IGxlIHBhcmVudCBkdSBUYm9keSAodGhpcy5jb250ZW50KQoqLwoKdmFyIFRhZmVsVHJlZUJyYW5jaCA9IENsYXNzLmNyZWF0ZSgpOwoKVGFmZWxUcmVlQnJhbmNoLnByb3RvdHlwZSA9IE9iamVjdC5leHRlbmQobmV3IFRhZmVsVHJlZUJhc2VCcmFuY2gsIHsKCS8qKgoJICogQ29uc3RydWN0ZXVyIGQndW5lIGJyYW5jaGUgZGUgbCdhcmJyZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JVGFmZWxSb290CQkJcm9vdAkJCQkJTCdvYmpldCByYWNpbmUgcGFyZW50CgkgKiBAcGFyYW0JVGFmZWxCcmFuY2gJCQlwYXJlbnQJCQkJCUwnb2JqZXQgZGlyZWN0ZW1lbnQgcGFyZW50CgkgKiBAcGFyYW0Jb2JqZWN0CQkJCXN0cnVjdAkJCQkJTGVzIGluZm9zIGNvbmNlcm5hbnQgbGEgYnJhbmNoZSBlc3Qgc2VzIGVuZmFudHMKCSAqIEBwYXJhbQlpbnRlZ2VyCQkJCWxldmVsCQkJCQlMZSBuaXZlYXUgZHUgbm9ldWQKCSAqIEBwYXJhbQlib29sZWFuCQkJCWJlZm9yZQkJCQkJVHJ1ZSBzJ2lsIHkgYSBkZXMgbm9ldWRzIGF2YW50CgkgKiBAcGFyYW0JYm9vbGVhbgkJCQlhZnRlcgkJCQkJVHJ1ZSBzJ2lsIHkgYSBkZXMgbm9ldWRzIGFwcu+/vXMKCSAqIEBwYXJhbQlpbnRlZ2VyCQkJCXBvcwkJCQkJCUxhIHBvc2l0aW9uIGRhbnMgbGUgdGFibGVhdSBjaGlsZHJlbltdIGR1IHBhcmVudAoJICovCglpbml0aWFsaXplIDogZnVuY3Rpb24gKHJvb3QsIHBhcmVudCwgc3RydWN0LCBsZXZlbCwgYmVmb3JlLCBhZnRlciwgcG9zKSB7CgkJdGhpcy50cmVlID0gcm9vdC50cmVlOwoJCXRoaXMucm9vdCA9IHJvb3Q7CgkJdGhpcy5sZXZlbCA9IGxldmVsOwoJCXRoaXMucG9zID0gcG9zOwoJCXRoaXMucGFyZW50ID0gcGFyZW50OwoJCXRoaXMudHJlZS5pZFRyZWUrKzsKCQl0aGlzLmlkT2JqID0gdGhpcy50cmVlLmlkVHJlZUJyYW5jaCArIHRoaXMudHJlZS5pZFRyZWU7CgkJdGhpcy5oYXNTaWJsaW5nc0JlZm9yZSA9IGJlZm9yZTsKCQl0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIgPSBhZnRlcjsKCQl0aGlzLnN0cnVjdCA9IHN0cnVjdDsKCQl0aGlzLmV2ZW50YWJsZSA9IHRydWU7CgkJdGhpcy5sb2FkZWQgPSB0cnVlOwoJCXRoaXMuaW5Qcm9jZXNzID0gZmFsc2U7CgkJdGhpcy5jaGlsZHJlbiA9IFtdOwoJCXRoaXMuY29waWVkVGltZXMgPSAwOwoKCQlpZiAodHlwZW9mKHRoaXMuc3RydWN0LmRyYWdnYWJsZSkgPT0gJ3VuZGVmaW5lZCcpIHRoaXMuc3RydWN0LmRyYWdnYWJsZSA9IDE7CgkJdGhpcy5fc2V0UHJvcGVydGllcygpOwoKCQkvLyBGb25jdGlvbnMgdXRpbGlzYXRldXJzCgkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5vbmRyb3ApID09ICd1bmRlZmluZWQnKSB7CgkJCWlmICh0eXBlb2YodGhpcy50cmVlLm9uRHJvcCkgPT0gJ2Z1bmN0aW9uJykgewoJCQkJdGhpcy5zdHJ1Y3Qub25kcm9wID0gdGhpcy50cmVlLm9uRHJvcDsKCQkJCXRoaXMub25kcm9wRGVmYXVsdCA9IHRydWU7CgkJCX0KCQl9IGVsc2Uge3RoaXMuc3RydWN0Lm9uZHJvcCA9IGV2YWwodGhpcy5zdHJ1Y3Qub25kcm9wKTt9CgkJaWYgKHR5cGVvZih0aGlzLnN0cnVjdC5vbmRyb3BhamF4KSA9PSAndW5kZWZpbmVkJykgewoJCQlpZiAodGhpcy50cmVlLm9uRHJvcEFqYXggJiYgdHlwZW9mKHRoaXMudHJlZS5vbkRyb3BBamF4LmZ1bmMpID09ICdmdW5jdGlvbicpIHsKCQkJCXRoaXMuc3RydWN0Lm9uZHJvcGFqYXggPSB0aGlzLnRyZWUub25Ecm9wQWpheC5mdW5jOwoJCQkJdGhpcy5zdHJ1Y3QuZHJvcGxpbmsgPSB0aGlzLnRyZWUub25Ecm9wQWpheC5saW5rOwoJCQkJdGhpcy5vbmRyb3BhamF4RGVmYXVsdCA9IHRydWU7CgkJCX0KCQl9IGVsc2Uge3RoaXMuc3RydWN0Lm9uZHJvcGFqYXggPSBldmFsKHRoaXMuc3RydWN0Lm9uZHJvcGFqYXgpO30KCQl0aGlzLl9zZXRGdW5jdGlvbnMoKTsKCgkJLy8gSW5pdGlhbGlzYXRpb24gZGUgbGEgYnJhbmNoZQoJCXRoaXMub2JqID0gdGhpcy5fYWRkQnJhbmNoKCk7CgkJdGhpcy5jb250ZW50ID0gdGhpcy5fYWRkQ29udGVudCgpOwoJCXRoaXMub2JqLmFwcGVuZENoaWxkKHRoaXMudGFibGUpOwoJCXRoaXMuX3NldENoaWxkcmVuKHJvb3QpOwoJCS8vIHNldCBhY3Rpb25zIGxpa2Ugc2VsZWN0IG5vZGUKCQl0aGlzLl9zZXRBY3Rpb25zKCk7Cgl9LAoKCWluc2VydEJlZm9yZSA6IGZ1bmN0aW9uIChpdGVtKSB7CgkJaWYgKCF0aGlzLnBhcmVudCkgcmV0dXJuIGZhbHNlOwoJCXZhciBwb3MgPSB0aGlzLnBvczsKCQl2YXIgcG9zQmVmb3JlID0gcG9zICsgMTsKCQl2YXIgaXNOb3RGaXJzdCA9IChwb3MgPT0gMCkgPyBmYWxzZSA6IHRydWU7CgkJdGhpcy5wYXJlbnQuX21vdmVQYXJ0U3RydWN0KHBvcyk7CgkJdGhpcy5wYXJlbnQuc3RydWN0Lml0ZW1zW3Bvc10gPSBpdGVtOwoJCXRoaXMucGFyZW50LmNoaWxkcmVuW3Bvc10gPSBuZXcgVGFmZWxUcmVlQnJhbmNoKHRoaXMucm9vdCwgdGhpcy5wYXJlbnQsIGl0ZW0sIHRoaXMubGV2ZWwsIGlzTm90Rmlyc3QsIHRydWUsIHBvcyk7CgkJdGhpcy5wYXJlbnQub2JqLmluc2VydEJlZm9yZSh0aGlzLnBhcmVudC5jaGlsZHJlbltwb3NdLm9iaiwgdGhpcy5vYmopOwoJCXRoaXMucGFyZW50Ll9tYW5hZ2VBZnRlckluc2VydChwb3MpOwoJCXJldHVybiB0aGlzLnBhcmVudC5jaGlsZHJlbltwb3NdOwoJfSwKCglpbnNlcnRBZnRlciA6IGZ1bmN0aW9uIChpdGVtKSB7CgkJaWYgKCF0aGlzLnBhcmVudCkgcmV0dXJuIGZhbHNlOwoJCXZhciBwb3MgPSB0aGlzLnBvcyArIDE7CgkJdmFyIHBvc0JlZm9yZSA9IHBvcyArIDE7CgkJdmFyIGlzTm90TGFzdCA9IChwb3MgPT0gdGhpcy5wYXJlbnQuY2hpbGRyZW4ubGVuZ3RoKSA/IGZhbHNlIDogdHJ1ZTsKCQl0aGlzLnBhcmVudC5fbW92ZVBhcnRTdHJ1Y3QocG9zKTsKCQl0aGlzLnBhcmVudC5zdHJ1Y3QuaXRlbXNbcG9zXSA9IGl0ZW07CgkJdGhpcy5wYXJlbnQuY2hpbGRyZW5bcG9zXSA9IG5ldyBUYWZlbFRyZWVCcmFuY2godGhpcy5yb290LCB0aGlzLnBhcmVudCwgaXRlbSwgdGhpcy5sZXZlbCwgdHJ1ZSwgaXNOb3RMYXN0LCBwb3MpOwoJCXRyeSB7CgkJCXRoaXMucGFyZW50Lm9iai5pbnNlcnRCZWZvcmUodGhpcy5wYXJlbnQuY2hpbGRyZW5bcG9zXS5vYmosIHRoaXMucGFyZW50LmNoaWxkcmVuW3Bvc0JlZm9yZV0ub2JqKTsKCQl9IGNhdGNoIChlcnIpIHsKCQkJdGhpcy5wYXJlbnQub2JqLmFwcGVuZENoaWxkKHRoaXMucGFyZW50LmNoaWxkcmVuW3Bvc10ub2JqKTsKCQl9CgkJdGhpcy5wYXJlbnQuX21hbmFnZUFmdGVySW5zZXJ0KHBvcyk7CgkJcmV0dXJuIHRoaXMucGFyZW50LmNoaWxkcmVuW3Bvc107Cgl9LAoJCgkvKioKCSAqIE3vv710aG9kZSBwb3VyIGTvv71wbGFjZXIgdW5lIGJyYW5jaGUgZGFucyBsJ2FyYnJlIGNvbW1lIGZpbGxlCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlzdHJpbmcJCQkJaGVyZWIJCQkJCUwnaWQgZGUgbGEgbm91dmVsbGUgYnJhbmNoZSBwYXJlbnRlCgkgKiBAcmV0dXJuCVRhZmVsVHJlZUJyYW5jaAkJCQkJCQkJTGEgYnJhbmNoZSBib3Vn77+9ZQoJICovCgltb3ZlIDogZnVuY3Rpb24gKGhlcmViKSB7CgkJcmV0dXJuIHRoaXMubW92ZUludG9MYXN0KGhlcmViKTsKCX0sCgltb3ZlSW50b0xhc3QgOiBmdW5jdGlvbiAoaGVyZWIpIHsKCQkvLyBPbiBy77+9Y3Vw77+9cmUgbCdvYmpldCAiaGVyZSIKCQl2YXIgaGVyZSA9IHRoaXMudHJlZS5nZXRCcmFuY2hCeUlkKGhlcmViKTsKCQlpZiAoIWhlcmUpIHJldHVybiBmYWxzZQoKCQl2YXIgcG9zID0gaGVyZS5fZ2V0UG9zKCk7CgkJdmFyIGlkID0gdGhpcy5nZXRJZCgpOwoJCXZhciB0eHQgPSB0aGlzLmdldFRleHQoKTsKCQlpZiAocG9zID09IGhlcmUuY2hpbGRyZW4ubGVuZ3RoKSB7CgkJCW9iaiA9IGhlcmUuaW5zZXJ0SW50b0xhc3QodGhpcy5zdHJ1Y3QpOwoJCX0gZWxzZSB7CgkJCW9iaiA9IGhlcmUuY2hpbGRyZW5bcG9zXS5pbnNlcnRCZWZvcmUodGhpcy5zdHJ1Y3QpOwoJCX0KCQl0aGlzLnRyZWUucmVtb3ZlQnJhbmNoKHRoaXMpOwoJCXJldHVybiBvYmo7Cgl9LAoJCgltb3ZlSW50b0ZpcnN0IDogZnVuY3Rpb24gKGhlcmViKSB7CgkJLy8gT24gcu+/vWN1cO+/vXJlIGwnb2JqZXQgImhlcmUiCgkJdmFyIGhlcmUgPSB0aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZChoZXJlYik7CgkJaWYgKCFoZXJlKSByZXR1cm4gZmFsc2UKCgkJdmFyIGlkID0gdGhpcy5nZXRJZCgpOwoJCXZhciB0eHQgPSB0aGlzLmdldFRleHQoKTsKCQl2YXIgb2JqID0gaGVyZS5pbnNlcnRJbnRvRmlyc3QodGhpcy5zdHJ1Y3QpOwoJCXRoaXMudHJlZS5yZW1vdmVCcmFuY2godGhpcyk7CgkJcmV0dXJuIG9iajsKCX0sCgkKCS8qKgoJICogTe+/vXRob2RlIHBvdXIgZO+/vXBsYWNlciB1bmUgYnJhbmNoZSBkYW5zIGwnYXJicmUgY29tbWUgc29ldXIKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCXN0cmluZwkJCQloZXJlYgkJCQkJTCdpZCBkZSBsYSBub3V2ZWxsZSBicmFuY2hlIHNvZXVyCgkgKiBAcmV0dXJuCXZvaWQKCSAqLwoJbW92ZUJlZm9yZSA6IGZ1bmN0aW9uIChoZXJlYikgewoJCS8vIE9uIHLvv71jdXDvv71yZSBsJ29iamV0ICJoZXJlIgoJCXZhciBoZXJlID0gdGhpcy50cmVlLmdldEJyYW5jaEJ5SWQoaGVyZWIpOwoJCWlmICghaGVyZSkgcmV0dXJuIGZhbHNlOwoKCQl2YXIgaWQgPSB0aGlzLmdldElkKCk7CgkJdmFyIHR4dCA9IHRoaXMuZ2V0VGV4dCgpOwoJCXZhciBvYmogPSBoZXJlLmluc2VydEJlZm9yZSh0aGlzLnN0cnVjdCk7CgkJdGhpcy50cmVlLnJlbW92ZUJyYW5jaCh0aGlzKTsKCQlyZXR1cm4gb2JqOwoJfSwKCgltb3ZlQWZ0ZXIgOiBmdW5jdGlvbiAoaGVyZWIpIHsKCQkvLyBPbiBy77+9Y3Vw77+9cmUgbCdvYmpldCAiaGVyZSIKCQl2YXIgaGVyZSA9IHRoaXMudHJlZS5nZXRCcmFuY2hCeUlkKGhlcmViKTsKCQlpZiAoIWhlcmUpIHJldHVybiBmYWxzZTsKCgkJdmFyIGlkID0gdGhpcy5nZXRJZCgpOwoJCXZhciB0eHQgPSB0aGlzLmdldFRleHQoKTsKCQl2YXIgb2JqID0gaGVyZS5pbnNlcnRBZnRlcih0aGlzLnN0cnVjdCk7CgkJdGhpcy50cmVlLnJlbW92ZUJyYW5jaCh0aGlzKTsKCQlyZXR1cm4gb2JqOwoJfSwKCgoJLyoqCgkgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJICoJCQkJCQkJVGFmZWxUcmVlQnJhbmNoIHByaXZhdGUgbWV0aG9kcwoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqLwoJCgkvKioKCSAqIE3vv710aG9kZSBwb3VyIGFqb3V0ZXIgbCfvv71s77+9bWVudCBwcmluY2lwYWwKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEByZXR1cm4JSFRNTERpdkVsZW1lbnQJCQkJCQkJCUwn77+9bO+/vW1lbnQgRElWIGNy77+977+9CgkgKi8KCV9hZGRCcmFuY2ggOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCWRpdi5jbGFzc05hbWUgPSB0aGlzLnRyZWUuY2xhc3NUcmVlQnJhbmNoOwoJCXJldHVybiBkaXY7Cgl9LAoJCgkvKioKCSAqIE3vv710aG9kZSBwb3VyIGFqb3V0ZXIgbGUgY29udGVudSBkZSBsJ++/vWzvv71tZW50IChpbWFnZXMgKyB0ZXh0ZXMpCgkgKgoJICogQ3Lvv73vv70gdW5lIHN0cnVjdHVyZSBjb21tZSBzdWl0IDoKCSAqCTx0YWJsZT48dGJvZHk+PHRyPgoJICoJCTx0ZD48aW1nIC8+PC90ZD4KCSAqCQk8dGQ+PGltZyAvPjwvdGQ+CgkgKgkJPHRkPmV0Yy4gKHJlbGF0aWYgYXUgbml2ZWF1IGRlIGwn77+9bO+/vW1lbnQgY291cmFudCk8L3RkPgoJICoJCTx0ZD48IVstLSBDREFUQSAtLV0+PC90ZD4KCSAqCTwvdHI+PC90Ym9keT48L3RhYmxlPgoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHJldHVybglIVE1MVGJvZHlFbGVtZW50CQkJCQkJCUwn77+9bO+/vW1lbnQgVEJPRFkgY3Lvv73vv70KCSAqLwoJX2FkZENvbnRlbnQgOiBmdW5jdGlvbiAoKSB7CgkJdmFyIHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTsKCQl2YXIgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpOwoJCXZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7CgkJdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwoJCS8vIFRvdXRlcyBsZXMgaW1hZ2VzIGp1c3F1J++/vSBjZWxsZSBhdmFudCBsJ2lj77+9bmUKCQl2YXIgaW1ncyA9IHRoaXMuX2FkZEltZ3MoKTsKCQl2YXIgbmJJbWdzID0gaW1ncy5sZW5ndGg7CgkJZm9yICh2YXIgaSA9IG5iSW1ncyAtIDE7IGkgPj0gMDsgaS0tKSB7CgkJCXRyLmFwcGVuZENoaWxkKGltZ3NbaV0pOwkKCQl9CgkJLy8gT24gcu+/vWN1cO+/vXJlIGwnaW1hZ2UgYXZhbnQgbCdpY++/vW5lCgkJdGhpcy5iZWZvcmVJY29uID0gdGhpcy5fZ2V0SW1nQmVmb3JlSWNvbigpOwoJCXRyLmFwcGVuZENoaWxkKHRoaXMuYmVmb3JlSWNvbik7CgkJCgkJLy8gT24gY3Lvv73vv70gbCdpY29uZSBldCBsZSB0ZXh0ZQoJCXZhciB0ZEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7CgkJdmFyIHRkVHh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTsKCQl2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CgkJdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCQlzcGFuLmlubmVySFRNTCA9IHRoaXMuc3RydWN0LnR4dDsKCQkvLyBBam91dCBkdSB0aXRsZSAoZGUgTm9pc2V0dGVQcm9kKQoJCWlmICh0aGlzLnN0cnVjdC50aXRsZSkgewoJCQlzcGFuLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aGlzLnN0cnVjdC50aXRsZSk7CgkJfQoJCS8vIEZpbiBham91dCBkdSB0aXRsZQoJCXNwYW4uc2V0QXR0cmlidXRlKCdpZCcsIHRoaXMuaWRPYmopOwoJCUVsZW1lbnQuYWRkQ2xhc3NOYW1lKHNwYW4sIHRoaXMudHJlZS5jbGFzc0NvbnRlbnQpOwoJCUVsZW1lbnQuYWRkQ2xhc3NOYW1lKHRkVHh0LCB0aGlzLnRyZWUuY2xhc3NDYW5ldmFzKTsKCQlpbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnN0cnVjdC5pbWc7CgkJdGhpcy50ZEltZyA9IHRkSW1nOwoJCWlmICh0aGlzLnRyZWUubXVsdGlsaW5lKSB7CgkJCXRkVHh0LnN0eWxlLndoaXRlU3BhY2UgPSAnbm9ybWFsJzsKCQkJaWYgKHRoaXMuaGFzQ2hpbGRyZW4oKSkgdGhpcy5fbWFuYWdlTXVsdGlsaW5lKHRoaXMudGRJbWcsIDIsIHRydWUpOwoJCX0KCQlpZiAodGhpcy5zdHJ1Y3Quc3R5bGUpIHsKCQkJRWxlbWVudC5hZGRDbGFzc05hbWUodGRUeHQsIHRoaXMuc3RydWN0LnN0eWxlKTsKCQl9CgkJLy8gT24gYXBwZW5kIGwnZW5zZW1ibGUg77+9IGxhIHRhYmxlIEhUTUwKCQl0ZFR4dC5hcHBlbmRDaGlsZChzcGFuKTsKCQkvLyBJbnNlcnRpb24gZHUgdG9vbHRpcCwgcydpbCBleGlzdGUKCQlpZiAodGhpcy5zdHJ1Y3QudG9vbHRpcCkgewoJCQl0aGlzLnRvb2x0aXAgPSB0aGlzLl9jcmVhdGVUb29sdGlwKCk7CgkJCXRkVHh0LmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcCk7CgkJfQoJCXRkSW1nLmFwcGVuZENoaWxkKGltZyk7CgkJdHIuYXBwZW5kQ2hpbGQodGRJbWcpOwoJCXRyLmFwcGVuZENoaWxkKHRkVHh0KTsKCQl0Ym9keS5hcHBlbmRDaGlsZCh0cik7CgkJdGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpOwoJCXRoaXMudGRJbWcgPSB0ZEltZzsKCQl0aGlzLnR4dCA9IHNwYW47CgkJdGhpcy5pbWcgPSBpbWc7CgkJdGhpcy50YWJsZSA9IHRhYmxlOwoJCXRoaXMuX3NldEV2ZW50cyh0ZFR4dCwgdGRJbWcpOwoJCXJldHVybiB0Ym9keTsKCX0sCgkKCS8qKgoJICogRm9uY3Rpb24gcXVpIHBlcm1ldCBkZSBn77+9cmVyIHRvdXRlcyBsZXMgbGlnbmVzIHZlcnRpY2FsZXMgcXVpIHBy77+9Y++/vWRlbnQgbCdpY29uZQoJICoKCSAqIEBhY2Nlc3MJcHJpdmF0ZQoJICogQHJldHVybglhcnJheQkJCQkJCQkJCQlMZXMgaW1hZ2VzIO+/vSBtZXR0cmUgYXZhbnQgbCdpY++/vW5lCgkgKi8KCV9hZGRJbWdzIDogZnVuY3Rpb24gKCkgewoJCXZhciBvYmogPSB0aGlzLnBhcmVudDsKCQl2YXIgY3B0ID0gMDsKCQl2YXIgaW1ncyA9IFtdOwoJCXZhciBpbWcgPSBudWxsOwoJCS8vIE9uIGTvv710ZXJtaW5lIHMnaWwgeSBhIGRlcyBsaWduZXMgdmVydGljYWxlcyBhdmFudCBsJ2ljb25lIGV0IGxlIHRleHRlCgkJdmFyIHRkID0gbnVsbDsKCQl3aGlsZSAob2JqLnBhcmVudCkgewoJCQl0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7CgkJCWltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwoJCQlpZiAoIW9iai5oYXNTaWJsaW5nc0FmdGVyKSB7CgkJCQlpbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nRW1wdHk7CgkJCX0gZWxzZSB7CgkJCQlpbWcuc3JjID0gdGhpcy50cmVlLmltZ0Jhc2UgKyB0aGlzLnRyZWUuaW1nTGluZTE7CgkJCQlpZiAodGhpcy50cmVlLm11bHRpbGluZSkgewoJCQkJCXRoaXMuX21hbmFnZU11bHRpbGluZSh0ZCwgMSwgdHJ1ZSk7CgkJCQl9CgkJCX0KCQkJdGQuYXBwZW5kQ2hpbGQoaW1nKTsKCQkJaW1nc1tjcHRdID0gdGQ7CgkJCWNwdCsrOwoJCQlvYmogPSBvYmoucGFyZW50OwoJCX0KCQkvLyBPbiB0ZXN0ZSBzaSBsZSByb290IO+/vSBkZXMgc29ldXJzLiBTaSBvdWksIG9uIGFqb3V0ZSBlbmNvcmUgdW5lIGxpZ25lCgkJdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpOwoJCWltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwoJCWlmICghdGhpcy5yb290Lmhhc1NpYmxpbmdzQWZ0ZXIpIHsKCQkJaW1nLnNyYyA9IHRoaXMudHJlZS5pbWdCYXNlICsgdGhpcy50cmVlLmltZ0VtcHR5OwoJCX0gZWxzZSB7CgkJCWltZy5zcmMgPSB0aGlzLnRyZWUuaW1nQmFzZSArIHRoaXMudHJlZS5pbWdMaW5lMTsKCQkJaWYgKHRoaXMudHJlZS5tdWx0aWxpbmUpIHsKCQkJCXRoaXMuX21hbmFnZU11bHRpbGluZSh0ZCwgMSwgdHJ1ZSk7CgkJCX0KCQl9CgkJdGQuYXBwZW5kQ2hpbGQoaW1nKTsKCQlpbWdzW2NwdF0gPSB0ZDsKCQlyZXR1cm4gaW1nczsKCX0KfSk7CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi8qKgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKgkJCQkJCQlUYWZlbFRyZWVzIE1hbmFnZW1lbnQKICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICovCgp2YXIgVGFmZWxUcmVlTWFuYWdlciA9IHsKCS8qKgoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqCQkJCQkJCVRhZmVsVHJlZU1hbmFnZXIgcHJvcGVydGllcwoJICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSAqLwoJCgkvKioKCSAqIEB2YXIJCWJvb2xlYW4JCQlzdG9wRXZlbnQJCQkJU3RvcHBlIGxhIHByb3BhZ2F0aW9uIGRlIGwn77+9du+/vW5lbWVudAoJICovCglzdG9wRXZlbnQgOiB0cnVlLAoJCgkvKioKCSAqIEB2YXIJCWJvb2xlYW4JCQlrZXlib2FyZEV2ZW50cwkJCVRydWUgcG91ciBhY3RpdmVyIGxhIGdlc3Rpb24gY2xhdmllcgoJICovCglrZXlib2FyZEV2ZW50cyA6IHRydWUsCgkKCS8qKgoJICogQHZhcgkJYm9vbGVhbgkJCWtleWJvYXJkU3RydWN0RXZlbnRzCVRydWUgcG91ciBhY3RpdmVyIGxhIGdlc3Rpb24gY2xhdmllciByZWxhdGl2ZSDvv70gbGEgc3RydWN0dXJlCgkgKi8KCWtleWJvYXJkU3RydWN0dXJhbEV2ZW50cyA6IHRydWUsCgkKCS8qKgoJICogQHZhcgkJYXJyYXkJCQl0cmVlcwkJCQkJTGVzIGFyYnJlcyBhY3R1ZWxsZW1lbnQgbG9hZO+/vXMKCSAqLwoJdHJlZXMgOiBbXSwKCQoJLyoqCgkgKiBAdmFyCQlUYWZlbFRyZWUJCWN1cnJlbnRUcmVlCQkJCUwnYXJicmUgYWN0dWVsbGVtZW50IGFjdGlmCgkgKi8KCWN1cnJlbnRUcmVlIDogbnVsbCwKCQoJLyoqCgkgKiBAdmFyCQlhcnJheQkJCXVzZXJLZXlzCQkJCUxlcyB0b3VjaGVzIHV0aWxpc2F0ZXVyCgkgKi8KCXVzZXJLZXlzIDogW10sCgkKCQoJCgkvKioKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKgkJCQkJCQlUYWZlbFRyZWVNYW5hZ2VyIHB1YmxpYyBtZXRob2RzCgkgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJICovCgkKCS8qKgoJICogUGVybWV0IGRlIHNldHRlciBkZXMgZm9uY3Rpb25zIHV0aWxpc2F0ZXVyIHBvdXIgbGVzIHRvdWNoZXMgdm91bHVlcwoJICoKCSAqIEwnb2JqZXQga2V5cyBlc3QgZm9ybe+/vSBjb21tZSBjZWNpIDoKCSAqCS0ga2V5c1swXS5rZXkgPSBjb2RlIGRlIGxhIHRvdWNoZQoJICoJLSBrZXlzWzBdLmZ1bmMgPSBmb25jdGlvbiB1dGlsaXNhdGV1cgoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JYXJyYXkJCQlrZXlzCQkJCQlMZXMgdG91Y2hjZXMgZXQgbGV1ciBmb25jdGlvbgoJICogQHJldHVybgl2b2lkCgkgKi8KCXNldEtleXMgOiBmdW5jdGlvbiAoa2V5cykgewoJCXRoaXMudXNlcktleXMgPSBrZXlzOwoJfSwKCQoJLyoqCgkgKiBBam91dGUgdW4gYXJicmUgZGFucyBsZSBtYW5hZ2VyCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlUYWZlbFRyZWUJCXRyZWUJCQkJCUwnYXJicmUg77+9IGFqb3V0ZXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglhZGQgOiBmdW5jdGlvbiAodHJlZSkgewoJCXRoaXMudHJlZXMucHVzaCh0cmVlKTsKCX0sCgoJZGlzYWJsZUtleWJvYXJkRXZlbnRzIDogZnVuY3Rpb24gKCkgewoJCXRoaXMua2V5Ym9hcmRFdmVudHMgPSBmYWxzZTsKCX0sCgoJZGlzYWJsZUtleWJvYXJkU3RydWN0dXJhbEV2ZW50cyA6IGZ1bmN0aW9uICgpIHsKCQl0aGlzLmtleWJvYXJkU3RydWN0dXJhbEV2ZW50cyA9IGZhbHNlOwoJfSwKCQoJLyoqCgkgKiBSZXRvdXJuZSBsJ2FyYnJlIGFjdHVlbGxlbWVudCBhY3RpZgoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCVRhZmVsVHJlZQkJCQkJCQkJTCdhcmJyZSBhY3R1ZWxsZW1lbnQgYWN0aWYKCSAqLwoJZ2V0Q3VycmVudFRyZWUgOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIHRoaXMuY3VycmVudFRyZWU7Cgl9LAoJCgkvKioKCSAqIFNldCBsJ2FyYnJlIGFjdHVlbGxlbWVudCBhY3RpZgoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcGFyYW0JVGFmZWxUcmVlCQkJCQkJCQlMJ2FyYnJlIGFjdHVlbGxlbWVudCBhY3RpZgoJICogQHJldHVybgl2b2lkCgkgKi8KCXNldEN1cnJlbnRUcmVlIDogZnVuY3Rpb24gKHRyZWUpIHsKCQl0aGlzLmN1cnJlbnRUcmVlID0gdHJlZTsKCX0sCgkKCS8qKgoJICogUmV0b3VybmUgdHJ1ZSBzaSBsYSB0b3VjaGUgUE9NTUUgZXN0IGFwcHV577+9ZSAoc3VyIE1hYyBTYWZhcmkpCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4JYm9vbGVhbgkJCQkJCQkJCVRydWUgc2kgUE9NTUUgZXN0IGFwcHV577+9CgkgKi8KCW1ldGFPbiA6IGZ1bmN0aW9uIChldikgewoJCXZhciBvayA9IGZhbHNlOwoJCWlmIChldiAmJiAoZXYubWV0YUtleSkpIHsKCQkJb2sgPSB0cnVlOwoJCX0KCQlyZXR1cm4gb2s7Cgl9LAoJCgkvKioKCSAqIFJldG91cm5lIHRydWUgc2kgbGEgdG91Y2hlIENUUkwgZXN0IGFwcHV577+9ZQoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCWJvb2xlYW4JCQkJCQkJCQlUcnVlIHNpIENUUkwgZXN0IGFwcHV577+9CgkgKi8KCWN0cmxPbiA6IGZ1bmN0aW9uIChldikgewoJCXZhciBvayA9IGZhbHNlOwoJCWlmIChldiAmJiAoZXYuY3RybEtleSB8fCBldi5tb2RpZmllciA9PSAyKSkgewoJCQlvayA9IHRydWU7CgkJfQoJCXJldHVybiBvazsKCX0sCgkKCS8qKgoJICogUmV0b3VybmUgdHJ1ZSBzaSBsYSB0b3VjaGUgQUxUIGVzdCBhcHB1ee+/vWUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglib29sZWFuCQkJCQkJCQkJVHJ1ZSBzaSBBTFQgZXN0IGFwcHV577+9CgkgKi8KCWFsdE9uIDogZnVuY3Rpb24gKGV2KSB7CgkJdmFyIG9rID0gZmFsc2U7CgkJaWYgKGV2ICYmIChldi5hbHRLZXkgfHwgZXYubW9kaWZpZXIgPT0gMSkpIHsKCQkJb2sgPSB0cnVlOwoJCX0KCQlyZXR1cm4gb2s7Cgl9LAoJCgkvKioKCSAqIFJldG91cm5lIHRydWUgc2kgbGEgdG91Y2hlIFNISUZUIGVzdCBhcHB1ee+/vWUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHJldHVybglib29sZWFuCQkJCQkJCQkJVHJ1ZSBzaSBBTFQgZXN0IGFwcHV577+9CgkgKi8KCXNoaWZ0T24gOiBmdW5jdGlvbiAoZXYpIHsKCQl2YXIgb2sgPSBmYWxzZTsKCQlpZiAoZXYgJiYgKGV2LnNoaWZ0S2V5IHx8IGV2Lm1vZGlmaWVyID09IDMpKSB7CgkJCW9rID0gdHJ1ZTsKCQl9CgkJcmV0dXJuIG9rOwoJfSwKCQoJLyoqCgkgKiBSZXRvdXJuZSBsZSBjb2RlIGNsYXZpZXIKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCUV2ZW50CQkJZXYJCQkJCQlMJ++/vXbvv71uZW1lbnQgZO+/vWNsZW5jaGV1cgoJICogQHJldHVybgl2b2lkCgkgKi8KCWdldENvZGUgOiBmdW5jdGlvbiAoZXYpIHsKCQlyZXR1cm4gKGV2LndoaWNoKSA/IGV2LndoaWNoIDogZXYua2V5Q29kZTsKCX0sCgkKCS8qKgoJICogQXNzaWduZSB0b3VzIGxlcyDvv71277+9bmVtZW50cyBu77+9Y2Vzc2FpcmVzCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4Jdm9pZAoJICovCglzZXRDb250cm9sRXZlbnRzIDogZnVuY3Rpb24gKCkgewoJCUV2ZW50Lm9ic2VydmUoZG9jdW1lbnQsICdrZXlwcmVzcycsIHRoaXMuZXZ0X2tleVByZXNzLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksIGZhbHNlKTsKCQl2YXIgYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5Jyk7CgkJaWYgKCFib2R5IHx8ICFib2R5WzBdKSB7CgkJCXRocm93IG5ldyBFcnJvcihUQUZFTFRSRUVfTk9fQk9EWV9UQUcpOwoJCX0gZWxzZSB7CgkJCUV2ZW50Lm9ic2VydmUoYm9keVswXSwgJ21vdXNldXAnLCB0aGlzLmV2dF91bnNlbGVjdC5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLCBmYWxzZSk7CgkJfQoJfSwKCQoJCgkvKioKCSAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkgKgkJCQkJCQlUYWZlbFRyZWVNYW5hZ2VyIGV2ZW50cyBtYW5hZ2VtZW50CgkgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJICovCgoJLyoqCgkgKiBE77+9c2VsZWN0aW9ubmUgbCdhcmJyZSBjb3VyYW50CgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEBwYXJhbQlFdmVudAkJCWV2CQkJCQkJTCfvv71277+9bmVtZW50IGTvv71jbGVuY2hldXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglldnRfdW5zZWxlY3QgOiBmdW5jdGlvbiAoZXYpIHsKCQl2YXIgb2JqID0gRXZlbnQuZWxlbWVudChldik7CgkJdmFyIGN1cnJlbnQgPSB0aGlzLmdldEN1cnJlbnRUcmVlKCk7CgkJaWYgKGN1cnJlbnQpIHsKCQkJaWYgKCFFbGVtZW50Lmhhc0NsYXNzTmFtZShvYmosIGN1cnJlbnQuY2xhc3NTZWxlY3RlZCkgJiYgIUVsZW1lbnQuaGFzQ2xhc3NOYW1lKG9iaiwgY3VycmVudC5jbGFzc09wZW5hYmxlKSkgewoJCQkJY3VycmVudC51bnNlbGVjdCgpOwoJCQkJdGhpcy5zZXRDdXJyZW50VHJlZShudWxsKTsKCQkJfQoJCX0KCX0sCgkKCS8qKgoJICogQXBwZWwgbG9ycyBkZSBsYSB0b3VjaGUgRU5URVIKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICogQHBhcmFtCVRhZmVsVHJlZQkJdHJlZQkJCQkJTCdhcmJyZSBpbmNyaW1pbu+/vQoJICogQHBhcmFtCWludGVnZXIJCQljb2RlCQkJCQlMZSBjb2RlIGRlIGxhIHRvdWNoZQoJICogQHBhcmFtCU9iamVjdAkJCWtleXMJCQkJCUxlcyBpbmZvcyBkZXMgIm1ldGFrZXlzIiBjdHJsLCBzaGlmdCwgYWx0IGV0IG1ldGEKCSAqIEBwYXJhbQlFdmVudAkJCWV2CQkJCQkJTCfvv71277+9bmVtZW50IGTvv71jbGVuY2hldXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCgllbnRlciA6IGZ1bmN0aW9uICh0cmVlLCBjb2RlLCBrZXlzLCBldikgewoJCWlmICh0cmVlLmxhc3RFZGl0ZWQpIHsKCQkJdHJlZS5sYXN0RWRpdGVkLmVkaXRhYmxlSW5wdXQuYmx1cigpOwoJCQlpZiAodGhpcy5zdG9wRXZlbnQpIEV2ZW50LnN0b3AoZXYpOwoJCX0KCX0sCgkKCS8qKgoJICogQXBwZWwgbG9ycyBkZSBsYSB0b3VjaGUgRVNDQVBFCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqLwoJZXNjYXBlIDogZnVuY3Rpb24gKHRyZWUsIGNvZGUsIGtleXMsIGV2KSB7CgkJdmFyIHNlbGVjdGVkID0gdHJlZS5nZXRTZWxlY3RlZEJyYW5jaGVzKCk7CgkJdmFyIGxhc3RQb3MgPSBzZWxlY3RlZC5sZW5ndGggLSAxOwoJCXZhciBub3Vuc2VsZWN0ID0gZmFsc2U7CgkJaWYgKGxhc3RQb3MgPT0gMCAmJiB0cmVlLmxhc3RFZGl0ZWQpIHsKCQkJaWYgKHRyZWUubGFzdEVkaXRlZC5oaWRlRWRpdGFibGUoZXYpKSB7CgkJCQlub3Vuc2VsZWN0ID0gdHJ1ZTsKCQkJfQoJCX0KCQlpZiAoIW5vdW5zZWxlY3QpIHsKCQkJdHJlZS51bnNlbGVjdCgpOwoJCX0KCQl0cmVlLnVuc2V0Q3V0KCk7CgkJdHJlZS51bnNldENvcHkoKTsKCQlpZiAodGhpcy5zdG9wRXZlbnQpIEV2ZW50LnN0b3AoZXYpOwoJfSwKCQoJLyoqCgkgKiBBcHBlbCBsb3JzIGRlIGxhIHRvdWNoZSBIT01FCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqLwoJbW92ZVN0YXJ0IDogZnVuY3Rpb24gKHRyZWUsIGNvZGUsIGtleXMsIGV2KSB7CgkJaWYgKCF0cmVlLmxhc3RFZGl0ZWQpIHsKCQkJdHJlZS51bnNlbGVjdCgpOwoJCQlpZiAodHJlZS5yb290cy5sZW5ndGggPiAwKSB7CgkJCQl2YXIgYnJhbmNoID0gdHJlZS5yb290c1swXTsKCQkJCWJyYW5jaC5zZWxlY3QoKTsKCQkJfQoJCQlpZiAodGhpcy5zdG9wRXZlbnQpIEV2ZW50LnN0b3AoZXYpOwoJCX0KCX0sCgkKCS8qKgoJICogQXBwZWwgbG9ycyBkZSBsYSB0b3VjaGUgRU5ECgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqLwoJbW92ZUVuZCA6IGZ1bmN0aW9uICh0cmVlLCBjb2RlLCBrZXlzLCBldikgewoJCWlmICghdHJlZS5sYXN0RWRpdGVkKSB7CgkJCXRyZWUudW5zZWxlY3QoKTsKCQkJaWYgKHRyZWUucm9vdHMubGVuZ3RoID4gMCkgewoJCQkJdmFyIGxhc3QgPSB0cmVlLnJvb3RzLmxlbmd0aCAtIDE7CgkJCQl2YXIgYnJhbmNoID0gdHJlZS5yb290c1tsYXN0XTsKCQkJCXdoaWxlIChicmFuY2guaGFzQ2hpbGRyZW4oKSkgewoJCQkJCWJyYW5jaCA9IGJyYW5jaC5nZXRMYXN0QnJhbmNoKCk7CgkJCQl9CgkJCQlicmFuY2guc2VsZWN0KCk7CgkJCX0KCQkJaWYgKHRoaXMuc3RvcEV2ZW50KSBFdmVudC5zdG9wKGV2KTsKCQl9Cgl9LAoJCgkvKioKCSAqIEFwcGVsIGxvcnMgZGUgbGEgdG91Y2hlIEZsZWNoZSBoYXV0CgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqLwoJbW92ZVVwIDogZnVuY3Rpb24gKHRyZWUsIGNvZGUsIGtleXMsIGV2KSB7CgkJdmFyIHNlbGVjdGVkID0gdHJlZS5nZXRTZWxlY3RlZEJyYW5jaGVzKCk7CgkJdmFyIGxhc3RQb3MgPSBzZWxlY3RlZC5sZW5ndGggLSAxOwoJCWlmICghdHJlZS5sYXN0RWRpdGVkKSB7CgkJCWlmIChsYXN0UG9zID49IDApIHsKCQkJCXZhciBicmFuY2ggPSBzZWxlY3RlZFtsYXN0UG9zXS5nZXRQcmV2aW91c09wZW5lZEJyYW5jaCgpOwoJCQkJaWYgKGJyYW5jaCkgYnJhbmNoLnNlbGVjdChldik7CgkJCX0gZWxzZSB7CgkJCQkvLyBPbiBz77+9bGVjdGlvbm5lIGF1dG9tYXRpcXVlbWVudCBsZSAxZXIg77+9bO+/vW1lbnQgZGUgbCdhcmJyZQoJCQkJaWYgKHR5cGVvZih0cmVlLnJvb3RzWzBdKSAhPSAndW5kZWZpbmVkJykgdHJlZS5yb290c1swXS5zZWxlY3QoKTsKCQkJfQoJCQlpZiAodGhpcy5zdG9wRXZlbnQpIEV2ZW50LnN0b3AoZXYpOwoJCX0KCX0sCgkKCS8qKgoJICogQXBwZWwgbG9ycyBkZSBsYSB0b3VjaGUgRmxlY2hlIGJhcwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKi8KCW1vdmVEb3duIDogZnVuY3Rpb24gKHRyZWUsIGNvZGUsIGtleXMsIGV2KSB7CgkJdmFyIHNlbGVjdGVkID0gdHJlZS5nZXRTZWxlY3RlZEJyYW5jaGVzKCk7CgkJdmFyIGxhc3RQb3MgPSBzZWxlY3RlZC5sZW5ndGggLSAxOwoJCWlmICghdHJlZS5sYXN0RWRpdGVkKSB7CgkJCWlmIChsYXN0UG9zID49IDApIHsKCQkJCXZhciBicmFuY2ggPSBzZWxlY3RlZFtsYXN0UG9zXS5nZXROZXh0T3BlbmVkQnJhbmNoKCk7CgkJCQlpZiAoYnJhbmNoKSBicmFuY2guc2VsZWN0KGV2KTsKCQkJfSBlbHNlIHsKCQkJCS8vIE9uIHPvv71sZWN0aW9ubmUgYXV0b21hdGlxdWVtZW50IGxlIDFlciDvv71s77+9bWVudCBkZSBsJ2FyYnJlCgkJCQlpZiAodHlwZW9mKHRyZWUucm9vdHNbMF0pICE9ICd1bmRlZmluZWQnKSB0cmVlLnJvb3RzWzBdLnNlbGVjdCgpOwoJCQl9CgkJCWlmICh0aGlzLnN0b3BFdmVudCkgRXZlbnQuc3RvcChldik7CgkJfQoJfSwKCQoJLyoqCgkgKiBBcHBlbCBsb3JzIGRlIGxhIHRvdWNoZSBGbGVjaGUgZHJvaXRlCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqLwoJbW92ZVJpZ2h0IDogZnVuY3Rpb24gKHRyZWUsIGNvZGUsIGtleXMsIGV2KSB7CgkJdmFyIHNlbGVjdGVkID0gdHJlZS5nZXRTZWxlY3RlZEJyYW5jaGVzKCk7CgkJdmFyIGxhc3RQb3MgPSBzZWxlY3RlZC5sZW5ndGggLSAxOwoJCWlmICghdHJlZS5sYXN0RWRpdGVkKSB7CgkJCWlmIChsYXN0UG9zID49IDApIHsKCQkJCXZhciBicmFuY2ggPSBzZWxlY3RlZFtsYXN0UG9zXTsKCQkJCWlmIChicmFuY2guaGFzQ2hpbGRyZW4oKSAmJiAhYnJhbmNoLmlzT3BlbmVkKCkpIHsKCQkJCQlicmFuY2guc2V0T3Blbihldik7CgkJCQl9IGVsc2UgewoJCQkJCWlmIChicmFuY2guaGFzQ2hpbGRyZW4oKSkgewoJCQkJCQl2YXIgc2VsID0gYnJhbmNoLmdldEZpcnN0QnJhbmNoKCk7CgkJCQkJCXZhciBzZWwgPSBzZWwuc2VsZWN0KGV2KTsKCQkJCQl9CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQkvLyBPbiBz77+9bGVjdGlvbm5lIGF1dG9tYXRpcXVlbWVudCBsZSAxZXIg77+9bO+/vW1lbnQgZGUgbCdhcmJyZQoJCQkJaWYgKHR5cGVvZih0cmVlLnJvb3RzWzBdKSAhPSAndW5kZWZpbmVkJykgdHJlZS5yb290c1swXS5zZWxlY3QoKTsKCQkJfQoJCQlpZiAodGhpcy5zdG9wRXZlbnQpIEV2ZW50LnN0b3AoZXYpOwoJCX0JCgl9LAoJCgkvKioKCSAqIEFwcGVsIGxvcnMgZGUgbGEgdG91Y2hlIEZsZWNoZSBnYXVjaGUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICovCgltb3ZlTGVmdCA6IGZ1bmN0aW9uICh0cmVlLCBjb2RlLCBrZXlzLCBldikgewoJCXZhciBzZWxlY3RlZCA9IHRyZWUuZ2V0U2VsZWN0ZWRCcmFuY2hlcygpOwoJCXZhciBsYXN0UG9zID0gc2VsZWN0ZWQubGVuZ3RoIC0gMTsKCQlpZiAoIXRyZWUubGFzdEVkaXRlZCkgewoJCQlpZiAobGFzdFBvcyA+PSAwKSB7CgkJCQl2YXIgYnJhbmNoID0gc2VsZWN0ZWRbbGFzdFBvc107CgkJCQlpZiAobGFzdFBvcyA9PSAwICYmIGJyYW5jaC5oYXNDaGlsZHJlbigpICYmIGJyYW5jaC5pc09wZW5lZCgpKSB7CgkJCQkJYnJhbmNoLm9wZW5JdChmYWxzZSk7CgkJCQl9IGVsc2UgewoJCQkJCWlmICghYnJhbmNoLmlzUm9vdCkgYnJhbmNoLnBhcmVudC5zZWxlY3QoZXYpOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJLy8gT24gc++/vWxlY3Rpb25uZSBhdXRvbWF0aXF1ZW1lbnQgbGUgMWVyIO+/vWzvv71tZW50IGRlIGwnYXJicmUKCQkJCWlmICh0eXBlb2YodHJlZS5yb290c1swXSkgIT0gJ3VuZGVmaW5lZCcpIHRyZWUucm9vdHNbMF0uc2VsZWN0KCk7CgkJCX0KCQkJaWYgKHRoaXMuc3RvcEV2ZW50KSBFdmVudC5zdG9wKGV2KTsKCQl9CQkKCX0sCgkKCS8qKgoJICogQXBwZWwgbG9ycyBkZSBsYSB0b3VjaGUgRjIKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICovCgllZGl0IDogZnVuY3Rpb24gKHRyZWUsIGNvZGUsIGtleXMsIGV2KSB7CgkJdmFyIHNlbGVjdGVkID0gdHJlZS5nZXRTZWxlY3RlZEJyYW5jaGVzKCk7CgkJdmFyIGxhc3RQb3MgPSBzZWxlY3RlZC5sZW5ndGggLSAxOwoJCWlmIChsYXN0UG9zID09IDApIHsKCQkJc2VsZWN0ZWRbbGFzdFBvc10uc2V0RGJsQ2xpY2soZXYpOwoJCX0KCQlpZiAodGhpcy5zdG9wRXZlbnQpIEV2ZW50LnN0b3AoZXYpOwoJfSwKCQoJLyoqCgkgKiBBcHBlbCBsb3JzIGRlIGxhIHRvdWNoZSBERUxFVEUKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICovCglyZW1vdmUgOiBmdW5jdGlvbiAodHJlZSwgY29kZSwga2V5cywgZXYpIHsKCQlpZiAoIXRyZWUubGFzdEVkaXRlZCkgewoJCQl2YXIgc2VsZWN0ZWQgPSB0cmVlLmdldFNlbGVjdGVkQnJhbmNoZXMoKTsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZC5sZW5ndGg7IGkrKykgewoJCQkJdHJlZS5yZW1vdmVCcmFuY2goc2VsZWN0ZWRbaV0pOwoJCQl9CgkJCWlmICh0aGlzLnN0b3BFdmVudCkgRXZlbnQuc3RvcChldik7CgkJfQoJfSwKCQoJLyoqCgkgKiBBcHBlbCBsb3JzIGRlIGxhIHRvdWNoZSB4IG91IFgKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICovCgljdXQgOiBmdW5jdGlvbiAodHJlZSwgY29kZSwga2V5cywgZXYpIHsKCQlpZiAoa2V5cy5jdHJsS2V5IHx8IGtleXMubWV0YUtleSkgewoJCQl0cmVlLmN1dCgpOwoJCQlpZiAodGhpcy5zdG9wRXZlbnQpIEV2ZW50LnN0b3AoZXYpOwoJCX0KCX0sCgkKCS8qKgoJICogQXBwZWwgbG9ycyBkZSBsYSB0b3VjaGUgYyBvdSBDCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqLwoJY29weSA6IGZ1bmN0aW9uICh0cmVlLCBjb2RlLCBrZXlzLCBldikgewoJCWlmIChrZXlzLmN0cmxLZXkgfHwga2V5cy5tZXRhS2V5KSB7CgkJCXRyZWUuY29weSgpOwoJCQlpZiAodGhpcy5zdG9wRXZlbnQpIEV2ZW50LnN0b3AoZXYpOwoJCX0KCX0sCgkKCS8qKgoJICogQXBwZWwgbG9ycyBkZSBsYSB0b3VjaGUgdiBvdSBWCgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqLwoJcGFzdGUgOiBmdW5jdGlvbiAodHJlZSwgY29kZSwga2V5cywgZXYpIHsKCQlpZiAoa2V5cy5jdHJsS2V5IHx8IGtleXMubWV0YUtleSkgewoJCQl0cmVlLnBhc3RlKCk7CgkJCWlmICh0aGlzLnN0b3BFdmVudCkgRXZlbnQuc3RvcChldik7CgkJfQoJfSwKCQoJLyoqCgkgKiBBcHBlbCBsb3JzIGRlIGxhIHRvdWNoZSB6IG91IFoKCSAqCgkgKiBAYWNjZXNzCXB1YmxpYwoJICovCgl1bmRvIDogZnVuY3Rpb24gKHRyZWUsIGNvZGUsIGtleXMsIGV2KSB7CgkJaWYgKGtleXMuY3RybEtleSB8fCBrZXlzLm1ldGFLZXkpIHsKCQkJdHJlZS51bmRvKCk7CgkJCWlmICh0aGlzLnN0b3BFdmVudCkgRXZlbnQuc3RvcChldik7CgkJfQoJfSwKCQoJLyoqCgkgKiBHZXN0aW9uIGR1IGNsYXZpZXIKCSAqCgkgKiBAYWNjZXNzCXByaXZhdGUKCSAqIEBwYXJhbQlFdmVudAkJCQkJZXYJCQkJCQkJTCfvv71277+9bmVtZW50IGTvv71jbGVuY2hldXIKCSAqIEByZXR1cm4Jdm9pZAoJICovCglldnRfa2V5UHJlc3MgOiBmdW5jdGlvbiAoZXYpIHsKCQl2YXIgY3VycmVudCA9IHRoaXMuZ2V0Q3VycmVudFRyZWUoKTsKCQlpZiAoY3VycmVudCAmJiB0aGlzLmtleWJvYXJkRXZlbnRzKSB7CgkJCS8vIENoZWNrIENvbnRyb2wgQ3RybAoJCQl2YXIga2V5cyA9IHsKCQkJCSdjdHJsS2V5JyAgOiB0aGlzLmN0cmxPbihldiksCgkJCQknbWV0YUtleScgIDogdGhpcy5tZXRhT24oZXYpLAoJCQkJJ2FsdEtleScgICA6IHRoaXMuYWx0T24oZXYpLAoJCQkJJ3NoaWZ0S2V5JyA6IHRoaXMuc2hpZnRPbihldikKCQkJfTsKCQkJLy8gQ2hlY2sgZGUgbGEgdG91Y2hlIGFwcHV577+9ZQoJCQl2YXIgY29kZSA9IHRoaXMuZ2V0Q29kZShldik7CgkJCS8vIENoZWNrIHNpIGwndXRpbGlzYXRldXIgYSBmb3VybmkgdW5lIGZvbmN0aW9uIHBhcnRpY3Vsae+/vXJlCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51c2VyS2V5cy5sZW5ndGg7IGkrKykgewoJCQkJaWYgKGNvZGUgPT0gdGhpcy51c2VyS2V5c1tpXS5rZXkgJiYgdHlwZW9mKHRoaXMudXNlcktleXNbaV0uZnVuYykgPT0gJ2Z1bmN0aW9uJykgewoJCQkJCWlmICghdGhpcy51c2VyS2V5c1tpXS5mdW5jKGN1cnJlbnQsIGNvZGUsIGtleXMsIGV2KSkgewoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgkJCXN3aXRjaCAoY29kZSkgewoJCQkJLy8gUmV0b3VyIGF1IGTvv71idXQgKEhvbWUpIGV0IGZpbiAoRW5kKQoJCQkJY2FzZSBFdmVudC5LRVlfSE9NRSA6IHRoaXMubW92ZVN0YXJ0KGN1cnJlbnQsIGNvZGUsIGtleXMsIGV2KTsgYnJlYWs7CgkJCQljYXNlIEV2ZW50LktFWV9FTkQgOiB0aGlzLm1vdmVFbmQoY3VycmVudCwgY29kZSwga2V5cywgZXYpOyBicmVhazsKCQkJCS8vIE1vdXZlbWVudHMgaGF1dCwgYmFzLCBnYXVjaGUgZXQgZHJvaXRlCgkJCQljYXNlIEV2ZW50LktFWV9VUCA6IHRoaXMubW92ZVVwKGN1cnJlbnQsIGNvZGUsIGtleXMsIGV2KTsgYnJlYWs7CgkJCQljYXNlIEV2ZW50LktFWV9ET1dOIDogdGhpcy5tb3ZlRG93bihjdXJyZW50LCBjb2RlLCBrZXlzLCBldik7IGJyZWFrOwoJCQkJY2FzZSBFdmVudC5LRVlfUklHSFQgOiB0aGlzLm1vdmVSaWdodChjdXJyZW50LCBjb2RlLCBrZXlzLCBldik7IGJyZWFrOwoJCQkJY2FzZSBFdmVudC5LRVlfTEVGVCA6IHRoaXMubW92ZUxlZnQoY3VycmVudCwgY29kZSwga2V5cywgZXYpOyBicmVhazsKCQkJfQoJCQlpZiAodGhpcy5rZXlib2FyZFN0cnVjdHVyYWxFdmVudHMpIHsKCQkJCXN3aXRjaCAoY29kZSkgewoJCQkJCS8vIEZpbiBkZSBsJ++/vWRpdGlvbiBkJ3VuZSBicmFuY2hlCgkJCQkJY2FzZSBFdmVudC5LRVlfUkVUVVJOIDogdGhpcy5lbnRlcihjdXJyZW50LCBjb2RlLCBrZXlzLCBldik7IGJyZWFrOwoJCQkJCS8vIETvv71zZWxlY3Rpb24KCQkJCQljYXNlIEV2ZW50LktFWV9FU0MgOiB0aGlzLmVzY2FwZShjdXJyZW50LCBjb2RlLCBrZXlzLCBldik7IGJyZWFrOwoJCQkJCS8vIEVmZmFjZXIgKERlbCkKCQkJCQljYXNlIEV2ZW50LktFWV9ERUxFVEUgOiB0aGlzLnJlbW92ZShjdXJyZW50LCBjb2RlLCBrZXlzLCBldik7IGJyZWFrOwoJCQkJCS8vIEVkaXRlciAoRjIpCgkJCQkJY2FzZSAxMTM6IHRoaXMuZWRpdChjdXJyZW50LCBjb2RlLCBrZXlzLCBldik7IGJyZWFrOwoJCQkJCS8vIENvdXBlciAoeC1YKQoJCQkJCWNhc2UgMTIwOiBjYXNlIDg4OiB0aGlzLmN1dChjdXJyZW50LCBjb2RlLCBrZXlzLCBldik7IGJyZWFrOwoJCQkJCS8vIENvcGllciAoYy1DKQoJCQkJCWNhc2UgOTkgOiBjYXNlIDY3OiB0aGlzLmNvcHkoY3VycmVudCwgY29kZSwga2V5cywgZXYpOyBicmVhazsKCQkJCQkvLyBDb2xsZXIgKHYtVikKCQkJCQljYXNlIDExODogY2FzZSA4NjogdGhpcy5wYXN0ZShjdXJyZW50LCBjb2RlLCBrZXlzLCBldik7IGJyZWFrOwoJCQkJCS8vIEFubnVsZXIgKHotWikKCQkJCQljYXNlIDEyMjogY2FzZSA5MDogdGhpcy51bmRvKGN1cnJlbnQsIGNvZGUsIGtleXMsIGV2KTsgYnJlYWs7CgkJCQl9CgkJCX0KCQl9Cgl9Cn07CgoKLyoqCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqCQkJCQkJCVRhZmVsVHJlZSBwcmUtaW5zdGFuY2lhdGlvbgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKi8KCmZ1bmN0aW9uIFRhZmVsVHJlZUluaXRCYXNlIChldikgewoJVGFmZWxUcmVlTWFuYWdlci5zZXRDb250cm9sRXZlbnRzKCk7CglpZiAodHlwZW9mKFRhZmVsVHJlZUluaXQpID09ICdmdW5jdGlvbicpIHsKCQlUYWZlbFRyZWVJbml0KCk7Cgl9Cn07CgpFdmVudC5vYnNlcnZlKHdpbmRvdywgJ2xvYWQnLCBUYWZlbFRyZWVJbml0QmFzZSwgZmFsc2UpOw==</File>
        <File Location="var/httpd/htdocs/js/Tree-optimized.js" Permission="664" Encode="Base64">CnZhciBUQUZFTFRSRUVfV1JPTkdfQlJBTkNIX1NUUlVDVFVSRT0iTGEgc3RydWN0dXJlIGRlIGxhIGJyYW5jaGUgbidlc3QgcGFzIGNvcnJlY3RlLiBJbCBmYXV0IGF1IG1vaW5zIHVuIGlkIGV0IHVuIHRleHRlIjsKdmFyIFRBRkVMVFJFRV9OT19CT0RZX1RBRz0iSWwgbid5IGEgcGFzIGRlIGJhbGlzZSBCT0RZISI7CnZhciBUQUZFTFRSRUVfREVCVUc9ZmFsc2U7CnZhciBUYWZlbFRyZWU9Q2xhc3MuY3JlYXRlKCk7ClRhZmVsVHJlZS52ZXJzaW9uPScxLjkuMSc7ClRhZmVsVHJlZS5sYXN0VXBkYXRlPScyMDA3LTA3LTIxJzsKVGFmZWxUcmVlLnNjcmlwdEZyYWdtZW50PS9bXHNdKjxbL10/W3VsfGxpXS4qPi4qL2lnOwpUYWZlbFRyZWUuZGVidWdSZXR1cm49JzxiciAvPic7ClRhZmVsVHJlZS5kZWJ1Z1RhYj0nJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7JzsKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZT0nVCc7ClRhZmVsVHJlZS50ZXh0QXR0cmlidXRlcz1bClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ2ltZycsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ2ltZ29wZW4nLApUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydpbWdjbG9zZScsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ2ltZ3NlbGVjdCcsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ2ltZ3NlbGVjdG9wZW4nLApUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydpbWdzZWxlY3RjbG9zZScsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ3N0eWxlJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnZHJvcGxpbmsnLApUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydvcGVubGluaycsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ2VkaXRsaW5rJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsndG9vbHRpcCcsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ3RpdGxlJwpdOwpUYWZlbFRyZWUubnVtZXJpY0F0dHJpYnV0ZXM9WwpUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydjYW5oYXZlY2hpbGRyZW4nLApUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydhY2NlcHRkcm9wJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnZHJhZ2dhYmxlJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnZWRpdGFibGUnLApUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydvcGVuJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnY2hlY2snLApUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydjaGVja2JveCcsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ3NlbGVjdCcsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ2xhc3QnCl07ClRhZmVsVHJlZS5mdW5jdGlvbkF0dHJpYnV0ZXM9WwpUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydvbmJlZm9yZWNoZWNrJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnb25jaGVjaycsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ29uY2xpY2snLApUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydvbmRibGNsaWNrJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnb25iZWZvcmVvcGVuJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnb25vcGVuJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnb25lZGl0JywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnb25lZGl0YWpheCcsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ29ubW91c2VvdmVyJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnb25tb3VzZW91dCcsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ29ubW91c2Vkb3duJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnb25tb3VzZXVwJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnb25kcm9wJywKVGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZSsnb25kcmFnc3RhcnRlZmZlY3QnLApUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydvbmRyYWdlbmRlZmZlY3QnLApUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydvbmVycm9yYWpheCcsClRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUrJ29uZHJvcGFqYXgnLApUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlKydvbm9wZW5wb3B1bGF0ZScKXTsKVGFmZWxUcmVlLmxvYWRGcm9tVUw9ZnVuY3Rpb24oaWQsaW1nQmFzZSx3aWR0aCxoZWlnaHQsb3B0aW9ucyxkZWJ1Zyl7CmlmKHR5cGVvZihpbWdCYXNlKT09ICdvYmplY3QnKXsKb3B0aW9ucz1pbWdCYXNlOwpkZWJ1Zz13aWR0aDsKaW1nQmFzZSA9KG9wdGlvbnMuaW1nQmFzZSk/IG9wdGlvbnMuaW1nQmFzZTonaW1ncy8nOwp3aWR0aCA9KG9wdGlvbnMud2lkdGgpPyBvcHRpb25zLndpZHRoOicxMDAlJzsKaGVpZ2h0ID0ob3B0aW9ucy5oZWlnaHQpPyBvcHRpb25zLmhlaWdodDonYXV0byc7Cn0KdmFyIG9iaj0kKGlkKTsKdmFyIGxvYWQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CmxvYWQuc2V0QXR0cmlidXRlKCd0aXRsZScsJ2xvYWQnKTsKbG9hZC5zZXRBdHRyaWJ1dGUoJ2FsdCcsJ2xvYWQnKTsKbG9hZC5zcmMgPSgoaW1nQmFzZSk/IGltZ0Jhc2U6J2ltZ3MvJykrICdsb2FkLmdpZic7Cm9iai5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsb2FkLG9iaik7CkVsZW1lbnQuaGlkZShvYmopOwp2YXIgdGFiPScnOwp2YXIgdGFiTW9kZWwgPShkZWJ1Zyk/IFRhZmVsVHJlZS5kZWJ1Z1RhYjonJzsKdmFyIHJ0ID0oZGVidWcpPyBUYWZlbFRyZWUuZGVidWdSZXR1cm46Jyc7CnZhciB2aXJndWxlPScnOwp2YXIgc3RyID0oZGVidWcpPyAndmFyIHN0cnVjdD1bJzonKFsnOwpmb3IodmFyIGk9MDtpPG9iai5jaGlsZE5vZGVzLmxlbmd0aDtpKyspewppZihvYmouY2hpbGROb2Rlc1tpXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0gJ2xpJyl7CnN0ciArPSB0aGlzLl9sb2FkRnJvbVVMKG9iai5jaGlsZE5vZGVzW2ldLHZpcmd1bGUscnQsdGFiLHRhYk1vZGVsKTsKdmlyZ3VsZT0nLCc7Cn0KfQpzdHIgKz0gcnQgKygoZGVidWcpPyAnXTsnOiddKScpOwp2YXIgZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwpkaXYuaWQ9b2JqLmlkOwpvYmouaWQgKz0gJ19fX190b2RlbGV0ZSc7Cm9iai5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsb2JqKTsKaWYoIWRlYnVnKXsKdmFyIG09VGFmZWxUcmVlLnByZWZpeEF0dHJpYnV0ZTsKdmFyIHN0cnVjdD1ldmFsKHN0cik7CnZhciBfdHJlZT1uZXcgVGFmZWxUcmVlKGlkLHN0cnVjdCxvcHRpb25zKTsKfSBlbHNlewpkaXYuaW5uZXJIVE1MPXN0ci5yZXBsYWNlKC88L2ltZywnJmx0OycpOwp2YXIgX3RyZWU9c3RyOwp9Cm9iai5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxvYWQpOwpvYmoucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvYmopOwpyZXR1cm4gX3RyZWU7Cn07ClRhZmVsVHJlZS5fbG9hZEZyb21VTD1mdW5jdGlvbihvYmosdmlyZ3VsZSxydCx0YWIsdGFiTW9kZWwpewp0YWIgKz0gdGFiTW9kZWw7CnZhciBjb250ZW51PVRhZmVsVHJlZS50cmltKG9iai5pbm5lckhUTUwucmVwbGFjZShUYWZlbFRyZWUuc2NyaXB0RnJhZ21lbnQsJycpKTsKdmFyIHN0cj12aXJndWxlK3J0K3RhYisneycrcnQ7CnN0ciArPSB0YWIrIidpZCc6JyIrb2JqLmlkKyInIjsKaWYoY29udGVudSl7CnN0ciArPSAiLCIrcnQrdGFiKyIndHh0JzonIitjb250ZW51KyInIjsKfQpUYWZlbFRyZWUudGV4dEF0dHJpYnV0ZXMuZWFjaChmdW5jdGlvbihhdHRyKXsKaWYob2JqLmdldEF0dHJpYnV0ZShhdHRyKSlzdHIgKz0gIiwiK3J0K3RhYisiJyIrYXR0ci5yZXBsYWNlKFRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUsJycpKyAiJzonIitvYmouZ2V0QXR0cmlidXRlKGF0dHIpKyAiJyI7Cn0pOwpUYWZlbFRyZWUubnVtZXJpY0F0dHJpYnV0ZXMuZWFjaChmdW5jdGlvbihhdHRyKXsKaWYob2JqLmdldEF0dHJpYnV0ZShhdHRyKSlzdHIgKz0gIiwiK3J0K3RhYisiJyIrYXR0ci5yZXBsYWNlKFRhZmVsVHJlZS5wcmVmaXhBdHRyaWJ1dGUsJycpKyAiJzoiK29iai5nZXRBdHRyaWJ1dGUoYXR0cik7Cn0pOwpUYWZlbFRyZWUuZnVuY3Rpb25BdHRyaWJ1dGVzLmVhY2goZnVuY3Rpb24oYXR0cil7CmlmKG9iai5nZXRBdHRyaWJ1dGUoYXR0cikpc3RyICs9ICIsIitydCt0YWIrIiciK2F0dHIucmVwbGFjZShUYWZlbFRyZWUucHJlZml4QXR0cmlidXRlLCcnKSsgIic6IitvYmouZ2V0QXR0cmlidXRlKGF0dHIpOwp9KTsKZm9yKHZhciBpPTA7aTxvYmouY2hpbGROb2Rlcy5sZW5ndGg7aSsrKXsKaWYob2JqLmNoaWxkTm9kZXNbaV0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09ICd1bCcpewp2aXJndWxlPScnOwpzdHIgKz0gJywnK3J0K3RhYisiJ2l0ZW1zJzpbIjsKZm9yKHZhciBqPTA7ajxvYmouY2hpbGROb2Rlc1tpXS5jaGlsZE5vZGVzLmxlbmd0aDtqKyspewppZihvYmouY2hpbGROb2Rlc1tpXS5jaGlsZE5vZGVzW2pdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PSAnbGknKXsKc3RyICs9IHRoaXMuX2xvYWRGcm9tVUwob2JqLmNoaWxkTm9kZXNbaV0uY2hpbGROb2Rlc1tqXSx2aXJndWxlLHJ0LHRhYix0YWJNb2RlbCk7CnZpcmd1bGU9JywnOwp9Cn0Kc3RyICs9IHJ0K3RhYisnXSc7Cn0KfQpzdHIgKz0gcnQrdGFiKyd9JzsKcmV0dXJuIHN0cjsKfTsKVGFmZWxUcmVlLnRyaW09ZnVuY3Rpb24oc3RyaW5nKXsKcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oXlxzKil8KFxzKiQpfFxufFxyfFx0L2csJycpOwp9OwpUYWZlbFRyZWUucHJvdG90eXBlID17CmluaXRpYWxpemU6ZnVuY3Rpb24oaWQsc3RydWN0LGltZ0Jhc2Usd2lkdGgsaGVpZ2h0LG9wdGlvbnMpewppZih0eXBlb2YoaW1nQmFzZSk9PSAnb2JqZWN0Jyl7Cm9wdGlvbnM9aW1nQmFzZTsKaW1nQmFzZSA9KG9wdGlvbnMuaW1nQmFzZSk/IG9wdGlvbnMuaW1nQmFzZTonaW1ncy8nOwp3aWR0aCA9KG9wdGlvbnMud2lkdGgpPyBvcHRpb25zLndpZHRoOicxMDAlJzsKaGVpZ2h0ID0ob3B0aW9ucy5oZWlnaHQpPyBvcHRpb25zLmhlaWdodDonYXV0byc7Cn0KdGhpcy5pbWdCYXNlID0oaW1nQmFzZSk/IGltZ0Jhc2U6J2ltZ3MvJzsKdGhpcy5zZXRMaW5lU3R5bGUoJ2xpbmUnKTsKdGhpcy5vcHRpb25zID0ob3B0aW9ucyk/IG9wdGlvbnMgOnt9Owp0aGlzLmNvcHlOYW1lPScoJW4pJzsKdGhpcy5jb3B5TmFtZUJyZWFrPSdfJzsKdGhpcy5jbGFzc1RyZWU9J3RhZmVsVHJlZSc7CnRoaXMuY2xhc3NUcmVlUm9vdD10aGlzLmNsYXNzVHJlZSsnX3Jvb3QnOwp0aGlzLmNsYXNzVHJlZUJyYW5jaD10aGlzLmNsYXNzVHJlZSsnX3Jvdyc7CnRoaXMuY2xhc3NDb3B5ID0odGhpcy5vcHRpb25zLmNvcHlDU1MpPyB0aGlzLm9wdGlvbnMuY29weUNTUzpudWxsOwp0aGlzLmNsYXNzQ3V0ID0odGhpcy5vcHRpb25zLmN1dENTUyk/IHRoaXMub3B0aW9ucy5jdXRDU1M6bnVsbDsKdGhpcy5jbGFzc0RyYWc9J3RhZmVsVHJlZWRyYWcnOwp0aGlzLmNsYXNzU2VsZWN0ZWQ9J3RhZmVsVHJlZXNlbGVjdGVkJzsKdGhpcy5jbGFzc0VkaXRhYmxlPSd0YWZlbFRyZWVlZGl0YWJsZSc7CnRoaXMuY2xhc3NDb250ZW50PSd0YWZlbFRyZWVjb250ZW50JzsKdGhpcy5jbGFzc0NhbmV2YXM9J3RhZmVsVHJlZWNhbmV2YXMnOwp0aGlzLmNsYXNzRHJhZ092ZXI9J3RhZmVsVHJlZWRyYWdPdmVyJzsKdGhpcy5jbGFzc1Rvb2x0aXA9J3RhZmVsVHJlZXRvb2x0aXAnOwp0aGlzLmNsYXNzT3BlbmFibGU9J3RhZmVsVHJlZW9wZW5hYmxlJzsKdGhpcy5kZWZhdWx0U3RydWN0PVtdOwp0aGlzLmlkVHJlZT0wOwp0aGlzLmJlaGF2aW91ckRyb3A9MDsKdGhpcy5kdXJhdGlvblRvb2x0aXBTaG93PTEwMDA7CnRoaXMuZHVyYXRpb25Ub29sdGlwSGlkZT0xMDA7CnRoaXMuYmFzZVN0cnVjdD1zdHJ1Y3Q7CnRoaXMud2lkdGggPSh3aWR0aCk/IHdpZHRoOicxMDAlJzsKdGhpcy5oZWlnaHQgPShoZWlnaHQpPyBoZWlnaHQ6J2F1dG8nOwp0aGlzLmRpdj0kKGlkKTsKdGhpcy5kaXYuc3R5bGUud2lkdGg9dGhpcy53aWR0aDsKdGhpcy5kaXYuc3R5bGUuaGVpZ2h0PXRoaXMuaGVpZ2h0Owp0aGlzLmlkPXRoaXMuZGl2LmlkOwp0aGlzLmlzVHJlZT10cnVlOwp0aGlzLmRyb3BBTFQ9dHJ1ZTsKdGhpcy5vcGVuQWxsPWZhbHNlOwp0aGlzLnJ0bE1vZGU9ZmFsc2U7CnRoaXMuZHJvcENUUkw9dHJ1ZTsKdGhpcy5tdWx0aWxpbmU9ZmFsc2U7CnRoaXMuY2hlY2tib3hlcz1mYWxzZTsKdGhpcy5wcm9wYWdhdGlvbj10cnVlOwp0aGlzLmRyYWdSZXZlcnQ9dHJ1ZTsKdGhpcy5kcmFnR2hvc3Rpbmc9dHJ1ZTsKdGhpcy5iaWdUcmVlTG9hZGluZz0tMTsKdGhpcy5kcm9wQXNTaWJsaW5nPXRydWU7CnRoaXMub25seU9uZU9wZW5lZD1mYWxzZTsKdGhpcy5vcGVuZWRBZnRlckFkZD10cnVlOwp0aGlzLmVkaXRhYmxlQnJhbmNoZXM9dHJ1ZTsKdGhpcy5yZW9wZW5Gcm9tU2VydmVyPXRydWU7CnRoaXMuc2VsZWN0ZWRCcmFuY2hTaG93ZWQ9dHJ1ZSwKdGhpcy5jaGVja2JveGVzVGhyZWVTdGF0ZT1mYWxzZTsKdGhpcy5yb290cz1bXTsKdGhpcy5pY29ucz1bbnVsbCxudWxsLG51bGxdOwp0aGlzLmljb25zU2VsZWN0ZWQ9W251bGwsbnVsbCxudWxsXTsKdGhpcy5vdGhlclRyZWVzPVtdOwp0aGlzLmN1dHRlZEJyYW5jaGVzPVtdOwp0aGlzLmNvcGllZEJyYW5jaGVzPVtdOwp0aGlzLmNoZWNrZWRCcmFuY2hlcz1bXTsKdGhpcy5zZWxlY3RlZEJyYW5jaGVzPVtdOwp0aGlzLmlkVHJlZUJyYW5jaD10aGlzLmNsYXNzVHJlZSsnXycrdGhpcy5pZCsnX2lkXyc7CnRoaXMubG9hZGVkPWZhbHNlOwpFbGVtZW50LmFkZENsYXNzTmFtZSh0aGlzLmRpdix0aGlzLmNsYXNzVHJlZSk7CnRoaXMudXNlQ29va2llPXRydWU7CnRoaXMuY29va2llU2VwYXJhdG9yPSd8JzsKdGhpcy5jb29raWVDaGVja1NlcGFyYXRvcj0nW2NoZWNrXSc7CnRoaXMuY29va2llT3BlbmVkPW51bGw7CnRoaXMuY29va2llQ2hlY2tlZD1udWxsOwp0aGlzLnNldE9wdGlvbnModGhpcy5vcHRpb25zKTsKdmFyIGZyb21Db29raWU9dGhpcy5nZXRDb29raWUodGhpcy5jbGFzc1RyZWUrdGhpcy5pZCk7CmlmKGZyb21Db29raWUpewp2YXIgYnJhbmNoZXM9ZnJvbUNvb2tpZS5zcGxpdCh0aGlzLmNvb2tpZUNoZWNrU2VwYXJhdG9yKTsKdGhpcy5jb29raWVPcGVuZWQ9W107CnRoaXMuY29va2llT3BlbmVkPWJyYW5jaGVzWzBdLnNwbGl0KHRoaXMuY29va2llU2VwYXJhdG9yKTsKdGhpcy5jb29raWVPcGVuZWQuc2hpZnQoKTsKdGhpcy5jb29raWVDaGVja2VkPVtdOwppZihicmFuY2hlcy5sZW5ndGg+MSl7CnRoaXMuY29va2llQ2hlY2tlZD1icmFuY2hlc1sxXS5zcGxpdCh0aGlzLmNvb2tpZVNlcGFyYXRvcik7Cn0KfQp0aGlzLmRlYnVnT2JqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwp0aGlzLmRlYnVnT2JqLnNldEF0dHJpYnV0ZSgnaWQnLHRoaXMuY2xhc3NUcmVlKydfZGVidWcnKTsKRWxlbWVudC5oaWRlKHRoaXMuZGVidWdPYmopOwp0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLmRlYnVnT2JqKTsKdGhpcy5hamF4T2JqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwp0aGlzLmFqYXhPYmouc2V0QXR0cmlidXRlKCdpZCcsdGhpcy5jbGFzc1RyZWUrJ19hamF4Jyk7CkVsZW1lbnQuaGlkZSh0aGlzLmFqYXhPYmopOwp0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLmFqYXhPYmopOwpFdmVudC5vYnNlcnZlKHRoaXMuZGl2LCdtb3VzZWRvd24nLHRoaXMuZXZ0X3NldEFzQ3VycmVudC5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLGZhbHNlKTsKRXZlbnQub2JzZXJ2ZSh0aGlzLmRpdiwnZm9jdXMnLHRoaXMuZXZ0X3NldEFzQ3VycmVudC5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLGZhbHNlKTsKaWYoIXRoaXMuc2VydmVyQ29va2llKXsKaWYodGhpcy5vcHRpb25zLmdlbmVyYXRlKXsKdGhpcy5nZW5lcmF0ZSgpOwp9CmlmKHRoaXMub3B0aW9ucy5nZW5lcmF0ZUJpZ1RyZWUpewp0aGlzLmdlbmVyYXRlKHRydWUpOwp9Cn0KVGFmZWxUcmVlTWFuYWdlci5hZGQodGhpcyk7Cn0sCmV2dF9zZXRBc0N1cnJlbnQ6ZnVuY3Rpb24oZXYpewp2YXIgb2JqPUV2ZW50LmVsZW1lbnQoZXYpOwpUYWZlbFRyZWVNYW5hZ2VyLnNldEN1cnJlbnRUcmVlKHRoaXMpOwp9LApvcmRlckxpc3RCcmFuY2hlczpmdW5jdGlvbihsaXN0KXsKdmFyIG9yZGVyZWQ9W107CnZhciBsZXZlbD1bXTsKdmFyIG5pdm1pbj0xMDA7CnZhciBuaXZtYXg9MDsKdmFyIG5pdj0wOwpmb3IodmFyIGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7Cm5pdj1saXN0W2ldLmdldExldmVsKCk7CmlmKHR5cGVvZihsZXZlbFtuaXZdKT09ICd1bmRlZmluZWQnKXsKbGV2ZWxbbml2XT1bXTsKfQpsZXZlbFtuaXZdLnB1c2gobGlzdFtpXSk7CmlmKG5pdj5uaXZtYXgpbml2bWF4PW5pdjsKaWYobml2PG5pdm1pbiluaXZtaW49bml2Owp9CmZvcih2YXIgaT1uaXZtaW47aTw9bml2bWF4O2krKyl7CmlmKGxldmVsW2ldKXsKb3JkZXJlZC5wdXNoKGxldmVsW2ldKTsKfQp9CnJldHVybiBvcmRlcmVkOwp9LApnZXRDb3BpZWRCcmFuY2hlczpmdW5jdGlvbigpewp2YXIgYnJhbmNoZXM9dGhpcy5jb3BpZWRCcmFuY2hlczsKaWYoYnJhbmNoZXMubGVuZ3RoPT0wKXsKZm9yKHZhciBpPTA7aTx0aGlzLm90aGVyVHJlZXMubGVuZ3RoO2krKyl7CmJyYW5jaGVzPXRoaXMub3RoZXJUcmVlc1tpXS5jb3BpZWRCcmFuY2hlczsKaWYoYnJhbmNoZXMubGVuZ3RoPjApYnJlYWs7Cn0KfQpyZXR1cm4gYnJhbmNoZXM7Cn0sCmdldEN1dHRlZEJyYW5jaGVzOmZ1bmN0aW9uKCl7CnZhciBicmFuY2hlcz10aGlzLmN1dHRlZEJyYW5jaGVzOwppZihicmFuY2hlcy5sZW5ndGg9PTApewpmb3IodmFyIGk9MDtpPHRoaXMub3RoZXJUcmVlcy5sZW5ndGg7aSsrKXsKYnJhbmNoZXM9dGhpcy5vdGhlclRyZWVzW2ldLmN1dHRlZEJyYW5jaGVzOwppZihicmFuY2hlcy5sZW5ndGg+MClicmVhazsKfQp9CnJldHVybiBicmFuY2hlczsKfSwKY3V0OmZ1bmN0aW9uKCl7CnRoaXMudW5zZXRDdXQoKTsKdGhpcy51bnNldENvcHkoKTsKdmFyIGxldmVsPXRoaXMub3JkZXJMaXN0QnJhbmNoZXModGhpcy5zZWxlY3RlZEJyYW5jaGVzKTsKdmFyIHNlbD1udWxsOwpmb3IodmFyIGk9MDtpPGxldmVsLmxlbmd0aDtpKyspewpmb3IodmFyIGo9MDtqPGxldmVsW2ldLmxlbmd0aDtqKyspewpzZWw9bGV2ZWxbaV1bal07CnRoaXMuX2N1dChzZWwpOwp0aGlzLmN1dHRlZEJyYW5jaGVzLnB1c2goc2VsKTsKfQp9CnJldHVybiB0cnVlOwp9LApjb3B5OmZ1bmN0aW9uKCl7CnRoaXMudW5zZXRDdXQoKTsKdGhpcy51bnNldENvcHkoKTsKdmFyIGxldmVsPXRoaXMub3JkZXJMaXN0QnJhbmNoZXModGhpcy5zZWxlY3RlZEJyYW5jaGVzKTsKdmFyIHNlbD1udWxsOwpmb3IodmFyIGk9MDtpPHRoaXMuc2VsZWN0ZWRCcmFuY2hlcy5sZW5ndGg7aSsrKXsKc2VsPXRoaXMuc2VsZWN0ZWRCcmFuY2hlc1tpXTsKdGhpcy5fY29weShzZWwpOwp0aGlzLmNvcGllZEJyYW5jaGVzW2ldPXNlbDsKfQpyZXR1cm4gdHJ1ZTsKfSwKcGFzdGU6ZnVuY3Rpb24oKXsKaWYodGhpcy5zZWxlY3RlZEJyYW5jaGVzLmxlbmd0aCE9MSlyZXR1cm4gZmFsc2U7CnZhciBicmFuY2g9dGhpcy5zZWxlY3RlZEJyYW5jaGVzWzBdOwp2YXIgY29waWVkPXRoaXMuZ2V0Q29waWVkQnJhbmNoZXMoKTsKdmFyIGN1dHRlZD10aGlzLmdldEN1dHRlZEJyYW5jaGVzKCk7CnZhciBuYkNvcHk9Y29waWVkLmxlbmd0aDsKdmFyIG5iQ3V0PWN1dHRlZC5sZW5ndGg7CmlmKG5iQ29weT4wKXsKdmFyIGxpc3Q9Y29waWVkOwp2YXIgYj1udWxsOwpmb3IodmFyIGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7CmlmKHRoaXMuX29rRm9yUGFzdGUoYnJhbmNoLGxpc3QsaSkpewpiPWJyYW5jaC5pbnNlcnRJbnRvTGFzdChsaXN0W2ldLmNsb25lKCkpOwp9Cn0KfQppZihuYkN1dD4wKXsKdmFyIGxpc3Q9Y3V0dGVkOwpmb3IodmFyIGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7CmlmKHRoaXMuX29rRm9yUGFzdGUoYnJhbmNoLGxpc3QsaSkpewpsaXN0W2ldLm1vdmUoYnJhbmNoKTsKfQp9Cn0KdGhpcy51bnNldEN1dCgpOwpyZXR1cm4gdHJ1ZTsKfSwKX29rRm9yUGFzdGU6ZnVuY3Rpb24oYnJhbmNoLGxpc3QsaSl7CnZhciBvaz10cnVlOwppZighYnJhbmNoLmlzQ2hpbGQobGlzdFtpXSkpewpmb3IodmFyIGo9MDtqPGk7aisrKXsKaWYobGlzdFtpXS5pc0NoaWxkKGxpc3Rbal0pKXsKb2s9ZmFsc2U7CmJyZWFrOwp9Cn0KfSBlbHNlewpvaz1mYWxzZTsKfQpyZXR1cm4gb2s7Cn0sCnVuc2V0Q3V0OmZ1bmN0aW9uKCl7CnZhciBfdHJlZT1udWxsOwp2YXIgYnJhbmNoZXM9bnVsbDsKZm9yKHZhciBpPTA7aTx0aGlzLm90aGVyVHJlZXMubGVuZ3RoO2krKyl7Cl90cmVlPXRoaXMub3RoZXJUcmVlc1tpXTsKYnJhbmNoZXM9X3RyZWUuY3V0dGVkQnJhbmNoZXM7CmZvcih2YXIgdD0wO3Q8YnJhbmNoZXMubGVuZ3RoO3QrKyl7Cl90cmVlLl91bnNldEN1dChicmFuY2hlc1t0XSk7Cn0KX3RyZWUuY3V0dGVkQnJhbmNoZXM9W107Cn0KdmFyIGN1dD1udWxsOwpmb3IodmFyIGk9MDtpPHRoaXMuY3V0dGVkQnJhbmNoZXMubGVuZ3RoO2krKyl7CmN1dD10aGlzLmN1dHRlZEJyYW5jaGVzW2ldOwp0aGlzLl91bnNldEN1dChjdXQpOwp9CnRoaXMuY3V0dGVkQnJhbmNoZXM9W107Cn0sCnVuc2V0Q29weTpmdW5jdGlvbigpewp2YXIgX3RyZWU9bnVsbDsKdmFyIGJyYW5jaGVzPW51bGw7CmZvcih2YXIgaT0wO2k8dGhpcy5vdGhlclRyZWVzLmxlbmd0aDtpKyspewpfdHJlZT10aGlzLm90aGVyVHJlZXNbaV07CmJyYW5jaGVzPV90cmVlLmNvcGllZEJyYW5jaGVzOwpmb3IodmFyIHQ9MDt0PGJyYW5jaGVzLmxlbmd0aDt0KyspewpfdHJlZS5fdW5zZXRDb3B5KGJyYW5jaGVzW3RdKTsKfQpfdHJlZS5jb3BpZWRCcmFuY2hlcz1bXTsKfQp2YXIgY29weT1udWxsOwpmb3IodmFyIGk9MDtpPHRoaXMuY29waWVkQnJhbmNoZXMubGVuZ3RoO2krKyl7CmNvcHk9dGhpcy5jb3BpZWRCcmFuY2hlc1tpXTsKdGhpcy5fdW5zZXRDb3B5KGNvcHkpOwp9CnRoaXMuY29waWVkQnJhbmNoZXM9W107Cn0sCnVuZG86ZnVuY3Rpb24oKXsKfSwKX2N1dDpmdW5jdGlvbihicmFuY2gpewppZighdGhpcy5jbGFzc0N1dCl7Cm5ldyBFZmZlY3QuT3BhY2l0eShicmFuY2gudHh0LHsKZHVyYXRpb246IDAuMSwKdHJhbnNpdGlvbjogRWZmZWN0LlRyYW5zaXRpb25zLmxpbmVhciwKZnJvbTogMS4wLHRvOiAwLjQKfSk7Cm5ldyBFZmZlY3QuT3BhY2l0eShicmFuY2guaW1nLHsKZHVyYXRpb246IDAuMSwKdHJhbnNpdGlvbjogRWZmZWN0LlRyYW5zaXRpb25zLmxpbmVhciwKZnJvbTogMS4wLHRvOiAwLjQKfSk7Cn0gZWxzZXsKRWxlbWVudC5hZGRDbGFzc05hbWUoYnJhbmNoLnR4dCx0aGlzLmNsYXNzQ3V0KTsKRWxlbWVudC5hZGRDbGFzc05hbWUoYnJhbmNoLmltZyx0aGlzLmNsYXNzQ3V0KTsKfQppZihicmFuY2guaGFzQ2hpbGRyZW4oKSl7CmZvcih2YXIgaT0wO2k8YnJhbmNoLmNoaWxkcmVuLmxlbmd0aDtpKyspewp0aGlzLl9jdXQoYnJhbmNoLmNoaWxkcmVuW2ldKTsKfQp9Cn0sCl91bnNldEN1dDpmdW5jdGlvbihicmFuY2gpewppZighdGhpcy5jbGFzc0N1dCl7Cm5ldyBFZmZlY3QuT3BhY2l0eShicmFuY2gudHh0LHsKZHVyYXRpb246IDAuMSwKdHJhbnNpdGlvbjogRWZmZWN0LlRyYW5zaXRpb25zLmxpbmVhciwKZnJvbTogMC40LHRvOiAxLjAKfSk7Cm5ldyBFZmZlY3QuT3BhY2l0eShicmFuY2guaW1nLHsKZHVyYXRpb246IDAuMSwKdHJhbnNpdGlvbjogRWZmZWN0LlRyYW5zaXRpb25zLmxpbmVhciwKZnJvbTogMC40LHRvOiAxLjAKfSk7Cn0gZWxzZXsKRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoYnJhbmNoLnR4dCx0aGlzLmNsYXNzQ3V0KTsKRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoYnJhbmNoLmltZyx0aGlzLmNsYXNzQ3V0KTsKfQppZihicmFuY2guaGFzQ2hpbGRyZW4oKSl7CmZvcih2YXIgaT0wO2k8YnJhbmNoLmNoaWxkcmVuLmxlbmd0aDtpKyspewp0aGlzLl91bnNldEN1dChicmFuY2guY2hpbGRyZW5baV0pOwp9Cn0KfSwKX2NvcHk6ZnVuY3Rpb24oYnJhbmNoKXsKaWYodGhpcy5jbGFzc0NvcHkpewpFbGVtZW50LmFkZENsYXNzTmFtZShicmFuY2gudHh0LHRoaXMuY2xhc3NDb3B5KTsKRWxlbWVudC5hZGRDbGFzc05hbWUoYnJhbmNoLmltZyx0aGlzLmNsYXNzQ29weSk7Cn0KaWYoYnJhbmNoLmhhc0NoaWxkcmVuKCkpewpmb3IodmFyIGk9MDtpPGJyYW5jaC5jaGlsZHJlbi5sZW5ndGg7aSsrKXsKdGhpcy5fY29weShicmFuY2guY2hpbGRyZW5baV0pOwp9Cn0KfSwKX3Vuc2V0Q29weTpmdW5jdGlvbihicmFuY2gpewppZih0aGlzLmNsYXNzQ29weSl7CkVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKGJyYW5jaC50eHQsdGhpcy5jbGFzc0NvcHkpOwpFbGVtZW50LnJlbW92ZUNsYXNzTmFtZShicmFuY2guaW1nLHRoaXMuY2xhc3NDb3B5KTsKfQppZihicmFuY2guaGFzQ2hpbGRyZW4oKSl7CmZvcih2YXIgaT0wO2k8YnJhbmNoLmNoaWxkcmVuLmxlbmd0aDtpKyspewp0aGlzLl91bnNldENvcHkoYnJhbmNoLmNoaWxkcmVuW2ldKTsKfQp9Cn0sCmVuYWJsZU11bHRpbGluZTpmdW5jdGlvbihtdWx0aWxpbmUpewp0aGlzLm11bHRpbGluZSA9KG11bHRpbGluZSk/IHRydWU6ZmFsc2U7Cn0sCmVuYWJsZVJUTDpmdW5jdGlvbihydGwpewp0aGlzLnJ0bE1vZGUgPShydGwpPyB0cnVlOmZhbHNlOwppZih0aGlzLnJ0bE1vZGUpewp0aGlzLmRpdi5zdHlsZS50ZXh0QWxpZ249J3JpZ2h0JzsKdGhpcy5kaXYuc3R5bGUuZGlyZWN0aW9uPSdydGwnOwp9IGVsc2V7CnRoaXMuZGl2LnN0eWxlLnRleHRBbGlnbj0nbGVmdCc7CnRoaXMuZGl2LnN0eWxlLmRpcmVjdGlvbj0nbHRyJzsKfQp0aGlzLnNldExpbmVTdHlsZSh0aGlzLmxpbmVTdHlsZSk7Cn0sCmlzUlRMOmZ1bmN0aW9uKCl7CnJldHVybiB0aGlzLnJ0bE1vZGU7Cn0sCmRpc2FibGVEcm9wQUxUOmZ1bmN0aW9uKGFsdCl7CnRoaXMuZHJvcEFMVCA9KGFsdCk/IHRydWU6ZmFsc2U7Cn0sCmRpc2FibGVEcm9wQ1RSTDpmdW5jdGlvbihjb3B5KXsKdGhpcy5kcm9wQ1RSTCA9KGNvcHkpPyB0cnVlOmZhbHNlOwp9LAplbmFibGVDaGVja2JveGVzOmZ1bmN0aW9uKGVuYWJsZSl7CnRoaXMuY2hlY2tib3hlcyA9KGVuYWJsZSk/IHRydWU6ZmFsc2U7Cn0sCmVuYWJsZUNoZWNrYm94ZXNUaHJlZVN0YXRlOmZ1bmN0aW9uKGVuYWJsZSl7CnRoaXMuZW5hYmxlQ2hlY2tib3hlcyhlbmFibGUpOwp0aGlzLmNoZWNrYm94ZXNUaHJlZVN0YXRlID0oZW5hYmxlKT8gdHJ1ZTpmYWxzZTsKfSwKZW5hYmxlQ29va2llczpmdW5jdGlvbihlbmFibGUsc2VwYXJhdG9yKXsKdGhpcy51c2VDb29raWUgPShlbmFibGUpPyB0cnVlOmZhbHNlOwppZih0eXBlb2Yoc2VwYXJhdG9yKSE9ICd1bmRlZmluZWQnKXsKdGhpcy5jb29raWVTZXBhcmF0b3I9c2VwYXJhdG9yOwp9Cn0sCm9wZW5PbmVBdE9uY2U6ZnVuY3Rpb24oeWVzKXsKdGhpcy5vbmx5T25lT3BlbmVkID0oeWVzKT8gdHJ1ZTpmYWxzZTsKfSwKb3BlbkFmdGVyQWRkOmZ1bmN0aW9uKHllcyl7CnRoaXMub3BlbmVkQWZ0ZXJBZGQgPSh5ZXMpPyB0cnVlOmZhbHNlOwp9LApyZW9wZW5Gcm9tU2VydmVyQWZ0ZXJMb2FkOmZ1bmN0aW9uKHllcyl7CnRoaXMucmVvcGVuRnJvbVNlcnZlciA9KHllcyk/IHRydWU6ZmFsc2U7Cn0sCm9wZW5BdExvYWQ6ZnVuY3Rpb24ob3Blbil7CnRoaXMub3BlbkFsbCA9KG9wZW4pPyB0cnVlOmZhbHNlOwp9LApzaG93U2VsZWN0ZWRCcmFuY2g6ZnVuY3Rpb24oc2hvdyl7CnRoaXMuc2VsZWN0ZWRCcmFuY2hTaG93ZWQgPShzaG93KT8gdHJ1ZTpmYWxzZTsKfSwKc2V0QmVoYXZpb3VyRHJvcDpmdW5jdGlvbihkZWYpewpzd2l0Y2goZGVmKXsKY2FzZSAnc2libGluZyc6dGhpcy5iZWhhdmlvdXJEcm9wPTE7YnJlYWs7CmNhc2UgJ2NoaWxkY29weSc6dGhpcy5iZWhhdmlvdXJEcm9wPTI7YnJlYWs7CmNhc2UgJ3NpYmxpbmdjb3B5Jzp0aGlzLmJlaGF2aW91ckRyb3A9MzticmVhazsKY2FzZSAnY2hpbGQnIDoKZGVmYXVsdCA6CnRoaXMuYmVoYXZpb3VyRHJvcD0wOwp9Cn0sCnNldEljb25zOmZ1bmN0aW9uKGltZyxpbWdvcGVuLGltZ2Nsb3NlKXsKdGhpcy5pY29uc1swXT1pbWc7CnRoaXMuaWNvbnNbMV0gPShpbWdvcGVuKT8gaW1nb3BlbjppbWc7CnRoaXMuaWNvbnNbMl0gPShpbWdjbG9zZSk/IGltZ2Nsb3NlOmltZzsKfSwKc2V0SWNvbnNTZWxlY3RlZDpmdW5jdGlvbihpbWcsaW1nb3BlbixpbWdjbG9zZSl7CnRoaXMuaWNvbnNTZWxlY3RlZFswXT1pbWc7CnRoaXMuaWNvbnNTZWxlY3RlZFsxXSA9KGltZ29wZW4pPyBpbWdvcGVuOm51bGw7CnRoaXMuaWNvbnNTZWxlY3RlZFsyXSA9KGltZ2Nsb3NlKT8gaW1nY2xvc2U6bnVsbDsKfSwKc2V0TGluZVN0eWxlOmZ1bmN0aW9uKHN0eWxlKXsKdGhpcy5saW5lU3R5bGU9c3R5bGU7CnN3aXRjaChzdHlsZSl7CmNhc2UgJ25vbmUnIDoKdGhpcy5pbWdMaW5lMD0nZW1wdHkuZ2lmJzt0aGlzLmltZ0xpbmUxPSdlbXB0eS5naWYnO3RoaXMuaW1nTGluZTI9J2VtcHR5LmdpZic7CnRoaXMuaW1nTGluZTM9J2VtcHR5LmdpZic7dGhpcy5pbWdMaW5lND0nZW1wdHkuZ2lmJzt0aGlzLmltZ0xpbmU1PSdlbXB0eS5naWYnOwp0aGlzLmltZ1dhaXQ9J3dhaXQuZ2lmJzt0aGlzLmltZ0VtcHR5PSdlbXB0eS5naWYnOwp0aGlzLmltZ01pbnVzMT0nbWludXMwLmdpZic7dGhpcy5pbWdNaW51czI9J21pbnVzMC5naWYnO3RoaXMuaW1nTWludXMzPSdtaW51czAuZ2lmJzsKdGhpcy5pbWdNaW51czQ9J21pbnVzMC5naWYnO3RoaXMuaW1nTWludXM1PSdtaW51czAuZ2lmJzsKdGhpcy5pbWdQbHVzMT0ncGx1czAuZ2lmJzt0aGlzLmltZ1BsdXMyPSdwbHVzMC5naWYnO3RoaXMuaW1nUGx1czM9J3BsdXMwLmdpZic7CnRoaXMuaW1nUGx1czQ9J3BsdXMwLmdpZic7dGhpcy5pbWdQbHVzNT0ncGx1czAuZ2lmJzsKdGhpcy5pbWdDaGVjazE9J2NoZWNrMS5naWYnO3RoaXMuaW1nQ2hlY2syPSdjaGVjazIuZ2lmJzt0aGlzLmltZ0NoZWNrMz0nY2hlY2szLmdpZic7CnRoaXMuaW1nTXVsdGkxPSdlbXB0eS5naWYnO3RoaXMuaW1nTXVsdGkyPSdlbXB0eS5naWYnOwp0aGlzLmltZ011bHRpMz0nJzt0aGlzLmltZ011bHRpND0nJzsKYnJlYWs7CmNhc2UgJ2Z1bGwnIDoKaWYodGhpcy5pc1JUTCgpKXsKdGhpcy5pbWdMaW5lMD0ncnRsX2xpbmVmdWxsMC5naWYnO3RoaXMuaW1nTGluZTE9J3J0bF9saW5lZnVsbDEuZ2lmJzt0aGlzLmltZ0xpbmUyPSdydGxfbGluZWZ1bGwyLmdpZic7CnRoaXMuaW1nTGluZTM9J3J0bF9saW5lZnVsbDMuZ2lmJzt0aGlzLmltZ0xpbmU0PSdydGxfbGluZWZ1bGw0LmdpZic7dGhpcy5pbWdMaW5lNT0ncnRsX2xpbmVmdWxsNS5naWYnOwp0aGlzLmltZ1dhaXQ9J3dhaXQuZ2lmJzt0aGlzLmltZ0VtcHR5PSdlbXB0eS5naWYnOwp0aGlzLmltZ01pbnVzMT0ncnRsX21pbnVzZnVsbDEuZ2lmJzt0aGlzLmltZ01pbnVzMj0ncnRsX21pbnVzZnVsbDIuZ2lmJzt0aGlzLmltZ01pbnVzMz0ncnRsX21pbnVzZnVsbDMuZ2lmJzsKdGhpcy5pbWdNaW51czQ9J3J0bF9taW51c2Z1bGw0LmdpZic7dGhpcy5pbWdNaW51czU9J3J0bF9taW51c2Z1bGw1LmdpZic7CnRoaXMuaW1nUGx1czE9J3J0bF9wbHVzZnVsbDEuZ2lmJzt0aGlzLmltZ1BsdXMyPSdydGxfcGx1c2Z1bGwyLmdpZic7dGhpcy5pbWdQbHVzMz0ncnRsX3BsdXNmdWxsMy5naWYnOwp0aGlzLmltZ1BsdXM0PSdydGxfcGx1c2Z1bGw0LmdpZic7dGhpcy5pbWdQbHVzNT0ncnRsX3BsdXNmdWxsNS5naWYnOwp0aGlzLmltZ0NoZWNrMT0nY2hlY2sxLmdpZic7dGhpcy5pbWdDaGVjazI9J2NoZWNrMi5naWYnO3RoaXMuaW1nQ2hlY2szPSdjaGVjazMuZ2lmJzsKdGhpcy5pbWdNdWx0aTE9J3J0bF9saW5lYmdmdWxsLmdpZic7dGhpcy5pbWdNdWx0aTI9J3J0bF9saW5lYmdmdWxsMi5naWYnOwp0aGlzLmltZ011bHRpMz0nbXVsdGlsaW5lJzt0aGlzLmltZ011bHRpND0nbXVsdGlsaW5lMic7Cn0gZWxzZXsKdGhpcy5pbWdMaW5lMD0nbGluZWZ1bGwwLmdpZic7dGhpcy5pbWdMaW5lMT0nbGluZWZ1bGwxLmdpZic7dGhpcy5pbWdMaW5lMj0nbGluZWZ1bGwyLmdpZic7CnRoaXMuaW1nTGluZTM9J2xpbmVmdWxsMy5naWYnO3RoaXMuaW1nTGluZTQ9J2xpbmVmdWxsNC5naWYnO3RoaXMuaW1nTGluZTU9J2xpbmVmdWxsNS5naWYnOwp0aGlzLmltZ1dhaXQ9J3dhaXQuZ2lmJzt0aGlzLmltZ0VtcHR5PSdlbXB0eS5naWYnOwp0aGlzLmltZ01pbnVzMT0nbWludXNmdWxsMS5naWYnO3RoaXMuaW1nTWludXMyPSdtaW51c2Z1bGwyLmdpZic7dGhpcy5pbWdNaW51czM9J21pbnVzZnVsbDMuZ2lmJzsKdGhpcy5pbWdNaW51czQ9J21pbnVzZnVsbDQuZ2lmJzt0aGlzLmltZ01pbnVzNT0nbWludXNmdWxsNS5naWYnOwp0aGlzLmltZ1BsdXMxPSdwbHVzZnVsbDEuZ2lmJzt0aGlzLmltZ1BsdXMyPSdwbHVzZnVsbDIuZ2lmJzt0aGlzLmltZ1BsdXMzPSdwbHVzZnVsbDMuZ2lmJzsKdGhpcy5pbWdQbHVzND0ncGx1c2Z1bGw0LmdpZic7dGhpcy5pbWdQbHVzNT0ncGx1c2Z1bGw1LmdpZic7CnRoaXMuaW1nQ2hlY2sxPSdjaGVjazEuZ2lmJzt0aGlzLmltZ0NoZWNrMj0nY2hlY2syLmdpZic7dGhpcy5pbWdDaGVjazM9J2NoZWNrMy5naWYnOwp0aGlzLmltZ011bHRpMT0nbGluZWJnZnVsbC5naWYnO3RoaXMuaW1nTXVsdGkyPSdsaW5lYmdmdWxsMi5naWYnOwp0aGlzLmltZ011bHRpMz0nbXVsdGlsaW5lJzt0aGlzLmltZ011bHRpND0nbXVsdGlsaW5lMic7Cn0KYnJlYWs7CmNhc2UgJ2xpbmUnIDoKZGVmYXVsdCA6CmlmKHRoaXMuaXNSVEwoKSl7CnRoaXMuaW1nTGluZTA9J3J0bF9saW5lMC5naWYnO3RoaXMuaW1nTGluZTE9J3J0bF9saW5lMS5naWYnO3RoaXMuaW1nTGluZTI9J3J0bF9saW5lMi5naWYnOwp0aGlzLmltZ0xpbmUzPSdydGxfbGluZTMuZ2lmJzt0aGlzLmltZ0xpbmU0PSdydGxfbGluZTQuZ2lmJzt0aGlzLmltZ0xpbmU1PSdydGxfbGluZTUuZ2lmJzsKdGhpcy5pbWdXYWl0PSd3YWl0LmdpZic7dGhpcy5pbWdFbXB0eT0nZW1wdHkuZ2lmJzsKdGhpcy5pbWdNaW51czE9J3J0bF9taW51czEuZ2lmJzt0aGlzLmltZ01pbnVzMj0ncnRsX21pbnVzMi5naWYnO3RoaXMuaW1nTWludXMzPSdydGxfbWludXMzLmdpZic7CnRoaXMuaW1nTWludXM0PSdydGxfbWludXM0LmdpZic7dGhpcy5pbWdNaW51czU9J3J0bF9taW51czUuZ2lmJzsKdGhpcy5pbWdQbHVzMT0ncnRsX3BsdXMxLmdpZic7dGhpcy5pbWdQbHVzMj0ncnRsX3BsdXMyLmdpZic7dGhpcy5pbWdQbHVzMz0ncnRsX3BsdXMzLmdpZic7CnRoaXMuaW1nUGx1czQ9J3J0bF9wbHVzNC5naWYnO3RoaXMuaW1nUGx1czU9J3J0bF9wbHVzNS5naWYnOwp0aGlzLmltZ0NoZWNrMT0nY2hlY2sxLmdpZic7dGhpcy5pbWdDaGVjazI9J2NoZWNrMi5naWYnO3RoaXMuaW1nQ2hlY2szPSdjaGVjazMuZ2lmJzsKdGhpcy5pbWdNdWx0aTE9J3J0bF9saW5lYmcuZ2lmJzt0aGlzLmltZ011bHRpMj0ncnRsX2xpbmViZzIuZ2lmJzsKdGhpcy5pbWdNdWx0aTM9J211bHRpbGluZSc7dGhpcy5pbWdNdWx0aTQ9J211bHRpbGluZTInOwp9IGVsc2V7CnRoaXMuaW1nTGluZTA9J2xpbmUwLmdpZic7dGhpcy5pbWdMaW5lMT0nbGluZTEuZ2lmJzt0aGlzLmltZ0xpbmUyPSdsaW5lMi5naWYnOwp0aGlzLmltZ0xpbmUzPSdsaW5lMy5naWYnO3RoaXMuaW1nTGluZTQ9J2xpbmU0LmdpZic7dGhpcy5pbWdMaW5lNT0nbGluZTUuZ2lmJzsKdGhpcy5pbWdXYWl0PSd3YWl0LmdpZic7dGhpcy5pbWdFbXB0eT0nZW1wdHkuZ2lmJzsKdGhpcy5pbWdNaW51czE9J21pbnVzMS5naWYnO3RoaXMuaW1nTWludXMyPSdtaW51czIuZ2lmJzt0aGlzLmltZ01pbnVzMz0nbWludXMzLmdpZic7CnRoaXMuaW1nTWludXM0PSdtaW51czQuZ2lmJzt0aGlzLmltZ01pbnVzNT0nbWludXM1LmdpZic7CnRoaXMuaW1nUGx1czE9J3BsdXMxLmdpZic7dGhpcy5pbWdQbHVzMj0ncGx1czIuZ2lmJzt0aGlzLmltZ1BsdXMzPSdwbHVzMy5naWYnOwp0aGlzLmltZ1BsdXM0PSdwbHVzNC5naWYnO3RoaXMuaW1nUGx1czU9J3BsdXM1LmdpZic7CnRoaXMuaW1nQ2hlY2sxPSdjaGVjazEuZ2lmJzt0aGlzLmltZ0NoZWNrMj0nY2hlY2syLmdpZic7dGhpcy5pbWdDaGVjazM9J2NoZWNrMy5naWYnOwp0aGlzLmltZ011bHRpMT0nbGluZWJnLmdpZic7dGhpcy5pbWdNdWx0aTI9J2xpbmViZzIuZ2lmJzsKdGhpcy5pbWdNdWx0aTM9J211bHRpbGluZSc7dGhpcy5pbWdNdWx0aTQ9J211bHRpbGluZTInOwp9Cn0KfSwKc2V0VG9vbHRpcER1cmF0aW9uOmZ1bmN0aW9uKHNob3csaGlkZSl7CnRoaXMuZHVyYXRpb25Ub29sdGlwU2hvdz1zaG93Owp0aGlzLmR1cmF0aW9uVG9vbHRpcEhpZGU9aGlkZTsKfSwKcHJvcGFnYXRlUmVzdHJpY3Rpb246ZnVuY3Rpb24ocHJvcGFnYXRlKXsKdGhpcy5wcm9wYWdhdGlvbiA9KHR5cGVvZihwcm9wYWdhdGUpPT0gJ3VuZGVmaW5lZCcpPyB0cnVlOnByb3BhZ2F0ZTsKfSwKZ2V0U2VsZWN0ZWRCcmFuY2hlczpmdW5jdGlvbigpewpyZXR1cm4gdGhpcy5zZWxlY3RlZEJyYW5jaGVzOwp9LApzZXRDb250ZXh0TWVudTpmdW5jdGlvbihtZW51KXsKdmFyIGRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKZGl2LmlubmVySFRNTD1tZW51Owp0aGlzLmRpdi5hcHBlbmRDaGlsZChkaXYpOwp9LApnZW5lcmF0ZTpmdW5jdGlvbihiaWdUcmVlKXsKaWYoIWJpZ1RyZWUpewp2YXIgaXNOb3RGaXJzdD1mYWxzZTsKdmFyIGlzTm90TGFzdD1mYWxzZTsKZm9yKHZhciBpPTA7aTx0aGlzLmJhc2VTdHJ1Y3QubGVuZ3RoO2krKyl7CmlzTm90Rmlyc3QgPShpPjApPyB0cnVlOmZhbHNlOwppc05vdExhc3QgPShpPHRoaXMuYmFzZVN0cnVjdC5sZW5ndGgtMSk/IHRydWU6ZmFsc2U7CnRoaXMucm9vdHNbaV09bmV3IFRhZmVsVHJlZVJvb3QodGhpcyx0aGlzLmJhc2VTdHJ1Y3RbaV0sMCxpc05vdEZpcnN0LGlzTm90TGFzdCxpKTsKdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5yb290c1tpXS5vYmopOwp9CnRoaXMubG9hZENvbXBsZXRlKCk7Cn0gZWxzZXsKdGhpcy5iaWdUcmVlTG9hZGluZz0wOwpzZXRUaW1lb3V0KHRoaXMuX2NoZWNrTG9hZC5iaW5kKHRoaXMpLDEwMCk7CnNldFRpbWVvdXQodGhpcy5fZ2VuZXJhdGVCaWdUcmVlLmJpbmQodGhpcyksMTApOwp9Cn0sCnNldE9wdGlvbnM6ZnVuY3Rpb24ob3B0aW9ucyl7CmlmKG9wdGlvbnMub25Mb2FkKXRoaXMuc2V0T25Mb2FkKG9wdGlvbnMub25Mb2FkKTsKaWYob3B0aW9ucy5vbkRlYnVnKXRoaXMuc2V0T25EZWJ1ZyhvcHRpb25zLm9uRGVidWcpOwppZihvcHRpb25zLm9uQ2hlY2spdGhpcy5zZXRPbkNoZWNrKG9wdGlvbnMub25DaGVjayk7CmlmKG9wdGlvbnMub25CZWZvcmVDaGVjayl0aGlzLnNldE9uQmVmb3JlQ2hlY2sob3B0aW9ucy5vbkJlZm9yZUNoZWNrKTsKaWYob3B0aW9ucy5vbkNsaWNrKXRoaXMuc2V0T25DbGljayhvcHRpb25zLm9uQ2xpY2spOwppZihvcHRpb25zLm9uTW91c2VEb3duKXRoaXMuc2V0T25Nb3VzZURvd24ob3B0aW9ucy5vbk1vdXNlRG93bik7CmlmKG9wdGlvbnMub25Nb3VzZVVwKXRoaXMuc2V0T25Nb3VzZVVwKG9wdGlvbnMub25Nb3VzZVVwKTsKaWYob3B0aW9ucy5vbkRibENsaWNrKXRoaXMuc2V0T25EYmxDbGljayhvcHRpb25zLm9uRGJsQ2xpY2spOwppZihvcHRpb25zLm9uQmVmb3JlT3Blbil0aGlzLnNldE9uQmVmb3JlT3BlbihvcHRpb25zLm9uQmVmb3JlT3Blbik7CmlmKG9wdGlvbnMub25PcGVuKXRoaXMuc2V0T25PcGVuKG9wdGlvbnMub25PcGVuKTsKaWYob3B0aW9ucy5vbk1vdXNlT3Zlcil0aGlzLnNldE9uTW91c2VPdmVyKG9wdGlvbnMub25Nb3VzZU92ZXIpOwppZihvcHRpb25zLm9uTW91c2VPdXQpdGhpcy5zZXRPbk1vdXNlT3V0KG9wdGlvbnMub25Nb3VzZU91dCk7CmlmKG9wdGlvbnMub25Ecm9wKXRoaXMuc2V0T25Ecm9wKG9wdGlvbnMub25Ecm9wKTsKaWYob3B0aW9ucy5vbkRyYWdTdGFydEVmZmVjdCl0aGlzLnNldE9uRHJhZ1N0YXJ0RWZmZWN0KG9wdGlvbnMub25EcmFnU3RhcnRFZmZlY3QpOwppZihvcHRpb25zLm9uRHJhZ0VuZEVmZmVjdCl0aGlzLnNldE9uRHJhZ0VuZEVmZmVjdChvcHRpb25zLm9uRHJhZ0VuZEVmZmVjdCk7CmlmKG9wdGlvbnMub25FcnJvckFqYXgpdGhpcy5zZXRPbkRyb3BBZnRlcihvcHRpb25zLm9uRXJyb3JBamF4KTsKaWYob3B0aW9ucy5vbkVkaXQpdGhpcy5zZXRPbkVkaXQob3B0aW9ucy5vbkVkaXQpOwppZihvcHRpb25zLm9uRWRpdEFqYXgpdGhpcy5zZXRPbkVkaXRBamF4KG9wdGlvbnMub25FZGl0QWpheFswXSxvcHRpb25zLm9uRWRpdEFqYXhbMV0pOwppZihvcHRpb25zLm9uRHJvcEFqYXgpdGhpcy5zZXRPbkRyb3BBamF4KG9wdGlvbnMub25Ecm9wQWpheFswXSxvcHRpb25zLm9uRHJvcEFqYXhbMV0pOwppZihvcHRpb25zLm9uT3BlblBvcHVsYXRlKXRoaXMuc2V0T25PcGVuUG9wdWxhdGUob3B0aW9ucy5vbk9wZW5Qb3B1bGF0ZVswXSxvcHRpb25zLm9uT3BlblBvcHVsYXRlWzFdKTsKaWYodHlwZW9mKG9wdGlvbnMucnRsTW9kZSkhPSAndW5kZWZpbmVkJyl0aGlzLmVuYWJsZVJUTChvcHRpb25zLnJ0bE1vZGUpOwppZih0eXBlb2Yob3B0aW9ucy5kcm9wQUxUKSE9ICd1bmRlZmluZWQnKXRoaXMuZGlzYWJsZURyb3BBTFQob3B0aW9ucy5kcm9wQUxUKTsKaWYodHlwZW9mKG9wdGlvbnMuZHJvcENUUkwpIT0gJ3VuZGVmaW5lZCcpdGhpcy5kaXNhYmxlRHJvcENUUkwob3B0aW9ucy5kcm9wQ1RSTCk7CmlmKHR5cGVvZihvcHRpb25zLm11bHRpbGluZSkhPSAndW5kZWZpbmVkJyl0aGlzLmVuYWJsZU11bHRpbGluZShvcHRpb25zLm11bHRpbGluZSk7CmlmKHR5cGVvZihvcHRpb25zLmNoZWNrYm94ZXMpIT0gJ3VuZGVmaW5lZCcpdGhpcy5lbmFibGVDaGVja2JveGVzKG9wdGlvbnMuY2hlY2tib3hlcyk7CmlmKHR5cGVvZihvcHRpb25zLmNoZWNrYm94ZXNUaHJlZVN0YXRlKSE9ICd1bmRlZmluZWQnKXRoaXMuZW5hYmxlQ2hlY2tib3hlc1RocmVlU3RhdGUob3B0aW9ucy5jaGVja2JveGVzVGhyZWVTdGF0ZSk7CmlmKHR5cGVvZihvcHRpb25zLmNvb2tpZXMpIT0gJ3VuZGVmaW5lZCcpdGhpcy5lbmFibGVDb29raWVzKG9wdGlvbnMuY29va2llcyk7CmlmKHR5cGVvZihvcHRpb25zLm9wZW5PbmVBdE9uY2UpIT0gJ3VuZGVmaW5lZCcpdGhpcy5vcGVuT25lQXRPbmNlKG9wdGlvbnMub3Blbk9uZUF0T25jZSk7CmlmKHR5cGVvZihvcHRpb25zLm9wZW5BdExvYWQpIT0gJ3VuZGVmaW5lZCcpdGhpcy5vcGVuQXRMb2FkKG9wdGlvbnMub3BlbkF0TG9hZCk7CmlmKHR5cGVvZihvcHRpb25zLm9wZW5BZnRlckFkZCkhPSAndW5kZWZpbmVkJyl0aGlzLm9wZW5BZnRlckFkZChvcHRpb25zLm9wZW5BZnRlckFkZCk7CmlmKHR5cGVvZihvcHRpb25zLnNob3dTZWxlY3RlZEJyYW5jaCkhPSAndW5kZWZpbmVkJyl0aGlzLnNob3dTZWxlY3RlZEJyYW5jaChvcHRpb25zLnNob3dTZWxlY3RlZEJyYW5jaCk7CmlmKHR5cGVvZihvcHRpb25zLnJlb3BlbkZyb21TZXJ2ZXIpIT0gJ3VuZGVmaW5lZCcpdGhpcy5yZW9wZW5Gcm9tU2VydmVyQWZ0ZXJMb2FkKG9wdGlvbnMucmVvcGVuRnJvbVNlcnZlcik7CmlmKHR5cGVvZihvcHRpb25zLnByb3BhZ2F0ZVJlc3RyaWN0aW9uKSE9ICd1bmRlZmluZWQnKXRoaXMucHJvcGFnYXRlUmVzdHJpY3Rpb24ob3B0aW9ucy5wcm9wYWdhdGVSZXN0cmljdGlvbik7CmlmKG9wdGlvbnMubGluZVN0eWxlKXRoaXMuc2V0TGluZVN0eWxlKG9wdGlvbnMubGluZVN0eWxlKTsKaWYob3B0aW9ucy5iZWhhdmlvdXJEcm9wKXRoaXMuc2V0QmVoYXZpb3VyRHJvcChvcHRpb25zLmJlaGF2aW91ckRyb3ApOwppZihvcHRpb25zLmNvbnRleHRNZW51KXRoaXMuc2V0Q29udGV4dE1lbnUob3B0aW9ucy5jb250ZXh0TWVudSk7CmlmKG9wdGlvbnMuYmluZCl7CmZvcih2YXIgaT0wO2k8b3B0aW9ucy5iaW5kLmxlbmd0aDtpKyspewp0aGlzLmJpbmQob3B0aW9ucy5iaW5kW2ldKTsKfQp9CmlmKG9wdGlvbnMuYmluZEFzVW5pZGlyZWN0aW9uYWwpewpmb3IodmFyIGk9MDtpPG9wdGlvbnMuYmluZEFzVW5pZGlyZWN0aW9uYWwubGVuZ3RoO2krKyl7CnRoaXMuYmluZChvcHRpb25zLmJpbmRBc1VuaWRpcmVjdGlvbmFsW2ldKTsKfQp9CmlmKG9wdGlvbnMuZGVmYXVsdEltZyl7CnZhciBpbWdvcGVuID0ob3B0aW9ucy5kZWZhdWx0SW1nT3Blbik/IG9wdGlvbnMuZGVmYXVsdEltZ09wZW46b3B0aW9ucy5kZWZhdWx0SW1nOwp2YXIgaW1nY2xvc2UgPShvcHRpb25zLmRlZmF1bHRJbWdDbG9zZSk/IG9wdGlvbnMuZGVmYXVsdEltZ0Nsb3NlOm9wdGlvbnMuZGVmYXVsdEltZzsKdGhpcy5zZXRJY29ucyhvcHRpb25zLmRlZmF1bHRJbWcsaW1nb3BlbixpbWdjbG9zZSk7Cn0KaWYob3B0aW9ucy5kZWZhdWx0SW1nU2VsZWN0ZWR8fG9wdGlvbnMuZGVmYXVsdEltZ09wZW5TZWxlY3RlZHx8b3B0aW9ucy5kZWZhdWx0SW1nQ2xvc2VTZWxlY3RlZCl7CnZhciBpbWcgPShvcHRpb25zLmRlZmF1bHRJbWdTZWxlY3RlZCk/IG9wdGlvbnMuZGVmYXVsdEltZ1NlbGVjdGVkOm51bGw7CnZhciBpbWdvcGVuID0ob3B0aW9ucy5kZWZhdWx0SW1nT3BlblNlbGVjdGVkKT8gb3B0aW9ucy5kZWZhdWx0SW1nT3BlblNlbGVjdGVkOm51bGw7CnZhciBpbWdjbG9zZSA9KG9wdGlvbnMuZGVmYXVsdEltZ0Nsb3NlU2VsZWN0ZWQpPyBvcHRpb25zLmRlZmF1bHRJbWdDbG9zZVNlbGVjdGVkIDpudWxsOwp0aGlzLnNldEljb25zU2VsZWN0ZWQoaW1nLGltZ29wZW4saW1nY2xvc2UpOwp9CnRoaXMuc2VydmVyQ29va2llID0ob3B0aW9ucy5zZXJ2ZXJDb29raWUpPyBvcHRpb25zLnNlcnZlckNvb2tpZTpmYWxzZTsKfSwKbG9hZENvbXBsZXRlOmZ1bmN0aW9uKCl7CnRoaXMuX2FkanVzdE9wZW5pbmcoKTsKdGhpcy5fYWRqdXN0Q2hlY2soKTsKdGhpcy5zZXRDb29raWUodGhpcy5jbGFzc1RyZWUrdGhpcy5pZCk7CnRoaXMubG9hZGVkPXRydWU7CmlmKHR5cGVvZih0aGlzLm9uTG9hZCk9PSAnZnVuY3Rpb24nKXsKdGhpcy5vbkxvYWQoKTsKfQp9LApsb2FkUnVubmluZzpmdW5jdGlvbihsb2FkZWQpewppZih0eXBlb2YodGhpcy5vbkxvYWRpbmcpPT0gJ2Z1bmN0aW9uJyl7CnRoaXMub25Mb2FkaW5nKGxvYWRlZCk7Cn0KfSwKcmVwbGFjZTpmdW5jdGlvbihtb2RlbEJyYW5jaCxyZXBsYWNlZEJyYW5jaCxjb3B5KXsKdmFyIGJyYW5jaDE9dGhpcy5nZXRCcmFuY2hCeUlkKG1vZGVsQnJhbmNoKTsKaWYoIWJyYW5jaDEpcmV0dXJuIGZhbHNlOwpyZXR1cm4gYnJhbmNoMS5yZXBsYWNlKHJlcGxhY2VkQnJhbmNoLGNvcHkpOwp9LApzd2l0Y2hCcmFuY2hlczpmdW5jdGlvbihicmFuY2gxLGJyYW5jaDIpewp2YXIgYnJhbmNoMT10aGlzLmdldEJyYW5jaEJ5SWQoYnJhbmNoMSk7CmlmKCFicmFuY2gxKXJldHVybiBmYWxzZTsKYnJhbmNoMS5zd2l0Y2hXaXRoKGJyYW5jaDIpOwp9LApyZXN0b3JlRGVmYXVsdDpmdW5jdGlvbih0eXBlKXsKdmFyIHM9dGhpcy5kZWZhdWx0U3RydWN0Owp0aGlzLl9yZXN0YXVyZURlZmF1bHQocyx0eXBlKTsKfSwKX3Jlc3RhdXJlRGVmYXVsdDpmdW5jdGlvbihzLHR5cGUpewp2YXIgYj1udWxsOwp2YXIgb3Blbj1mYWxzZTsKdmFyIGNoZWNrPTA7CmZvcih2YXIgaT0wO2k8cy5sZW5ndGg7aSsrKXsKYj10aGlzLmdldEJyYW5jaEJ5SWQoc1tpXS5pZCk7CmlmKGIpewpvcGVuID0oc1tpXS5vcGVuKT8gdHJ1ZTp0aGlzLm9wZW5BbGw7CmNoZWNrID0oc1tpXS5jaGVjaz09MSk/IDE6MDsKc3dpdGNoKHR5cGUpewpjYXNlICdvcGVuJyA6CmlmKGIuaGFzQ2hpbGRyZW4oKSl7CmIub3Blbkl0KG9wZW4pOwp9CmJyZWFrOwpjYXNlICdjaGVjaycgOgpiLmNoZWNrKGNoZWNrKTsKYi5fYWRqdXN0UGFyZW50Q2hlY2soKTsKYnJlYWs7CmNhc2UgJ2FsbCcgOgpkZWZhdWx0IDoKaWYoYi5oYXNDaGlsZHJlbigpKXsKYi5vcGVuSXQob3Blbik7Cn0KYi5jaGVjayhjaGVjayk7CmIuX2FkanVzdFBhcmVudENoZWNrKCk7Cn0KaWYodHlwZW9mKHNbaV0uaXRlbXMpIT0gJ3VuZGVmaW5lZCcpewp0aGlzLl9yZXN0YXVyZURlZmF1bHQoc1tpXS5pdGVtcyx0eXBlKTsKfQp9Cn0KfSwKYmluZDpmdW5jdGlvbigpewp2YXIgdHJlZXM9dGhpcy5iaW5kLmFyZ3VtZW50czsKZm9yKHZhciBpPTA7aTx0cmVlcy5sZW5ndGg7aSsrKXsKaWYoIXRoaXMuaXNCaW5kZWRXaXRoKHRyZWVzW2ldKSl7CnRoaXMub3RoZXJUcmVlcy5wdXNoKHRyZWVzW2ldKTsKaWYoIXRyZWVzW2ldLmlzQmluZGVkV2l0aCh0aGlzKSl7CnRyZWVzW2ldLmJpbmQodGhpcyk7Cn0KfQp9Cn0sCmJpbmRBc1VuaWRpcmVjdGlvbmFsOmZ1bmN0aW9uKCl7CnZhciB0cmVlcz10aGlzLmJpbmRBc1VuaWRpcmVjdGlvbmFsLmFyZ3VtZW50czsKZm9yKHZhciBpPTA7aTx0cmVlcy5sZW5ndGg7aSsrKXsKaWYoIXRoaXMuaXNCaW5kZWRXaXRoKHRyZWVzW2ldKSl7CnRoaXMub3RoZXJUcmVlcy5wdXNoKHRyZWVzW2ldKTsKfQp9Cn0sCmlzQmluZGVkV2l0aDpmdW5jdGlvbihfdHJlZSl7CnZhciBiaW5kZWQ9ZmFsc2U7CmZvcih2YXIgaT0wO2k8dGhpcy5vdGhlclRyZWVzLmxlbmd0aDtpKyspewppZih0aGlzLm90aGVyVHJlZXNbaV0uaWQ9PV90cmVlLmlkKXsKYmluZGVkPXRydWU7CmJyZWFrOwp9Cn0KcmV0dXJuIGJpbmRlZDsKfSwKdW5zZWxlY3Q6ZnVuY3Rpb24oKXsKdmFyIGJyYW5jaD1udWxsOwpmb3IodmFyIGk9MDtpPHRoaXMuc2VsZWN0ZWRCcmFuY2hlcy5sZW5ndGg7aSsrKXsKYnJhbmNoPXRoaXMuc2VsZWN0ZWRCcmFuY2hlc1tpXTsKRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoYnJhbmNoLnR4dCx0aGlzLmNsYXNzU2VsZWN0ZWQpOwppZihicmFuY2guZ2V0SWNvblNlbGVjdGVkKCl8fCBicmFuY2guZ2V0T3Blbkljb25TZWxlY3RlZCgpfHwgYnJhbmNoLmdldENsb3NlSWNvblNlbGVjdGVkKCkpewppZihicmFuY2guaGFzQ2hpbGRyZW4oKSl7CmJyYW5jaC5pbWcuc3JjID0oYnJhbmNoLmlzT3BlbmVkKCkpPyBicmFuY2gudHJlZS5pbWdCYXNlK2JyYW5jaC5zdHJ1Y3QuaW1nb3BlbjpicmFuY2gudHJlZS5pbWdCYXNlK2JyYW5jaC5zdHJ1Y3QuaW1nY2xvc2U7Cn0gZWxzZXsKYnJhbmNoLmltZy5zcmM9YnJhbmNoLnRyZWUuaW1nQmFzZSticmFuY2guc3RydWN0LmltZzsKfQp9Cn0KdGhpcy5zZWxlY3RlZEJyYW5jaGVzPVtdOwp9LApnZXRCcmFuY2hlc0JldHdlZW46ZnVuY3Rpb24oYnJhbmNoMSxicmFuY2gyKXsKdmFyIGJyYW5jaDE9dGhpcy5nZXRCcmFuY2hCeUlkKGJyYW5jaDEpOwp2YXIgYnJhbmNoMj10aGlzLmdldEJyYW5jaEJ5SWQoYnJhbmNoMik7CmlmKCFicmFuY2gxfHwhYnJhbmNoMilyZXR1cm4gZmFsc2U7CmlmKGJyYW5jaDEudHJlZS5pZCE9YnJhbmNoMi50cmVlLmlkKXJldHVybiBmYWxzZTsKdmFyIGZvdW5kPWZhbHNlOwp2YXIgc2VsZWN0ZWQ9W107CnZhciBwb3MxPWJyYW5jaDEuZ2V0V2l0aGluT2Zmc2V0KCk7CnZhciBwb3MyPWJyYW5jaDIuZ2V0V2l0aGluT2Zmc2V0KCk7CnZhciBuZXh0ID0ocG9zMVsxXTw9cG9zMlsxXSk/IHRydWU6ZmFsc2U7CmJyYW5jaCA9KG5leHQpPyBicmFuY2gxLmdldE5leHRCcmFuY2goKTogYnJhbmNoMS5nZXRQcmV2aW91c0JyYW5jaCgpOwp3aGlsZShicmFuY2gpewpzZWxlY3RlZC5wdXNoKGJyYW5jaCk7CmlmKGJyYW5jaC5nZXRJZCgpPT0gYnJhbmNoMi5nZXRJZCgpKXsKZm91bmQ9dHJ1ZTsKYnJlYWs7Cn0KYnJhbmNoID0obmV4dCk/IGJyYW5jaC5nZXROZXh0QnJhbmNoKCk6IGJyYW5jaC5nZXRQcmV2aW91c0JyYW5jaCgpOwp9CnJldHVybihmb3VuZCk/IHNlbGVjdGVkOmZhbHNlOwp9LApjb3VudEJyYW5jaGVzOmZ1bmN0aW9uKCl7CnZhciBuYj10aGlzLnJvb3RzLmxlbmd0aDsKZm9yKHZhciBpPTA7aTx0aGlzLnJvb3RzLmxlbmd0aDtpKyspewpuYiArPSB0aGlzLnJvb3RzW2ldLmNvdW50QnJhbmNoZXMoKTsKfQpyZXR1cm4gbmI7Cn0sCmdldEJyYW5jaGVzOmZ1bmN0aW9uKGZpbHRlcil7CnZhciBicmFuY2hlcz1bXTsKZm9yKHZhciBpPTA7aTx0aGlzLnJvb3RzLmxlbmd0aDtpKyspewppZih0eXBlb2YoZmlsdGVyKT09ICdmdW5jdGlvbicpewppZihmaWx0ZXIodGhpcy5yb290c1tpXSkpewpicmFuY2hlcy5wdXNoKHRoaXMucm9vdHNbaV0pOwp9Cn0gZWxzZXsKYnJhbmNoZXMucHVzaCh0aGlzLnJvb3RzW2ldKTsKfQpicmFuY2hlcz10aGlzLnJvb3RzW2ldLmdldEJyYW5jaGVzKGZpbHRlcixicmFuY2hlcyk7Cn0KcmV0dXJuIGJyYW5jaGVzOwp9LApnZXRPcGVuZWRCcmFuY2hlczpmdW5jdGlvbigpewp2YXIgb3BlbmVkQnJhbmNoZXM9W107CmZvcih2YXIgaT0wO2k8dGhpcy5yb290cy5sZW5ndGg7aSsrKXsKaWYodGhpcy5yb290c1tpXS5pc09wZW5lZCgpJiYgdGhpcy5yb290c1tpXS5oYXNDaGlsZHJlbigpKXsKb3BlbmVkQnJhbmNoZXMucHVzaCh0aGlzLnJvb3RzW2ldKTsKfQpvcGVuZWRCcmFuY2hlcz10aGlzLnJvb3RzW2ldLmdldE9wZW5lZEJyYW5jaGVzKG9wZW5lZEJyYW5jaGVzKTsKfQpyZXR1cm4gb3BlbmVkQnJhbmNoZXM7Cn0sCmdldENoZWNrZWRCcmFuY2hlczpmdW5jdGlvbigpewp2YXIgY2hlY2tlZEJyYW5jaGVzPVtdOwpmb3IodmFyIGk9MDtpPHRoaXMucm9vdHMubGVuZ3RoO2krKyl7CmlmKHRoaXMucm9vdHNbaV0uaXNDaGVja2VkKCk9PSAxKXsKY2hlY2tlZEJyYW5jaGVzLnB1c2godGhpcy5yb290c1tpXSk7Cn0KY2hlY2tlZEJyYW5jaGVzPXRoaXMucm9vdHNbaV0uZ2V0Q2hlY2tlZEJyYW5jaGVzKGNoZWNrZWRCcmFuY2hlcyk7Cn0KcmV0dXJuIGNoZWNrZWRCcmFuY2hlczsKfSwKZ2V0VW5DaGVja2VkQnJhbmNoZXM6ZnVuY3Rpb24oKXsKdmFyIHVuY2hlY2tlZEJyYW5jaGVzPVtdOwpmb3IodmFyIGk9MDtpPHRoaXMucm9vdHMubGVuZ3RoO2krKyl7CmlmKHRoaXMucm9vdHNbaV0uaXNDaGVja2VkKCk9PSAwKXsKdW5jaGVja2VkQnJhbmNoZXMucHVzaCh0aGlzLnJvb3RzW2ldKTsKfQp1bmNoZWNrZWRCcmFuY2hlcz10aGlzLnJvb3RzW2ldLmdldFVuQ2hlY2tlZEJyYW5jaGVzKHVuY2hlY2tlZEJyYW5jaGVzKTsKfQpyZXR1cm4gdW5jaGVja2VkQnJhbmNoZXM7Cn0sCmdldFBhcnRDaGVja2VkQnJhbmNoZXM6ZnVuY3Rpb24oKXsKdmFyIHVuY2hlY2tlZEJyYW5jaGVzPVtdOwpmb3IodmFyIGk9MDtpPHRoaXMucm9vdHMubGVuZ3RoO2krKyl7CmlmKHRoaXMucm9vdHNbaV0uaXNDaGVja2VkKCk9PSAtMSl7CnVuY2hlY2tlZEJyYW5jaGVzLnB1c2godGhpcy5yb290c1tpXSk7Cn0KdW5jaGVja2VkQnJhbmNoZXM9dGhpcy5yb290c1tpXS5nZXRQYXJ0Q2hlY2tlZEJyYW5jaGVzKHVuY2hlY2tlZEJyYW5jaGVzKTsKfQpyZXR1cm4gdW5jaGVja2VkQnJhbmNoZXM7Cn0sCmdldFBhcmVudEJyYW5jaGVzOmZ1bmN0aW9uKCl7CnZhciBwYXJlbnRzPVtdOwpmb3IodmFyIGk9MDtpPHRoaXMucm9vdHMubGVuZ3RoO2krKyl7CmlmKHRoaXMucm9vdHNbaV0uaGFzQ2hpbGRyZW4oKSl7CnBhcmVudHMucHVzaCh0aGlzLnJvb3RzW2ldKTsKfQpwYXJlbnRzPXRoaXMucm9vdHNbaV0uZ2V0UGFyZW50QnJhbmNoZXMocGFyZW50cyk7Cn0KcmV0dXJuIHBhcmVudHM7Cn0sCmdldExlYWZCcmFuY2hlczpmdW5jdGlvbigpewp2YXIgbGVhZnM9W107CmZvcih2YXIgaT0wO2k8dGhpcy5yb290cy5sZW5ndGg7aSsrKXsKaWYoIXRoaXMucm9vdHNbaV0uaGFzQ2hpbGRyZW4oKSl7CmxlYWZzLnB1c2godGhpcy5yb290c1tpXSk7Cn0KbGVhZnM9dGhpcy5yb290c1tpXS5nZXRMZWFmQnJhbmNoZXMobGVhZnMpOwp9CnJldHVybiBsZWFmczsKfSwKZXhwZW5kOmZ1bmN0aW9uKCl7CmZvcih2YXIgaT0wO2k8dGhpcy5yb290cy5sZW5ndGg7aSsrKXsKdGhpcy5yb290c1tpXS5leHBlbmQoKTsKfQp9LApjb2xsYXBzZTpmdW5jdGlvbigpewpmb3IodmFyIGk9MDtpPHRoaXMucm9vdHMubGVuZ3RoO2krKyl7CnRoaXMucm9vdHNbaV0uY29sbGFwc2UoKTsKfQp9LAppbnNlcnRCcmFuY2g6ZnVuY3Rpb24ocG9zaXRpb24saXRlbSxzaWJsaW5nLGlzRmlyc3Qpewp2YXIgcG9zaXRpb249dGhpcy5nZXRCcmFuY2hCeUlkKHBvc2l0aW9uKTsKaWYoIXBvc2l0aW9uKXJldHVybiBmYWxzZTsKaWYoIXNpYmxpbmcpewppZighaXNGaXJzdCl7CnBvc2l0aW9uLmluc2VydEludG9MYXN0KGl0ZW0pOwp9IGVsc2V7CnBvc2l0aW9uLmluc2VydEludG9GaXJzdChpdGVtKTsKfQp9IGVsc2V7CmlmKCFpc0ZpcnN0KXsKcG9zaXRpb24uaW5zZXJ0QWZ0ZXIoaXRlbSk7Cn0gZWxzZXsKcG9zaXRpb24uaW5zZXJ0QmVmb3JlKGl0ZW0pOwp9Cn0KfSwKbW92ZUJyYW5jaDpmdW5jdGlvbihwb3NpdGlvbixpdGVtLHNpYmxpbmcsaXNGaXJzdCl7CnZhciBwb3NpdGlvbj10aGlzLmdldEJyYW5jaEJ5SWQocG9zaXRpb24pOwppZighcG9zaXRpb24pcmV0dXJuIGZhbHNlOwppZighc2libGluZyl7CmlmKCFpc0ZpcnN0KXsKcG9zaXRpb24ubW92ZUludG9MYXN0KGl0ZW0pOwp9IGVsc2V7CnBvc2l0aW9uLm1vdmVJbnRvRmlyc3QoaXRlbSk7Cn0KfSBlbHNlewppZighaXNGaXJzdCl7CnBvc2l0aW9uLm1vdmVBZnRlcihpdGVtKTsKfSBlbHNlewpwb3NpdGlvbi5tb3ZlQmVmb3JlKGl0ZW0pOwp9Cn0KfSwKcmVtb3ZlQnJhbmNoOmZ1bmN0aW9uKGJyYW5jaCl7CnRyeXsKdmFyIGJyYW5jaD10aGlzLmdldEJyYW5jaEJ5SWQoYnJhbmNoKTsKaWYoIWJyYW5jaClyZXR1cm4gZmFsc2U7CmlmKGJyYW5jaC5vYmpEcmFnKXsKYnJhbmNoLnJlbW92ZURyYWdEcm9wKCk7Cn0KaWYoIWJyYW5jaC5pc1Jvb3QpewpicmFuY2gucGFyZW50Lm9iai5yZW1vdmVDaGlsZChicmFuY2gub2JqKTsKYnJhbmNoLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoYnJhbmNoLnBvcywxKTsKYnJhbmNoLnBhcmVudC5zdHJ1Y3QuaXRlbXMuc3BsaWNlKGJyYW5jaC5wb3MsMSk7CmlmKGJyYW5jaC5wYXJlbnQuY2hpbGRyZW4ubGVuZ3RoPT0wKXsKYnJhbmNoLnBhcmVudC5zZXRPcGVuYWJsZUljb24oZmFsc2UpOwppZihicmFuY2gudHJlZS5tdWx0aWxpbmUpewpicmFuY2guX21hbmFnZU11bHRpbGluZShicmFuY2gucGFyZW50LnRkSW1nLDIsZmFsc2UpOwp9Cn0KYnJhbmNoLnBhcmVudC5fbWFuYWdlTGluZSgpOwp9IGVsc2V7CnRoaXMuZGl2LnJlbW92ZUNoaWxkKGJyYW5jaC5vYmopOwp0aGlzLnJvb3RzLnNwbGljZShicmFuY2gucG9zLDEpOwppZih0aGlzLnJvb3RzW2JyYW5jaC5wb3MtMV0pewp0aGlzLnJvb3RzW2JyYW5jaC5wb3MtMV0uX21hbmFnZUFmdGVyUm9vdEluc2VydCgpOwp9Cn0KYnJhbmNoPW51bGw7Cn0gY2F0Y2goZXJyKXsKdGhyb3cgbmV3IEVycm9yKCdyZW1vdmUoYmFzZSk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCmdldEJyYW5jaEJ5SWRPYmo6ZnVuY3Rpb24oaWQpewp0cnl7CnZhciBvYmo9bnVsbDsKZm9yKHZhciByPTA7cjx0aGlzLnJvb3RzLmxlbmd0aDtyKyspewpvYmo9dGhpcy5fZ2V0QnJhbmNoQnlJZE9iaihpZCx0aGlzLnJvb3RzW3JdKTsKaWYob2JqKXsKYnJlYWs7Cn0KfQpyZXR1cm4gb2JqOwp9IGNhdGNoKGVycil7CnRocm93IG5ldyBFcnJvcignZ2V0QnJhbmNoQnlJZE9iaihmdW5jKTogJytlcnIubWVzc2FnZSk7Cn0KfSwKZ2V0QnJhbmNoQnlJZDpmdW5jdGlvbihpZCl7CnRyeXsKaWYodHlwZW9mKGlkKT09ICdvYmplY3QnKXJldHVybiBpZDsKdmFyIG9iaj1udWxsOwpmb3IodmFyIHI9MDtyPHRoaXMucm9vdHMubGVuZ3RoO3IrKyl7Cm9iaj10aGlzLl9nZXRCcmFuY2hCeUlkKGlkLHRoaXMucm9vdHNbcl0pOwppZihvYmopYnJlYWs7Cn0KaWYoIW9iail7CnZhciBybz1udWxsOwpmb3IodmFyIGk9MDtpPHRoaXMub3RoZXJUcmVlcy5sZW5ndGg7aSsrKXsKcm89dGhpcy5vdGhlclRyZWVzW2ldLnJvb3RzOwpmb3IodmFyIHI9MDtyPHJvLmxlbmd0aDtyKyspewpvYmo9dGhpcy5vdGhlclRyZWVzW2ldLl9nZXRCcmFuY2hCeUlkKGlkLHJvW3JdKTsKaWYob2JqKWJyZWFrOwp9CmlmKG9iailicmVhazsKfQp9CnJldHVybiBvYmo7Cn0gY2F0Y2goZXJyKXsKdGhyb3cgbmV3IEVycm9yKCdnZXRCcmFuY2hCeUlkKGZ1bmMpOiAnK2Vyci5tZXNzYWdlKTsKfQp9LApkZWJ1ZzpmdW5jdGlvbihzdHIpewp0cnl7CnRoaXMuZGVidWdPYmouc3R5bGUuZGlzcGxheT0nYmxvY2snOwppZih0eXBlb2YodGhpcy5vbkRlYnVnKT09ICdmdW5jdGlvbicpewp0aGlzLm9uRGVidWcodGhpcyx0aGlzLmRlYnVnT2JqLChzdHIpPyBzdHI6JycpOwp9IGVsc2V7CnRoaXMuZGVidWdPYmouaW5uZXJIVE1MICs9IHN0cjsKfQp9IGNhdGNoKGVycil7CnRocm93IG5ldyBFcnJvcignZGVidWcoZnVuYyk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCnRvU3RyaW5nOmZ1bmN0aW9uKCl7CnZhciBvYmogPXsKJ2lkJzp0aGlzLmlkLAond2lkdGgnOnRoaXMuZGl2Lm9mZnNldFdpZHRoLAonaGVpZ2h0Jzp0aGlzLmRpdi5vZmZzZXRIZWlnaHQsCidpbWdQYXRoJzp0aGlzLmltZ0Jhc2UsCidyb290cyc6dGhpcy5yb290cy5sZW5ndGgKfTsKdmFyIHN0cj0nVGFmZWxUcmVleyc7CmZvcih2YXIgaSBpbiBvYmopewpzdHIgKz0gVGFmZWxUcmVlLmRlYnVnUmV0dXJuK1RhZmVsVHJlZS5kZWJ1Z1RhYitpKyc6JytvYmpbaV07Cn0Kc3RyICs9IFRhZmVsVHJlZS5kZWJ1Z1JldHVybisnfSc7CnJldHVybiBzdHI7Cn0sCnNlcmlhbGl6ZTpmdW5jdGlvbihkZWJ1Zyl7CnZhciBydCA9KGRlYnVnKT8gVGFmZWxUcmVlLmRlYnVnUmV0dXJuOicnOwp2YXIgc3RyID0oZGVidWcpPyAnVGFmZWxUcmVlKCcrdGhpcy5pZCsnKVsnOidbJzsKZm9yKHZhciBpPTA7aTx0aGlzLnJvb3RzLmxlbmd0aDtpKyspewpzdHIgKz0gdGhpcy5yb290c1tpXS5zZXJpYWxpemUoZGVidWcsdHJ1ZSk7CmlmKGk8dGhpcy5yb290cy5sZW5ndGgtMSl7CnN0ciArPSAnLCc7Cn0KfQpzdHIgKz0gcnQgKygoZGVidWcpPyAnXTsnOiddJyk7CmlmKGRlYnVnKXsKcmV0dXJuIHN0cjsKfSBlbHNlewpyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cik7Cn0KfSwKZ2V0VVJMUGFyYW1zOmZ1bmN0aW9uKHVybCl7CnZhciBwYXJhbXM9W107CmlmKHVybC5pbmRleE9mKCc/Jyk+IC0xKXsKdmFyIGExPXVybC5zcGxpdCgnPycpOwp2YXIgYTI9YTFbMV0uc3BsaXQoJyYnKTsKdmFyIGEzPScnOwpmb3IodmFyIGk9MDtpPGEyLmxlbmd0aDtpKyspewphMz1hMltpXS5zcGxpdCgnPScpOwppZihhMy5sZW5ndGg9PTIpewpwYXJhbXMucHVzaCh7CiduYW1lJzphM1swXSwKJ3ZhbHVlJzogYTNbMV0KfSkKfQp9Cn0KcmV0dXJuIHBhcmFtczsKfSwKX2dlbmVyYXRlQmlnVHJlZTpmdW5jdGlvbigpewp2YXIgaT10aGlzLmJpZ1RyZWVMb2FkaW5nOwp2YXIgaXNOb3RGaXJzdD1mYWxzZTsKdmFyIGlzTm90TGFzdD1mYWxzZTsKaWYoaTx0aGlzLmJhc2VTdHJ1Y3QubGVuZ3RoKXsKaXNOb3RGaXJzdCA9KGk+MCk/IHRydWU6ZmFsc2U7CmlzTm90TGFzdCA9KGk8dGhpcy5iYXNlU3RydWN0Lmxlbmd0aC0xKT8gdHJ1ZTpmYWxzZTsKdGhpcy5yb290c1tpXT1uZXcgVGFmZWxUcmVlUm9vdCh0aGlzLHRoaXMuYmFzZVN0cnVjdFtpXSwwLGlzTm90Rmlyc3QsaXNOb3RMYXN0LGkpOwp0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnJvb3RzW2ldLm9iaik7CnRoaXMubG9hZFJ1bm5pbmcodGhpcy5yb290c1tpXSk7CnRoaXMuYmlnVHJlZUxvYWRpbmcrKzsKc2V0VGltZW91dCh0aGlzLl9nZW5lcmF0ZUJpZ1RyZWUuYmluZCh0aGlzKSwxMCk7Cn0gZWxzZXsKdGhpcy5sb2FkZWQ9dHJ1ZTsKfQp9LApfY2hlY2tMb2FkOmZ1bmN0aW9uKCl7CnZhciBjb21wbGV0ZT10cnVlOwppZih0aGlzLmxvYWRlZCl7CmZvcih2YXIgaT0wO2k8dGhpcy5yb290cy5sZW5ndGg7aSsrKXsKaWYoIXRoaXMucm9vdHNbaV0ubG9hZGVkfHwhdGhpcy5fY2hlY2tMb2FkQ2hpbGRyZW4odGhpcy5yb290c1tpXSkpewpjb21wbGV0ZT1mYWxzZTsKYnJlYWs7Cn0KfQp9IGVsc2V7CmNvbXBsZXRlPWZhbHNlOwp9CmlmKCFjb21wbGV0ZSl7CnNldFRpbWVvdXQodGhpcy5fY2hlY2tMb2FkLmJpbmQodGhpcyksMTAwKTsKfSBlbHNlewp0aGlzLmxvYWRDb21wbGV0ZSgpOwp9Cn0sCl9jaGVja0xvYWRDaGlsZHJlbjpmdW5jdGlvbihicmFuY2gpewp2YXIgY29tcGxldGU9dHJ1ZTsKaWYoYnJhbmNoLmxvYWRlZCl7CmZvcih2YXIgaT0wO2k8YnJhbmNoLmNoaWxkcmVuLmxlbmd0aDtpKyspewppZighYnJhbmNoLmNoaWxkcmVuW2ldLmxvYWRlZHx8IXRoaXMuX2NoZWNrTG9hZENoaWxkcmVuKGJyYW5jaC5jaGlsZHJlbltpXSkpewpjb21wbGV0ZT1mYWxzZTsKYnJlYWs7Cn0KfQp9IGVsc2V7CmNvbXBsZXRlPWZhbHNlOwp9CnJldHVybiBjb21wbGV0ZTsKfSwKX2FkanVzdE9wZW5pbmc6ZnVuY3Rpb24oKXsKaWYodGhpcy51c2VDb29raWUmJnRoaXMuY29va2llT3BlbmVkKXsKdmFyIGJyYW5jaD1udWxsOwpmb3IodmFyIGk9MDtpPHRoaXMuY29va2llT3BlbmVkLmxlbmd0aDtpKyspewpicmFuY2g9dGhpcy5nZXRCcmFuY2hCeUlkKHRoaXMuY29va2llT3BlbmVkW2ldKTsKaWYodHlwZW9mKGJyYW5jaCk9PSAnb2JqZWN0JyYmYnJhbmNoLmhhc0NoaWxkcmVuKCkpewppZihicmFuY2guY2hpbGRyZW4ubGVuZ3RoPjApewpicmFuY2gub3Blbkl0KHRydWUpOwp9IGVsc2V7CmlmKHR5cGVvZihicmFuY2guc3RydWN0Lm9ub3BlbnBvcHVsYXRlKT09ICdmdW5jdGlvbicmJmJyYW5jaC5ldmVudGFibGUpewpicmFuY2guX29wZW5Qb3B1bGF0ZSgpOwpicmFuY2gub3Blbkl0KHRydWUpOwp9Cn0KfQp9Cn0KfSwKX2FkanVzdENoZWNrOmZ1bmN0aW9uKCl7CnZhciBicmFuY2g9bnVsbDsKaWYodGhpcy5jaGVja2JveGVzJiZ0aGlzLnVzZUNvb2tpZSYmdGhpcy5jb29raWVDaGVja2VkKXsKZm9yKHZhciBpPTA7aTx0aGlzLmNvb2tpZUNoZWNrZWQubGVuZ3RoO2krKyl7CmJyYW5jaD10aGlzLmdldEJyYW5jaEJ5SWQodGhpcy5jb29raWVDaGVja2VkW2ldKTsKaWYodHlwZW9mKGJyYW5jaCk9PSAnb2JqZWN0Jyl7CmJyYW5jaC5jaGVjaygxKTsKfQp9Cn0KaWYodGhpcy5jaGVja2JveGVzJiZ0aGlzLmNoZWNrYm94ZXNUaHJlZVN0YXRlKXsKdmFyIGNoZWNrZWQ9dGhpcy5nZXRDaGVja2VkQnJhbmNoZXMoKTsKZm9yKHZhciBpPTA7aTxjaGVja2VkLmxlbmd0aDtpKyspewpjaGVja2VkW2ldLl9hZGp1c3RQYXJlbnRDaGVjaygpOwp9Cn0KfSwKX2dldEJyYW5jaEJ5SWRPYmo6ZnVuY3Rpb24oaWQsb2JqKXsKdHJ5ewp2YXIgb2I9Jyc7CmlmKG9iai5pZE9iaj09aWQpewpyZXR1cm4gb2JqOwp9CmlmKHR5cGVvZihvYmouY2hpbGRyZW4pPT0gJ29iamVjdCcpewpmb3IodmFyIGM9MDtjPG9iai5jaGlsZHJlbi5sZW5ndGg7YysrKXsKb2I9dGhpcy5fZ2V0QnJhbmNoQnlJZE9iaihpZCxvYmouY2hpbGRyZW5bY10pOwppZihvYil7CnJldHVybiBvYjsKfQp9Cn0KcmV0dXJuIG9iOwp9IGNhdGNoKGVycil7CnRocm93IG5ldyBFcnJvcignX2dldEJyYW5jaEJ5SWRPYmooZnVuYyk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCl9nZXRCcmFuY2hCeUlkOmZ1bmN0aW9uKGlkLG9iail7CnRyeXsKdmFyIG9iPScnOwppZihvYmouZ2V0SWQoKT09IGlkKXsKcmV0dXJuIG9iajsKfQppZih0eXBlb2Yob2JqLmNoaWxkcmVuKT09ICdvYmplY3QnKXsKZm9yKHZhciBjPTA7YzxvYmouY2hpbGRyZW4ubGVuZ3RoO2MrKyl7Cm9iPXRoaXMuX2dldEJyYW5jaEJ5SWQoaWQsb2JqLmNoaWxkcmVuW2NdKTsKaWYob2IpewpyZXR1cm4gb2I7Cn0KfQp9CnJldHVybiBvYjsKfSBjYXRjaChlcnIpewp0aHJvdyBuZXcgRXJyb3IoJ19nZXRCcmFuY2hCeUlkKGZ1bmMpOiAnK2Vyci5tZXNzYWdlKTsKfQp9LApfY2hhbmdlU3RydWN0OmZ1bmN0aW9uKGJyYW5jaCl7CnRyeXsKd2hpbGUodHlwZW9mKGJyYW5jaC5wYXJlbnQpIT0gJ3VuZGVmaW5lZCcpewpicmFuY2gucGFyZW50LnN0cnVjdC5pdGVtcy5zcGxpY2UoYnJhbmNoLnBvcywxLGJyYW5jaC5zdHJ1Y3QpOwppZih0eXBlb2YoYnJhbmNoLnBhcmVudCkhPSAndW5kZWZpbmVkJyl7CmJyYW5jaD1icmFuY2gucGFyZW50Owp9Cn0KfSBjYXRjaChlcnIpewp0aHJvdyBuZXcgRXJyb3IoJ19jaGFuZ2VTdHJ1Y3QoZnVuYyk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCl9hZGRUcmVlOmZ1bmN0aW9uKCl7CnZhciBkaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CmRpdi5jbGFzc05hbWU9dGhpcy5jbGFzc1RyZWU7CnJldHVybiBkaXY7Cn0sCnNldENvb2tpZTpmdW5jdGlvbihuYW1lKXsKdHJ5ewp2YXIgc3RyPSdjb29raWVhY3RpdmF0ZScrdGhpcy5jb29raWVTZXBhcmF0b3I7CnZhciBhcnI9dGhpcy5nZXRPcGVuZWRCcmFuY2hlcygpOwpmb3IodmFyIGk9MDtpPGFyci5sZW5ndGg7aSsrKXsKc3RyPXN0cithcnJbaV0uZ2V0SWQoKSsgdGhpcy5jb29raWVTZXBhcmF0b3I7Cn0Kc3RyICs9IHRoaXMuY29va2llQ2hlY2tTZXBhcmF0b3I7CnZhciBhcnI9dGhpcy5nZXRDaGVja2VkQnJhbmNoZXMoKTsKZm9yKHZhciBpPTA7aTxhcnIubGVuZ3RoO2krKyl7CnN0cj1zdHIrYXJyW2ldLmdldElkKCkrIHRoaXMuY29va2llU2VwYXJhdG9yOwp9CmlmKCF0aGlzLnNlcnZlckNvb2tpZSl7CnRoaXMuX3NhdmVDb29raWUobmFtZSxzdHIsJycsJy8nLCcnLCcnKTsKfSBlbHNlewppZih0aGlzLmxvYWRlZCl7Cm5ldyBBamF4LlJlcXVlc3QodGhpcy5zZXJ2ZXJDb29raWUsewonbWV0aG9kJzoncG9zdCcsCidwYXJhbWV0ZXJzJzondHlwZT1zZXQmY29va2llU3RyaW5nPScrc3RyLAonb25Db21wbGV0ZSc6dGhpcy5fY29va2llU2VuZC5iaW5kKHRoaXMpLAonb25GYWlsdXJlJzp0aGlzLl9jb29raWVGYWlsdXJlLmJpbmQodGhpcykKfSk7Cn0KfQp9IGNhdGNoKGVycil7CnRocm93IG5ldyBFcnJvcignc2V0Q29va2llKGZ1bmMpOiAnK2Vyci5tZXNzYWdlKTsKfQp9LApnZXRDb29raWU6ZnVuY3Rpb24obmFtZSl7CnRyeXsKaWYoIXRoaXMuc2VydmVyQ29va2llKXsKaWYobmFtZSE9Jycpewp2YXIgc3RhcnQ9ZG9jdW1lbnQuY29va2llLmluZGV4T2YobmFtZSsnPScpOwp2YXIgbGVuPXN0YXJ0K25hbWUubGVuZ3RoKzE7CmlmKCghc3RhcnQpJiYobmFtZSE9ZG9jdW1lbnQuY29va2llLnN1YnN0cmluZygwLG5hbWUubGVuZ3RoKSkpewpyZXR1cm4gbnVsbDsKfQppZiggc3RhcnQ9PS0xIClyZXR1cm4gbnVsbDsKdmFyIGVuZD1kb2N1bWVudC5jb29raWUuaW5kZXhPZignOycsbGVuKTsKaWYoZW5kPT0tMSl7CmVuZD1kb2N1bWVudC5jb29raWUubGVuZ3RoOwp9CnJldHVybiB1bmVzY2FwZShkb2N1bWVudC5jb29raWUuc3Vic3RyaW5nKGxlbixlbmQpKTsKfQp9IGVsc2V7Cm5ldyBBamF4LlJlcXVlc3QodGhpcy5zZXJ2ZXJDb29raWUsewonbWV0aG9kJzoncG9zdCcsCidwYXJhbWV0ZXJzJzondHlwZT1nZXQnLAonb25Db21wbGV0ZSc6dGhpcy5fZ2V0Q29va2llQ29tcGxldGUuYmluZCh0aGlzKSwKJ29uRmFpbHVyZSc6dGhpcy5fY29va2llRmFpbHVyZS5iaW5kKHRoaXMpCn0pOwp9CnJldHVybiBudWxsOwp9IGNhdGNoKGVycil7CnRocm93IG5ldyBFcnJvcignZ2V0Q29va2llKGZ1bmMpOiAnK2Vyci5tZXNzYWdlKTsKfQp9LApfY29va2llU2VuZDpmdW5jdGlvbihyZXNwb25zZSl7CmFsZXJ0KCdvaycpOwp9LApfZ2V0Q29va2llQ29tcGxldGU6ZnVuY3Rpb24ocmVzcG9uc2Upewp2YXIgZnJvbUNvb2tpZT1yZXNwb25zZS5yZXNwb25zZVRleHQ7CmlmKGZyb21Db29raWUpewp2YXIgYnJhbmNoZXM9ZnJvbUNvb2tpZS5zcGxpdCh0aGlzLmNvb2tpZUNoZWNrU2VwYXJhdG9yKTsKdGhpcy5jb29raWVPcGVuZWQ9W107CnRoaXMuY29va2llT3BlbmVkPWJyYW5jaGVzWzBdLnNwbGl0KHRoaXMuY29va2llU2VwYXJhdG9yKTsKdGhpcy5jb29raWVPcGVuZWQuc2hpZnQoKTsKdGhpcy5jb29raWVDaGVja2VkPVtdOwppZihicmFuY2hlcy5sZW5ndGg+MSl7CnRoaXMuY29va2llQ2hlY2tlZD1icmFuY2hlc1sxXS5zcGxpdCh0aGlzLmNvb2tpZVNlcGFyYXRvcik7Cn0KfQppZih0aGlzLm9wdGlvbnMuZ2VuZXJhdGUpewp0aGlzLmdlbmVyYXRlKCk7Cn0KaWYodGhpcy5vcHRpb25zLmdlbmVyYXRlQmlnVHJlZSl7CnRoaXMuZ2VuZXJhdGUodHJ1ZSk7Cn0KfSwKX2Nvb2tpZUZhaWx1cmU6ZnVuY3Rpb24ocmVzcG9uc2Upewp9LApkZWxldGVDb29raWU6ZnVuY3Rpb24obmFtZSxwYXRoLGRvbWFpbil7CnRyeXsKaWYoZ2V0X2Nvb2tpZShuYW1lKSlkb2N1bWVudC5jb29raWU9bmFtZSsnPScgKwooKCBwYXRoICk/ICc7cGF0aD0nK3BhdGg6IiIpKwooKCBkb21haW4gKT8gJztkb21haW49Jytkb21haW46JycpKwonO2V4cGlyZXM9VGh1LDAxLUphbi0xOTcwIDAwOjAwOjAxIEdNVCc7Cn0gY2F0Y2goZXJyKXsKdGhyb3cgbmV3IEVycm9yKCdkZWxldGVDb29raWUoZnVuYyk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCl9zYXZlQ29va2llOmZ1bmN0aW9uKG5hbWUsdmFsdWUsZXhwaXJlcyxwYXRoLGRvbWFpbixzZWN1cmUpewp0cnl7CnZhciB0b2RheT1uZXcgRGF0ZSgpOwp0b2RheS5zZXRUaW1lKHRvZGF5LmdldFRpbWUoKSk7CmlmKGV4cGlyZXMpewpleHBpcmVzPWV4cGlyZXMgKiAxMDAwICogNjAgKiA2MCAqIDI0Owp9CnZhciBleHBpcmVzX2RhdGU9bmV3IERhdGUodG9kYXkuZ2V0VGltZSgpKyhleHBpcmVzKSk7CmRvY3VtZW50LmNvb2tpZT1uYW1lKyc9JyArZXNjYXBlKHZhbHVlKSsKKCggZXhwaXJlcyApPyAnO2V4cGlyZXM9JytleHBpcmVzX2RhdGUudG9HTVRTdHJpbmcoKTogJycpKwooKCBwYXRoICk/ICc7cGF0aD0nK3BhdGg6JycpKwooKCBkb21haW4gKT8gJztkb21haW49Jytkb21haW46JycpKwooKCBzZWN1cmUgKT8gJztzZWN1cmUnOicnKTsKfSBjYXRjaChlcnIpewp0aHJvdyBuZXcgRXJyb3IoJ19zYXZlQ29va2llKGZ1bmMpOiAnK2Vyci5tZXNzYWdlKTsKfQp9LApzZXRPbkxvYWQ6ZnVuY3Rpb24oZnVuYyl7CnRoaXMub25Mb2FkPWV2YWwoZnVuYyk7Cn0sCnNldE9uTG9hZGluZzpmdW5jdGlvbihmdW5jKXsKdGhpcy5vbkxvYWRpbmc9ZXZhbChmdW5jKTsKfSwKc2V0T25PcGVuOmZ1bmN0aW9uKGZ1bmMpewp0aGlzLm9uT3Blbj1ldmFsKGZ1bmMpOwp9LApzZXRPbkJlZm9yZU9wZW46ZnVuY3Rpb24oZnVuYyl7CnRoaXMub25CZWZvcmVPcGVuPWV2YWwoZnVuYyk7Cn0sCnNldE9uTW91c2VPdmVyOmZ1bmN0aW9uKGZ1bmMpewp0aGlzLm9uTW91c2VPdmVyPWV2YWwoZnVuYyk7Cn0sCnNldE9uTW91c2VPdXQ6ZnVuY3Rpb24oZnVuYyl7CnRoaXMub25Nb3VzZU91dD1ldmFsKGZ1bmMpOwp9LApzZXRPbkNsaWNrOmZ1bmN0aW9uKGZ1bmMpewp0aGlzLm9uQ2xpY2s9ZXZhbChmdW5jKTsKfSwKc2V0T25Nb3VzZURvd246ZnVuY3Rpb24oZnVuYyl7CnRoaXMub25Nb3VzZURvd249ZXZhbChmdW5jKTsKfSwKc2V0T25Nb3VzZVVwOmZ1bmN0aW9uKGZ1bmMpewp0aGlzLm9uTW91c2VVcD1ldmFsKGZ1bmMpOwp9LApzZXRPbkRibENsaWNrOmZ1bmN0aW9uKGZ1bmMpewp0aGlzLm9uRGJsQ2xpY2s9ZXZhbChmdW5jKTsKfSwKc2V0T25FZGl0OmZ1bmN0aW9uKGZ1bmMsbGluayl7CmlmKGxpbmspewp0aGlzLm9uRWRpdEFqYXggPXsKJ2Z1bmMnOmV2YWwoZnVuYyksCidsaW5rJzpsaW5rCn07Cn0gZWxzZXsKdGhpcy5vbkVkaXQ9ZXZhbChmdW5jKTsKfQp0aGlzLmVkaXRhYmxlQnJhbmNoZXM9dHJ1ZTsKfSwKc2V0T25CZWZvcmVDaGVjazpmdW5jdGlvbihmdW5jKXsKdGhpcy5vbkJlZm9yZUNoZWNrPWV2YWwoZnVuYyk7Cn0sCnNldE9uQ2hlY2s6ZnVuY3Rpb24oZnVuYyl7CnRoaXMub25DaGVjaz1ldmFsKGZ1bmMpOwp9LApzZXRPbkRyb3A6ZnVuY3Rpb24oZnVuYyl7CnRoaXMub25Ecm9wPWV2YWwoZnVuYyk7Cn0sCnNldE9uRHJvcEFmdGVyOmZ1bmN0aW9uKGZ1bmMpewp0aGlzLm9uRXJyb3JBamF4PWV2YWwoZnVuYyk7Cn0sCnNldE9uRHJvcEFqYXg6ZnVuY3Rpb24oZnVuYyxsaW5rKXsKdGhpcy5vbkRyb3BBamF4ID17CidmdW5jJzpldmFsKGZ1bmMpLAonbGluayc6bGluawp9Owp9LApzZXRPbk9wZW5Qb3B1bGF0ZTpmdW5jdGlvbihmdW5jLGxpbmspewp0aGlzLm9uT3BlblBvcHVsYXRlID17CidmdW5jJzpldmFsKGZ1bmMpLAonbGluayc6bGluawp9Owp9LApzZXRPbkVkaXRBamF4OmZ1bmN0aW9uKGZ1bmMsbGluayl7CnRoaXMub25FZGl0QWpheCA9ewonZnVuYyc6ZXZhbChmdW5jKSwKJ2xpbmsnOmxpbmsKfTsKdGhpcy5lZGl0YWJsZUJyYW5jaGVzPXRydWU7Cn0sCnNldE9uRHJhZ1N0YXJ0RWZmZWN0OmZ1bmN0aW9uKGZ1bmMpewp0aGlzLm9uRHJhZ1N0YXJ0RWZmZWN0PWV2YWwoZnVuYyk7Cn0sCnNldE9uRHJhZ0VuZEVmZmVjdDpmdW5jdGlvbihmdW5jKXsKdGhpcy5vbkRyYWdFbmRFZmZlY3Q9ZXZhbChmdW5jKTsKfQp9Owp2YXIgVGFmZWxUcmVlQmFzZUJyYW5jaD1DbGFzcy5jcmVhdGUoKTsKVGFmZWxUcmVlQmFzZUJyYW5jaC5wcm90b3R5cGUgPXsKaW5pdGlhbGl6ZTpmdW5jdGlvbigpe30sCmdldElkOmZ1bmN0aW9uKCl7CnJldHVybiB0aGlzLnN0cnVjdC5pZDsKfSwKZ2V0VGV4dDpmdW5jdGlvbigpewpyZXR1cm4gdGhpcy5zdHJ1Y3QudHh0Owp9LApnZXRMZXZlbDpmdW5jdGlvbigpewpyZXR1cm4gdGhpcy5sZXZlbDsKfSwKZ2V0VHJlZTpmdW5jdGlvbigpewpyZXR1cm4gdGhpcy50cmVlOwp9LApnZXRQYXJlbnQ6ZnVuY3Rpb24oKXsKcmV0dXJuKHRoaXMuaXNSb290KT8gbnVsbDp0aGlzLnBhcmVudDsKfSwKZ2V0QW5jZXN0b3I6ZnVuY3Rpb24oKXsKcmV0dXJuKHRoaXMuaXNSb290KT8gbnVsbDp0aGlzLnJvb3Q7Cn0sCmdldFBhcmVudHM6ZnVuY3Rpb24oKXsKdmFyIHBhcmVudHM9W107CnZhciBicmFuY2g9dGhpczsKd2hpbGUoYnJhbmNoLnBhcmVudCl7CnBhcmVudHMucHVzaChicmFuY2gucGFyZW50KTsKYnJhbmNoPWJyYW5jaC5wYXJlbnQ7Cn0KcmV0dXJuIHBhcmVudHM7Cn0sCmdldENoaWxkcmVuOmZ1bmN0aW9uKCl7CnJldHVybiB0aGlzLmNoaWxkcmVuOwp9LApnZXRJY29uOmZ1bmN0aW9uKCl7CnJldHVybiB0aGlzLnN0cnVjdC5pbWc7Cn0sCmdldE9wZW5JY29uOmZ1bmN0aW9uKCl7CnJldHVybiB0aGlzLnN0cnVjdC5pbWdvcGVuOwp9LApnZXRDbG9zZUljb246ZnVuY3Rpb24oKXsKcmV0dXJuIHRoaXMuc3RydWN0LmltZ2Nsb3NlOwp9LApnZXRJY29uU2VsZWN0ZWQ6ZnVuY3Rpb24oKXsKcmV0dXJuIHRoaXMuc3RydWN0LmltZ3NlbGVjdGVkOwp9LApnZXRPcGVuSWNvblNlbGVjdGVkOmZ1bmN0aW9uKCl7CnJldHVybiB0aGlzLnN0cnVjdC5pbWdvcGVuc2VsZWN0ZWQ7Cn0sCmdldENsb3NlSWNvblNlbGVjdGVkOmZ1bmN0aW9uKCl7CnJldHVybiB0aGlzLnN0cnVjdC5pbWdjbG9zZXNlbGVjdGVkOwp9LApnZXRDdXJyZW50SWNvbjpmdW5jdGlvbigpewp2YXIgaW1nPXRoaXMuX2dldEltZ0luZm8odGhpcy5pbWcpOwpyZXR1cm4gaW1nLmZ1bGxOYW1lOwp9LApzZXRUZXh0OmZ1bmN0aW9uKHRleHQpewp0aGlzLnN0cnVjdC50eHQ9dGV4dDsKdGhpcy50eHQuaW5uZXJIVE1MPXRleHQ7Cn0sCnNldEljb25zOmZ1bmN0aW9uKGljb24saWNvbk9wZW4saWNvbkNsb3NlKXsKdGhpcy5zdHJ1Y3QuaW1nPWljb247CnRoaXMuc3RydWN0LmltZ29wZW4gPShpY29uT3Blbik/IGljb25PcGVuOmljb247CnRoaXMuc3RydWN0LmltZ2Nsb3NlID0oaWNvbkNsb3NlKT8gaWNvbkNsb3NlOmljb247CmlmKHRoaXMuaGFzQ2hpbGRyZW4oKSl7CnRoaXMuaW1nLnNyYyA9KHRoaXMuaXNPcGVuZWQoKSk/IHRoaXMudHJlZS5pbWdCYXNlK3RoaXMuc3RydWN0LmltZ29wZW46dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy5zdHJ1Y3QuaW1nY2xvc2U7Cn0gZWxzZXsKdGhpcy5pbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlK3RoaXMuc3RydWN0LmltZzsKfQp9LApzZXRJY29uc1NlbGVjdGVkOmZ1bmN0aW9uKGljb24saWNvbk9wZW4saWNvbkNsb3NlKXsKdGhpcy5zdHJ1Y3QuaW1nc2VsZWN0ZWQ9aWNvbjsKdGhpcy5zdHJ1Y3QuaW1nb3BlbnNlbGVjdGVkID0oaWNvbk9wZW4pPyBpY29uT3BlbjpudWxsOwp0aGlzLnN0cnVjdC5pbWdjbG9zZXNlbGVjdGVkID0oaWNvbkNsb3NlKT8gaWNvbkNsb3NlOm51bGw7CmlmKHRoaXMuaXNTZWxlY3RlZCgpKXsKaWYodGhpcy5oYXNDaGlsZHJlbigpKXsKdGhpcy5pbWcuc3JjID0odGhpcy5pc09wZW5lZCgpKT8gdGhpcy50cmVlLmltZ0Jhc2UrdGhpcy5zdHJ1Y3QuaW1nb3BlbnNlbGVjdGVkOnRoaXMudHJlZS5pbWdCYXNlK3RoaXMuc3RydWN0LmltZ2Nsb3Nlc2VsZWN0ZWQ7Cn0gZWxzZXsKdGhpcy5pbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlK3RoaXMuc3RydWN0LmltZ3NlbGVjdGVkOwp9Cn0KfSwKY2hhbmdlSWQ6ZnVuY3Rpb24obmV3SWQpewp2YXIgdXNlZD10aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZChuZXdJZCk7CmlmKCF1c2VkKXsKdGhpcy5zdHJ1Y3QuaWQ9bmV3SWQ7CnRoaXMudHJlZS5fY2hhbmdlU3RydWN0KHRoaXMpOwpyZXR1cm4gdHJ1ZTsKfSBlbHNlewpyZXR1cm4gZmFsc2U7Cn0KfSwKaGFzQ2hpbGRyZW46ZnVuY3Rpb24oKXsKcmV0dXJuKHRoaXMuc3RydWN0Lml0ZW1zLmxlbmd0aD4wfHx0aGlzLnN0cnVjdC5jYW5oYXZlY2hpbGRyZW4pPyB0cnVlOmZhbHNlOwp9LAppc09wZW5lZDpmdW5jdGlvbigpewpyZXR1cm4odGhpcy5zdHJ1Y3Qub3Blbik/IHRydWU6ZmFsc2U7Cn0sCmlzQWx3YXlzTGFzdDpmdW5jdGlvbigpewpyZXR1cm4odGhpcy5zdHJ1Y3QubGFzdCk/IHRydWU6ZmFsc2U7Cn0sCmlzT3BlbmVkSW5Db29raWU6ZnVuY3Rpb24oKXsKaWYodGhpcy50cmVlLnVzZUNvb2tpZSYmdGhpcy50cmVlLmNvb2tpZU9wZW5lZCl7CmZvcih2YXIgaT0wO2k8dGhpcy50cmVlLmNvb2tpZU9wZW5lZC5sZW5ndGg7aSsrKXsKaWYodGhpcy5nZXRJZCgpPT0gdGhpcy50cmVlLmNvb2tpZU9wZW5lZFtpXSlyZXR1cm4gdHJ1ZTsKfQp9CnJldHVybiBmYWxzZTsKfSwKaXNWaXNpYmxlOmZ1bmN0aW9uKCl7CnZhciB2aXNpYmxlPXRydWU7CnZhciBicmFuY2g9dGhpczsKd2hpbGUoYnJhbmNoLnBhcmVudCl7CmlmKGJyYW5jaC5wYXJlbnQuaXNPcGVuZWQoKSl7CmJyYW5jaD1icmFuY2gucGFyZW50Owp9IGVsc2V7CnZpc2libGU9ZmFsc2U7CmJyZWFrOwp9Cn0KcmV0dXJuIHZpc2libGU7Cn0sCmlzU2VsZWN0ZWQ6ZnVuY3Rpb24oKXsKcmV0dXJuKEVsZW1lbnQuaGFzQ2xhc3NOYW1lKHRoaXMudHh0LHRoaXMudHJlZS5jbGFzc1NlbGVjdGVkKSk/IHRydWU6ZmFsc2U7Cn0sCnJlZnJlc2hDaGlsZHJlbjpmdW5jdGlvbigpewp0aGlzLnJlbW92ZUNoaWxkcmVuKCk7CnRoaXMuX29wZW5Qb3B1bGF0ZSgpOwp9LApjbG9uZTpmdW5jdGlvbih3aXRoRGVmYXVsdEZ1bmMpewp2YXIgc3RydWN0ID17fTsKZm9yKHZhciBwcm9wZXJ0eSBpbiB0aGlzLnN0cnVjdCl7CmlmKHByb3BlcnR5IT0naXRlbXMnKXsKaWYoIXdpdGhEZWZhdWx0RnVuYyYmdHlwZW9mKHRoaXMuc3RydWN0W3Byb3BlcnR5XSk9PSAnZnVuY3Rpb24nKXsKaWYoIWV2YWwoJ3RoaXMuJytwcm9wZXJ0eSsnRGVmYXVsdCcpKXsKc3RydWN0W3Byb3BlcnR5XT10aGlzLnN0cnVjdFtwcm9wZXJ0eV07Cn0KfSBlbHNlewpzdHJ1Y3RbcHJvcGVydHldPXRoaXMuc3RydWN0W3Byb3BlcnR5XTsKfQp9Cn0KaWYodGhpcy5oYXNDaGlsZHJlbigpKXsKc3RydWN0Lml0ZW1zPVtdOwpmb3IodmFyIGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7CnN0cnVjdC5pdGVtcy5wdXNoKHRoaXMuY2hpbGRyZW5baV0uY2xvbmUod2l0aERlZmF1bHRGdW5jKSk7Cn0KfQp0aGlzLmNvcGllZFRpbWVzKys7CnN0cnVjdC5pZD1zdHJ1Y3QuaWQrdGhpcy50cmVlLmNvcHlOYW1lQnJlYWsrdGhpcy50cmVlLmlkVHJlZTsKc3RydWN0LnR4dD1zdHJ1Y3QudHh0K3RoaXMudHJlZS5jb3B5TmFtZS5yZXBsYWNlKCclbicsdGhpcy5jb3BpZWRUaW1lcyk7CnJldHVybiBzdHJ1Y3Q7Cn0sCmdldEZpcnN0QnJhbmNoOmZ1bmN0aW9uKCl7CnJldHVybih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKT8gdGhpcy5jaGlsZHJlblswXTpudWxsOwp9LApnZXRMYXN0QnJhbmNoOmZ1bmN0aW9uKCl7CnZhciBwb3M9dGhpcy5jaGlsZHJlbi5sZW5ndGgtMTsKcmV0dXJuKHBvcz49MCk/IHRoaXMuY2hpbGRyZW5bcG9zXTpudWxsOwp9LApnZXRQcmV2aW91c1NpYmxpbmc6ZnVuY3Rpb24oKXsKdmFyIHBvcz10aGlzLnBvcy0xOwp2YXIgYnJhbmNoPW51bGw7CmlmKHRoaXMuaXNSb290KXsKaWYocG9zPj0wKWJyYW5jaD10aGlzLnRyZWUucm9vdHNbcG9zXTsKfSBlbHNlewppZihwb3M+PTApYnJhbmNoPXRoaXMucGFyZW50LmNoaWxkcmVuW3Bvc107Cn0KcmV0dXJuIGJyYW5jaDsKfSwKZ2V0TmV4dFNpYmxpbmc6ZnVuY3Rpb24oKXsKdmFyIHBvcz10aGlzLnBvcysxOwp2YXIgYnJhbmNoPW51bGw7CmlmKHRoaXMuaXNSb290KXsKaWYocG9zPHRoaXMudHJlZS5yb290cy5sZW5ndGgpYnJhbmNoPXRoaXMudHJlZS5yb290c1twb3NdOwp9IGVsc2V7CmlmKHBvczx0aGlzLnBhcmVudC5jaGlsZHJlbi5sZW5ndGgpYnJhbmNoPXRoaXMucGFyZW50LmNoaWxkcmVuW3Bvc107Cn0KcmV0dXJuIGJyYW5jaDsKfSwKZ2V0UHJldmlvdXNCcmFuY2g6ZnVuY3Rpb24oKXsKdmFyIGJyYW5jaD1udWxsOwp2YXIgcHJldmlvdXM9dGhpcy5nZXRQcmV2aW91c1NpYmxpbmcoKTsKaWYocHJldmlvdXMpewppZihwcmV2aW91cy5oYXNDaGlsZHJlbigpKXsKd2hpbGUocHJldmlvdXMuaGFzQ2hpbGRyZW4oKSl7CnByZXZpb3VzPXByZXZpb3VzLmdldExhc3RCcmFuY2goKTsKfQpicmFuY2g9cHJldmlvdXM7Cn0gZWxzZXsKYnJhbmNoPXByZXZpb3VzOwp9Cn0gZWxzZXsKaWYodGhpcy5wYXJlbnQpewpicmFuY2g9dGhpcy5wYXJlbnQ7Cn0KfQpyZXR1cm4gYnJhbmNoOwp9LApnZXROZXh0QnJhbmNoOmZ1bmN0aW9uKCl7CnZhciBicmFuY2g9bnVsbDsKYnJhbmNoPXRoaXMuZ2V0Rmlyc3RCcmFuY2goKTsKaWYoIWJyYW5jaCl7CmJyYW5jaD10aGlzLmdldE5leHRTaWJsaW5nKCk7CmlmKCFicmFuY2gpewp2YXIgYj1udWxsOwpicmFuY2g9dGhpcy5wYXJlbnQ7CndoaWxlKCFiJiZicmFuY2gpewpiPWJyYW5jaC5nZXROZXh0U2libGluZygpOwpicmFuY2g9YnJhbmNoLnBhcmVudDsKfQpicmFuY2g9YjsKfQp9CnJldHVybiBicmFuY2g7Cn0sCmdldFByZXZpb3VzT3BlbmVkQnJhbmNoOmZ1bmN0aW9uKCl7CnZhciBicmFuY2g9bnVsbDsKdmFyIHByZXZpb3VzPXRoaXMuZ2V0UHJldmlvdXNTaWJsaW5nKCk7CmlmKHByZXZpb3VzKXsKaWYocHJldmlvdXMuaGFzQ2hpbGRyZW4oKSYmIHByZXZpb3VzLmlzT3BlbmVkKCkpewp3aGlsZShwcmV2aW91cy5oYXNDaGlsZHJlbigpJiYgcHJldmlvdXMuaXNPcGVuZWQoKSl7CnByZXZpb3VzPXByZXZpb3VzLmdldExhc3RCcmFuY2goKTsKfQpicmFuY2g9cHJldmlvdXM7Cn0gZWxzZXsKYnJhbmNoPXByZXZpb3VzOwp9Cn0gZWxzZXsKaWYodGhpcy5wYXJlbnQpewpicmFuY2g9dGhpcy5wYXJlbnQ7Cn0KfQpyZXR1cm4gYnJhbmNoOwp9LApnZXROZXh0T3BlbmVkQnJhbmNoOmZ1bmN0aW9uKCl7CnZhciBicmFuY2g9bnVsbDsKaWYodGhpcy5oYXNDaGlsZHJlbigpJiYgdGhpcy5pc09wZW5lZCgpKXsKYnJhbmNoPXRoaXMuZ2V0Rmlyc3RCcmFuY2goKTsKfSBlbHNlewp2YXIgbmV4dD10aGlzOwp3aGlsZSghYnJhbmNoKXsKYnJhbmNoPW5leHQuZ2V0TmV4dFNpYmxpbmcoKTsKbmV4dD1uZXh0LnBhcmVudDsKaWYoIW5leHQpYnJlYWs7Cn0KfQpyZXR1cm4gYnJhbmNoOwp9LApyZW1vdmVDaGlsZHJlbjpmdW5jdGlvbigpewp2YXIgY2hpbGRyZW49dGhpcy5jaGlsZHJlbi5jb25jYXQoKTsKZm9yKHZhciBpPTA7aTxjaGlsZHJlbi5sZW5ndGg7aSsrKXsKdGhpcy50cmVlLnJlbW92ZUJyYW5jaChjaGlsZHJlbltpXSk7Cn0KfSwKaXNDaGlsZDpmdW5jdGlvbihlbGVtKXsKdmFyIGVsZW09dGhpcy50cmVlLmdldEJyYW5jaEJ5SWQoZWxlbSk7CmlmKCFlbGVtKXJldHVybiBmYWxzZTsKcmV0dXJuIHRoaXMuX2lzQ2hpbGQodGhpcyxlbGVtKTsKfSwKb3Blbkl0OmZ1bmN0aW9uKG9wZW4pewp0cnl7CmlmKCFvcGVuKXsKdGhpcy5fY2xvc2VDaGlsZCgpOwppZih0aGlzLnRyZWUubXVsdGlsaW5lKXsKdGhpcy5fbWFuYWdlTXVsdGlsaW5lKHRoaXMudGRJbWcsMixmYWxzZSk7Cn0KfSBlbHNlewppZih0aGlzLnRyZWUub25seU9uZU9wZW5lZCl7CnRoaXMuY2xvc2VTaWJsaW5ncygpOwp9CnRoaXMuX29wZW5DaGlsZCgpOwppZih0aGlzLnRyZWUubXVsdGlsaW5lKXsKdGhpcy5fbWFuYWdlTXVsdGlsaW5lKHRoaXMudGRJbWcsMix0cnVlKTsKfQp9CmlmKHRoaXMudHJlZS51c2VDb29raWUpewp0aGlzLnRyZWUuc2V0Q29va2llKHRoaXMudHJlZS5jbGFzc1RyZWUrdGhpcy50cmVlLmlkKTsKfQp9IGNhdGNoKGVycil7CnRocm93IG5ldyBFcnJvcignb3Blbkl0KGJhc2UpOiAnK2Vyci5tZXNzYWdlKTsKfQp9LAppbnNlcnQ6ZnVuY3Rpb24oaXRlbSl7CnJldHVybiB0aGlzLmluc2VydEludG9MYXN0KGl0ZW0pOwp9LAppbnNlcnRJbnRvTGFzdDpmdW5jdGlvbihpdGVtKXsKdmFyIHBvcz10aGlzLmNoaWxkcmVuLmxlbmd0aDsKdmFyIGlzTm90Rmlyc3QgPSh0aGlzLmhhc0NoaWxkcmVuKCkpPyB0cnVlOmZhbHNlOwp0aGlzLmNoaWxkcmVuW3Bvc109bmV3IFRhZmVsVHJlZUJyYW5jaCgodGhpcy5pc1Jvb3QpPyB0aGlzOnRoaXMucm9vdCx0aGlzLGl0ZW0sdGhpcy5sZXZlbCsxLGlzTm90Rmlyc3QsZmFsc2UscG9zKTsKdGhpcy5zdHJ1Y3QuaXRlbXNbcG9zXT1pdGVtOwp0aGlzLm9iai5hcHBlbmRDaGlsZCh0aGlzLmNoaWxkcmVuW3Bvc10ub2JqKTsKdGhpcy5fbWFuYWdlQWZ0ZXJJbnNlcnQocG9zKTsKcmV0dXJuIHRoaXMuY2hpbGRyZW5bcG9zXTsKfSwKaW5zZXJ0SW50b0ZpcnN0OmZ1bmN0aW9uKGl0ZW0pewp2YXIgcG9zPTA7CnZhciBwb3NCZWZvcmU9MTsKdmFyIGlzTm90TGFzdCA9KHRoaXMuaGFzQ2hpbGRyZW4oKSk/IGZhbHNlOnRydWU7CnRoaXMuX21vdmVQYXJ0U3RydWN0KHBvcyk7CnRoaXMuc3RydWN0Lml0ZW1zW3Bvc109aXRlbTsKdGhpcy5jaGlsZHJlbltwb3NdPW5ldyBUYWZlbFRyZWVCcmFuY2goKHRoaXMuaXNSb290KT8gdGhpczp0aGlzLnJvb3QsdGhpcyxpdGVtLHRoaXMubGV2ZWwrMSxmYWxzZSxpc05vdExhc3QscG9zKTsKdHJ5ewp0aGlzLm9iai5pbnNlcnRCZWZvcmUodGhpcy5jaGlsZHJlbltwb3NdLm9iaix0aGlzLmNoaWxkcmVuW3Bvc0JlZm9yZV0ub2JqKTsKfSBjYXRjaChlcnIpewp0aGlzLm9iai5hcHBlbmRDaGlsZCh0aGlzLmNoaWxkcmVuW3Bvc10ub2JqKTsKfQp0aGlzLl9tYW5hZ2VBZnRlckluc2VydChwb3MpOwpyZXR1cm4gdGhpcy5jaGlsZHJlbltwb3NdOwp9LApjbG9zZVNpYmxpbmdzOmZ1bmN0aW9uKCl7CnZhciBvYmo9bnVsbDsKaWYodGhpcy5wYXJlbnQpewpmb3IodmFyIGk9MDtpPHRoaXMucGFyZW50LmNoaWxkcmVuLmxlbmd0aDtpKyspewpvYmo9dGhpcy5wYXJlbnQuY2hpbGRyZW5baV07CmlmKG9iai5pZE9iaiE9dGhpcy5pZE9iaiYmb2JqLmhhc0NoaWxkcmVuKCkpewpvYmoub3Blbkl0KGZhbHNlKTsKfQp9Cn0gZWxzZSBpZih0aGlzLmlzUm9vdCl7CmZvcih2YXIgaT0wO2k8dGhpcy50cmVlLnJvb3RzLmxlbmd0aDtpKyspewpvYmo9dGhpcy50cmVlLnJvb3RzW2ldOwppZihvYmouaWRPYmohPXRoaXMuaWRPYmomJm9iai5oYXNDaGlsZHJlbigpKXsKb2JqLm9wZW5JdChmYWxzZSk7Cn0KfQp9Cn0sCmFkZENsYXNzOmZ1bmN0aW9uKHN0eWxlKXsKRWxlbWVudC5hZGRDbGFzc05hbWUodGhpcy50eHQsc3R5bGUpOwp9LApyZW1vdmVDbGFzczpmdW5jdGlvbihzdHlsZSl7CkVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKHRoaXMudHh0LHN0eWxlKTsKfSwKZ2V0SW1nQmVmb3JlSWNvbjpmdW5jdGlvbigpewp0cnl7CnZhciBpbWc9dGhpcy5iZWZvcmVJY29uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKVswXTsKcmV0dXJuIHRoaXMuX2dldEltZ0luZm8oaW1nKTsKfSBjYXRjaChlcnIpewp0aHJvdyBuZXcgRXJyb3IoJ2dldEltZ0JlZm9yZUljb24oYmFzZSk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCnNldE9wZW5hYmxlSWNvbjpmdW5jdGlvbihvcGVuYWJsZSl7CnZhciBpbT10aGlzLmdldEltZ0JlZm9yZUljb24oKTsKdmFyIGltZz1pbS5pbWc7CmlmKG9wZW5hYmxlKXsKdGhpcy5zdHJ1Y3Qub3Blbj10cnVlOwp0aGlzLmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy5zdHJ1Y3QuaW1nb3BlbjsKaWYoIXRoaXMuaXNSb290KXsKaW1nLnNyYyA9KHRoaXMuaGFzU2libGluZ3NBZnRlcik/IHRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdNaW51czM6dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ01pbnVzMjsKfSBlbHNlewppZih0aGlzLmhhc1NpYmxpbmdzQmVmb3JlKXsKaW1nLnNyYyA9KHRoaXMuaGFzU2libGluZ3NBZnRlcik/IHRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdNaW51czM6dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ01pbnVzMjsKfSBlbHNlewppbWcuc3JjID0odGhpcy5oYXNTaWJsaW5nc0FmdGVyKT8gdGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ01pbnVzNDp0aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nTWludXM1Owp9Cn0KRXZlbnQub2JzZXJ2ZShpbWcsJ2NsaWNrJyx0aGlzLnNldE9wZW4uYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSxmYWxzZSk7CkV2ZW50Lm9ic2VydmUoaW1nLCdtb3VzZW92ZXInLHRoaXMuZXZ0X29wZW5Nb3VzZU92ZXIuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSxmYWxzZSk7CkV2ZW50Lm9ic2VydmUoaW1nLCdtb3VzZW91dCcsdGhpcy5ldnRfb3Blbk1vdXNlT3V0LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwp9IGVsc2V7CnRoaXMuc3RydWN0Lm9wZW49ZmFsc2U7CnRoaXMuc3RydWN0LmNhbmhhdmVjaGlsZHJlbj1mYWxzZTsKdGhpcy5pbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlK3RoaXMuc3RydWN0LmltZzsKdmFyIHRkPWltZy5wYXJlbnROb2RlOwp2YXIgbmV3SW1nPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwp0ZC5yZW1vdmVDaGlsZChpbWcpOwppZighdGhpcy5pc1Jvb3QpewpuZXdJbWcuc3JjID0odGhpcy5oYXNTaWJsaW5nc0FmdGVyKT8gdGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ0xpbmUzOnRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdMaW5lMjsKfSBlbHNlewppZih0aGlzLmhhc1NpYmxpbmdzQmVmb3JlKXsKbmV3SW1nLnNyYyA9KHRoaXMuaGFzU2libGluZ3NBZnRlcik/IHRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdMaW5lMzp0aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nTGluZTI7Cn0gZWxzZXsKbmV3SW1nLnNyYyA9KHRoaXMuaGFzU2libGluZ3NBZnRlcik/IHRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdMaW5lNDp0aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nTGluZTU7Cn0KfQp0ZC5hcHBlbmRDaGlsZChuZXdJbWcpOwp9Cn0sCnRvU3RyaW5nOmZ1bmN0aW9uKCl7CnZhciBzdHIgPSh0aGlzLmlzUm9vdCk/ICdUYWZlbFRyZWVSb290eyc6J1RhZmVsVHJlZUJyYW5jaHsnOwp2YXIgc3RyU2F2ZT0nJzsKZm9yKHZhciBhdHRyIGluIHRoaXMuc3RydWN0KXsKaWYoYXR0ciE9J2l0ZW1zJyl7CnN0clNhdmUgPSh0eXBlb2YodGhpcy5zdHJ1Y3RbYXR0cl0pIT0gJ2Z1bmN0aW9uJyk/IHRoaXMuc3RydWN0W2F0dHJdOnRydWU7CnN0ciArPSBUYWZlbFRyZWUuZGVidWdSZXR1cm4rVGFmZWxUcmVlLmRlYnVnVGFiK2F0dHIrJzonK3N0clNhdmU7Cn0KfQpzdHIgKz0gVGFmZWxUcmVlLmRlYnVnUmV0dXJuK1RhZmVsVHJlZS5kZWJ1Z1RhYisnY2hpbGRyZW46Jyt0aGlzLmNoaWxkcmVuLmxlbmd0aDsKc3RyICs9IFRhZmVsVHJlZS5kZWJ1Z1JldHVybisnfSc7CnJldHVybiBzdHI7Cn0sCmlzQ2hlY2tlZDpmdW5jdGlvbihkYmcpewppZih0aGlzLnRyZWUuY2hlY2tib3hlcyYmdGhpcy5jaGVja2JveCl7CnZhciBpbWc9dGhpcy5fZ2V0SW1nSW5mbyh0aGlzLmNoZWNrYm94KTsKaWYoaW1nLmZ1bGxOYW1lLnJlcGxhY2UoJ19vdmVyJywnJyk9PSB0aGlzLnRyZWUuaW1nQ2hlY2syKXsKcmV0dXJuIDE7Cn0KaWYoaW1nLmZ1bGxOYW1lLnJlcGxhY2UoJ19vdmVyJywnJyk9PSB0aGlzLnRyZWUuaW1nQ2hlY2szKXsKcmV0dXJuIC0xOwp9CnJldHVybiAwOwp9CnJldHVybiAwOwp9LApnZXRDaGVja2JveDpmdW5jdGlvbigpewpyZXR1cm4odGhpcy5jaGVja2JveCk/IHRoaXMuY2hlY2tib3g6ZmFsc2U7Cn0sCmNoZWNrOmZ1bmN0aW9uKGNoZWNrZWQpewppZih0aGlzLmNoZWNrYm94KXsKaWYoY2hlY2tlZD09LTEpewp0aGlzLmNoZWNrYm94LnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nQ2hlY2szOwp0aGlzLnN0cnVjdC5jaGVjaz0tMTsKfSBlbHNlIGlmKGNoZWNrZWQpewp0aGlzLmNoZWNrYm94LnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nQ2hlY2syOwp0aGlzLnN0cnVjdC5jaGVjaz0xOwppZih0aGlzLnRyZWUudXNlQ29va2llKXsKdGhpcy50cmVlLnNldENvb2tpZSh0aGlzLnRyZWUuY2xhc3NUcmVlK3RoaXMudHJlZS5pZCk7Cn0KfSBlbHNlewp0aGlzLmNoZWNrYm94LnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nQ2hlY2sxOwp0aGlzLnN0cnVjdC5jaGVjaz0wOwppZih0aGlzLnRyZWUudXNlQ29va2llKXsKdGhpcy50cmVlLnNldENvb2tpZSh0aGlzLnRyZWUuY2xhc3NUcmVlK3RoaXMudHJlZS5pZCk7Cn0KfQp9Cn0sCmhhc0FsbENoaWxkcmVuQ2hlY2tlZDpmdW5jdGlvbigpewp2YXIgYWxsQ2hlY2tlZD1mYWxzZTsKdmFyIGFueUNoZWNrZWQ9ZmFsc2U7CmZvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXsKaWYodGhpcy5jaGlsZHJlbltpXS5pc0NoZWNrZWQoKT09IC0xKXsKYWxsQ2hlY2tlZD10cnVlOwphbnlDaGVja2VkPXRydWU7CmJyZWFrOwp9CmlmKHRoaXMuY2hpbGRyZW5baV0uaXNDaGVja2VkKCk9PSAxKWFsbENoZWNrZWQ9dHJ1ZTsKZWxzZSBhbnlDaGVja2VkPXRydWU7Cn0KaWYoYWxsQ2hlY2tlZCYmYW55Q2hlY2tlZClyZXR1cm4gLTE7CmlmKGFsbENoZWNrZWQpcmV0dXJuIDE7CmVsc2UgcmV0dXJuIDA7Cn0sCnN3aXRjaFdpdGg6ZnVuY3Rpb24oYnJhbmNoSWQpewp2YXIgYnJhbmNoPXRoaXMudHJlZS5nZXRCcmFuY2hCeUlkKGJyYW5jaElkKTsKaWYoIWJyYW5jaClyZXR1cm4gZmFsc2U7CnZhciBjb3B5VGhpcz10aGlzLmNvcGllZFRpbWVzOwp2YXIgbmV3VGhpcz10aGlzLmNsb25lKCk7CnZhciB0eHRUaGlzPXRoaXMuZ2V0VGV4dCgpOwp2YXIgaWRUaGlzPXRoaXMuZ2V0SWQoKTsKdmFyIGNvcHlCYW5jaD1icmFuY2guY29waWVkVGltZXM7CnZhciBuZXdCcmFuY2g9YnJhbmNoLmNsb25lKCk7CnZhciB0eHRCcmFuY2g9YnJhbmNoLmdldFRleHQoKTsKdmFyIGlkQnJhbmNoPWJyYW5jaC5nZXRJZCgpOwp0aGlzLmNoYW5nZUlkKCd0ZW1wX3N3aXRjaF9jaGFuZ2VfJyt0aGlzLnRyZWUuaWRUcmVlKTsKdmFyIG4xPWJyYW5jaC5pbnNlcnRCZWZvcmUobmV3VGhpcyk7CnRoaXMudHJlZS5yZW1vdmVCcmFuY2goYnJhbmNoKTsKbjEuc2V0VGV4dCh0eHRUaGlzKTsKbjEuY2hhbmdlSWQoaWRUaGlzKTsKbjEuY29waWVkVGltZXM9Y29weVRoaXM7CnZhciBuMj10aGlzLmluc2VydEJlZm9yZShuZXdCcmFuY2gpOwp0aGlzLnRyZWUucmVtb3ZlQnJhbmNoKHRoaXMpOwpuMi5zZXRUZXh0KHR4dEJyYW5jaCk7Cm4yLmNoYW5nZUlkKGlkQnJhbmNoKTsKbjIuY29waWVkVGltZXM9Y29weUJyYW5jaDsKfSwKcmVwbGFjZTpmdW5jdGlvbihicmFuY2hJZCxjb3B5KXsKdmFyIGJyYW5jaD10aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZChicmFuY2hJZCk7CmlmKCFicmFuY2gpcmV0dXJuIGZhbHNlOwp2YXIgY29weVRoaXM9dGhpcy5jb3BpZWRUaW1lczsKdmFyIG5ld1RoaXM9dGhpcy5jbG9uZSgpOwp2YXIgbjE9YnJhbmNoLmluc2VydEJlZm9yZShuZXdUaGlzKTsKdGhpcy50cmVlLnJlbW92ZUJyYW5jaChicmFuY2gpOwppZighY29weSl7CnZhciBpZFRoaXM9dGhpcy5nZXRJZCgpOwpuMS5zZXRUZXh0KHRoaXMuZ2V0VGV4dCgpKQp0aGlzLnRyZWUucmVtb3ZlQnJhbmNoKHRoaXMpOwpuMS5jaGFuZ2VJZChpZFRoaXMpOwpuMS5jb3BpZWRUaW1lcz1jb3B5VGhpczsKfQpyZXR1cm4gbjE7Cn0sCmV4cGVuZDpmdW5jdGlvbigpewppZih0aGlzLmlzT3BlbmVkKCkhPSB0cnVlJiZ0aGlzLmhhc0NoaWxkcmVuKCkpewp0aGlzLm9wZW5JdCh0cnVlKTsKfQpmb3IodmFyIGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7CnRoaXMuY2hpbGRyZW5baV0uZXhwZW5kKCk7Cn0KfSwKY29sbGFwc2U6ZnVuY3Rpb24oKXsKaWYodGhpcy5pc09wZW5lZCgpIT0gZmFsc2UmJnRoaXMuaGFzQ2hpbGRyZW4oKSl7CnRoaXMub3Blbkl0KGZhbHNlKTsKfQpmb3IodmFyIGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7CnRoaXMuY2hpbGRyZW5baV0uY29sbGFwc2UoKTsKfQp9LApnZXRCcmFuY2hlczpmdW5jdGlvbihmaWx0ZXIsYnJhbmNoZXMpewppZighYnJhbmNoZXMpYnJhbmNoZXM9W107CmZvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXsKaWYodHlwZW9mKGZpbHRlcik9PSAnZnVuY3Rpb24nKXsKaWYoZmlsdGVyKHRoaXMuY2hpbGRyZW5baV0pKXsKYnJhbmNoZXMucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTsKfQp9IGVsc2V7CmJyYW5jaGVzLnB1c2godGhpcy5jaGlsZHJlbltpXSk7Cn0KYnJhbmNoZXM9dGhpcy5jaGlsZHJlbltpXS5nZXRCcmFuY2hlcyhmaWx0ZXIsYnJhbmNoZXMpOwp9CnJldHVybiBicmFuY2hlczsKfSwKZ2V0UGFyZW50QnJhbmNoZXM6ZnVuY3Rpb24ocGFyZW50cyl7CmlmKCFwYXJlbnRzKXBhcmVudHM9W107CmZvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXsKaWYodGhpcy5jaGlsZHJlbltpXS5oYXNDaGlsZHJlbigpKXsKcGFyZW50cy5wdXNoKHRoaXMuY2hpbGRyZW5baV0pOwp9CnBhcmVudHM9dGhpcy5jaGlsZHJlbltpXS5nZXRQYXJlbnRCcmFuY2hlcyhwYXJlbnRzKTsKfQpyZXR1cm4gcGFyZW50czsKfSwKZ2V0TGVhZkJyYW5jaGVzOmZ1bmN0aW9uKGxlYWZzKXsKaWYoIWxlYWZzKWxlYWZzPVtdOwpmb3IodmFyIGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7CmlmKCF0aGlzLmNoaWxkcmVuW2ldLmhhc0NoaWxkcmVuKCkpewpsZWFmcy5wdXNoKHRoaXMuY2hpbGRyZW5baV0pOwp9CmxlYWZzPXRoaXMuY2hpbGRyZW5baV0uZ2V0TGVhZkJyYW5jaGVzKGxlYWZzKTsKfQpyZXR1cm4gbGVhZnM7Cn0sCmNvdW50QnJhbmNoZXM6ZnVuY3Rpb24oKXsKdmFyIG5iPXRoaXMuY2hpbGRyZW4ubGVuZ3RoOwpmb3IodmFyIGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7Cm5iICs9IHRoaXMuY2hpbGRyZW5baV0uY291bnRCcmFuY2hlcygpOwp9CnJldHVybiBuYjsKfSwKZ2V0T3BlbmVkQnJhbmNoZXM6ZnVuY3Rpb24ob3BlbmVkQnJhbmNoZXMpewppZighb3BlbmVkQnJhbmNoZXMpb3BlbmVkQnJhbmNoZXM9W107CmZvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXsKaWYodGhpcy5jaGlsZHJlbltpXS5pc09wZW5lZCgpJiYgdGhpcy5jaGlsZHJlbltpXS5oYXNDaGlsZHJlbigpKXsKb3BlbmVkQnJhbmNoZXMucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTsKfQpvcGVuZWRCcmFuY2hlcz10aGlzLmNoaWxkcmVuW2ldLmdldE9wZW5lZEJyYW5jaGVzKG9wZW5lZEJyYW5jaGVzKTsKfQpyZXR1cm4gb3BlbmVkQnJhbmNoZXM7Cn0sCmdldENoZWNrZWRCcmFuY2hlczpmdW5jdGlvbihjaGVja2VkQnJhbmNoZXMpewpyZXR1cm4gdGhpcy5fZ2V0Q2hlY2tlZEJyYW5jaGVzKGNoZWNrZWRCcmFuY2hlcywxKTsKfSwKZ2V0VW5DaGVja2VkQnJhbmNoZXM6ZnVuY3Rpb24oY2hlY2tlZEJyYW5jaGVzKXsKcmV0dXJuIHRoaXMuX2dldENoZWNrZWRCcmFuY2hlcyhjaGVja2VkQnJhbmNoZXMsMCk7Cn0sCmdldFBhcnRDaGVja2VkQnJhbmNoZXM6ZnVuY3Rpb24oY2hlY2tlZEJyYW5jaGVzKXsKcmV0dXJuIHRoaXMuX2dldENoZWNrZWRCcmFuY2hlcyhjaGVja2VkQnJhbmNoZXMsLTEpOwp9LApzZWxlY3Q6ZnVuY3Rpb24oZXYpewp2YXIgY3RybCA9KGV2KT8gVGFmZWxUcmVlTWFuYWdlci5jdHJsT24oZXYpOiBmYWxzZTsKdmFyIHNoaWZ0ID0oZXYpPyBUYWZlbFRyZWVNYW5hZ2VyLnNoaWZ0T24oZXYpOiBmYWxzZTsKaWYoY3RybCl7CnRoaXMudHJlZS5zZWxlY3RlZEJyYW5jaGVzLnB1c2godGhpcyk7Cn0gZWxzZSBpZihzaGlmdCYmdGhpcy50cmVlLnNlbGVjdGVkQnJhbmNoZXMubGVuZ3RoPjApewp2YXIgbGFzdD10aGlzLnRyZWUuc2VsZWN0ZWRCcmFuY2hlcy5sZW5ndGgtMTsKdmFyIHNlbD10aGlzLnRyZWUuZ2V0QnJhbmNoZXNCZXR3ZWVuKHRoaXMudHJlZS5zZWxlY3RlZEJyYW5jaGVzW2xhc3RdLHRoaXMpOwpmb3IodmFyIGk9MDtpPHNlbC5sZW5ndGg7aSsrKXsKdGhpcy50cmVlLnNlbGVjdGVkQnJhbmNoZXMucHVzaChzZWxbaV0pOwpFbGVtZW50LmFkZENsYXNzTmFtZShzZWxbaV0udHh0LHRoaXMudHJlZS5jbGFzc1NlbGVjdGVkKTsKfQp9IGVsc2V7CnRoaXMudHJlZS51bnNlbGVjdCgpOwp0aGlzLnRyZWUuc2VsZWN0ZWRCcmFuY2hlcy5wdXNoKHRoaXMpOwp9CkVsZW1lbnQuYWRkQ2xhc3NOYW1lKHRoaXMudHh0LHRoaXMudHJlZS5jbGFzc1NlbGVjdGVkKTsKaWYodGhpcy5pc09wZW5lZCgpJiYgdGhpcy5oYXNDaGlsZHJlbigpJiYgdGhpcy5nZXRPcGVuSWNvblNlbGVjdGVkKCkpewp0aGlzLmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy5nZXRPcGVuSWNvblNlbGVjdGVkKCk7Cn0gZWxzZSBpZighdGhpcy5pc09wZW5lZCgpJiYgdGhpcy5oYXNDaGlsZHJlbigpJiYgdGhpcy5nZXRDbG9zZUljb25TZWxlY3RlZCgpKXsKdGhpcy5pbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlK3RoaXMuZ2V0Q2xvc2VJY29uU2VsZWN0ZWQoKTsKfSBlbHNlIGlmKCF0aGlzLmhhc0NoaWxkcmVuKCkmJiB0aGlzLmdldEljb25TZWxlY3RlZCgpKXsKdGhpcy5pbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlK3RoaXMuZ2V0SWNvblNlbGVjdGVkKCk7Cn0KaWYoZXYpRXZlbnQuc3RvcChldik7Cn0sCnVuc2VsZWN0OmZ1bmN0aW9uKCl7CnZhciBsbj10aGlzLnRyZWUuc2VsZWN0ZWRCcmFuY2hlcy5sZW5ndGg7CmlmKGxuPjApewpmb3IodmFyIGk9MDtpPGxuO2krKyl7CmlmKHRoaXMudHJlZS5zZWxlY3RlZEJyYW5jaGVzW2ldLmdldElkKCk9PSB0aGlzLmdldElkKCkpewp0aGlzLnRyZWUuc2VsZWN0ZWRCcmFuY2hlcy5zcGxpY2UoaSwxKTsKRWxlbWVudC5yZW1vdmVDbGFzc05hbWUodGhpcy50eHQsdGhpcy50cmVlLmNsYXNzU2VsZWN0ZWQpOwppZih0aGlzLmhhc0NoaWxkcmVuKCkpewp0aGlzLmltZy5zcmMgPSh0aGlzLmlzT3BlbmVkKCkpPyB0aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnN0cnVjdC5pbWdvcGVuOnRoaXMudHJlZS5pbWdCYXNlK3RoaXMuc3RydWN0LmltZ2Nsb3NlOwp9IGVsc2V7CnRoaXMuaW1nLnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnN0cnVjdC5pbWc7Cn0KcmV0dXJuIHRydWU7Cn0KfQp9CnJldHVybiBmYWxzZTsKfSwKZ2V0V2l0aGluT2Zmc2V0OmZ1bmN0aW9uKCl7CnZhciByZWFsUG9zPVBvc2l0aW9uLnBvc2l0aW9uZWRPZmZzZXQodGhpcy50eHQpOwp2YXIgcG9zVHJlZT1Qb3NpdGlvbi5wb3NpdGlvbmVkT2Zmc2V0KHRoaXMudHJlZS5kaXYpOwp2YXIgcG9zPVsKcmVhbFBvc1swXS1wb3NUcmVlWzBdLApyZWFsUG9zWzFdLXBvc1RyZWVbMV0KXTsKcmV0dXJuIHBvczsKfSwKZ2V0QWJzb2x1dGVPZmZzZXQ6ZnVuY3Rpb24oKXsKcmV0dXJuIFBvc2l0aW9uLnBvc2l0aW9uZWRPZmZzZXQodGhpcy50eHQpOwp9LApzZXJpYWxpemU6ZnVuY3Rpb24oZGVidWcsbm9FbmNvZGluZyl7CnZhciB0YWI9Jyc7CnZhciBydD0nJzsKaWYoZGVidWcpewpydD1UYWZlbFRyZWUuZGVidWdSZXR1cm47CmZvcih2YXIgaT0wO2k8dGhpcy5sZXZlbDtpKyspewp0YWIgKz0gVGFmZWxUcmVlLmRlYnVnVGFiOwp9Cn0KdmFyIHN0clNhdmU9Jyc7CnZhciBzdHI9cnQrdGFiKyd7JytydDsKc3RyICs9IHRhYisnImlkIjoiJyt0aGlzLl9lbmNvZGUodGhpcy5zdHJ1Y3QuaWQpKyAnIic7CmZvcih2YXIgYXR0ciBpbiB0aGlzLnN0cnVjdCl7CmlmKGF0dHIhPSdpdGVtcycmJmF0dHIhPSdpZCcpewpzdHJTYXZlID0odHlwZW9mKHRoaXMuc3RydWN0W2F0dHJdKSE9ICdmdW5jdGlvbicpPyB0aGlzLnN0cnVjdFthdHRyXTp0cnVlOwppZih0aGlzLmlzQm9vbChzdHJTYXZlKSl7CnN0ciArPSAiLCIrcnQrdGFiKyciJythdHRyKyciOicrdGhpcy5fZW5jb2RlKHN0clNhdmUpOwp9IGVsc2V7CnN0ciArPSAiLCIrcnQrdGFiKyciJythdHRyKyciOiInK3RoaXMuX2VuY29kZShzdHJTYXZlKSsgJyInOwp9Cn0KfQppZih0aGlzLmhhc0NoaWxkcmVuKCkpewpzdHIgKz0gJywnK3J0K3RhYisnIml0ZW1zIjpbJzsKZm9yKHZhciBpPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspewpzdHIgKz0gdGhpcy5jaGlsZHJlbltpXS5zZXJpYWxpemUoZGVidWcsdHJ1ZSk7CmlmKGk8dGhpcy5jaGlsZHJlbi5sZW5ndGgtMSl7CnN0ciArPSAnLCc7Cn0KfQpzdHIgKz0gcnQrdGFiKyddJzsKfQpzdHIgKz0gcnQrdGFiKyd9JzsKaWYoIW5vRW5jb2RpbmcpewpyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cik7Cn0gZWxzZXsKcmV0dXJuIHN0cjsKfQp9LAppc0Jvb2w6ZnVuY3Rpb24oc3RyKXsKc3dpdGNoKHN0cil7CmNhc2UgJ3RydWUnOmNhc2UgJ2ZhbHNlJzoKY2FzZSB0cnVlOmNhc2UgZmFsc2U6CmNhc2UgJzEnOmNhc2UgJzAnIDoKY2FzZSAxOmNhc2UgMCA6CnJldHVybiB0cnVlOwpkZWZhdWx0IDoKcmV0dXJuIGZhbHNlOwp9Cn0sCnNob3dUb29sdGlwOmZ1bmN0aW9uKCl7CmlmKHRoaXMuZGlzcGxheVRvb2x0aXApewp0aGlzLnRvb2x0aXAuc3R5bGUuZGlzcGxheT0nYmxvY2snOwp9Cn0sCmhpZGVUb29sdGlwOmZ1bmN0aW9uKCl7CmlmKCF0aGlzLmRpc3BsYXlUb29sdGlwKXsKRWxlbWVudC5oaWRlKHRoaXMudG9vbHRpcCk7Cn0KfSwKcmVtb3ZlRHJhZ0Ryb3A6ZnVuY3Rpb24oKXsKaWYodGhpcy5vYmpEcmFnKXsKdGhpcy5vYmpEcmFnLmRlc3Ryb3koKTsKfQpEcm9wcGFibGVzLnJlbW92ZSh0aGlzLnR4dCk7CmZvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXsKdGhpcy5jaGlsZHJlbltpXS5yZW1vdmVEcmFnRHJvcCgpOwp9Cn0sCl9tYW5hZ2VNdWx0aWxpbmU6ZnVuY3Rpb24oZWxlbWVudCx0eXBlLGFkZCl7CnN3aXRjaCh0eXBlKXsKY2FzZSAyIDoKaWYoIWFkZCl7CkVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKGVsZW1lbnQsdGhpcy50cmVlLmltZ011bHRpNCk7CmVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZD0nbm9uZSc7Cn0gZWxzZXsKRWxlbWVudC5hZGRDbGFzc05hbWUoZWxlbWVudCx0aGlzLnRyZWUuaW1nTXVsdGk0KTsKZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kPSd1cmwoIicrdGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ011bHRpMisnIiknOwplbGVtZW50LnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9J3JlcGVhdC15JzsKfQpicmVhazsKY2FzZSAxIDoKZGVmYXVsdCA6CmlmKCFhZGQpewpFbGVtZW50LnJlbW92ZUNsYXNzTmFtZShlbGVtZW50LHRoaXMudHJlZS5pbWdNdWx0aTMpOwplbGVtZW50LnN0eWxlLmJhY2tncm91bmQ9J25vbmUnOwp9IGVsc2V7CkVsZW1lbnQuYWRkQ2xhc3NOYW1lKGVsZW1lbnQsdGhpcy50cmVlLmltZ011bHRpMyk7CmVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZD0ndXJsKCInK3RoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdNdWx0aTErJyIpJzsKZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PSdyZXBlYXQteSc7Cn0KfQp9LApfY3JlYXRlVG9vbHRpcDpmdW5jdGlvbigpewp2YXIgZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwpkaXYuY2xhc3NOYW1lPXRoaXMudHJlZS5jbGFzc1Rvb2x0aXA7CmRpdi5pbm5lckhUTUwgPSh0aGlzLnN0cnVjdC50b29sdGlwKT8gdGhpcy5zdHJ1Y3QudG9vbHRpcDonJm5ic3A7JzsKRXZlbnQub2JzZXJ2ZShkaXYsJ21vdXNlb3ZlcicsdGhpcy5zaG93VG9vbHRpcC5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLGZhbHNlKTsKcmV0dXJuIGRpdjsKfSwKX21hbmFnZUFmdGVySW5zZXJ0OmZ1bmN0aW9uKHBvcyl7CnRoaXMudHJlZS5fY2hhbmdlU3RydWN0KHRoaXMpOwp0aGlzLl9tYW5hZ2VMaW5lKCk7CmlmKHRoaXMudHJlZS5jaGVja2JveGVzJiZ0aGlzLnRyZWUuY2hlY2tib3hlc1RocmVlU3RhdGUpewp0aGlzLmNoaWxkcmVuW3Bvc10uX2FkanVzdFBhcmVudENoZWNrKCk7Cn0KaWYodGhpcy5jaGlsZHJlbi5sZW5ndGg9PTEmJiF0aGlzLnN0cnVjdC5jYW5oYXZlY2hpbGRyZW4pewp0aGlzLnNldE9wZW5hYmxlSWNvbih0cnVlKTsKfQp0aGlzLm9wZW5JdCgoIXRoaXMudHJlZS5vcGVuZWRBZnRlckFkZCYmIXRoaXMuaXNPcGVuZWQoKSk/IGZhbHNlOnRydWUpOwp9LApfbW92ZVBhcnRTdHJ1Y3Q6ZnVuY3Rpb24ocG9zKXsKdmFyIG5iPXRoaXMuc3RydWN0Lml0ZW1zLmxlbmd0aC0xOwp2YXIgbmV3UG9zPTA7CmZvcih2YXIgaT1uYjtpPj1wb3M7aS0tKXsKbmV3UG9zPWkrMTsKdGhpcy5zdHJ1Y3QuaXRlbXNbbmV3UG9zXT10aGlzLnN0cnVjdC5pdGVtc1tpXTsKdGhpcy5jaGlsZHJlbltuZXdQb3NdPXRoaXMuY2hpbGRyZW5baV07CnRoaXMuY2hpbGRyZW5bbmV3UG9zXS5wb3M9bmV3UG9zOwp9Cn0sCl9nZXRDaGVja2VkQnJhbmNoZXM6ZnVuY3Rpb24oY2hlY2tlZEJyYW5jaGVzLGNoZWNrZWQpewppZighY2hlY2tlZEJyYW5jaGVzKWNoZWNrZWRCcmFuY2hlcz1bXTsKZm9yKHZhciBpPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspewppZih0aGlzLmNoaWxkcmVuW2ldLmlzQ2hlY2tlZCgpPT0gY2hlY2tlZCl7CmNoZWNrZWRCcmFuY2hlcy5wdXNoKHRoaXMuY2hpbGRyZW5baV0pOwp9CmNoZWNrZWRCcmFuY2hlcz10aGlzLmNoaWxkcmVuW2ldLl9nZXRDaGVja2VkQnJhbmNoZXMoY2hlY2tlZEJyYW5jaGVzLGNoZWNrZWQpOwp9CnJldHVybiBjaGVja2VkQnJhbmNoZXM7Cn0sCl9nZW5lcmF0ZTpmdW5jdGlvbigpewp2YXIgaT10aGlzLmJpZ1RyZWVMb2FkaW5nOwppZihpPHRoaXMuc3RydWN0Lml0ZW1zLmxlbmd0aCl7CmlmKHRoaXMudHJlZS5jaGVja2JveGVzVGhyZWVTdGF0ZSYmdGhpcy5zdHJ1Y3QuY2hlY2smJnR5cGVvZih0aGlzLnN0cnVjdC5pdGVtc1tpXS5jaGVjayk9PSAndW5kZWZpbmVkJyl7CnRoaXMuc3RydWN0Lml0ZW1zW2ldLmNoZWNrPTE7Cn0KaXNOb3RGaXJzdCA9KGk+MCk/IHRydWU6ZmFsc2U7CmlzTm90TGFzdCA9KGk8dGhpcy5zdHJ1Y3QuaXRlbXMubGVuZ3RoLTEpPyB0cnVlOmZhbHNlOwp0aGlzLmNoaWxkcmVuW2ldPW5ldyBUYWZlbFRyZWVCcmFuY2goKHRoaXMuaXNSb290KT8gdGhpczp0aGlzLnJvb3QsdGhpcyx0aGlzLnN0cnVjdC5pdGVtc1tpXSx0aGlzLmxldmVsKzEsaXNOb3RGaXJzdCxpc05vdExhc3QsaSk7CnRoaXMub2JqLmFwcGVuZENoaWxkKHRoaXMuY2hpbGRyZW5baV0ub2JqKTsKdGhpcy5vcGVuSXQoKHRoaXMudHJlZS51c2VDb29raWUpPyAgdGhpcy5pc09wZW5lZEluQ29va2llOnRoaXMuc3RydWN0Lm9wZW4pOwp0aGlzLnRyZWUubG9hZFJ1bm5pbmcodGhpcy5jaGlsZHJlbltpXSk7CnRoaXMuYmlnVHJlZUxvYWRpbmcrKzsKc2V0VGltZW91dCh0aGlzLl9nZW5lcmF0ZS5iaW5kKHRoaXMpLDEwKTsKfSBlbHNlewp0aGlzLmxvYWRlZD10cnVlOwp9Cn0sCl9nZXRQb3M6ZnVuY3Rpb24oKXsKcG9zPXRoaXMuY2hpbGRyZW4ubGVuZ3RoOwpmb3IodmFyIGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7CmlmKHRoaXMuY2hpbGRyZW5baV0uaXNBbHdheXNMYXN0KCkpewpwb3MtLTsKfQp9CmlmKHBvczwwIClwb3M9MDsKcmV0dXJuIHBvczsKfSwKX2FkanVzdFBhcmVudENoZWNrOmZ1bmN0aW9uKGZyb21CcmFuY2gpewppZih0aGlzLnBhcmVudCl7CnZhciBicmFuY2ggPSghZnJvbUJyYW5jaCk/IHRoaXMucGFyZW50OnRoaXM7CndoaWxlKGJyYW5jaCYmYnJhbmNoLmNoZWNrYm94KXsKYnJhbmNoLmNoZWNrKGJyYW5jaC5oYXNBbGxDaGlsZHJlbkNoZWNrZWQoKSk7CmJyYW5jaD1icmFuY2gucGFyZW50Owp9Cn0KfSwKX21hbmFnZUNoZWNrVGhyZWVTdGF0ZTpmdW5jdGlvbihicmFuY2gsY2hlY2tlZCl7CmZvcih2YXIgaT0wO2k8YnJhbmNoLmNoaWxkcmVuLmxlbmd0aDtpKyspewppZihicmFuY2gudHJlZS5jaGVja2JveGVzJiZicmFuY2guY2hpbGRyZW5baV0uY2hlY2tib3gpewpicmFuY2guY2hpbGRyZW5baV0uY2hlY2soY2hlY2tlZCk7CmJyYW5jaC5fbWFuYWdlQ2hlY2tUaHJlZVN0YXRlKGJyYW5jaC5jaGlsZHJlbltpXSxjaGVja2VkKTsKfQp9Cn0sCl9nZXRJbWdJbmZvOmZ1bmN0aW9uKGltZyl7CnZhciB1cmw9aW1nLnNyYy5zcGxpdCgnLycpOwp2YXIgbmFtZT11cmxbdXJsLmxlbmd0aC0xXS5zcGxpdCgnLicpOwp2YXIgb2JqID17CidpbWcnOiBpbWcsCidudW1iZXInOiBuYW1lWzBdLmNoYXJBdChuYW1lWzBdLmxlbmd0aC0xKSwKJ3R5cGUnOiBuYW1lWzBdLnN1YnN0cigwLG5hbWVbMF0ubGVuZ3RoLTEpLAonbmFtZSc6IG5hbWVbMF0sCidmdWxsTmFtZSc6IHVybFt1cmwubGVuZ3RoLTFdCn07CnJldHVybiBvYmo7Cn0sCl9lbmNvZGU6ZnVuY3Rpb24oc3RyKXsKdmFyIG9iaiA9KHN0ciA9PT0gbnVsbCk/ICcnOnN0cjsKcmV0dXJuIG9iai50b1N0cmluZygpLnJlcGxhY2UoL1wiL2csJ1xcIicpOwp9LApfY2xvc2VDaGlsZDpmdW5jdGlvbihpbWcpewp0cnl7CmltZz10aGlzLmdldEltZ0JlZm9yZUljb24oKS5pbWc7CnRoaXMuc3RydWN0Lm9wZW49ZmFsc2U7CmlmKHRoaXMuaXNTZWxlY3RlZCgpJiYgdGhpcy5nZXRDbG9zZUljb25TZWxlY3RlZCgpKXsKdGhpcy5pbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlK3RoaXMuZ2V0Q2xvc2VJY29uU2VsZWN0ZWQoKTsKfSBlbHNlewp0aGlzLmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy5zdHJ1Y3QuaW1nY2xvc2U7Cn0KZm9yKHZhciBpPTA7aTx0aGlzLm9iai5jaGlsZE5vZGVzLmxlbmd0aDtpKyspewppZih0aGlzLm9iai5jaGlsZE5vZGVzW2ldLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PSAnZGl2Jyl7CkVsZW1lbnQuaGlkZSh0aGlzLm9iai5jaGlsZE5vZGVzW2ldKTsKfQp9CmlmKCF0aGlzLmlzUm9vdCl7CmltZy5zcmMgPSh0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpPyB0aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nUGx1czM6dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ1BsdXMyOwp9IGVsc2V7CmlmKHRoaXMuaGFzU2libGluZ3NCZWZvcmUpewppbWcuc3JjID0odGhpcy5oYXNTaWJsaW5nc0FmdGVyKT8gdGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ1BsdXMzOnRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdQbHVzMjsKfSBlbHNlewppbWcuc3JjID0odGhpcy5oYXNTaWJsaW5nc0FmdGVyKT8gdGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ1BsdXM0OnRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdQbHVzNTsKfQp9Cn0gY2F0Y2goZXJyKXsKdGhyb3cgbmV3IEVycm9yKCdfY2xvc2VDaGlsZChiYXNlKTogJytlcnIubWVzc2FnZSk7Cn0KfSwKX29wZW5DaGlsZDpmdW5jdGlvbihpbWcpewp0cnl7CmltZz10aGlzLmdldEltZ0JlZm9yZUljb24oKS5pbWc7CnRoaXMuc3RydWN0Lm9wZW49dHJ1ZTsKaWYodGhpcy5pc1NlbGVjdGVkKCkmJiB0aGlzLmdldE9wZW5JY29uU2VsZWN0ZWQoKSl7CnRoaXMuaW1nLnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLmdldE9wZW5JY29uU2VsZWN0ZWQoKTsKfSBlbHNlewp0aGlzLmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy5zdHJ1Y3QuaW1nb3BlbjsKfQpmb3IodmFyIGk9MDtpPHRoaXMub2JqLmNoaWxkTm9kZXMubGVuZ3RoO2krKyl7CmlmKHRoaXMub2JqLmNoaWxkTm9kZXNbaV0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09ICdkaXYnKXsKdGhpcy5vYmouY2hpbGROb2Rlc1tpXS5zdHlsZS5kaXNwbGF5PScnOwp9Cn0KaWYoIXRoaXMuaXNSb290KXsKaW1nLnNyYyA9KHRoaXMuaGFzU2libGluZ3NBZnRlcik/IHRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdNaW51czM6dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ01pbnVzMjsKfSBlbHNlewppZih0aGlzLmhhc1NpYmxpbmdzQmVmb3JlKXsKaW1nLnNyYyA9KHRoaXMuaGFzU2libGluZ3NBZnRlcik/IHRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdNaW51czM6dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ01pbnVzMjsKfSBlbHNlewppbWcuc3JjID0odGhpcy5oYXNTaWJsaW5nc0FmdGVyKT8gdGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ01pbnVzNDp0aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nTWludXM1Owp9Cn0KfSBjYXRjaChlcnIpewp0aHJvdyBuZXcgRXJyb3IoJ19vcGVuQ2hpbGQoYmFzZSk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCl9tYW5hZ2VMaW5lOmZ1bmN0aW9uKCl7CnRyeXsKZm9yKHZhciBpPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspewp0aGlzLmNoaWxkcmVuW2ldLnBvcz1pOwppZihpPT10aGlzLmNoaWxkcmVuLmxlbmd0aC0xJiZ0aGlzLmNoaWxkcmVuW2ldLmhhc1NpYmxpbmdzQWZ0ZXIpewp0aGlzLmNoaWxkcmVuW2ldLmhhc1NpYmxpbmdzQWZ0ZXI9ZmFsc2U7CnRoaXMuX21hbmFnZU11bHRpbGluZSh0aGlzLmNoaWxkcmVuW2ldLmJlZm9yZUljb24sMSxmYWxzZSk7CnRoaXMuX2NsZWFyTGluZSh0aGlzLmNoaWxkcmVuW2ldLHRoaXMubGV2ZWwpOwp9CmlmKGk8dGhpcy5jaGlsZHJlbi5sZW5ndGgtMSYmIXRoaXMuY2hpbGRyZW5baV0uaGFzU2libGluZ3NBZnRlcil7CnRoaXMuY2hpbGRyZW5baV0uaGFzU2libGluZ3NBZnRlcj10cnVlOwp0aGlzLl9tYW5hZ2VNdWx0aWxpbmUodGhpcy5jaGlsZHJlbltpXS5iZWZvcmVJY29uLDEsdHJ1ZSk7CnRoaXMuX2FkZExpbmUodGhpcy5jaGlsZHJlbltpXSx0aGlzLmxldmVsKTsKfQp9CnRoaXMudHJlZS5fY2hhbmdlU3RydWN0KHRoaXMpOwp9IGNhdGNoKGVycil7CnRocm93IG5ldyBFcnJvcignX21hbmFnZUxpbmUoYmFzZSk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCl9tYW5hZ2VMaW5lRm9yUm9vdDpmdW5jdGlvbihhZGQpewpmb3IodmFyIGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7CnRoaXMuY2hpbGRyZW5baV0uX21hbmFnZUxpbmVGb3JSb290KGFkZCk7Cn0KdmFyIHRkPXRoaXMudGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RkJylbMF07CnZhciBpbWc9dGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpWzBdOwppZihhZGQpewppbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdMaW5lMTsKfSBlbHNlewppbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdFbXB0eTsKfQp9LApfY2xlYXJMaW5lOmZ1bmN0aW9uKG9iaixsZXZlbCxvayl7CnRyeXsKZm9yKHZhciBpPTA7aTxvYmouY2hpbGRyZW4ubGVuZ3RoO2krKyl7CnRoaXMuX2NsZWFyTGluZShvYmouY2hpbGRyZW5baV0sbGV2ZWwsdHJ1ZSk7Cn0KdmFyIGltZz1vYmoudGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpW2xldmVsKzFdOwppZihvayl7CmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ0VtcHR5OwppZih0aGlzLnRyZWUubXVsdGlsaW5lKXsKdGhpcy5fbWFuYWdlTXVsdGlsaW5lKGltZy5wYXJlbnROb2RlLDEsZmFsc2UpOwp9Cn0gZWxzZXsKdmFyIG9sZD1vYmouZ2V0SW1nQmVmb3JlSWNvbigpOwpzd2l0Y2gob2xkLmZ1bGxOYW1lLnJlcGxhY2UoJ19vdmVyJywnJykpewpjYXNlIHRoaXMudHJlZS5pbWdMaW5lMSA6CmNhc2UgdGhpcy50cmVlLmltZ0xpbmUzOm5ld0ltZz10aGlzLnRyZWUuaW1nTGluZTI7YnJlYWs7CmNhc2UgdGhpcy50cmVlLmltZ1BsdXMxIDoKY2FzZSB0aGlzLnRyZWUuaW1nUGx1czM6bmV3SW1nPXRoaXMudHJlZS5pbWdQbHVzMjticmVhazsKY2FzZSB0aGlzLnRyZWUuaW1nTWludXMxOgpjYXNlIHRoaXMudHJlZS5pbWdNaW51czM6IG5ld0ltZz10aGlzLnRyZWUuaW1nTWludXMyO2JyZWFrOwpkZWZhdWx0OgpuZXdJbWc9b2JqLmZ1bGxOYW1lOwp9CmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UrbmV3SW1nOwp9Cn0gY2F0Y2goZXJyKXsKdGhyb3cgbmV3IEVycm9yKCdfY2xlYXJMaW5lKGJhc2UpOiAnK2Vyci5tZXNzYWdlKTsKfQp9LApfYWRkTGluZTpmdW5jdGlvbihvYmosbGV2ZWwsb2spewp0cnl7CmZvcih2YXIgaT0wO2k8b2JqLmNoaWxkcmVuLmxlbmd0aDtpKyspewp0aGlzLl9hZGRMaW5lKG9iai5jaGlsZHJlbltpXSxsZXZlbCx0cnVlKTsKfQp2YXIgaW1nPW9iai50YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJylbbGV2ZWwrMV07CmlmKG9rKXsKaW1nLnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nTGluZTE7CmlmKHRoaXMudHJlZS5tdWx0aWxpbmUpewp0aGlzLl9tYW5hZ2VNdWx0aWxpbmUoaW1nLnBhcmVudE5vZGUsMSx0cnVlKTsKfQp9IGVsc2V7CnZhciBvbGQ9b2JqLmdldEltZ0JlZm9yZUljb24oKTsKc3dpdGNoKG9sZC5mdWxsTmFtZS5yZXBsYWNlKCdfb3ZlcicsJycpKXsKY2FzZSB0aGlzLnRyZWUuaW1nTGluZTEgOgpjYXNlIHRoaXMudHJlZS5pbWdMaW5lMjpuZXdJbWc9dGhpcy50cmVlLmltZ0xpbmUzO2JyZWFrOwpjYXNlIHRoaXMudHJlZS5pbWdQbHVzMSA6CmNhc2UgdGhpcy50cmVlLmltZ1BsdXMyOm5ld0ltZz10aGlzLnRyZWUuaW1nUGx1czM7YnJlYWs7CmNhc2UgdGhpcy50cmVlLmltZ01pbnVzMToKY2FzZSB0aGlzLnRyZWUuaW1nTWludXMyOiBuZXdJbWc9dGhpcy50cmVlLmltZ01pbnVzMzticmVhazsKZGVmYXVsdDoKbmV3SW1nPW9iai5mdWxsTmFtZTsKfQppbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlK25ld0ltZzsKfQp9IGNhdGNoKGVycil7CnRocm93IG5ldyBFcnJvcignX2FkZExpbmUoYmFzZSk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCl9pc0NoaWxkOmZ1bmN0aW9uKGNoaWxkLHBhcmVudCl7CnRyeXsKaWYocGFyZW50LmlkT2JqPT1jaGlsZC5pZE9iailyZXR1cm4gdHJ1ZTsKaWYoY2hpbGQucGFyZW50KXsKcmV0dXJuIHRoaXMuX2lzQ2hpbGQoY2hpbGQucGFyZW50LHBhcmVudCk7Cn0KcmV0dXJuIGZhbHNlOwp9IGNhdGNoKGVycil7CnRocm93IG5ldyBFcnJvcignX2lzQ2hpbGQoYmFzZSk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCl9zZXRQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7CmlmKCh0eXBlb2YodGhpcy5zdHJ1Y3QuaW1nKT09ICd1bmRlZmluZWQnKSl7CnRoaXMuc3RydWN0LmltZyA9KHRoaXMudHJlZS5pY29uc1swXSk/IHRoaXMudHJlZS5pY29uc1swXTp0aGlzLnRyZWUuaW1nTGluZTA7Cn0KaWYoKHR5cGVvZih0aGlzLnN0cnVjdC5pbWdvcGVuKT09ICd1bmRlZmluZWQnKSl7CnRoaXMuc3RydWN0LmltZ29wZW4gPSh0aGlzLnRyZWUuaWNvbnNbMV0pPyB0aGlzLnRyZWUuaWNvbnNbMV06dGhpcy5zdHJ1Y3QuaW1nOwp9CmlmKCh0eXBlb2YodGhpcy5zdHJ1Y3QuaW1nY2xvc2UpPT0gJ3VuZGVmaW5lZCcpKXsKdGhpcy5zdHJ1Y3QuaW1nY2xvc2UgPSh0aGlzLnRyZWUuaWNvbnNbMl0pPyB0aGlzLnRyZWUuaWNvbnNbMl06dGhpcy5zdHJ1Y3QuaW1nOwp9CmlmKCh0eXBlb2YodGhpcy5zdHJ1Y3QuaW1nc2VsZWN0ZWQpPT0gJ3VuZGVmaW5lZCcpKXsKdGhpcy5zdHJ1Y3QuaW1nc2VsZWN0ZWQgPSh0aGlzLnRyZWUuaWNvbnNTZWxlY3RlZFswXSk/IHRoaXMudHJlZS5pY29uc1NlbGVjdGVkWzBdOm51bGw7Cn0KaWYoKHR5cGVvZih0aGlzLnN0cnVjdC5pbWdvcGVuc2VsZWN0ZWQpPT0gJ3VuZGVmaW5lZCcpKXsKdGhpcy5zdHJ1Y3QuaW1nb3BlbnNlbGVjdGVkID0odGhpcy50cmVlLmljb25zU2VsZWN0ZWRbMV0pPyB0aGlzLnRyZWUuaWNvbnNTZWxlY3RlZFsxXTpudWxsOwp9CmlmKCh0eXBlb2YodGhpcy5zdHJ1Y3QuaW1nY2xvc2VzZWxlY3RlZCk9PSAndW5kZWZpbmVkJykpewp0aGlzLnN0cnVjdC5pbWdjbG9zZXNlbGVjdGVkID0odGhpcy50cmVlLmljb25zU2VsZWN0ZWRbMl0pPyB0aGlzLnRyZWUuaWNvbnNTZWxlY3RlZFsyXTpudWxsOwp9CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vcGVuKT09ICd1bmRlZmluZWQnKXsKdGhpcy5zdHJ1Y3Qub3BlbiA9KHRoaXMudHJlZS51c2VDb29raWUmJnRoaXMudHJlZS5jb29raWVPcGVuZWQpPyBmYWxzZTp0aGlzLnRyZWUub3BlbkFsbDsKfSBlbHNlIGlmKHRoaXMudHJlZS51c2VDb29raWUmJnRoaXMudHJlZS5jb29raWVPcGVuZWQpewp0aGlzLnN0cnVjdC5vcGVuPWZhbHNlOwp9CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5jaGVjayk9PSAndW5kZWZpbmVkJyB8fCh0aGlzLnRyZWUudXNlQ29va2llJiZ0aGlzLnRyZWUuY29va2llQ2hlY2tlZCkpdGhpcy5zdHJ1Y3QuY2hlY2s9MDsKaWYodHlwZW9mKHRoaXMuc3RydWN0Lml0ZW1zKT09ICd1bmRlZmluZWQnKXsKdGhpcy5zdHJ1Y3QuaXRlbXM9W107Cn0KaWYodHlwZW9mKHRoaXMuc3RydWN0LmNhbmhhdmVjaGlsZHJlbik9PSAndW5kZWZpbmVkJyl0aGlzLnN0cnVjdC5jYW5oYXZlY2hpbGRyZW49ZmFsc2U7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5pZCk9PSAndW5kZWZpbmVkJyl0aGlzLnN0cnVjdC5pZD10aGlzLmlkT2JqOwppZih0eXBlb2YodGhpcy5zdHJ1Y3QuYWNjZXB0ZHJvcCk9PSAndW5kZWZpbmVkJyl0aGlzLnN0cnVjdC5hY2NlcHRkcm9wPXRydWU7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5sYXN0KT09ICd1bmRlZmluZWQnKXRoaXMuc3RydWN0Lmxhc3Q9ZmFsc2U7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5lZGl0YWJsZSk9PSAndW5kZWZpbmVkJyl0aGlzLnN0cnVjdC5lZGl0YWJsZT10aGlzLnRyZWUuZWRpdGFibGVCcmFuY2hlczsKaWYodHlwZW9mKHRoaXMuc3RydWN0LmNoZWNrYm94KT09ICd1bmRlZmluZWQnKXRoaXMuc3RydWN0LmNoZWNrYm94PXRydWU7Cn0sCl9zZXRGdW5jdGlvbnM6ZnVuY3Rpb24oKXsKaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZHJhZ3N0YXJ0ZWZmZWN0KT09ICd1bmRlZmluZWQnKXsKaWYodHlwZW9mKHRoaXMudHJlZS5vbkRyYWdTdGFydEVmZmVjdCk9PSAnZnVuY3Rpb24nKXsKdGhpcy5zdHJ1Y3Qub25kcmFnc3RhcnRlZmZlY3Q9dGhpcy50cmVlLm9uRHJhZ1N0YXJ0RWZmZWN0Owp0aGlzLm9uZHJhZ3N0YXJ0ZWZmZWN0RGVmYXVsdD10cnVlOwp9Cn0gZWxzZXt0aGlzLnN0cnVjdC5vbmRyYWdzdGFydGVmZmVjdD1ldmFsKHRoaXMuc3RydWN0Lm9uZHJhZ3N0YXJ0ZWZmZWN0KTt9CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmRyYWdlbmRlZmZlY3QpPT0gJ3VuZGVmaW5lZCcpewppZih0eXBlb2YodGhpcy50cmVlLm9uRHJhZ0VuZEVmZmVjdCk9PSAnZnVuY3Rpb24nKXsKdGhpcy5zdHJ1Y3Qub25kcmFnZW5kZWZmZWN0PXRoaXMudHJlZS5vbkRyYWdFbmRFZmZlY3Q7CnRoaXMub25kcmFnZW5kZWZmZWN0RGVmYXVsdD10cnVlOwp9Cn0gZWxzZXt0aGlzLnN0cnVjdC5vbmRyYWdlbmRlZmZlY3Q9ZXZhbCh0aGlzLnN0cnVjdC5vbmRyYWdlbmRlZmZlY3QpO30KaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KT09ICd1bmRlZmluZWQnKXsKaWYodHlwZW9mKHRoaXMudHJlZS5vbkVycm9yQWpheCk9PSAnZnVuY3Rpb24nKXsKdGhpcy5zdHJ1Y3Qub25lcnJvcmFqYXg9dGhpcy50cmVlLm9uRXJyb3JBamF4Owp0aGlzLm9uZXJyb3JhamF4RGVmYXVsdD10cnVlOwp9Cn0gZWxzZXt0aGlzLnN0cnVjdC5vbmVycm9yYWpheD1ldmFsKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KTt9CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmVkaXRhamF4KT09ICd1bmRlZmluZWQnKXsKaWYodGhpcy50cmVlLm9uRWRpdEFqYXgmJnR5cGVvZih0aGlzLnRyZWUub25FZGl0QWpheC5mdW5jKT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbmVkaXRhamF4PXRoaXMudHJlZS5vbkVkaXRBamF4LmZ1bmM7CnRoaXMuc3RydWN0LmVkaXRsaW5rPXRoaXMudHJlZS5vbkVkaXRBamF4Lmxpbms7CnRoaXMub25lZGl0YWpheERlZmF1bHQ9dHJ1ZTsKfQp9IGVsc2V7dGhpcy5zdHJ1Y3Qub25lZGl0YWpheD1ldmFsKHRoaXMuc3RydWN0Lm9uZWRpdGFqYXgpO30KaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9ub3BlbnBvcHVsYXRlKT09ICd1bmRlZmluZWQnKXsKaWYodGhpcy50cmVlLm9uT3BlblBvcHVsYXRlJiZ0eXBlb2YodGhpcy50cmVlLm9uT3BlblBvcHVsYXRlLmZ1bmMpPT0gJ2Z1bmN0aW9uJyl7CnRoaXMuc3RydWN0Lm9ub3BlbnBvcHVsYXRlPXRoaXMudHJlZS5vbk9wZW5Qb3B1bGF0ZS5mdW5jOwp0aGlzLnN0cnVjdC5vcGVubGluaz10aGlzLnRyZWUub25PcGVuUG9wdWxhdGUubGluazsKdGhpcy5vbm9wZW5wb3B1bGF0ZURlZmF1bHQ9dHJ1ZTsKfQp9IGVsc2V7dGhpcy5zdHJ1Y3Qub25vcGVucG9wdWxhdGU9ZXZhbCh0aGlzLnN0cnVjdC5vbm9wZW5wb3B1bGF0ZSk7fQppZih0eXBlb2YodGhpcy5zdHJ1Y3Qub25lZGl0KT09ICd1bmRlZmluZWQnKXsKaWYodHlwZW9mKHRoaXMudHJlZS5vbkVkaXQpPT0gJ2Z1bmN0aW9uJyl7CnRoaXMuc3RydWN0Lm9uZWRpdD10aGlzLnRyZWUub25FZGl0Owp0aGlzLm9uZWRpdERlZmF1bHQ9dHJ1ZTsKfQp9IGVsc2V7dGhpcy5zdHJ1Y3Qub25lZGl0PWV2YWwodGhpcy5zdHJ1Y3Qub25lZGl0KTt9CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmNoZWNrKT09ICd1bmRlZmluZWQnKXsKaWYodHlwZW9mKHRoaXMudHJlZS5vbkNoZWNrKT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbmNoZWNrPXRoaXMudHJlZS5vbkNoZWNrOwp0aGlzLm9uY2hlY2tEZWZhdWx0PXRydWU7Cn0KfSBlbHNle3RoaXMuc3RydWN0Lm9uY2hlY2s9ZXZhbCh0aGlzLnN0cnVjdC5vbmNoZWNrKTt9CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmJlZm9yZWNoZWNrKT09ICd1bmRlZmluZWQnKXsKaWYodHlwZW9mKHRoaXMudHJlZS5vbkJlZm9yZUNoZWNrKT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbmJlZm9yZWNoZWNrPXRoaXMudHJlZS5vbkJlZm9yZUNoZWNrOwp0aGlzLm9uYmVmb3JlY2hlY2tEZWZhdWx0PXRydWU7Cn0KfSBlbHNle3RoaXMuc3RydWN0Lm9uYmVmb3JlY2hlY2s9ZXZhbCh0aGlzLnN0cnVjdC5vbmJlZm9yZWNoZWNrKTt9CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbm9wZW4pPT0gJ3VuZGVmaW5lZCcpewppZih0eXBlb2YodGhpcy50cmVlLm9uT3Blbik9PSAnZnVuY3Rpb24nKXsKdGhpcy5zdHJ1Y3Qub25vcGVuPXRoaXMudHJlZS5vbk9wZW47CnRoaXMub25vcGVuRGVmYXVsdD10cnVlOwp9Cn0gZWxzZXt0aGlzLnN0cnVjdC5vbm9wZW49ZXZhbCh0aGlzLnN0cnVjdC5vbm9wZW4pO30KaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uYmVmb3Jlb3Blbik9PSAndW5kZWZpbmVkJyl7CmlmKHR5cGVvZih0aGlzLnRyZWUub25CZWZvcmVPcGVuKT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbmJlZm9yZW9wZW49dGhpcy50cmVlLm9uQmVmb3JlT3BlbjsKdGhpcy5vbmJlZm9yZW9wZW5EZWZhdWx0PXRydWU7Cn0KfSBlbHNle3RoaXMuc3RydWN0Lm9uYmVmb3Jlb3Blbj1ldmFsKHRoaXMuc3RydWN0Lm9uYmVmb3Jlb3Blbik7fQppZih0eXBlb2YodGhpcy5zdHJ1Y3Qub25tb3VzZW92ZXIpPT0gJ3VuZGVmaW5lZCcpewppZih0eXBlb2YodGhpcy50cmVlLm9uTW91c2VPdmVyKT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbm1vdXNlb3Zlcj10aGlzLnRyZWUub25Nb3VzZU92ZXI7CnRoaXMub25tb3VzZW92ZXJEZWZhdWx0PXRydWU7Cn0KfSBlbHNle3RoaXMuc3RydWN0Lm9ubW91c2VvdmVyPWV2YWwodGhpcy5zdHJ1Y3Qub25tb3VzZW92ZXIpO30KaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9ubW91c2VvdXQpPT0gJ3VuZGVmaW5lZCcpewppZih0eXBlb2YodGhpcy50cmVlLm9uTW91c2VPdXQpPT0gJ2Z1bmN0aW9uJyl7CnRoaXMuc3RydWN0Lm9ubW91c2VvdXQ9dGhpcy50cmVlLm9uTW91c2VPdXQ7CnRoaXMub25tb3VzZW91dERlZmF1bHQ9dHJ1ZTsKfQp9IGVsc2V7dGhpcy5zdHJ1Y3Qub25tb3VzZW91dD1ldmFsKHRoaXMuc3RydWN0Lm9ubW91c2VvdXQpO30KaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9ubW91c2Vkb3duKT09ICd1bmRlZmluZWQnKXsKaWYodHlwZW9mKHRoaXMudHJlZS5vbk1vdXNlRG93bik9PSAnZnVuY3Rpb24nKXsKdGhpcy5zdHJ1Y3Qub25tb3VzZWRvd249dGhpcy50cmVlLm9uTW91c2VEb3duOwp0aGlzLm9ubW91c2Vkb3duRGVmYXVsdD10cnVlOwp9Cn0gZWxzZXt0aGlzLnN0cnVjdC5vbm1vdXNlZG93bj1ldmFsKHRoaXMuc3RydWN0Lm9ubW91c2Vkb3duKTt9CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbm1vdXNldXApPT0gJ3VuZGVmaW5lZCcpewppZih0eXBlb2YodGhpcy50cmVlLm9uTW91c2VVcCk9PSAnZnVuY3Rpb24nKXsKdGhpcy5zdHJ1Y3Qub25tb3VzZXVwPXRoaXMudHJlZS5vbk1vdXNlVXA7CnRoaXMub25tb3VzZXVwRGVmYXVsdD10cnVlOwp9Cn0gZWxzZXt0aGlzLnN0cnVjdC5vbm1vdXNldXA9ZXZhbCh0aGlzLnN0cnVjdC5vbm1vdXNldXApO30KaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uY2xpY2spPT0gJ3VuZGVmaW5lZCcpewppZih0eXBlb2YodGhpcy50cmVlLm9uQ2xpY2spPT0gJ2Z1bmN0aW9uJyl7CnRoaXMuc3RydWN0Lm9uY2xpY2s9dGhpcy50cmVlLm9uQ2xpY2s7CnRoaXMub25jbGlja0RlZmF1bHQ9dHJ1ZTsKfQp9IGVsc2V7dGhpcy5zdHJ1Y3Qub25jbGljaz1ldmFsKHRoaXMuc3RydWN0Lm9uY2xpY2spO30KaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZGJsY2xpY2spPT0gJ3VuZGVmaW5lZCcpewppZih0eXBlb2YodGhpcy50cmVlLm9uRGJsQ2xpY2spPT0gJ2Z1bmN0aW9uJyl7CnRoaXMuc3RydWN0Lm9uZGJsY2xpY2s9dGhpcy50cmVlLm9uRGJsQ2xpY2s7CnRoaXMub25kYmxjbGlja0RlZmF1bHQ9dHJ1ZTsKfQp9IGVsc2V7dGhpcy5zdHJ1Y3Qub25kYmxjbGljaz1ldmFsKHRoaXMuc3RydWN0Lm9uZGJsY2xpY2spO30KfSwKX3NldEFjdGlvbnM6ZnVuY3Rpb24oKXsKaWYodGhpcy5zdHJ1Y3Quc2VsZWN0KXsKdGhpcy5zZWxlY3QoKTsKfQp9LApfc2V0RXZlbnRzOmZ1bmN0aW9uKGV2ZW50LHRkSW1nKXsKRXZlbnQub2JzZXJ2ZSh0aGlzLnR4dCwnbW91c2Vkb3duJyx0aGlzLnNldE1vdXNlRG93bi5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLGZhbHNlKTsKRXZlbnQub2JzZXJ2ZSh0aGlzLnR4dCwnbW91c2V1cCcsdGhpcy5zZXRNb3VzZVVwLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwppZih0eXBlb2YodGhpcy5zdHJ1Y3Qub25jbGljayk9PSAnZnVuY3Rpb24nKXsKRXZlbnQub2JzZXJ2ZShldmVudCwnY2xpY2snLHRoaXMuc2V0Q2xpY2suYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSxmYWxzZSk7Cn0KaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZGJsY2xpY2spPT0gJ2Z1bmN0aW9uJ3x8dGhpcy5zdHJ1Y3QuZWRpdGFibGUpewpFdmVudC5vYnNlcnZlKGV2ZW50LCdkYmxjbGljaycsdGhpcy5zZXREYmxDbGljay5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLGZhbHNlKTsKfQppZih0eXBlb2YodGhpcy5zdHJ1Y3Qub25tb3VzZW92ZXIpPT0gJ2Z1bmN0aW9uJyl7CkV2ZW50Lm9ic2VydmUoZXZlbnQsJ21vdXNlb3ZlcicsdGhpcy5zZXRNb3VzZU92ZXIuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSxmYWxzZSk7Cn0KaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9ubW91c2VvdXQpPT0gJ2Z1bmN0aW9uJyl7CkV2ZW50Lm9ic2VydmUoZXZlbnQsJ21vdXNlb3V0Jyx0aGlzLnNldE1vdXNlT3V0LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwp9CmlmKHRoaXMuc3RydWN0LmVkaXRhYmxlICYmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmVkaXQpPT0gJ2Z1bmN0aW9uJ3x8dHlwZW9mKHRoaXMuc3RydWN0Lm9uZWRpdGFqYXgpPT0gJ2Z1bmN0aW9uJykpewp0aGlzLmVkaXRhYmxlSW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKdGhpcy5lZGl0YWJsZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsJ3RleHQnKTsKdGhpcy5lZGl0YWJsZUlucHV0LnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywnb2ZmJyk7CnRoaXMuZWRpdGFibGVJbnB1dC5jbGFzc05hbWU9dGhpcy50cmVlLmNsYXNzRWRpdGFibGU7CmV2ZW50LmFwcGVuZENoaWxkKHRoaXMuZWRpdGFibGVJbnB1dCk7CkV2ZW50Lm9ic2VydmUodGhpcy5lZGl0YWJsZUlucHV0LCdibHVyJyx0aGlzLmhpZGVFZGl0YWJsZS5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLGZhbHNlKTsKfQppZighdGhpcy5pc1Jvb3QpewppZih0aGlzLnN0cnVjdC5kcmFnZ2FibGUgJiYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZHJvcCk9PSAnZnVuY3Rpb24nfHx0eXBlb2YodGhpcy5zdHJ1Y3Qub25kcm9wYWpheCk9PSAnZnVuY3Rpb24nKSl7CnRoaXMub2JqRHJhZz1uZXcgRHJhZ2dhYmxlKHRoaXMudHh0LHsKcmV2ZXJ0OiB0aGlzLnRyZWUuZHJhZ1JldmVydCwKc3RhcnRlZmZlY3Q6dGhpcy5vbmRyYWdzdGFydGVmZmVjdC5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLAplbmRlZmZlY3Q6dGhpcy5vbmRyYWdlbmRlZmZlY3QuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKQp9KTsKRWxlbWVudC5hZGRDbGFzc05hbWUodGhpcy50eHQsdGhpcy50cmVlLmNsYXNzRHJhZyk7Cn0KfQppZih0aGlzLnN0cnVjdC5hY2NlcHRkcm9wKXsKRHJvcHBhYmxlcy5hZGQodGhpcy50eHQse2hvdmVyY2xhc3M6IHRoaXMudHJlZS5jbGFzc0RyYWdPdmVyLG9uRHJvcDogdGhpcy5zZXREcm9wLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyl9KTsKfQppZih0aGlzLnN0cnVjdC50b29sdGlwKXsKRXZlbnQub2JzZXJ2ZShldmVudCwnbW91c2VvdmVyJyx0aGlzLmV2dF9zaG93VG9vbHRpcC5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLGZhbHNlKTsKRXZlbnQub2JzZXJ2ZShldmVudCwnbW91c2VvdXQnLHRoaXMuZXZ0X2hpZGVUb29sdGlwLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwp9CmlmKHRoaXMudHJlZS5jaGVja2JveGVzJiZ0aGlzLnN0cnVjdC5jaGVja2JveCl7CmlmKHRoaXMuc3RydWN0LmNoZWNrPT0xKWltZ2M9dGhpcy50cmVlLmltZ0NoZWNrMjsKZWxzZSBpZih0aGlzLnN0cnVjdC5jaGVjaz09LTEpaW1nYz10aGlzLnRyZWUuaW1nQ2hlY2szOwplbHNlIGltZ2M9dGhpcy50cmVlLmltZ0NoZWNrMTsKdGhpcy5jaGVja2JveD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKdGhpcy5jaGVja2JveC5zcmM9dGhpcy50cmVlLmltZ0Jhc2UraW1nYzsKdGRJbWcuYXBwZW5kQ2hpbGQodGhpcy5jaGVja2JveCk7CkV2ZW50Lm9ic2VydmUodGhpcy5jaGVja2JveCwnY2xpY2snLHRoaXMuY2hlY2tPbkNsaWNrLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwpFdmVudC5vYnNlcnZlKHRoaXMuY2hlY2tib3gsJ21vdXNlb3ZlcicsdGhpcy5ldnRfb3Blbk1vdXNlT3Zlci5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLGZhbHNlKTsKRXZlbnQub2JzZXJ2ZSh0aGlzLmNoZWNrYm94LCdtb3VzZW91dCcsdGhpcy5ldnRfb3Blbk1vdXNlT3V0LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwp9IGVsc2UgaWYodGhpcy50cmVlLmNoZWNrYm94ZXMpewp2YXIgdmlkZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKdmlkZS5zcmM9dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ0VtcHR5Owp0ZEltZy5hcHBlbmRDaGlsZCh2aWRlKTsKfQp9LApfZ2V0SW1nQmVmb3JlSWNvbjpmdW5jdGlvbigpewp0cnl7CnZhciB0ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpOwp2YXIgaW1nPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwpFbGVtZW50LmFkZENsYXNzTmFtZShpbWcsdGhpcy50cmVlLmNsYXNzT3BlbmFibGUpOwppZih0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpewppZighdGhpcy5oYXNDaGlsZHJlbigpKXsKaWYodGhpcy5pc1Jvb3QpewppbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlICsoKHRoaXMuaGFzU2libGluZ3NCZWZvcmUpPyB0aGlzLnRyZWUuaW1nTGluZTM6dGhpcy50cmVlLmltZ0xpbmU0KTsKfSBlbHNlewppbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlK3RoaXMudHJlZS5pbWdMaW5lMzsKfQp9IGVsc2V7CkV2ZW50Lm9ic2VydmUoaW1nLCdjbGljaycsdGhpcy5zZXRPcGVuLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwpFdmVudC5vYnNlcnZlKGltZywnbW91c2VvdmVyJyx0aGlzLmV2dF9vcGVuTW91c2VPdmVyLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwpFdmVudC5vYnNlcnZlKGltZywnbW91c2VvdXQnLHRoaXMuZXZ0X29wZW5Nb3VzZU91dC5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpLGZhbHNlKTsKaWYodGhpcy5pc1Jvb3QpewppbWcuc3JjPXRoaXMudHJlZS5pbWdCYXNlICsoKHRoaXMuaGFzU2libGluZ3NCZWZvcmUpPyB0aGlzLnRyZWUuaW1nTWludXMzOnRoaXMudHJlZS5pbWdNaW51czQpOwp9IGVsc2V7CmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ01pbnVzMzsKfQp9CmlmKHRoaXMudHJlZS5tdWx0aWxpbmUpewp0aGlzLl9tYW5hZ2VNdWx0aWxpbmUodGQsKHRoaXMuaXNSb290ID8gMjoxKSx0cnVlKTsKfQp9IGVsc2V7CmlmKCF0aGlzLmhhc0NoaWxkcmVuKCkpewppZih0aGlzLmlzUm9vdCl7CmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UgKygodGhpcy5oYXNTaWJsaW5nc0JlZm9yZSk/IHRoaXMudHJlZS5pbWdMaW5lMjp0aGlzLnRyZWUuaW1nRW1wdHkpOwp9IGVsc2V7CmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy50cmVlLmltZ0xpbmUyOwp9Cn0gZWxzZXsKRXZlbnQub2JzZXJ2ZShpbWcsJ2NsaWNrJyx0aGlzLnNldE9wZW4uYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSxmYWxzZSk7CkV2ZW50Lm9ic2VydmUoaW1nLCdtb3VzZW92ZXInLHRoaXMuZXZ0X29wZW5Nb3VzZU92ZXIuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSxmYWxzZSk7CkV2ZW50Lm9ic2VydmUoaW1nLCdtb3VzZW91dCcsdGhpcy5ldnRfb3Blbk1vdXNlT3V0LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwppZih0aGlzLmlzUm9vdCl7CmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UgKygodGhpcy5oYXNTaWJsaW5nc0JlZm9yZSk/IHRoaXMudHJlZS5pbWdNaW51czI6dGhpcy50cmVlLmltZ01pbnVzNSk7Cn0gZWxzZXsKaW1nLnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nTWludXMyOwp9Cn0KfQp0ZC5hcHBlbmRDaGlsZChpbWcpOwpyZXR1cm4gdGQ7Cn0gY2F0Y2goZXJyKXsKdGhyb3cgbmV3IEVycm9yKCdfZ2V0SW1nQmVmb3JlSWNvbihiYXNlKTogJytlcnIubWVzc2FnZSk7Cn0KfSwKX3NldENoaWxkcmVuOmZ1bmN0aW9uKHJvb3QpewppZih0aGlzLmhhc0NoaWxkcmVuKCkpewppZih0aGlzLnRyZWUuYmlnVHJlZUxvYWRpbmc+PTApewp0aGlzLmxvYWRlZD1mYWxzZTsKdGhpcy5iaWdUcmVlTG9hZGluZz0wOwpzZXRUaW1lb3V0KHRoaXMuX2dlbmVyYXRlLmJpbmQodGhpcyksMTApOwp9IGVsc2V7CmZvcih2YXIgaT0wO2k8dGhpcy5zdHJ1Y3QuaXRlbXMubGVuZ3RoO2krKyl7CmlmKHRoaXMudHJlZS5jaGVja2JveGVzVGhyZWVTdGF0ZSYmdGhpcy5zdHJ1Y3QuY2hlY2smJnR5cGVvZih0aGlzLnN0cnVjdC5pdGVtc1tpXS5jaGVjayk9PSAndW5kZWZpbmVkJyl7CnRoaXMuc3RydWN0Lml0ZW1zW2ldLmNoZWNrPTE7Cn0KaXNOb3RGaXJzdCA9KGk+MCk/IHRydWU6ZmFsc2U7CmlzTm90TGFzdCA9KGk8dGhpcy5zdHJ1Y3QuaXRlbXMubGVuZ3RoLTEpPyB0cnVlOmZhbHNlOwp0aGlzLmNoaWxkcmVuW2ldPW5ldyBUYWZlbFRyZWVCcmFuY2gocm9vdCx0aGlzLHRoaXMuc3RydWN0Lml0ZW1zW2ldLHRoaXMubGV2ZWwrMSxpc05vdEZpcnN0LGlzTm90TGFzdCxpKTsKdGhpcy5vYmouYXBwZW5kQ2hpbGQodGhpcy5jaGlsZHJlbltpXS5vYmopOwp9CnRoaXMub3Blbkl0KHRoaXMuc3RydWN0Lm9wZW4pOwp9Cn0KfSwKX3NldFdhaXRJbWc6ZnVuY3Rpb24oYnJhbmNoLHdhaXQsbG9jYWxQcm9wYWdhdGlvblN0b3Apewp0cnl7CnRoaXMuaW5Qcm9jZXNzPXdhaXQ7CmlmKHdhaXQpewpicmFuY2gub2xkSW1nU3JjPWJyYW5jaC5pbWcuc3JjOwpicmFuY2guaW1nLnNyYz1icmFuY2gudHJlZS5pbWdCYXNlK2JyYW5jaC50cmVlLmltZ1dhaXQ7CmJyYW5jaC5ldmVudGFibGU9ZmFsc2U7Cn0gZWxzZXsKYnJhbmNoLmV2ZW50YWJsZT10cnVlOwpicmFuY2guaW1nLnNyYz1icmFuY2gub2xkSW1nU3JjOwp9CmlmKHRoaXMudHJlZS5wcm9wYWdhdGlvbiYmIWxvY2FsUHJvcGFnYXRpb25TdG9wKXsKZm9yKHZhciBpPTA7aTxicmFuY2guY2hpbGRyZW4ubGVuZ3RoO2krKyl7CnRoaXMuX3NldFdhaXRJbWcoYnJhbmNoLmNoaWxkcmVuW2ldLHdhaXQpOwp9Cn0KfSBjYXRjaChlcnIpewp0aHJvdyBuZXcgRXJyb3IoJ19zZXRXYWl0SW1nKGJhc2UpOiAnK2Vyci5tZXNzYWdlKTsKfQp9LApfb3BlblBvcHVsYXRlOmZ1bmN0aW9uKGV2KXsKdHJ5ewp0aGlzLl9zZXRXYWl0SW1nKHRoaXMsdHJ1ZSk7CnZhciBwYXJhbXM9J2JyYW5jaD0nK3RoaXMuc2VyaWFsaXplKCkrICcmYnJhbmNoX2lkPScrdGhpcy5nZXRJZCgpKyAnJnRyZWVfaWQ9Jyt0aGlzLnRyZWUuaWQ7CnZhciBvdGhlclBhcmFtcz10aGlzLnRyZWUuZ2V0VVJMUGFyYW1zKHRoaXMuc3RydWN0Lm9wZW5saW5rKTsKZm9yKHZhciBpPTA7aTxvdGhlclBhcmFtcy5sZW5ndGg7aSsrKXsKcGFyYW1zICs9ICcmJytvdGhlclBhcmFtc1tpXS5uYW1lKyc9JytvdGhlclBhcmFtc1tpXS52YWx1ZTsKfQpuZXcgQWpheC5VcGRhdGVyKAp0aGlzLnRyZWUuYWpheE9iaiwKdGhpcy5zdHJ1Y3Qub3BlbmxpbmssCnsKJ21ldGhvZCcgICAgOidwb3N0JywKJ3BhcmFtZXRlcnMnOnBhcmFtcywKJ2V2YWxTY3JpcHRzJzogdHJ1ZSwKJ29uQ29tcGxldGUnOmZ1bmN0aW9uKGV2ZW50KXt0aGlzLl9jb21wbGV0ZU9wZW5Qb3B1bGF0ZShldmVudCk7fS5iaW5kKHRoaXMpLAonb25GYWlsdXJlJzpmdW5jdGlvbihldmVudCl7dGhpcy5fZmFpbHVyZU9wZW5Qb3B1bGF0ZShldmVudCk7fS5iaW5kKHRoaXMpCn0KKTsKfSBjYXRjaChlcnIpewp0aGlzLl9zZXRXYWl0SW1nKHRoaXMsZmFsc2UpOwp0aHJvdygnX29wZW5Qb3B1bGF0ZShiYXNlKTogJytlcnIubWVzc2FnZSk7Cn0KfSwKX2ZhaWx1cmVPcGVuUG9wdWxhdGU6ZnVuY3Rpb24oKXsKdGhpcy5fc2V0V2FpdEltZyh0aGlzLGZhbHNlKTsKaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbmVycm9yYWpheCgnb3BlbicsJ2ZhaWx1cmUgcmVxdWVzdCcsdGhpcyk7Cn0KfSwKX2NvbXBsZXRlT3BlblBvcHVsYXRlOmZ1bmN0aW9uKHJlc3BvbnNlKXsKdHJ5ewp0aGlzLl9zZXRXYWl0SW1nKHRoaXMsZmFsc2UpOwp2YXIgcmVwPXRoaXMuc3RydWN0Lm9ub3BlbnBvcHVsYXRlKHRoaXMscmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKaWYocmVwKXsKcmVwID0ocmVwID09PSB0cnVlKT8gcmVzcG9uc2UucmVzcG9uc2VUZXh0OnJlcDsKdmFyIGl0ZW1zPWV2YWwocmVwKTsKaWYoaXRlbXMpewp2YXIgb2s9W107CmZvcih2YXIgaT0wIDtpPGl0ZW1zLmxlbmd0aDtpKyspewppZih0aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZChpdGVtc1tpXS5pZCkpY29udGludWU7CmlmKHR5cGVvZihpdGVtc1tpXS5pZCk9PSAndW5kZWZpbmVkJ3x8dHlwZW9mKGl0ZW1zW2ldLnR4dCk9PSAndW5kZWZpbmVkJyl7CnRocm93IG5ldyBFcnJvcihUQUZFTFRSRUVfV1JPTkdfQlJBTkNIX1NUUlVDVFVSRSk7Cn0Kb2sucHVzaCh0aGlzLmluc2VydEludG9MYXN0KGl0ZW1zW2ldKSk7Cn0KaWYodGhpcy50cmVlLnVzZUNvb2tpZSYmdGhpcy50cmVlLmNvb2tpZU9wZW5lZCYmdGhpcy50cmVlLnJlb3BlbkZyb21TZXJ2ZXIpewp2YXIgb2theT1mYWxzZTsKZm9yKHZhciBvPTA7bzxvay5sZW5ndGg7bysrKXsKb2theT1mYWxzZTsKZm9yKHZhciBpPTA7aTx0aGlzLnRyZWUuY29va2llT3BlbmVkLmxlbmd0aDtpKyspewppZih0aGlzLnRyZWUuY29va2llT3BlbmVkW2ldPT1va1tvXS5nZXRJZCgpKXsKb2theT10cnVlOwpicmVhazsKfQp9CmlmKG9rYXkpewppZih0eXBlb2Yob2tbb10uc3RydWN0Lm9ub3BlbnBvcHVsYXRlKT09ICdmdW5jdGlvbicmJm9rW29dLmV2ZW50YWJsZSl7Cm9rW29dLl9vcGVuUG9wdWxhdGUoKTsKb2tbb10ub3Blbkl0KHRydWUpOwp9Cn0KfQp9Cn0KfQp9IGNhdGNoKGVycil7CnRoaXMuX3NldFdhaXRJbWcodGhpcyxmYWxzZSk7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmVycm9yYWpheCk9PSAnZnVuY3Rpb24nKXsKdGhpcy5zdHJ1Y3Qub25lcnJvcmFqYXgoJ29wZW4nLHJlc3BvbnNlLnJlc3BvbnNlVGV4dCx0aGlzKTsKfSBlbHNlewphbGVydCgnX2NvbXBsZXRlT3BlblBvcHVsYXRlKCcrcmVzcG9uc2UucmVzcG9uc2VUZXh0KycpOiAnK2Vyci5tZXNzYWdlKTsKfQp9Cn0sCl9zZXREcm9wQWpheDpmdW5jdGlvbihuZXdQYXJlbnRPYmosYXNTaWJsaW5nLGNvcHlkcmFnLGV2KXsKdHJ5ewp0aGlzLl9zZXRXYWl0SW1nKHRoaXMsdHJ1ZSk7CnZhciBzaWJsaW5nID0oYXNTaWJsaW5nKT8gMTowOwp2YXIgY2RyYWcgPShjb3B5ZHJhZyk/IDE6MDsKdmFyIHBhcmFtcz0nZHJhZz0nK3RoaXMuc2VyaWFsaXplKCkrICcmZHJhZ19pZD0nK3RoaXMuZ2V0SWQoKSsgJyZkcm9wPScrbmV3UGFyZW50T2JqLnNlcmlhbGl6ZSgpKyAnJmRyb3BfaWQ9JytuZXdQYXJlbnRPYmouZ2V0SWQoKTsKcGFyYW1zICs9ICcmdHJlZWRyYWdfaWQ9Jyt0aGlzLnRyZWUuaWQrJyZ0cmVlZHJvcF9pZD0nK25ld1BhcmVudE9iai50cmVlLmlkKycmc2libGluZz0nK3NpYmxpbmcrJyZjb3B5ZHJhZz0nK2NkcmFnOwppZihjZHJhZyl7CnZhciBjZHJhZ0lkPXRoaXMuaWQrdGhpcy50cmVlLmNvcHlOYW1lQnJlYWsrdGhpcy50cmVlLmlkVHJlZTsKcGFyYW1zICs9ICcmY29weWRyYWdfaWQ9JytjZHJhZ0lkOwp9CnZhciBvdGhlclBhcmFtcz10aGlzLnRyZWUuZ2V0VVJMUGFyYW1zKHRoaXMuc3RydWN0LmRyb3BsaW5rKTsKZm9yKHZhciBpPTA7aTxvdGhlclBhcmFtcy5sZW5ndGg7aSsrKXsKcGFyYW1zICs9ICcmJytvdGhlclBhcmFtc1tpXS5uYW1lKyc9JytvdGhlclBhcmFtc1tpXS52YWx1ZTsKfQp0aGlzLm5ld1BhcmVudD1uZXdQYXJlbnRPYmo7CnRoaXMuYXNTaWJsaW5nPWFzU2libGluZzsKdGhpcy5jb3B5RHJhZz1jZHJhZzsKbmV3IEFqYXguVXBkYXRlcigKdGhpcy50cmVlLmFqYXhPYmosCnRoaXMuc3RydWN0LmRyb3BsaW5rLAp7CidtZXRob2QnICAgIDoncG9zdCcsCidwYXJhbWV0ZXJzJzpwYXJhbXMsCidldmFsU2NyaXB0cyc6IHRydWUsCidvbkNvbXBsZXRlJzpmdW5jdGlvbihldmVudCl7dGhpcy5fY29tcGxldGVEcm9wQWpheChldmVudCk7fS5iaW5kKHRoaXMpLAonb25GYWlsdXJlJzpmdW5jdGlvbihldmVudCl7dGhpcy5fZmFpbHVyZURyb3BBamF4KGV2ZW50KTt9LmJpbmQodGhpcykKfQopOwp9IGNhdGNoKGVycil7CnRoaXMuX3NldFdhaXRJbWcodGhpcyxmYWxzZSk7CnRocm93KCdfc2V0RHJvcEFqYXgoYmFzZSk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCl9mYWlsdXJlRHJvcEFqYXg6ZnVuY3Rpb24oKXsKdGhpcy5fc2V0V2FpdEltZyh0aGlzLGZhbHNlKTsKaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbmVycm9yYWpheCgnZHJvcCcsJ2ZhaWx1cmUgcmVxdWVzdCcsdGhpcyx0aGlzLm5ld1BhcmVudCk7Cn0KfSwKX2NvbXBsZXRlRHJvcEFqYXg6ZnVuY3Rpb24ocmVzcG9uc2Upewp0cnl7CmlmKHRoaXMuc3RydWN0Lm9uZHJvcGFqYXgodGhpcyx0aGlzLm5ld1BhcmVudCxyZXNwb25zZS5yZXNwb25zZVRleHQsZmFsc2UsbnVsbCkpewp2YXIgbmV3QnJhbmNoPW51bGw7CmlmKCF0aGlzLmFzU2libGluZyl7CmlmKCF0aGlzLmNvcHlEcmFnKXsKdGhpcy5tb3ZlKHRoaXMubmV3UGFyZW50KTsKfSBlbHNlewpuZXdCcmFuY2g9dGhpcy5uZXdQYXJlbnQuaW5zZXJ0SW50b0xhc3QodGhpcy5jbG9uZSgpKTsKfQp9IGVsc2V7CmlmKCF0aGlzLmNvcHlEcmFnKXsKdGhpcy5tb3ZlQmVmb3JlKHRoaXMubmV3UGFyZW50KTsKfSBlbHNlewpuZXdCcmFuY2g9dGhpcy5uZXdQYXJlbnQuaW5zZXJ0QmVmb3JlKHRoaXMuY2xvbmUoKSk7Cn0KfQp0aGlzLnN0cnVjdC5vbmRyb3BhamF4KHRoaXMsdGhpcy5uZXdQYXJlbnQscmVzcG9uc2UucmVzcG9uc2VUZXh0LHRydWUsbmV3QnJhbmNoKTsKfQp0aGlzLl9zZXRXYWl0SW1nKHRoaXMsZmFsc2UpOwp9IGNhdGNoKGVycil7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmVycm9yYWpheCk9PSAnZnVuY3Rpb24nKXsKdGhpcy5zdHJ1Y3Qub25lcnJvcmFqYXgoJ2Ryb3AnLHJlc3BvbnNlLnJlc3BvbnNlVGV4dCx0aGlzLHRoaXMubmV3UGFyZW50KTsKfSBlbHNlewphbGVydCgnX2NvbXBsZXRlRHJvcEFqYXgoYmFzZSk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0KfSwKX2VkaXRBamF4OmZ1bmN0aW9uKG5ld1ZhbHVlLG9sZFZhbHVlLGV2KXsKdHJ5ewp0aGlzLl9zZXRXYWl0SW1nKHRoaXMsdHJ1ZSx0cnVlKTsKdmFyIHBhcmFtcz0nYnJhbmNoPScrdGhpcy5zZXJpYWxpemUoKSsgJyZicmFuY2hfaWQ9Jyt0aGlzLmdldElkKCkrICcmdHJlZV9pZD0nK3RoaXMudHJlZS5pZDsKcGFyYW1zICs9ICcmbmV3X3ZhbHVlPScrbmV3VmFsdWUrJyZvbGRfdmFsdWU9JytvbGRWYWx1ZTsKdmFyIG90aGVyUGFyYW1zPXRoaXMudHJlZS5nZXRVUkxQYXJhbXModGhpcy5zdHJ1Y3QuZWRpdGxpbmspOwpmb3IodmFyIGk9MDtpPG90aGVyUGFyYW1zLmxlbmd0aDtpKyspewpwYXJhbXMgKz0gJyYnK290aGVyUGFyYW1zW2ldLm5hbWUrJz0nK290aGVyUGFyYW1zW2ldLnZhbHVlOwp9Cm5ldyBBamF4LlVwZGF0ZXIoCnRoaXMudHJlZS5hamF4T2JqLAp0aGlzLnN0cnVjdC5lZGl0bGluaywKewonbWV0aG9kJyAgICA6J3Bvc3QnLAoncGFyYW1ldGVycyc6cGFyYW1zLAonZXZhbFNjcmlwdHMnOiB0cnVlLAonb25Db21wbGV0ZSc6ZnVuY3Rpb24oZXZlbnQpe3RoaXMuX2NvbXBsZXRlRWRpdEFqYXgoZXZlbnQpO30uYmluZCh0aGlzKSwKJ29uRmFpbHVyZSc6ZnVuY3Rpb24oZXZlbnQpe3RoaXMuX2ZhaWx1cmVFZGl0QWpheChldmVudCk7fS5iaW5kKHRoaXMpCn0KKTsKfSBjYXRjaChlcnIpewp0aGlzLl9zZXRXYWl0SW1nKHRoaXMsZmFsc2UsdHJ1ZSk7CnRocm93KCdfZWRpdEFqYXgoYmFzZSk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0sCl9mYWlsdXJlRWRpdEFqYXg6ZnVuY3Rpb24oKXsKdGhpcy5fc2V0V2FpdEltZyh0aGlzLGZhbHNlKTsKaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbmVycm9yYWpheCgnZWRpdCcsJ2ZhaWx1cmUgcmVxdWVzdCcsdGhpcyk7Cn0KfSwKX2NvbXBsZXRlRWRpdEFqYXg6ZnVuY3Rpb24ocmVzcG9uc2Upewp0cnl7CnRoaXMuX3NldFdhaXRJbWcodGhpcyxmYWxzZSx0cnVlKTsKdmFyIHJlcD10aGlzLnN0cnVjdC5vbmVkaXRhamF4KHRoaXMscmVzcG9uc2UucmVzcG9uc2VUZXh0LHRoaXMudHh0LmlubmVySFRNTCk7CmlmKHJlcCl7CnRoaXMuc2V0VGV4dCgocmVwID09PSB0cnVlID8gcmVzcG9uc2UucmVzcG9uc2VUZXh0OnJlcCkpOwp9CnRoaXMuaGlkZUVkaXRhYmxlRWxlbWVudCgpOwp9IGNhdGNoKGVycil7CnRoaXMuX3NldFdhaXRJbWcodGhpcyxmYWxzZSx0cnVlKTsKaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZXJyb3JhamF4KT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbmVycm9yYWpheCgnZWRpdCcscmVzcG9uc2UucmVzcG9uc2VUZXh0LHRoaXMpOwp9IGVsc2V7CmFsZXJ0KCdfY29tcGxldGVPcGVuUG9wdWxhdGUoJytyZXNwb25zZS5yZXNwb25zZVRleHQrJyk6ICcrZXJyLm1lc3NhZ2UpOwp9Cn0KfSwKZXZ0X29wZW5Nb3VzZU92ZXI6ZnVuY3Rpb24oZXYpewppZihFdmVudC5lbGVtZW50KXsKdmFyIG9iaj1FdmVudC5lbGVtZW50KGV2KTsKdmFyIGltZz10aGlzLl9nZXRJbWdJbmZvKG9iaik7Cm9iai5zcmM9dGhpcy50cmVlLmltZ0Jhc2UraW1nLnR5cGUrJ19vdmVyJytpbWcubnVtYmVyKycuZ2lmJzsKfQp9LApldnRfb3Blbk1vdXNlT3V0OmZ1bmN0aW9uKGV2KXsKaWYoRXZlbnQuZWxlbWVudCl7CnZhciBvYmo9RXZlbnQuZWxlbWVudChldik7CnZhciBpbWc9dGhpcy5fZ2V0SW1nSW5mbyhvYmopOwpvYmouc3JjPXRoaXMudHJlZS5pbWdCYXNlK2ltZy50eXBlLnJlcGxhY2UoL19vdmVyL2csJycpKyBpbWcubnVtYmVyKycuZ2lmJzsKfQp9LApldnRfc2hvd1Rvb2x0aXA6ZnVuY3Rpb24oZXYpewp0aGlzLmRpc3BsYXlUb29sdGlwPXRydWU7CnNldFRpbWVvdXQodGhpcy5zaG93VG9vbHRpcC5iaW5kKHRoaXMpLHRoaXMudHJlZS5kdXJhdGlvblRvb2x0aXBTaG93KTsKfSwKZXZ0X2hpZGVUb29sdGlwOmZ1bmN0aW9uKGV2KXsKdGhpcy5kaXNwbGF5VG9vbHRpcD1mYWxzZTsKc2V0VGltZW91dCh0aGlzLmhpZGVUb29sdGlwLmJpbmQodGhpcyksdGhpcy50cmVlLmR1cmF0aW9uVG9vbHRpcEhpZGUpOwp9LApzZXRNb3VzZU92ZXI6ZnVuY3Rpb24oZXYpewppZih0eXBlb2YodGhpcy5zdHJ1Y3Qub25tb3VzZW92ZXIpPT0gJ2Z1bmN0aW9uJyl7CnJldHVybiB0aGlzLnN0cnVjdC5vbm1vdXNlb3Zlcih0aGlzLGV2KTsKfQp9LApzZXRNb3VzZU91dDpmdW5jdGlvbihldil7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbm1vdXNlb3V0KT09ICdmdW5jdGlvbicpewpyZXR1cm4gdGhpcy5zdHJ1Y3Qub25tb3VzZW91dCh0aGlzLGV2KTsKfQp9LApzZXRNb3VzZURvd246ZnVuY3Rpb24oZXYpewp0aGlzLnRyZWUuZXZ0X3NldEFzQ3VycmVudChldik7CmlmKHRoaXMudHJlZS5zZWxlY3RlZEJyYW5jaFNob3dlZCl7CmlmKCF0aGlzLmlzU2VsZWN0ZWQoKSl7CnRoaXMuc2VsZWN0KGV2KTsKdGhpcy5va2F5Rm9yVW5zZWxlY3Q9ZmFsc2U7Cn0gZWxzZXsKdGhpcy5va2F5Rm9yVW5zZWxlY3Q9dHJ1ZTsKfQp9CmlmKHRoaXMudG9vbHRpcCl7CnRoaXMuZGlzcGxheVRvb2x0aXA9ZmFsc2U7CnRoaXMuaGlkZVRvb2x0aXAoKTsKfQppZih0eXBlb2YodGhpcy5zdHJ1Y3Qub25tb3VzZWRvd24pPT0gJ2Z1bmN0aW9uJyl7CnRoaXMuc3RydWN0Lm9ubW91c2Vkb3duKHRoaXMsZXYpOwp9Cn0sCnNldE1vdXNlVXA6ZnVuY3Rpb24oZXYpewppZih0aGlzLnRyZWUubGFzdEVkaXRlZCl7CnRoaXMudHJlZS5sYXN0RWRpdGVkLmhpZGVFZGl0YWJsZShldik7Cn0KaWYodGhpcy5pc1NlbGVjdGVkKCkmJiB0aGlzLm9rYXlGb3JVbnNlbGVjdCl7CnJldHVybiB0cnVlOwp9CnRoaXMub2theUZvclVuc2VsZWN0PXRydWU7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbm1vdXNldXApPT0gJ2Z1bmN0aW9uJyl7CnRoaXMuc3RydWN0Lm9ubW91c2V1cCh0aGlzLGV2KTsKfQp9LApzZXRDbGljazpmdW5jdGlvbihldil7CmlmKHRoaXMudHJlZS5sYXN0RWRpdGVkKXJldHVybiBmYWxzZTsKaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uY2xpY2spPT0gJ2Z1bmN0aW9uJyl7CnJldHVybiB0aGlzLnN0cnVjdC5vbmNsaWNrKHRoaXMsZXYpOwp9Cn0sCmNoZWNrT25DbGljazpmdW5jdGlvbihldil7CmlmKHRoaXMudHJlZS5jaGVja2JveGVzJiZ0aGlzLmNoZWNrYm94KXsKdmFyIGNoZWNrZWQgPSh0aGlzLmlzQ2hlY2tlZCgpPiAwKT8gMDoxOwp2YXIgb2s9dHJ1ZTsKaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uYmVmb3JlY2hlY2spPT0gJ2Z1bmN0aW9uJyl7Cm9rPXRoaXMuc3RydWN0Lm9uYmVmb3JlY2hlY2sodGhpcyxjaGVja2VkLGV2KTsKfQppZihvayl7CnRoaXMuY2hlY2soY2hlY2tlZCk7CmlmKHRoaXMudHJlZS5jaGVja2JveGVzVGhyZWVTdGF0ZSl7CnRoaXMuX21hbmFnZUNoZWNrVGhyZWVTdGF0ZSh0aGlzLGNoZWNrZWQpOwp0aGlzLl9hZGp1c3RQYXJlbnRDaGVjaygpOwp9CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmNoZWNrKT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbmNoZWNrKHRoaXMsY2hlY2tlZCxldik7Cn0KfQp9Cn0sCnNldE9wZW46ZnVuY3Rpb24oZXYpewppZighdGhpcy5oYXNDaGlsZHJlbigpKXJldHVybiBmYWxzZTsKdmFyIG9rPXRydWU7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmJlZm9yZW9wZW4pPT0gJ2Z1bmN0aW9uJyl7Cm9rPXRoaXMuc3RydWN0Lm9uYmVmb3Jlb3Blbih0aGlzLHRoaXMuc3RydWN0Lm9wZW4sZXYpOwp9CmlmKCFvaylyZXR1cm4gZmFsc2U7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbm9wZW5wb3B1bGF0ZSk9PSAnZnVuY3Rpb24nJiYhdGhpcy5ldmVudGFibGUpcmV0dXJuIGZhbHNlOwp0aGlzLm9wZW5JdCgodGhpcy5pc09wZW5lZCgpKT8gZmFsc2U6dHJ1ZSk7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbm9wZW4pPT0gJ2Z1bmN0aW9uJyl7CnJldHVybiB0aGlzLnN0cnVjdC5vbm9wZW4odGhpcyx0aGlzLnN0cnVjdC5vcGVuLGV2KTsKfSBlbHNlIGlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbm9wZW5wb3B1bGF0ZSk9PSAnZnVuY3Rpb24nJiZ0aGlzLmlzT3BlbmVkKCkmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aD09MCl7CmlmKCF0aGlzLmV2ZW50YWJsZSlyZXR1cm4gZmFsc2U7CnJldHVybiB0aGlzLl9vcGVuUG9wdWxhdGUoZXYpOwp9CnJldHVybiB0cnVlOwp9LApvbmRyYWdzdGFydGVmZmVjdDpmdW5jdGlvbihkcmFnLGRyYWdiaXMpewp2YXIgZHJhZ09iaj10aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZE9iaihkcmFnLmlkKTsKaWYoIWRyYWdPYmopewpmb3IodmFyIGk9MDtpPHRoaXMudHJlZS5vdGhlclRyZWVzLmxlbmd0aDtpKyspewpkcmFnT2JqPXRoaXMudHJlZS5vdGhlclRyZWVzW2ldLmdldEJyYW5jaEJ5SWRPYmooZHJhZy5pZCk7CmlmKGRyYWdPYmopYnJlYWs7Cn0KaWYoIWRyYWdPYmopcmV0dXJuIGZhbHNlOwp9CmlmKHR5cGVvZihkcmFnT2JqLnN0cnVjdC5vbmRyYWdzdGFydGVmZmVjdCk9PSAnZnVuY3Rpb24nKXsKdmFyIG9rPWRyYWdPYmouc3RydWN0Lm9uZHJhZ3N0YXJ0ZWZmZWN0KGRyYWdPYmopOwp9Cn0sCm9uZHJhZ2VuZGVmZmVjdDpmdW5jdGlvbihkcmFnLGRyYWdiaXMpewp2YXIgZHJhZ09iaj10aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZE9iaihkcmFnLmlkKTsKaWYoIWRyYWdPYmopewpmb3IodmFyIGk9MDtpPHRoaXMudHJlZS5vdGhlclRyZWVzLmxlbmd0aDtpKyspewpkcmFnT2JqPXRoaXMudHJlZS5vdGhlclRyZWVzW2ldLmdldEJyYW5jaEJ5SWRPYmooZHJhZy5pZCk7CmlmKGRyYWdPYmopYnJlYWs7Cn0KaWYoIWRyYWdPYmopcmV0dXJuIGZhbHNlOwp9CmlmKHR5cGVvZihkcmFnT2JqLnN0cnVjdC5vbmRyYWdlbmRlZmZlY3QpPT0gJ2Z1bmN0aW9uJyl7CnZhciBvaz1kcmFnT2JqLnN0cnVjdC5vbmRyYWdlbmRlZmZlY3QoZHJhZ09iaik7Cn0KfSwKc2V0RHJvcDpmdW5jdGlvbihkcmFnLGh0bWwsaHRtbDIsZXYpewp2YXIgZHJhZ09iaj10aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZE9iaihkcmFnLmlkKTsKaWYoIWRyYWdPYmopewpmb3IodmFyIGk9MDtpPHRoaXMudHJlZS5vdGhlclRyZWVzLmxlbmd0aDtpKyspewpkcmFnT2JqPXRoaXMudHJlZS5vdGhlclRyZWVzW2ldLmdldEJyYW5jaEJ5SWRPYmooZHJhZy5pZCk7CmlmKGRyYWdPYmopYnJlYWs7Cn0KaWYoIWRyYWdPYmopcmV0dXJuIGZhbHNlOwp9CnZhciBhbHQgPShkcmFnT2JqLnRyZWUuZHJvcEFMVCk/IFRhZmVsVHJlZU1hbmFnZXIuYWx0T24oZXYpOiBmYWxzZTsKdmFyIGN0cmwgPShkcmFnT2JqLnRyZWUuZHJvcENUUkwpPyBUYWZlbFRyZWVNYW5hZ2VyLmN0cmxPbihldil8fCBUYWZlbFRyZWVNYW5hZ2VyLm1ldGFPbihldik6IGZhbHNlOwp2YXIgb2s9dHJ1ZTsKaWYoKHRoaXMudHJlZS5pZD09ZHJhZ09iai50cmVlLmlkJiZ0aGlzLmlzQ2hpbGQoZHJhZ09iaikpfHwgIWRyYWdPYmouZXZlbnRhYmxlfHwhdGhpcy5ldmVudGFibGUpcmV0dXJuIGZhbHNlOwppZih0eXBlb2YoZHJhZ09iai5zdHJ1Y3Qub25kcm9wKT09ICdmdW5jdGlvbicpewpvaz1kcmFnT2JqLnN0cnVjdC5vbmRyb3AoZHJhZ09iaix0aGlzLGZhbHNlLG51bGwsZXYpOwp9CmlmKG9rKXsKdmFyIGFzU2libGluZyA9KChkcmFnT2JqLnRyZWUuYmVoYXZpb3VyRHJvcD09MXx8ZHJhZ09iai50cmVlLmJlaGF2aW91ckRyb3A9PTMpJiYgIWFsdCB8fChkcmFnT2JqLnRyZWUuYmVoYXZpb3VyRHJvcD09MHx8ZHJhZ09iai50cmVlLmJlaGF2aW91ckRyb3A9PTIpJiYgYWx0KT8gdHJ1ZTpmYWxzZTsKdmFyIGNvcHlEcmFnID0oKGRyYWdPYmoudHJlZS5iZWhhdmlvdXJEcm9wPT0yfHxkcmFnT2JqLnRyZWUuYmVoYXZpb3VyRHJvcD09MykmJiAhY3RybCB8fChkcmFnT2JqLnRyZWUuYmVoYXZpb3VyRHJvcD09MHx8ZHJhZ09iai50cmVlLmJlaGF2aW91ckRyb3A9PTEpJiYgY3RybCk/IHRydWU6ZmFsc2U7CmlmKCFhc1NpYmxpbmcmJnR5cGVvZih0aGlzLnN0cnVjdC5vbm9wZW5wb3B1bGF0ZSk9PSAnZnVuY3Rpb24nJiYhdGhpcy5pc09wZW5lZCgpJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGg9PTApewp0aGlzLl9vcGVuUG9wdWxhdGUoZXYpOwp9CmlmKHR5cGVvZihkcmFnT2JqLnN0cnVjdC5vbmRyb3BhamF4KT09ICdmdW5jdGlvbicpewpkcmFnT2JqLl9zZXREcm9wQWpheCh0aGlzLGFzU2libGluZyxjb3B5RHJhZyxldik7Cn0gZWxzZXsKdmFyIG5ld0JyYW5jaD1udWxsOwppZighYXNTaWJsaW5nKXsKaWYoIWNvcHlEcmFnKXsKZHJhZ09iai5tb3ZlKHRoaXMpOwp9IGVsc2V7Cm5ld0JyYW5jaD10aGlzLmluc2VydEludG9MYXN0KGRyYWdPYmouY2xvbmUoKSk7Cn0KfSBlbHNlewppZighY29weURyYWcpewpkcmFnT2JqLm1vdmVCZWZvcmUodGhpcyk7Cn0gZWxzZXsKbmV3QnJhbmNoPXRoaXMuaW5zZXJ0QmVmb3JlKGRyYWdPYmouY2xvbmUoKSk7Cn0KfQppZih0eXBlb2YoZHJhZ09iai5zdHJ1Y3Qub25kcm9wKT09ICdmdW5jdGlvbicpewpvaz1kcmFnT2JqLnN0cnVjdC5vbmRyb3AoZHJhZ09iaix0aGlzLHRydWUsbmV3QnJhbmNoLGV2KTsKfQp9Cn0KfSwKc2V0RGJsQ2xpY2s6ZnVuY3Rpb24oZXYpewppZih0aGlzLnRyZWUubGFzdEVkaXRlZClyZXR1cm4gZmFsc2U7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmRibGNsaWNrKT09ICdmdW5jdGlvbicpewp0aGlzLnN0cnVjdC5vbmRibGNsaWNrKHRoaXMsZXYpOwp9CmlmKHRoaXMuc3RydWN0LmVkaXRhYmxlJiZ0aGlzLmVkaXRhYmxlSW5wdXQpewppZighdGhpcy50cmVlLmxhc3RFZGl0ZWR8fHRoaXMudHJlZS5sYXN0RWRpdGVkLmdldElkKCkhPSB0aGlzLmdldElkKCkpewp0aGlzLmVkaXRhYmxlSW5wdXQuc3R5bGUud2lkdGggPSh0aGlzLnR4dC5vZmZzZXRXaWR0aCsyMCkrICdweCc7Cn0KRWxlbWVudC5oaWRlKHRoaXMudHh0KTsKdGhpcy5lZGl0YWJsZUlucHV0LnZhbHVlPXRoaXMudHh0LmlubmVySFRNTDsKdGhpcy5lZGl0YWJsZUlucHV0LnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsKdGhpcy5lZGl0YWJsZUlucHV0LmZvY3VzKCk7CnRoaXMudHJlZS5sYXN0RWRpdGVkPXRoaXM7Cn0KfSwKaGlkZUVkaXRhYmxlOmZ1bmN0aW9uKGV2KXsKaWYodGhpcy5lZGl0YWJsZUlucHV0JiZ0aGlzLnN0cnVjdC5lZGl0YWJsZSl7CnZhciBvYmo9dGhpcy5lZGl0YWJsZUlucHV0Owp2YXIgdmFsdWU9b2JqLnZhbHVlOwppZih0aGlzLnN0cnVjdC5vbmVkaXRhamF4KXsKaWYoIXRoaXMuZXZlbnRhYmxlKXJldHVybiBmYWxzZTsKdGhpcy5fZWRpdEFqYXgob2JqLnZhbHVlLHRoaXMudHh0LmlubmVySFRNTCxldik7Cn0gZWxzZXsKaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZWRpdCk9PSAnZnVuY3Rpb24nKXsKdmFsdWU9dGhpcy5zdHJ1Y3Qub25lZGl0KHRoaXMsb2JqLnZhbHVlLHRoaXMudHh0LmlubmVySFRNTCxldik7Cn0KdGhpcy5zZXRUZXh0KHZhbHVlKTsKdGhpcy5oaWRlRWRpdGFibGVFbGVtZW50KCk7Cn0KcmV0dXJuIHRydWU7Cn0KcmV0dXJuIGZhbHNlOwp9LApoaWRlRWRpdGFibGVFbGVtZW50OmZ1bmN0aW9uKCl7CkVsZW1lbnQuaGlkZSh0aGlzLmVkaXRhYmxlSW5wdXQpOwp0aGlzLmVkaXRhYmxlSW5wdXQudmFsdWU9dGhpcy5nZXRUZXh0KCk7CnRoaXMudHh0LnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsKdGhpcy50cmVlLmxhc3RFZGl0ZWQ9bnVsbDsKfQp9Owp2YXIgVGFmZWxUcmVlUm9vdD1DbGFzcy5jcmVhdGUoKTsKVGFmZWxUcmVlUm9vdC5wcm90b3R5cGU9T2JqZWN0LmV4dGVuZChuZXcgVGFmZWxUcmVlQmFzZUJyYW5jaCx7CmluaXRpYWxpemU6ZnVuY3Rpb24odHJlZSxzdHJ1Y3QsbGV2ZWwsYmVmb3JlLGFmdGVyLHBvcyl7CnRoaXMuaXNSb290PXRydWU7CnRoaXMudHJlZT10cmVlOwp0aGlzLnBvcz1wb3M7CnRoaXMubGV2ZWw9bGV2ZWw7CnRoaXMuc3RydWN0PXN0cnVjdDsKdGhpcy50cmVlLmlkVHJlZSsrOwp0aGlzLmlkT2JqPXRoaXMudHJlZS5pZFRyZWVCcmFuY2grdGhpcy50cmVlLmlkVHJlZTsKdGhpcy5oYXNTaWJsaW5nc0JlZm9yZT1iZWZvcmU7CnRoaXMuaGFzU2libGluZ3NBZnRlcj1hZnRlcjsKdGhpcy5ldmVudGFibGU9dHJ1ZTsKdGhpcy5sb2FkZWQ9dHJ1ZTsKdGhpcy5jaGlsZHJlbj1bXTsKdGhpcy5jb3BpZWRUaW1lcz0wOwp0aGlzLl9zZXRQcm9wZXJ0aWVzKCk7CnRoaXMuX3NldEZ1bmN0aW9ucygpOwp0aGlzLm9iaj10aGlzLl9hZGRSb290KCk7CnRoaXMuY29udGVudD10aGlzLl9hZGRDb250ZW50KCk7CnRoaXMub2JqLmFwcGVuZENoaWxkKHRoaXMudGFibGUpOwp0aGlzLl9zZXRDaGlsZHJlbih0aGlzKTsKdGhpcy5fc2V0QWN0aW9ucygpOwp9LAppbnNlcnRCZWZvcmU6ZnVuY3Rpb24oaXRlbSl7CmlmKHRoaXMucGFyZW50KXJldHVybiBmYWxzZTsKdmFyIHBvcz10aGlzLnBvczsKdmFyIHBvc0JlZm9yZT1wb3MrMTsKdmFyIGlzTm90Rmlyc3QgPShwb3M9PTApPyBmYWxzZTp0cnVlOwp0aGlzLl9tb3ZlUGFydFN0cnVjdFJvb3QocG9zKTsKdGhpcy50cmVlLnJvb3RzW3Bvc109bmV3IFRhZmVsVHJlZVJvb3QodGhpcy50cmVlLGl0ZW0sdGhpcy5sZXZlbCxpc05vdEZpcnN0LHRydWUscG9zKTsKdGhpcy50cmVlLmRpdi5pbnNlcnRCZWZvcmUodGhpcy50cmVlLnJvb3RzW3Bvc10ub2JqLHRoaXMub2JqKTsKdGhpcy5fbWFuYWdlQWZ0ZXJSb290SW5zZXJ0KHBvcyk7CnJldHVybiB0aGlzLnRyZWUucm9vdHNbcG9zXTsKfSwKaW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oaXRlbSl7CmlmKHRoaXMucGFyZW50KXJldHVybiBmYWxzZTsKdmFyIHBvcz10aGlzLnBvcysxOwp2YXIgcG9zQmVmb3JlPXBvcysxOwp2YXIgaXNOb3RMYXN0ID0ocG9zPT10aGlzLnRyZWUucm9vdHMubGVuZ3RoKT8gZmFsc2U6dHJ1ZTsKdGhpcy5fbW92ZVBhcnRTdHJ1Y3RSb290KHBvcyk7CnRoaXMudHJlZS5yb290c1twb3NdPW5ldyBUYWZlbFRyZWVSb290KHRoaXMudHJlZSxpdGVtLHRoaXMubGV2ZWwsdHJ1ZSxpc05vdExhc3QscG9zKTsKdHJ5ewp0aGlzLnRyZWUuZGl2Lmluc2VydEJlZm9yZSh0aGlzLnRyZWUucm9vdHNbcG9zXS5vYmosdGhpcy50cmVlLnJvb3RzW3Bvc0JlZm9yZV0ub2JqKTsKfSBjYXRjaChlcnIpewp0aGlzLnRyZWUuZGl2LmFwcGVuZENoaWxkKHRoaXMudHJlZS5yb290c1twb3NdLm9iaik7Cn0KdGhpcy5fbWFuYWdlQWZ0ZXJSb290SW5zZXJ0KHBvcyk7CnJldHVybiB0aGlzLnRyZWUucm9vdHNbcG9zXTsKfSwKX21hbmFnZUFmdGVyUm9vdEluc2VydDpmdW5jdGlvbihwb3Mpewpmb3IodmFyIGk9MDtpPHRoaXMudHJlZS5yb290cy5sZW5ndGg7aSsrKXsKaWYoaTx0aGlzLnRyZWUucm9vdHMubGVuZ3RoLTEpewp0aGlzLnRyZWUucm9vdHNbaV0uaGFzU2libGluZ3NBZnRlcj10cnVlOwp9CmlmKGk+MCl7CnRoaXMudHJlZS5yb290c1tpXS5oYXNTaWJsaW5nc0JlZm9yZT10cnVlOwp9Cn0KZm9yKHZhciBpPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspewp0aGlzLmNoaWxkcmVuW2ldLl9tYW5hZ2VMaW5lRm9yUm9vdCh0aGlzLmhhc1NpYmxpbmdzQWZ0ZXIpOwp9Cn0sCl9tb3ZlUGFydFN0cnVjdFJvb3Q6ZnVuY3Rpb24ocG9zKXsKdmFyIG5iPXRoaXMudHJlZS5yb290cy5sZW5ndGgtMTsKdmFyIG5ld1Bvcz0wOwpmb3IodmFyIGk9bmI7aT49cG9zO2ktLSl7Cm5ld1Bvcz1pKzE7CnRoaXMudHJlZS5yb290c1tuZXdQb3NdPXRoaXMudHJlZS5yb290c1tpXTsKdGhpcy50cmVlLnJvb3RzW25ld1Bvc10ucG9zPW5ld1BvczsKfQp9LApfYWRkUm9vdDpmdW5jdGlvbigpewp2YXIgZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwpkaXYuY2xhc3NOYW1lPXRoaXMudHJlZS5jbGFzc1RyZWVSb290OwpyZXR1cm4gZGl2Owp9LApfYWRkQ29udGVudDpmdW5jdGlvbigpewp2YXIgdGFibGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTsKdmFyIHRib2R5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7CnZhciB0cj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpOwp2YXIgdGRJbWc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTsKdmFyIHRkVHh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7CnZhciBpbWc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CnZhciBzcGFuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwp2YXIgdHh0PWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHR4dCk7CmltZy5zcmM9dGhpcy50cmVlLmltZ0Jhc2UrdGhpcy5zdHJ1Y3QuaW1nOwpzcGFuLmlubmVySFRNTD10aGlzLnN0cnVjdC50eHQ7CmlmKHRoaXMuc3RydWN0LnRpdGxlKXsKc3Bhbi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJyx0aGlzLnN0cnVjdC50aXRsZSk7Cn0Kc3Bhbi5zZXRBdHRyaWJ1dGUoJ2lkJyx0aGlzLmlkT2JqKTsKRWxlbWVudC5hZGRDbGFzc05hbWUoc3Bhbix0aGlzLnRyZWUuY2xhc3NDb250ZW50KTsKRWxlbWVudC5hZGRDbGFzc05hbWUodGRUeHQsdGhpcy50cmVlLmNsYXNzQ2FuZXZhcyk7CnRkVHh0LmFwcGVuZENoaWxkKHNwYW4pOwp0ZEltZy5hcHBlbmRDaGlsZChpbWcpOwppZih0aGlzLnN0cnVjdC50b29sdGlwKXsKdGhpcy50b29sdGlwPXRoaXMuX2NyZWF0ZVRvb2x0aXAoKTsKdGRUeHQuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwKTsKfQp0aGlzLnRkSW1nPXRkSW1nOwp0aGlzLmJlZm9yZUljb249dGhpcy5fZ2V0SW1nQmVmb3JlSWNvbigpOwp0ci5hcHBlbmRDaGlsZCh0aGlzLmJlZm9yZUljb24pOwp0ci5hcHBlbmRDaGlsZCh0ZEltZyk7CnRyLmFwcGVuZENoaWxkKHRkVHh0KTsKdGJvZHkuYXBwZW5kQ2hpbGQodHIpOwp0YWJsZS5hcHBlbmRDaGlsZCh0Ym9keSk7CmlmKHRoaXMudHJlZS5tdWx0aWxpbmUpewp0ZFR4dC5zdHlsZS53aGl0ZVNwYWNlPSdub3JtYWwnOwppZih0aGlzLmhhc0NoaWxkcmVuKCkpdGhpcy5fbWFuYWdlTXVsdGlsaW5lKHRoaXMudGRJbWcsMix0cnVlKTsKfQppZih0aGlzLnN0cnVjdC5zdHlsZSl7CkVsZW1lbnQuYWRkQ2xhc3NOYW1lKHRkVHh0LHRoaXMuc3RydWN0LnN0eWxlKTsKfQp0aGlzLnR4dD1zcGFuOwp0aGlzLmltZz1pbWc7CnRoaXMudGFibGU9dGFibGU7CnRoaXMuX3NldEV2ZW50cyh0ZFR4dCx0ZEltZyk7CnJldHVybiB0Ym9keTsKfQp9KTsKdmFyIFRhZmVsVHJlZUJyYW5jaD1DbGFzcy5jcmVhdGUoKTsKVGFmZWxUcmVlQnJhbmNoLnByb3RvdHlwZT1PYmplY3QuZXh0ZW5kKG5ldyBUYWZlbFRyZWVCYXNlQnJhbmNoLHsKaW5pdGlhbGl6ZTpmdW5jdGlvbihyb290LHBhcmVudCxzdHJ1Y3QsbGV2ZWwsYmVmb3JlLGFmdGVyLHBvcyl7CnRoaXMudHJlZT1yb290LnRyZWU7CnRoaXMucm9vdD1yb290Owp0aGlzLmxldmVsPWxldmVsOwp0aGlzLnBvcz1wb3M7CnRoaXMucGFyZW50PXBhcmVudDsKdGhpcy50cmVlLmlkVHJlZSsrOwp0aGlzLmlkT2JqPXRoaXMudHJlZS5pZFRyZWVCcmFuY2grdGhpcy50cmVlLmlkVHJlZTsKdGhpcy5oYXNTaWJsaW5nc0JlZm9yZT1iZWZvcmU7CnRoaXMuaGFzU2libGluZ3NBZnRlcj1hZnRlcjsKdGhpcy5zdHJ1Y3Q9c3RydWN0Owp0aGlzLmV2ZW50YWJsZT10cnVlOwp0aGlzLmxvYWRlZD10cnVlOwp0aGlzLmluUHJvY2Vzcz1mYWxzZTsKdGhpcy5jaGlsZHJlbj1bXTsKdGhpcy5jb3BpZWRUaW1lcz0wOwppZih0eXBlb2YodGhpcy5zdHJ1Y3QuZHJhZ2dhYmxlKT09ICd1bmRlZmluZWQnKXRoaXMuc3RydWN0LmRyYWdnYWJsZT0xOwp0aGlzLl9zZXRQcm9wZXJ0aWVzKCk7CmlmKHR5cGVvZih0aGlzLnN0cnVjdC5vbmRyb3ApPT0gJ3VuZGVmaW5lZCcpewppZih0eXBlb2YodGhpcy50cmVlLm9uRHJvcCk9PSAnZnVuY3Rpb24nKXsKdGhpcy5zdHJ1Y3Qub25kcm9wPXRoaXMudHJlZS5vbkRyb3A7CnRoaXMub25kcm9wRGVmYXVsdD10cnVlOwp9Cn0gZWxzZXt0aGlzLnN0cnVjdC5vbmRyb3A9ZXZhbCh0aGlzLnN0cnVjdC5vbmRyb3ApO30KaWYodHlwZW9mKHRoaXMuc3RydWN0Lm9uZHJvcGFqYXgpPT0gJ3VuZGVmaW5lZCcpewppZih0aGlzLnRyZWUub25Ecm9wQWpheCYmdHlwZW9mKHRoaXMudHJlZS5vbkRyb3BBamF4LmZ1bmMpPT0gJ2Z1bmN0aW9uJyl7CnRoaXMuc3RydWN0Lm9uZHJvcGFqYXg9dGhpcy50cmVlLm9uRHJvcEFqYXguZnVuYzsKdGhpcy5zdHJ1Y3QuZHJvcGxpbms9dGhpcy50cmVlLm9uRHJvcEFqYXgubGluazsKdGhpcy5vbmRyb3BhamF4RGVmYXVsdD10cnVlOwp9Cn0gZWxzZXt0aGlzLnN0cnVjdC5vbmRyb3BhamF4PWV2YWwodGhpcy5zdHJ1Y3Qub25kcm9wYWpheCk7fQp0aGlzLl9zZXRGdW5jdGlvbnMoKTsKdGhpcy5vYmo9dGhpcy5fYWRkQnJhbmNoKCk7CnRoaXMuY29udGVudD10aGlzLl9hZGRDb250ZW50KCk7CnRoaXMub2JqLmFwcGVuZENoaWxkKHRoaXMudGFibGUpOwp0aGlzLl9zZXRDaGlsZHJlbihyb290KTsKdGhpcy5fc2V0QWN0aW9ucygpOwp9LAppbnNlcnRCZWZvcmU6ZnVuY3Rpb24oaXRlbSl7CmlmKCF0aGlzLnBhcmVudClyZXR1cm4gZmFsc2U7CnZhciBwb3M9dGhpcy5wb3M7CnZhciBwb3NCZWZvcmU9cG9zKzE7CnZhciBpc05vdEZpcnN0ID0ocG9zPT0wKT8gZmFsc2U6dHJ1ZTsKdGhpcy5wYXJlbnQuX21vdmVQYXJ0U3RydWN0KHBvcyk7CnRoaXMucGFyZW50LnN0cnVjdC5pdGVtc1twb3NdPWl0ZW07CnRoaXMucGFyZW50LmNoaWxkcmVuW3Bvc109bmV3IFRhZmVsVHJlZUJyYW5jaCh0aGlzLnJvb3QsdGhpcy5wYXJlbnQsaXRlbSx0aGlzLmxldmVsLGlzTm90Rmlyc3QsdHJ1ZSxwb3MpOwp0aGlzLnBhcmVudC5vYmouaW5zZXJ0QmVmb3JlKHRoaXMucGFyZW50LmNoaWxkcmVuW3Bvc10ub2JqLHRoaXMub2JqKTsKdGhpcy5wYXJlbnQuX21hbmFnZUFmdGVySW5zZXJ0KHBvcyk7CnJldHVybiB0aGlzLnBhcmVudC5jaGlsZHJlbltwb3NdOwp9LAppbnNlcnRBZnRlcjpmdW5jdGlvbihpdGVtKXsKaWYoIXRoaXMucGFyZW50KXJldHVybiBmYWxzZTsKdmFyIHBvcz10aGlzLnBvcysxOwp2YXIgcG9zQmVmb3JlPXBvcysxOwp2YXIgaXNOb3RMYXN0ID0ocG9zPT10aGlzLnBhcmVudC5jaGlsZHJlbi5sZW5ndGgpPyBmYWxzZTp0cnVlOwp0aGlzLnBhcmVudC5fbW92ZVBhcnRTdHJ1Y3QocG9zKTsKdGhpcy5wYXJlbnQuc3RydWN0Lml0ZW1zW3Bvc109aXRlbTsKdGhpcy5wYXJlbnQuY2hpbGRyZW5bcG9zXT1uZXcgVGFmZWxUcmVlQnJhbmNoKHRoaXMucm9vdCx0aGlzLnBhcmVudCxpdGVtLHRoaXMubGV2ZWwsdHJ1ZSxpc05vdExhc3QscG9zKTsKdHJ5ewp0aGlzLnBhcmVudC5vYmouaW5zZXJ0QmVmb3JlKHRoaXMucGFyZW50LmNoaWxkcmVuW3Bvc10ub2JqLHRoaXMucGFyZW50LmNoaWxkcmVuW3Bvc0JlZm9yZV0ub2JqKTsKfSBjYXRjaChlcnIpewp0aGlzLnBhcmVudC5vYmouYXBwZW5kQ2hpbGQodGhpcy5wYXJlbnQuY2hpbGRyZW5bcG9zXS5vYmopOwp9CnRoaXMucGFyZW50Ll9tYW5hZ2VBZnRlckluc2VydChwb3MpOwpyZXR1cm4gdGhpcy5wYXJlbnQuY2hpbGRyZW5bcG9zXTsKfSwKbW92ZTpmdW5jdGlvbihoZXJlYil7CnJldHVybiB0aGlzLm1vdmVJbnRvTGFzdChoZXJlYik7Cn0sCm1vdmVJbnRvTGFzdDpmdW5jdGlvbihoZXJlYil7CnZhciBoZXJlPXRoaXMudHJlZS5nZXRCcmFuY2hCeUlkKGhlcmViKTsKaWYoIWhlcmUpcmV0dXJuIGZhbHNlCnZhciBwb3M9aGVyZS5fZ2V0UG9zKCk7CnZhciBpZD10aGlzLmdldElkKCk7CnZhciB0eHQ9dGhpcy5nZXRUZXh0KCk7CmlmKHBvcz09aGVyZS5jaGlsZHJlbi5sZW5ndGgpewpvYmo9aGVyZS5pbnNlcnRJbnRvTGFzdCh0aGlzLnN0cnVjdCk7Cn0gZWxzZXsKb2JqPWhlcmUuY2hpbGRyZW5bcG9zXS5pbnNlcnRCZWZvcmUodGhpcy5zdHJ1Y3QpOwp9CnRoaXMudHJlZS5yZW1vdmVCcmFuY2godGhpcyk7CnJldHVybiBvYmo7Cn0sCm1vdmVJbnRvRmlyc3Q6ZnVuY3Rpb24oaGVyZWIpewp2YXIgaGVyZT10aGlzLnRyZWUuZ2V0QnJhbmNoQnlJZChoZXJlYik7CmlmKCFoZXJlKXJldHVybiBmYWxzZQp2YXIgaWQ9dGhpcy5nZXRJZCgpOwp2YXIgdHh0PXRoaXMuZ2V0VGV4dCgpOwp2YXIgb2JqPWhlcmUuaW5zZXJ0SW50b0ZpcnN0KHRoaXMuc3RydWN0KTsKdGhpcy50cmVlLnJlbW92ZUJyYW5jaCh0aGlzKTsKcmV0dXJuIG9iajsKfSwKbW92ZUJlZm9yZTpmdW5jdGlvbihoZXJlYil7CnZhciBoZXJlPXRoaXMudHJlZS5nZXRCcmFuY2hCeUlkKGhlcmViKTsKaWYoIWhlcmUpcmV0dXJuIGZhbHNlOwp2YXIgaWQ9dGhpcy5nZXRJZCgpOwp2YXIgdHh0PXRoaXMuZ2V0VGV4dCgpOwp2YXIgb2JqPWhlcmUuaW5zZXJ0QmVmb3JlKHRoaXMuc3RydWN0KTsKdGhpcy50cmVlLnJlbW92ZUJyYW5jaCh0aGlzKTsKcmV0dXJuIG9iajsKfSwKbW92ZUFmdGVyOmZ1bmN0aW9uKGhlcmViKXsKdmFyIGhlcmU9dGhpcy50cmVlLmdldEJyYW5jaEJ5SWQoaGVyZWIpOwppZighaGVyZSlyZXR1cm4gZmFsc2U7CnZhciBpZD10aGlzLmdldElkKCk7CnZhciB0eHQ9dGhpcy5nZXRUZXh0KCk7CnZhciBvYmo9aGVyZS5pbnNlcnRBZnRlcih0aGlzLnN0cnVjdCk7CnRoaXMudHJlZS5yZW1vdmVCcmFuY2godGhpcyk7CnJldHVybiBvYmo7Cn0sCl9hZGRCcmFuY2g6ZnVuY3Rpb24oKXsKdmFyIGRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKZGl2LmNsYXNzTmFtZT10aGlzLnRyZWUuY2xhc3NUcmVlQnJhbmNoOwpyZXR1cm4gZGl2Owp9LApfYWRkQ29udGVudDpmdW5jdGlvbigpewp2YXIgdGFibGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTsKdmFyIHRib2R5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7CnZhciB0cj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpOwp2YXIgaW1nPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwp2YXIgaW1ncz10aGlzLl9hZGRJbWdzKCk7CnZhciBuYkltZ3M9aW1ncy5sZW5ndGg7CmZvcih2YXIgaT1uYkltZ3MtMTtpPj0wO2ktLSl7CnRyLmFwcGVuZENoaWxkKGltZ3NbaV0pOwp9CnRoaXMuYmVmb3JlSWNvbj10aGlzLl9nZXRJbWdCZWZvcmVJY29uKCk7CnRyLmFwcGVuZENoaWxkKHRoaXMuYmVmb3JlSWNvbik7CnZhciB0ZEltZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpOwp2YXIgdGRUeHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTsKdmFyIGltZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKdmFyIHNwYW49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CnNwYW4uaW5uZXJIVE1MPXRoaXMuc3RydWN0LnR4dDsKaWYodGhpcy5zdHJ1Y3QudGl0bGUpewpzcGFuLnNldEF0dHJpYnV0ZSgndGl0bGUnLHRoaXMuc3RydWN0LnRpdGxlKTsKfQpzcGFuLnNldEF0dHJpYnV0ZSgnaWQnLHRoaXMuaWRPYmopOwpFbGVtZW50LmFkZENsYXNzTmFtZShzcGFuLHRoaXMudHJlZS5jbGFzc0NvbnRlbnQpOwpFbGVtZW50LmFkZENsYXNzTmFtZSh0ZFR4dCx0aGlzLnRyZWUuY2xhc3NDYW5ldmFzKTsKaW1nLnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnN0cnVjdC5pbWc7CnRoaXMudGRJbWc9dGRJbWc7CmlmKHRoaXMudHJlZS5tdWx0aWxpbmUpewp0ZFR4dC5zdHlsZS53aGl0ZVNwYWNlPSdub3JtYWwnOwppZih0aGlzLmhhc0NoaWxkcmVuKCkpdGhpcy5fbWFuYWdlTXVsdGlsaW5lKHRoaXMudGRJbWcsMix0cnVlKTsKfQppZih0aGlzLnN0cnVjdC5zdHlsZSl7CkVsZW1lbnQuYWRkQ2xhc3NOYW1lKHRkVHh0LHRoaXMuc3RydWN0LnN0eWxlKTsKfQp0ZFR4dC5hcHBlbmRDaGlsZChzcGFuKTsKaWYodGhpcy5zdHJ1Y3QudG9vbHRpcCl7CnRoaXMudG9vbHRpcD10aGlzLl9jcmVhdGVUb29sdGlwKCk7CnRkVHh0LmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcCk7Cn0KdGRJbWcuYXBwZW5kQ2hpbGQoaW1nKTsKdHIuYXBwZW5kQ2hpbGQodGRJbWcpOwp0ci5hcHBlbmRDaGlsZCh0ZFR4dCk7CnRib2R5LmFwcGVuZENoaWxkKHRyKTsKdGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpOwp0aGlzLnRkSW1nPXRkSW1nOwp0aGlzLnR4dD1zcGFuOwp0aGlzLmltZz1pbWc7CnRoaXMudGFibGU9dGFibGU7CnRoaXMuX3NldEV2ZW50cyh0ZFR4dCx0ZEltZyk7CnJldHVybiB0Ym9keTsKfSwKX2FkZEltZ3M6ZnVuY3Rpb24oKXsKdmFyIG9iaj10aGlzLnBhcmVudDsKdmFyIGNwdD0wOwp2YXIgaW1ncz1bXTsKdmFyIGltZz1udWxsOwp2YXIgdGQ9bnVsbDsKd2hpbGUob2JqLnBhcmVudCl7CnRkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7CmltZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKaWYoIW9iai5oYXNTaWJsaW5nc0FmdGVyKXsKaW1nLnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nRW1wdHk7Cn0gZWxzZXsKaW1nLnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nTGluZTE7CmlmKHRoaXMudHJlZS5tdWx0aWxpbmUpewp0aGlzLl9tYW5hZ2VNdWx0aWxpbmUodGQsMSx0cnVlKTsKfQp9CnRkLmFwcGVuZENoaWxkKGltZyk7CmltZ3NbY3B0XT10ZDsKY3B0Kys7Cm9iaj1vYmoucGFyZW50Owp9CnRkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7CmltZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKaWYoIXRoaXMucm9vdC5oYXNTaWJsaW5nc0FmdGVyKXsKaW1nLnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nRW1wdHk7Cn0gZWxzZXsKaW1nLnNyYz10aGlzLnRyZWUuaW1nQmFzZSt0aGlzLnRyZWUuaW1nTGluZTE7CmlmKHRoaXMudHJlZS5tdWx0aWxpbmUpewp0aGlzLl9tYW5hZ2VNdWx0aWxpbmUodGQsMSx0cnVlKTsKfQp9CnRkLmFwcGVuZENoaWxkKGltZyk7CmltZ3NbY3B0XT10ZDsKcmV0dXJuIGltZ3M7Cn0KfSk7CnZhciBUYWZlbFRyZWVNYW5hZ2VyID17CnN0b3BFdmVudDp0cnVlLAprZXlib2FyZEV2ZW50czp0cnVlLAprZXlib2FyZFN0cnVjdHVyYWxFdmVudHM6dHJ1ZSwKdHJlZXM6W10sCmN1cnJlbnRUcmVlOm51bGwsCnVzZXJLZXlzOltdLApzZXRLZXlzOmZ1bmN0aW9uKGtleXMpewp0aGlzLnVzZXJLZXlzPWtleXM7Cn0sCmFkZDpmdW5jdGlvbih0cmVlKXsKdGhpcy50cmVlcy5wdXNoKHRyZWUpOwp9LApkaXNhYmxlS2V5Ym9hcmRFdmVudHM6ZnVuY3Rpb24oKXsKdGhpcy5rZXlib2FyZEV2ZW50cz1mYWxzZTsKfSwKZGlzYWJsZUtleWJvYXJkU3RydWN0dXJhbEV2ZW50czpmdW5jdGlvbigpewp0aGlzLmtleWJvYXJkU3RydWN0dXJhbEV2ZW50cz1mYWxzZTsKfSwKZ2V0Q3VycmVudFRyZWU6ZnVuY3Rpb24oKXsKcmV0dXJuIHRoaXMuY3VycmVudFRyZWU7Cn0sCnNldEN1cnJlbnRUcmVlOmZ1bmN0aW9uKHRyZWUpewp0aGlzLmN1cnJlbnRUcmVlPXRyZWU7Cn0sCm1ldGFPbjpmdW5jdGlvbihldil7CnZhciBvaz1mYWxzZTsKaWYoZXYgJiYoZXYubWV0YUtleSkpewpvaz10cnVlOwp9CnJldHVybiBvazsKfSwKY3RybE9uOmZ1bmN0aW9uKGV2KXsKdmFyIG9rPWZhbHNlOwppZihldiAmJihldi5jdHJsS2V5fHxldi5tb2RpZmllcj09Mikpewpvaz10cnVlOwp9CnJldHVybiBvazsKfSwKYWx0T246ZnVuY3Rpb24oZXYpewp2YXIgb2s9ZmFsc2U7CmlmKGV2ICYmKGV2LmFsdEtleXx8ZXYubW9kaWZpZXI9PTEpKXsKb2s9dHJ1ZTsKfQpyZXR1cm4gb2s7Cn0sCnNoaWZ0T246ZnVuY3Rpb24oZXYpewp2YXIgb2s9ZmFsc2U7CmlmKGV2ICYmKGV2LnNoaWZ0S2V5fHxldi5tb2RpZmllcj09Mykpewpvaz10cnVlOwp9CnJldHVybiBvazsKfSwKZ2V0Q29kZTpmdW5jdGlvbihldil7CnJldHVybihldi53aGljaCk/IGV2LndoaWNoOmV2LmtleUNvZGU7Cn0sCnNldENvbnRyb2xFdmVudHM6ZnVuY3Rpb24oKXsKRXZlbnQub2JzZXJ2ZShkb2N1bWVudCwna2V5cHJlc3MnLHRoaXMuZXZ0X2tleVByZXNzLmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwp2YXIgYm9keT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpOwppZighYm9keXx8IWJvZHlbMF0pewp0aHJvdyBuZXcgRXJyb3IoVEFGRUxUUkVFX05PX0JPRFlfVEFHKTsKfSBlbHNlewpFdmVudC5vYnNlcnZlKGJvZHlbMF0sJ21vdXNldXAnLHRoaXMuZXZ0X3Vuc2VsZWN0LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyksZmFsc2UpOwp9Cn0sCmV2dF91bnNlbGVjdDpmdW5jdGlvbihldil7CnZhciBvYmo9RXZlbnQuZWxlbWVudChldik7CnZhciBjdXJyZW50PXRoaXMuZ2V0Q3VycmVudFRyZWUoKTsKaWYoY3VycmVudCl7CmlmKCFFbGVtZW50Lmhhc0NsYXNzTmFtZShvYmosY3VycmVudC5jbGFzc1NlbGVjdGVkKSYmICFFbGVtZW50Lmhhc0NsYXNzTmFtZShvYmosY3VycmVudC5jbGFzc09wZW5hYmxlKSl7CmN1cnJlbnQudW5zZWxlY3QoKTsKdGhpcy5zZXRDdXJyZW50VHJlZShudWxsKTsKfQp9Cn0sCmVudGVyOmZ1bmN0aW9uKHRyZWUsY29kZSxrZXlzLGV2KXsKaWYodHJlZS5sYXN0RWRpdGVkKXsKdHJlZS5sYXN0RWRpdGVkLmVkaXRhYmxlSW5wdXQuYmx1cigpOwppZih0aGlzLnN0b3BFdmVudClFdmVudC5zdG9wKGV2KTsKfQp9LAplc2NhcGU6ZnVuY3Rpb24odHJlZSxjb2RlLGtleXMsZXYpewp2YXIgc2VsZWN0ZWQ9dHJlZS5nZXRTZWxlY3RlZEJyYW5jaGVzKCk7CnZhciBsYXN0UG9zPXNlbGVjdGVkLmxlbmd0aC0xOwp2YXIgbm91bnNlbGVjdD1mYWxzZTsKaWYobGFzdFBvcz09MCYmdHJlZS5sYXN0RWRpdGVkKXsKaWYodHJlZS5sYXN0RWRpdGVkLmhpZGVFZGl0YWJsZShldikpewpub3Vuc2VsZWN0PXRydWU7Cn0KfQppZighbm91bnNlbGVjdCl7CnRyZWUudW5zZWxlY3QoKTsKfQp0cmVlLnVuc2V0Q3V0KCk7CnRyZWUudW5zZXRDb3B5KCk7CmlmKHRoaXMuc3RvcEV2ZW50KUV2ZW50LnN0b3AoZXYpOwp9LAptb3ZlU3RhcnQ6ZnVuY3Rpb24odHJlZSxjb2RlLGtleXMsZXYpewppZighdHJlZS5sYXN0RWRpdGVkKXsKdHJlZS51bnNlbGVjdCgpOwppZih0cmVlLnJvb3RzLmxlbmd0aD4wKXsKdmFyIGJyYW5jaD10cmVlLnJvb3RzWzBdOwpicmFuY2guc2VsZWN0KCk7Cn0KaWYodGhpcy5zdG9wRXZlbnQpRXZlbnQuc3RvcChldik7Cn0KfSwKbW92ZUVuZDpmdW5jdGlvbih0cmVlLGNvZGUsa2V5cyxldil7CmlmKCF0cmVlLmxhc3RFZGl0ZWQpewp0cmVlLnVuc2VsZWN0KCk7CmlmKHRyZWUucm9vdHMubGVuZ3RoPjApewp2YXIgbGFzdD10cmVlLnJvb3RzLmxlbmd0aC0xOwp2YXIgYnJhbmNoPXRyZWUucm9vdHNbbGFzdF07CndoaWxlKGJyYW5jaC5oYXNDaGlsZHJlbigpKXsKYnJhbmNoPWJyYW5jaC5nZXRMYXN0QnJhbmNoKCk7Cn0KYnJhbmNoLnNlbGVjdCgpOwp9CmlmKHRoaXMuc3RvcEV2ZW50KUV2ZW50LnN0b3AoZXYpOwp9Cn0sCm1vdmVVcDpmdW5jdGlvbih0cmVlLGNvZGUsa2V5cyxldil7CnZhciBzZWxlY3RlZD10cmVlLmdldFNlbGVjdGVkQnJhbmNoZXMoKTsKdmFyIGxhc3RQb3M9c2VsZWN0ZWQubGVuZ3RoLTE7CmlmKCF0cmVlLmxhc3RFZGl0ZWQpewppZihsYXN0UG9zPj0wKXsKdmFyIGJyYW5jaD1zZWxlY3RlZFtsYXN0UG9zXS5nZXRQcmV2aW91c09wZW5lZEJyYW5jaCgpOwppZihicmFuY2gpYnJhbmNoLnNlbGVjdChldik7Cn0gZWxzZXsKaWYodHlwZW9mKHRyZWUucm9vdHNbMF0pIT0gJ3VuZGVmaW5lZCcpdHJlZS5yb290c1swXS5zZWxlY3QoKTsKfQppZih0aGlzLnN0b3BFdmVudClFdmVudC5zdG9wKGV2KTsKfQp9LAptb3ZlRG93bjpmdW5jdGlvbih0cmVlLGNvZGUsa2V5cyxldil7CnZhciBzZWxlY3RlZD10cmVlLmdldFNlbGVjdGVkQnJhbmNoZXMoKTsKdmFyIGxhc3RQb3M9c2VsZWN0ZWQubGVuZ3RoLTE7CmlmKCF0cmVlLmxhc3RFZGl0ZWQpewppZihsYXN0UG9zPj0wKXsKdmFyIGJyYW5jaD1zZWxlY3RlZFtsYXN0UG9zXS5nZXROZXh0T3BlbmVkQnJhbmNoKCk7CmlmKGJyYW5jaClicmFuY2guc2VsZWN0KGV2KTsKfSBlbHNlewppZih0eXBlb2YodHJlZS5yb290c1swXSkhPSAndW5kZWZpbmVkJyl0cmVlLnJvb3RzWzBdLnNlbGVjdCgpOwp9CmlmKHRoaXMuc3RvcEV2ZW50KUV2ZW50LnN0b3AoZXYpOwp9Cn0sCm1vdmVSaWdodDpmdW5jdGlvbih0cmVlLGNvZGUsa2V5cyxldil7CnZhciBzZWxlY3RlZD10cmVlLmdldFNlbGVjdGVkQnJhbmNoZXMoKTsKdmFyIGxhc3RQb3M9c2VsZWN0ZWQubGVuZ3RoLTE7CmlmKCF0cmVlLmxhc3RFZGl0ZWQpewppZihsYXN0UG9zPj0wKXsKdmFyIGJyYW5jaD1zZWxlY3RlZFtsYXN0UG9zXTsKaWYoYnJhbmNoLmhhc0NoaWxkcmVuKCkmJiAhYnJhbmNoLmlzT3BlbmVkKCkpewpicmFuY2guc2V0T3Blbihldik7Cn0gZWxzZXsKaWYoYnJhbmNoLmhhc0NoaWxkcmVuKCkpewp2YXIgc2VsPWJyYW5jaC5nZXRGaXJzdEJyYW5jaCgpOwp2YXIgc2VsPXNlbC5zZWxlY3QoZXYpOwp9Cn0KfSBlbHNlewppZih0eXBlb2YodHJlZS5yb290c1swXSkhPSAndW5kZWZpbmVkJyl0cmVlLnJvb3RzWzBdLnNlbGVjdCgpOwp9CmlmKHRoaXMuc3RvcEV2ZW50KUV2ZW50LnN0b3AoZXYpOwp9Cn0sCm1vdmVMZWZ0OmZ1bmN0aW9uKHRyZWUsY29kZSxrZXlzLGV2KXsKdmFyIHNlbGVjdGVkPXRyZWUuZ2V0U2VsZWN0ZWRCcmFuY2hlcygpOwp2YXIgbGFzdFBvcz1zZWxlY3RlZC5sZW5ndGgtMTsKaWYoIXRyZWUubGFzdEVkaXRlZCl7CmlmKGxhc3RQb3M+PTApewp2YXIgYnJhbmNoPXNlbGVjdGVkW2xhc3RQb3NdOwppZihsYXN0UG9zPT0wJiZicmFuY2guaGFzQ2hpbGRyZW4oKSYmIGJyYW5jaC5pc09wZW5lZCgpKXsKYnJhbmNoLm9wZW5JdChmYWxzZSk7Cn0gZWxzZXsKaWYoIWJyYW5jaC5pc1Jvb3QpYnJhbmNoLnBhcmVudC5zZWxlY3QoZXYpOwp9Cn0gZWxzZXsKaWYodHlwZW9mKHRyZWUucm9vdHNbMF0pIT0gJ3VuZGVmaW5lZCcpdHJlZS5yb290c1swXS5zZWxlY3QoKTsKfQppZih0aGlzLnN0b3BFdmVudClFdmVudC5zdG9wKGV2KTsKfQp9LAplZGl0OmZ1bmN0aW9uKHRyZWUsY29kZSxrZXlzLGV2KXsKdmFyIHNlbGVjdGVkPXRyZWUuZ2V0U2VsZWN0ZWRCcmFuY2hlcygpOwp2YXIgbGFzdFBvcz1zZWxlY3RlZC5sZW5ndGgtMTsKaWYobGFzdFBvcz09MCl7CnNlbGVjdGVkW2xhc3RQb3NdLnNldERibENsaWNrKGV2KTsKfQppZih0aGlzLnN0b3BFdmVudClFdmVudC5zdG9wKGV2KTsKfSwKcmVtb3ZlOmZ1bmN0aW9uKHRyZWUsY29kZSxrZXlzLGV2KXsKaWYoIXRyZWUubGFzdEVkaXRlZCl7CnZhciBzZWxlY3RlZD10cmVlLmdldFNlbGVjdGVkQnJhbmNoZXMoKTsKZm9yKHZhciBpPTA7aTxzZWxlY3RlZC5sZW5ndGg7aSsrKXsKdHJlZS5yZW1vdmVCcmFuY2goc2VsZWN0ZWRbaV0pOwp9CmlmKHRoaXMuc3RvcEV2ZW50KUV2ZW50LnN0b3AoZXYpOwp9Cn0sCmN1dDpmdW5jdGlvbih0cmVlLGNvZGUsa2V5cyxldil7CmlmKGtleXMuY3RybEtleXx8a2V5cy5tZXRhS2V5KXsKdHJlZS5jdXQoKTsKaWYodGhpcy5zdG9wRXZlbnQpRXZlbnQuc3RvcChldik7Cn0KfSwKY29weTpmdW5jdGlvbih0cmVlLGNvZGUsa2V5cyxldil7CmlmKGtleXMuY3RybEtleXx8a2V5cy5tZXRhS2V5KXsKdHJlZS5jb3B5KCk7CmlmKHRoaXMuc3RvcEV2ZW50KUV2ZW50LnN0b3AoZXYpOwp9Cn0sCnBhc3RlOmZ1bmN0aW9uKHRyZWUsY29kZSxrZXlzLGV2KXsKaWYoa2V5cy5jdHJsS2V5fHxrZXlzLm1ldGFLZXkpewp0cmVlLnBhc3RlKCk7CmlmKHRoaXMuc3RvcEV2ZW50KUV2ZW50LnN0b3AoZXYpOwp9Cn0sCnVuZG86ZnVuY3Rpb24odHJlZSxjb2RlLGtleXMsZXYpewppZihrZXlzLmN0cmxLZXl8fGtleXMubWV0YUtleSl7CnRyZWUudW5kbygpOwppZih0aGlzLnN0b3BFdmVudClFdmVudC5zdG9wKGV2KTsKfQp9LApldnRfa2V5UHJlc3M6ZnVuY3Rpb24oZXYpewp2YXIgY3VycmVudD10aGlzLmdldEN1cnJlbnRUcmVlKCk7CmlmKGN1cnJlbnQmJnRoaXMua2V5Ym9hcmRFdmVudHMpewp2YXIga2V5cyA9ewonY3RybEtleScgOnRoaXMuY3RybE9uKGV2KSwKJ21ldGFLZXknIDp0aGlzLm1ldGFPbihldiksCidhbHRLZXknICA6dGhpcy5hbHRPbihldiksCidzaGlmdEtleSc6dGhpcy5zaGlmdE9uKGV2KQp9Owp2YXIgY29kZT10aGlzLmdldENvZGUoZXYpOwpmb3IodmFyIGk9MDtpPHRoaXMudXNlcktleXMubGVuZ3RoO2krKyl7CmlmKGNvZGU9PXRoaXMudXNlcktleXNbaV0ua2V5JiZ0eXBlb2YodGhpcy51c2VyS2V5c1tpXS5mdW5jKT09ICdmdW5jdGlvbicpewppZighdGhpcy51c2VyS2V5c1tpXS5mdW5jKGN1cnJlbnQsY29kZSxrZXlzLGV2KSl7CnJldHVybiBmYWxzZTsKfQpicmVhazsKfQp9CnN3aXRjaChjb2RlKXsKY2FzZSBFdmVudC5LRVlfSE9NRTp0aGlzLm1vdmVTdGFydChjdXJyZW50LGNvZGUsa2V5cyxldik7YnJlYWs7CmNhc2UgRXZlbnQuS0VZX0VORDp0aGlzLm1vdmVFbmQoY3VycmVudCxjb2RlLGtleXMsZXYpO2JyZWFrOwpjYXNlIEV2ZW50LktFWV9VUDp0aGlzLm1vdmVVcChjdXJyZW50LGNvZGUsa2V5cyxldik7YnJlYWs7CmNhc2UgRXZlbnQuS0VZX0RPV046dGhpcy5tb3ZlRG93bihjdXJyZW50LGNvZGUsa2V5cyxldik7YnJlYWs7CmNhc2UgRXZlbnQuS0VZX1JJR0hUOnRoaXMubW92ZVJpZ2h0KGN1cnJlbnQsY29kZSxrZXlzLGV2KTticmVhazsKY2FzZSBFdmVudC5LRVlfTEVGVDp0aGlzLm1vdmVMZWZ0KGN1cnJlbnQsY29kZSxrZXlzLGV2KTticmVhazsKfQppZih0aGlzLmtleWJvYXJkU3RydWN0dXJhbEV2ZW50cyl7CnN3aXRjaChjb2RlKXsKY2FzZSBFdmVudC5LRVlfUkVUVVJOOnRoaXMuZW50ZXIoY3VycmVudCxjb2RlLGtleXMsZXYpO2JyZWFrOwpjYXNlIEV2ZW50LktFWV9FU0M6dGhpcy5lc2NhcGUoY3VycmVudCxjb2RlLGtleXMsZXYpO2JyZWFrOwpjYXNlIEV2ZW50LktFWV9ERUxFVEU6dGhpcy5yZW1vdmUoY3VycmVudCxjb2RlLGtleXMsZXYpO2JyZWFrOwpjYXNlIDExMzogdGhpcy5lZGl0KGN1cnJlbnQsY29kZSxrZXlzLGV2KTticmVhazsKY2FzZSAxMjA6IGNhc2UgODg6IHRoaXMuY3V0KGN1cnJlbnQsY29kZSxrZXlzLGV2KTticmVhazsKY2FzZSA5OTpjYXNlIDY3OiB0aGlzLmNvcHkoY3VycmVudCxjb2RlLGtleXMsZXYpO2JyZWFrOwpjYXNlIDExODogY2FzZSA4NjogdGhpcy5wYXN0ZShjdXJyZW50LGNvZGUsa2V5cyxldik7YnJlYWs7CmNhc2UgMTIyOiBjYXNlIDkwOiB0aGlzLnVuZG8oY3VycmVudCxjb2RlLGtleXMsZXYpO2JyZWFrOwp9Cn0KfQp9Cn07CmZ1bmN0aW9uIFRhZmVsVHJlZUluaXRCYXNlKGV2KXsKVGFmZWxUcmVlTWFuYWdlci5zZXRDb250cm9sRXZlbnRzKCk7CmlmKHR5cGVvZihUYWZlbFRyZWVJbml0KT09ICdmdW5jdGlvbicpewpUYWZlbFRyZWVJbml0KCk7Cn0KfTsKRXZlbnQub2JzZXJ2ZSh3aW5kb3csJ2xvYWQnLFRhZmVsVHJlZUluaXRCYXNlLGZhbHNlKTs=</File>
        <File Location="var/httpd/htdocs/skins/Agent/default/css/FieldTree.css" Permission="664" Encode="Base64">LkZpZWxkVHJlZUhvbGRlciB7DQoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7DQoJYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkZGQ7CQ0KCW1hcmdpbjogMjBweCAwcHggMjBweCAyNnB4Ow0KCWRpc3BsYXk6IG5vbmU7DQp9DQoNCi5GaWVsZFRyZWVIb2xkZXJJdGVtIHsNCglwYWRkaW5nOiA2cHggIWltcG9ydGFudDsNCn0NCiANCi5GaWVsZFRyZWVIb2xkZXIgZGl2IHsNCglwYWRkaW5nOiAxMHB4IDBweCAxMHB4IDBweDsNCn0NCg0KLkZpZWxkVHJlZUhvbGRlciBkaXYgZGwgew0KCWNsZWFyOiBib3RoOw0KCXBhZGRpbmctYm90dG9tOiA0cHg7DQoJZGlzcGxheTogaW5saW5lLWJsb2NrOw0KCWZsb2F0OiBsZWZ0Ow0KCWZvbnQtc2l6ZTogMTFweDsNCn0NCg0KLkZpZWxkVHJlZVByZXZpZXcgLkZpZWxkVHJlZUhvbGRlci1MZXZlbDEsIC5GaWVsZFRyZWVQcmV2aWV3IC5GaWVsZFRyZWVIb2xkZXItTGV2ZWwyLCAuRmllbGRUcmVlUHJldmlldyAuRmllbGRUcmVlSG9sZGVyLUxldmVsMyB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQoNCi5GaWVsZFRyZWVIb2xkZXItTGV2ZWwyIHsNCiAgICBkaXNwbGF5OiBub25lOw0KfQ0KDQouRmllbGRUcmVlSG9sZGVyLUxldmVsMyB7DQogICAgZGlzcGxheTogbm9uZTsNCn0NCg0KLkZpZWxkVHJlZUhvbGRlciBkaXYgZGwgZHQgew0KCWJhY2tncm91bmQ6ICNlZWU7DQoJZmxvYXQ6IGxlZnQ7DQoJbGluZS1oZWlnaHQ6IDE2cHg7DQoJY2xlYXI6IGJvdGg7DQoJd2lkdGg6IDIzMHB4Ow0KCXRleHQtYWxpZ246IHJpZ2h0Ow0KCWJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KGNlbnRlciB0b3AgLCAjRjlGOUY5LCAjRUNFRUVFKSByZXBlYXQgc2Nyb2xsIDAgMCB0cmFuc3BhcmVudDsNCiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0NDQ0NDQzsNCiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjQ0NDQ0NDOw0KICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjRkZGRkZGOw0KICAgIGNvbG9yOiAjMzMzMzMzOw0KICAgIGZvbnQtc2l6ZTogMTFweDsNCiAgICBtYXJnaW46IC0xcHggNnB4IDAgMDsNCiAgICBwYWRkaW5nOiA0cHggOXB4IDNweCA0cHg7DQogICAgdGV4dC1zaGFkb3c6IDAgMXB4IDAgI0ZGRkZGRjsNCn0NCg0KLkZpZWxkVHJlZUhvbGRlciBkaXYgZGwgZGQgew0KCWZsb2F0OiBsZWZ0Ow0KCW1hcmdpbi1sZWZ0OiA0cHg7DQoJcGFkZGluZy10b3A6IDFweDsNCgl3aWR0aDogNDEwcHg7Cn0gDQoNCi5GaWVsZFRyZWVIb2xkZXIgZGl2IGRsIGRkIHRleHRhcmVhIHsNCgl3aWR0aDogNDAwcHg7DQoJaGVpZ2h0OiAxNTBweDsNCn0NCg0KdWwuRmllbGRUcmVlLkVycm9yTm90U2VsZWN0ZWQgew0KCWJvcmRlcjogMXB4IHNvbGlkICNGRjUwNUU7DQp9DQp1bC5GaWVsZFRyZWUgYSB7DQoJY3Vyc29yOiBwb2ludGVyOw0KfQ0KDQp1bC5GaWVsZFRyZWVGb3JtIHsgDQogICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7DQp9DQoNCnVsLkZpZWxkVHJlZS5FcnJvck5vdFNlbGVjdGVkIHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjRkY1MDVFOw0KfQ0KDQp1bC5GaWVsZFRyZWUgPiAuZXJyb3Igew0KICAgIHZpc2liaWxpdHk6IGhpZGRlbjsNCiAgICBwYWRkaW5nOiA2cHggMHB4Ow0KICAgIGRpc3BsYXk6IGJsb2NrDQp9DQoNCnVsLkZpZWxkVHJlZS5FcnJvck5vdFNlbGVjdGVkID4gLmVycm9yIHsNCiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlOw0KfQ0KDQouRm9yRHluYW1pY0xvYWQgZGl2IHsNCglwYWRkaW5nOiAwcHg7DQp9DQoNCnVsIC5FbXB0eUJyYW5jaCB7DQoJZm9udC1mYW1pbHk6IEFyaWFsOw0KCWNvbG9yOiAjODIxMjEyOw0KCXBhZGRpbmc6IDE1cHggMHB4Ow0KCXRleHQtaW5kZW50OiAxNXB4Ow0KfQ==</File>
    </Filelist>
    <DatabaseInstall Type="post">
        <TableCreate Type="post" Name="field_tree">
            <Column AutoIncrement="true" Name="id" PrimaryKey="True" Required="true" Type="INTEGER"></Column>
            <Column Name="field_tree_class" Required="true" Size="100" Type="VARCHAR"></Column>
            <Column Name="name" Required="true" Size="255" Type="VARCHAR"></Column>
            <Column Name="friendly_name" Required="false" Size="1000" Type="VARCHAR"></Column>
            <Column Name="parent_id" Required="false" Type="INTEGER"></Column>
            <Column Name="valid_id" Required="true" Type="SMALLINT"></Column>
            <Column Name="css_class" Required="false" Size="30" Type="VARCHAR"></Column>
            <Column Name="comments" Required="false" Size="2000" Type="VARCHAR"></Column>
            <Column Name="create_time" Required="true" Type="DATE"></Column>
            <Column Name="create_by" Required="true" Type="INTEGER"></Column>
            <Column Name="change_time" Required="true" Type="DATE"></Column>
            <Column Name="change_by" Required="true" Type="INTEGER"></Column>
            <Column Name="position" Required="false" Type="INTEGER"></Column>
            <Index Name="field_tree_class">
                <IndexColumn Name="field_tree_class">
                </IndexColumn>
            </Index>
            <Index Name="parent_id">
                <IndexColumn Name="parent_id">
                </IndexColumn>
            </Index>
            <Index Name="valid_id">
                <IndexColumn Name="valid_id">
                </IndexColumn>
            </Index>
            <ForeignKey ForeignTable="valid">
                <Reference Foreign="id" Local="valid_id">
                </Reference>
            </ForeignKey>
            <ForeignKey ForeignTable="users">
                <Reference Foreign="id" Local="create_by">
                </Reference>
                <Reference Foreign="id" Local="change_by">
                </Reference>
            </ForeignKey>
        </TableCreate>
        <TableCreate Type="post" Name="field_tree_field">
            <Column AutoIncrement="true" Name="id" PrimaryKey="True" Required="true" Type="INTEGER"></Column>
            <Column Name="field_type" Required="true" Size="100" Type="VARCHAR"></Column>
            <Column Name="name" Required="true" Size="255" Type="VARCHAR"></Column>
            <Column Name="friendly_name" Required="false" Size="1000" Type="VARCHAR"></Column>
            <Column Name="required" Required="false" Size="100" Type="VARCHAR"></Column>
            <Column Name="field_tree_id" Required="true" Type="INTEGER"></Column>
            <Column Name="template" Required="true" Size="5000" Type="VARCHAR"></Column>
            <Column Name="target" Required="true" Size="1000" Type="VARCHAR"></Column>
            <Column Name="position" Required="true" Type="INTEGER"></Column>
            <Column Name="valid_id" Required="true" Type="SMALLINT"></Column>
            <Column Default="0" Name="hidden" Required="true" Type="SMALLINT"></Column>
            <Column Name="comments" Required="false" Size="200" Type="VARCHAR"></Column>
            <Column Name="create_time" Required="true" Type="DATE"></Column>
            <Column Name="create_by" Required="true" Type="INTEGER"></Column>
            <Column Name="change_time" Required="true" Type="DATE"></Column>
            <Column Name="change_by" Required="true" Type="INTEGER"></Column>
            <Index Name="name">
                <IndexColumn Name="name">
                </IndexColumn>
            </Index>
            <Index Name="field_tree_id">
                <IndexColumn Name="field_tree_id">
                </IndexColumn>
            </Index>
            <Index Name="valid_id">
                <IndexColumn Name="valid_id">
                </IndexColumn>
            </Index>
            <Index Name="hidden">
                <IndexColumn Name="hidden">
                </IndexColumn>
            </Index>
            <ForeignKey ForeignTable="field_tree">
                <Reference Foreign="id" Local="field_tree_id">
                </Reference>
            </ForeignKey>
            <ForeignKey ForeignTable="valid">
                <Reference Foreign="id" Local="valid_id">
                </Reference>
            </ForeignKey>
            <ForeignKey ForeignTable="users">
                <Reference Foreign="id" Local="create_by">
                </Reference>
                <Reference Foreign="id" Local="change_by">
                </Reference>
            </ForeignKey>
        </TableCreate>
        <TableCreate Type="post" Name="field_tree_value_sets">
            <Column AutoIncrement="true" Name="id" PrimaryKey="true" Required="true" Type="BIGINT"></Column>
        </TableCreate>
        <TableCreate Type="post" Name="field_tree_value">
            <Column AutoIncrement="true" Name="id" PrimaryKey="True" Required="true" Type="BIGINT"></Column>
            <Column Name="field_id" Required="false" Type="INTEGER"></Column>
            <Column Name="field_tree_id" Required="false" Type="INTEGER"></Column>
            <Column Name="value_set_id" Required="true" Type="BIGINT"></Column>
            <Column Name="value_int" Required="false" Type="INTEGER"></Column>
            <Column Name="value_char" Required="false" Size="50" Type="VARCHAR"></Column>
            <Column Name="value_text" Required="false" Size="20000" Type="VARCHAR"></Column>
            <Column Name="value_double" Required="false" Size="10,2" Type="DECIMAL"></Column>
            <Column Name="value_datetime" Required="false" Type="DATE"></Column>
            <Index Name="field_id">
                <IndexColumn Name="field_id">
                </IndexColumn>
            </Index>
            <Index Name="field_tree_id">
                <IndexColumn Name="field_tree_id">
                </IndexColumn>
            </Index>
            <Index Name="value_set_id">
                <IndexColumn Name="value_set_id">
                </IndexColumn>
            </Index>
            <ForeignKey ForeignTable="field_tree_field">
                <Reference Foreign="id" Local="field_id">
                </Reference>
            </ForeignKey>
            <ForeignKey ForeignTable="field_tree_value_sets">
                <Reference Foreign="id" Local="value_set_id">
                </Reference>
            </ForeignKey>
            <ForeignKey ForeignTable="field_tree">
                <Reference Foreign="id" Local="field_tree_id">
                </Reference>
            </ForeignKey>
        </TableCreate>
    </DatabaseInstall>
</otrs_package>